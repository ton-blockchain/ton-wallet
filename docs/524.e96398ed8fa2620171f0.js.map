{"version":3,"file":"524.e96398ed8fa2620171f0.js","mappings":"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","sources":["webpack://mytonwallet/webpack/runtime/chunk loaded","webpack://mytonwallet/webpack/runtime/startup chunk dependencies","webpack://mytonwallet/./src/util/compression.ts","webpack://mytonwallet/./src/util/stream.ts","webpack://mytonwallet/./src/config.ts","webpack://mytonwallet/./src/lib/big.js/index.js","webpack://mytonwallet/./src/util/decimals.ts","webpack://mytonwallet/./src/util/assert.ts","webpack://mytonwallet/./src/util/logs.ts","webpack://mytonwallet/./src/util/createPostMessageInterface.ts","webpack://mytonwallet/./src/api/errors.ts","webpack://mytonwallet/./src/lib/rlottie/rlottie.worker.ts","webpack://mytonwallet/./src/util/fetch.ts","webpack://mytonwallet/./src/lib/offscreen-canvas/offscreen-canvas.worker.ts","webpack://mytonwallet/./src/util/accentColor/constants.ts","webpack://mytonwallet/./src/util/getCachedImageUrl.ts","webpack://mytonwallet/./src/util/colors.ts","webpack://mytonwallet/./src/lib/quantize.js","webpack://mytonwallet/webpack/bootstrap","webpack://mytonwallet/webpack/runtime/compat get default export","webpack://mytonwallet/webpack/runtime/define property getters","webpack://mytonwallet/webpack/runtime/ensure chunk","webpack://mytonwallet/webpack/runtime/get javascript chunk filename","webpack://mytonwallet/webpack/runtime/get mini-css chunk filename","webpack://mytonwallet/webpack/runtime/global","webpack://mytonwallet/webpack/runtime/hasOwnProperty shorthand","webpack://mytonwallet/webpack/runtime/publicPath","webpack://mytonwallet/webpack/runtime/importScripts chunk loading","webpack://mytonwallet/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(840).then(next);\n};","import { transformBytesByStream } from './stream';\n\nexport async function ungzip(input: BufferSource): Promise<Uint8Array> {\n  const decompressionStream = tryCreateDecompressionStream('gzip');\n  if (decompressionStream) {\n    return transformBytesByStream(input, decompressionStream);\n  }\n\n  // Fflate is a polyfill, so we load it only if necessary.\n  // Note: it's import `gunzipSync` exactly this way, otherwise the tree-shaking won't work.\n  const { gunzipSync } = await import('fflate');\n  return gunzipSync(bufferSourceToBytes(input));\n}\n\nfunction tryCreateDecompressionStream(format: CompressionFormat) {\n  try {\n    // If the format or `DecompressionStream` is not supported by the browser, this expression throws\n    return new DecompressionStream(format);\n  } catch {\n    return undefined;\n  }\n}\n\nfunction bufferSourceToBytes(source: BufferSource): Uint8Array {\n  if (source instanceof ArrayBuffer) {\n    return new Uint8Array(source);\n  }\n  return new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n}\n","export function transformBytesByStream(input: BufferSource, stream: GenericTransformStream): Promise<Uint8Array> {\n  const writer = stream.writable.getWriter();\n  void writer.write(input);\n  void writer.close();\n\n  return readBytesFromStream(stream.readable);\n}\n\n/**\n * Reads the whole readable binary stream into a Uint8Array\n */\nasync function readBytesFromStream(stream: ReadableStream): Promise<Uint8Array> {\n  const reader = stream.getReader();\n  const output: Uint8Array[] = [];\n  let totalSize = 0;\n  for (;;) {\n    const { value, done } = await reader.read();\n    if (done) {\n      break;\n    }\n    output.push(value);\n    totalSize += value.byteLength;\n  }\n\n  if (output.length === 1) {\n    return output[0];\n  }\n\n  const concatenated = new Uint8Array(totalSize);\n  let offset = 0;\n  for (const array of output) {\n    concatenated.set(array, offset);\n    offset += array.byteLength;\n  }\n  return concatenated;\n}\n","import type { ApiTonWalletVersion } from './api/chains/ton/types';\nimport type {\n  ApiBaseCurrency,\n  ApiLiquidStakingState,\n  ApiNftMarketplace,\n  ApiNominatorsStakingState,\n  ApiSwapAsset,\n  ApiSwapDexLabel,\n  ApiTokenWithPrice,\n} from './api/types';\nimport type { AutolockValueType, LangCode, LangItem, TokenPeriod } from './global/types';\n\nexport const APP_ENV = process.env.APP_ENV;\n\nexport const IS_CORE_WALLET = process.env.IS_CORE_WALLET === '1';\nexport const APP_NAME = process.env.APP_NAME || (IS_CORE_WALLET ? 'TON Wallet' : 'MyTonWallet');\nexport const APP_VERSION = process.env.APP_VERSION!;\nexport const APP_COMMIT_HASH = process.env.APP_COMMIT_HASH!;\nexport const APP_ENV_MARKER = APP_ENV === 'staging' ? 'Beta' : APP_ENV === 'development' ? 'Dev' : undefined;\nexport const EXTENSION_NAME = IS_CORE_WALLET ? 'TON Wallet' : 'MyTonWallet · My TON Wallet';\nexport const EXTENSION_DESCRIPTION = IS_CORE_WALLET\n  ? 'Set up your own TON Wallet on The Open Network'\n  // eslint-disable-next-line @stylistic/max-len\n  : 'The most feature-rich TON+TRON wallet: multi-accounts, multi-send, Telegram Gifts and other collectibles, TON DNS+Proxy, and more.';\n\nexport const DEBUG = APP_ENV !== 'production' && APP_ENV !== 'perf' && APP_ENV !== 'test';\nexport const DEBUG_MORE = false;\nexport const DEBUG_API = false;\nexport const DEBUG_VIEW_ACCOUNTS = false;\n\nexport const IS_PRODUCTION = APP_ENV === 'production';\nexport const IS_TEST = APP_ENV === 'test';\nexport const IS_PERF = APP_ENV === 'perf';\nexport const IS_EXTENSION = process.env.IS_EXTENSION === '1';\nexport const IS_FIREFOX_EXTENSION = process.env.IS_FIREFOX_EXTENSION === '1';\nexport const IS_OPERA_EXTENSION = process.env.IS_OPERA_EXTENSION === '1';\nexport const IS_PACKAGED_ELECTRON = process.env.IS_PACKAGED_ELECTRON === '1';\nexport const IS_CAPACITOR = process.env.IS_CAPACITOR === '1';\nexport const IS_ANDROID_DIRECT = process.env.IS_ANDROID_DIRECT === '1';\nexport const IS_AIR_APP = process.env.IS_AIR_APP === '1';\nexport const IS_TELEGRAM_APP = process.env.IS_TELEGRAM_APP === '1';\n\nexport const ELECTRON_HOST_URL = 'https://dumb-host';\nexport const INACTIVE_MARKER = '[Inactive]';\nexport const PRODUCTION_URL = IS_CORE_WALLET ? 'https://wallet.ton.org' : 'https://mytonwallet.app';\nexport const BETA_URL = IS_CORE_WALLET ? 'https://beta.wallet.ton.org' : 'https://beta.mytonwallet.app';\nexport const APP_INSTALL_URL = 'https://get.mytonwallet.io/';\nexport const APP_REPO_URL = 'https://github.com/mytonwallet-org/mytonwallet';\nexport const BASE_URL = process.env.BASE_URL;\n\nexport const BOT_USERNAME = process.env.BOT_USERNAME || 'MyTonWalletBot';\n\nexport const SWAP_FEE_ADDRESS = process.env.SWAP_FEE_ADDRESS || 'UQDUkQbpTVIgt7v66-JTFR-3-eXRFz_4V66F-Ufn6vOg0GOp';\nexport const DIESEL_ADDRESS = process.env.DIESEL_ADDRESS || 'UQC9lQOaEHC6YASiJJ2NrKEOlITMMQmc8j0_iZEHy-4sl3tG';\n\nexport const STRICTERDOM_ENABLED = DEBUG && !IS_PACKAGED_ELECTRON;\n\nexport const DEBUG_ALERT_MSG = 'Shoot!\\nSomething went wrong, please see the error details in Dev Tools Console.';\n\nexport const PIN_LENGTH = 4;\nexport const NATIVE_BIOMETRICS_USERNAME = IS_CORE_WALLET ? 'TonWallet' : 'MyTonWallet';\nexport const NATIVE_BIOMETRICS_SERVER = IS_CORE_WALLET ? 'https://wallet.ton.org' : 'https://mytonwallet.app';\n\nexport const IS_BIP39_MNEMONIC_ENABLED = !IS_CORE_WALLET;\nexport const MNEMONIC_COUNT = 24;\nexport const MNEMONIC_COUNTS = IS_BIP39_MNEMONIC_ENABLED ? [12, 24] : [24];\n\nexport const PRIVATE_KEY_HEX_LENGTH = 64;\nexport const MNEMONIC_CHECK_COUNT = 3;\n\nexport const MOBILE_SCREEN_MAX_WIDTH = 700; // px\n\nexport const ANIMATION_END_DELAY = 50;\n\nexport const ANIMATED_STICKER_TINY_ICON_PX = 16;\nexport const ANIMATED_STICKER_ICON_PX = 30;\nexport const ANIMATED_STICKER_TINY_SIZE_PX = 70;\nexport const ANIMATED_STICKER_SMALL_SIZE_PX = 110;\nexport const ANIMATED_STICKER_MIDDLE_SIZE_PX = 120;\nexport const ANIMATED_STICKER_DEFAULT_PX = 150;\nexport const ANIMATED_STICKER_BIG_SIZE_PX = 156;\nexport const ANIMATED_STICKER_HUGE_SIZE_PX = 192;\n\nexport const DEFAULT_PORTRAIT_WINDOW_SIZE = { width: 368, height: 770 };\nexport const DEFAULT_LANDSCAPE_WINDOW_SIZE = { width: 980, height: 788 };\nexport const DEFAULT_LANDSCAPE_ACTION_TAB_ID = 0;\nexport const TRANSACTION_ADDRESS_SHIFT = 4;\n\nexport const WHOLE_PART_DELIMITER = ' '; // https://www.compart.com/en/unicode/U+202F\n\nexport const DEFAULT_SLIPPAGE_VALUE = 5;\n\nexport const GLOBAL_STATE_CACHE_DISABLED = false;\nexport const GLOBAL_STATE_CACHE_KEY = IS_CORE_WALLET ? 'tonwallet-global-state' : 'mytonwallet-global-state';\n\nexport const ANIMATION_LEVEL_MIN = 0;\nexport const ANIMATION_LEVEL_MED = 1;\nexport const ANIMATION_LEVEL_MAX = 2;\nexport const ANIMATION_LEVEL_DEFAULT = ANIMATION_LEVEL_MAX;\nexport const THEME_DEFAULT = 'system';\n\nexport const MAIN_ACCOUNT_ID = '0-ton-mainnet';\n\nexport const TONCENTER_MAINNET_URL = process.env.TONCENTER_MAINNET_URL || 'https://toncenter.mytonwallet.org';\nexport const TONCENTER_MAINNET_KEY = process.env.TONCENTER_MAINNET_KEY;\nexport const ELECTRON_TONCENTER_MAINNET_KEY = process.env.ELECTRON_TONCENTER_MAINNET_KEY;\nexport const TONAPIIO_MAINNET_URL = process.env.TONAPIIO_MAINNET_URL || 'https://tonapiio.mytonwallet.org';\n\nexport const TONCENTER_TESTNET_URL = process.env.TONCENTER_TESTNET_URL || 'https://toncenter-testnet.mytonwallet.org';\nexport const TONCENTER_TESTNET_KEY = process.env.TONCENTER_TESTNET_KEY;\nexport const ELECTRON_TONCENTER_TESTNET_KEY = process.env.ELECTRON_TONCENTER_TESTNET_KEY;\nexport const TONAPIIO_TESTNET_URL = process.env.TONAPIIO_TESTNET_URL || 'https://tonapiio-testnet.mytonwallet.org';\n\nexport const BRILLIANT_API_BASE_URL = process.env.BRILLIANT_API_BASE_URL || 'https://api.mytonwallet.org';\nexport const PROXY_API_BASE_URL = process.env.PROXY_API_BASE_URL || 'https://api.mytonwallet.org/proxy';\nexport const IPFS_GATEWAY_BASE_URL = 'https://ipfs.io/ipfs/';\nexport const SSE_BRIDGE_URL = 'https://tonconnectbridge.mytonwallet.org/bridge/';\n\nexport const TRON_MAINNET_API_URL = process.env.TRON_MAINNET_API_URL || 'https://tronapi.mytonwallet.org';\nexport const TRON_TESTNET_API_URL = process.env.TRON_TESTNET_API_URL || 'https://api.shasta.trongrid.io';\n\nexport const FRACTION_DIGITS = 9;\nexport const SHORT_FRACTION_DIGITS = 2;\n\nexport const MAX_PUSH_NOTIFICATIONS_ACCOUNT_COUNT = 3;\n\nexport const SUPPORT_USERNAME = 'mysupport';\nexport const MTW_TIPS_CHANNEL_NAME: Partial<Record<LangCode, string>> = {\n  en: 'MyTonWalletTips',\n  ru: 'MyTonWalletTipsRu',\n};\nexport const NFT_MARKETPLACE_TITLES: Record<ApiNftMarketplace, string> = {\n  getgems: 'Getgems',\n  fragment: 'Fragment',\n};\nexport const MTW_STATIC_BASE_URL = 'https://static.mytonwallet.org';\nexport const MTW_CARDS_BASE_URL = `${MTW_STATIC_BASE_URL}/cards/`;\nexport const MTW_CARDS_MINT_BASE_URL = `${MTW_STATIC_BASE_URL}/mint-cards/`;\nexport const MYTONWALLET_PROMO_URL = 'https://mytonwallet.io/';\nexport const MYTONWALLET_MULTISEND_DAPP_URL = 'https://multisend.mytonwallet.io/';\nexport const TELEGRAM_WEB_URL = 'https://web.telegram.org/a/';\nexport const NFT_MARKETPLACE_URL = 'https://getgems.io/';\nexport const NFT_MARKETPLACE_TITLE = NFT_MARKETPLACE_TITLES.getgems;\nexport const GETGEMS_BASE_MAINNET_URL = 'https://getgems.io/';\nexport const GETGEMS_BASE_TESTNET_URL = 'https://testnet.getgems.io/';\nexport const HELPCENTER_URL = { en: 'https://help.mytonwallet.io/', ru: 'https://help.mytonwallet.io/ru' };\nexport const EMPTY_HASH_VALUE = 'NOHASH';\n\nexport const IFRAME_WHITELIST = [\n  'http://localhost:*', 'https://tonscan.org',\n];\nexport const SUBPROJECT_URL_MASK = 'https://*.mytonwallet.io';\n\nexport const CHANGELLY_SUPPORT_EMAIL = 'support@changelly.com';\nexport const CHANGELLY_LIVE_CHAT_URL = 'https://changelly.com/';\nexport const CHANGELLY_SECURITY_EMAIL = 'security@changelly.com';\nexport const CHANGELLY_TERMS_OF_USE = 'https://changelly.com/terms-of-use';\nexport const CHANGELLY_PRIVACY_POLICY = 'https://changelly.com/privacy-policy';\nexport const CHANGELLY_AML_KYC = 'https://changelly.com/aml-kyc';\nexport const CHANGELLY_WAITING_DEADLINE = 3 * 60 * 60 * 1000; // 3 hours\n\nexport const PROXY_HOSTS = process.env.PROXY_HOSTS;\n\nexport const TINY_TRANSFER_MAX_COST = 0.01;\n\nexport const IMAGE_CACHE_NAME = 'mtw-image';\nexport const LANG_CACHE_NAME = 'mtw-lang-222';\n\nexport const LANG_LIST: LangItem[] = [{\n  langCode: 'en',\n  name: 'English',\n  nativeName: 'English',\n  rtl: false,\n}, {\n  langCode: 'es',\n  name: 'Spanish',\n  nativeName: 'Español',\n  rtl: false,\n}, {\n  langCode: 'ru',\n  name: 'Russian',\n  nativeName: 'Русский',\n  rtl: false,\n}, {\n  langCode: 'zh-Hans',\n  name: 'Chinese (Simplified)',\n  nativeName: '简体',\n  rtl: false,\n}, {\n  langCode: 'zh-Hant',\n  name: 'Chinese (Traditional)',\n  nativeName: '繁體',\n  rtl: false,\n}, {\n  langCode: 'tr',\n  name: 'Turkish',\n  nativeName: 'Türkçe',\n  rtl: false,\n}, {\n  langCode: 'de',\n  name: 'German',\n  nativeName: 'Deutsch',\n  rtl: false,\n}, {\n  langCode: 'th',\n  name: 'Thai',\n  nativeName: 'ไทย',\n  rtl: false,\n}, {\n  langCode: 'uk',\n  name: 'Ukrainian',\n  nativeName: 'Українська',\n  rtl: false,\n}, {\n  langCode: 'pl',\n  name: 'Polish',\n  nativeName: 'Polski',\n  rtl: false,\n}];\n\nexport const IS_STAKING_DISABLED = IS_CORE_WALLET;\nexport const VALIDATION_PERIOD_MS = 65_536_000; // 18.2 h.\nexport const ONE_TON = 1_000_000_000n;\nexport const DEFAULT_FEE = 15_000_000n; // 0.015 TON\nexport const UNSTAKE_TON_GRACE_PERIOD = 20 * 60 * 1000; // 20 m.\n\nexport const STAKING_POOLS = process.env.STAKING_POOLS ? process.env.STAKING_POOLS.split(' ') : [];\nexport const LIQUID_POOL = process.env.LIQUID_POOL || 'EQD2_4d91M4TVbEBVyBF8J1UwpMJc361LKVCz6bBlffMW05o';\nexport const LIQUID_JETTON = process.env.LIQUID_JETTON || 'EQCqC6EhRJ_tpWngKxL6dV0k6DSnRUrs9GSVkLbfdCqsj6TE';\nexport const STAKING_MIN_AMOUNT = ONE_TON;\nexport const NOMINATORS_STAKING_MIN_AMOUNT = 10_000n * ONE_TON;\nexport const MIN_ACTIVE_STAKING_REWARDS = 100_000_000n; // 0.1 MY\n\nexport const TONCONNECT_PROTOCOL_VERSION = 2;\nexport const TONCONNECT_WALLET_JSBRIDGE_KEY = IS_CORE_WALLET ? 'tonwallet' : 'mytonwallet';\nexport const EMBEDDED_DAPP_BRIDGE_CHANNEL = 'embedded-dapp-bridge';\n\nexport const NFT_FRAGMENT_COLLECTIONS = [\n  '0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2', // Anonymous Telegram Numbers\n  '0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2', // Telegram Usernames\n];\nexport const NFT_FRAGMENT_GIFT_IMAGE_TO_URL_REGEX = /^https?:\\/\\/nft\\.(fragment\\.com\\/gift\\/[\\w-]+-\\d+)\\.\\w+$/i;\nexport const TELEGRAM_GIFTS_SUPER_COLLECTION = 'super:telegram-gifts';\n\nexport const MTW_CARDS_WEBSITE = 'https://cards.mytonwallet.io';\nexport const MTW_CARDS_COLLECTION = 'EQCQE2L9hfwx1V8sgmF9keraHx1rNK9VmgR1ctVvINBGykyM';\nexport const TON_DNS_COLLECTION = 'EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz';\nexport const TON_DNS_RENEWAL_WARNING_DAYS = 14;\nexport const TON_DNS_RENEWAL_NFT_WARNING_DAYS = 30;\n\nexport const TONCOIN = {\n  name: 'Toncoin',\n  symbol: 'TON',\n  slug: 'toncoin',\n  decimals: 9,\n  chain: 'ton',\n  cmcSlug: 'toncoin',\n} as const;\n\nexport const TRX = {\n  name: 'TRON',\n  symbol: 'TRX',\n  slug: 'trx',\n  decimals: 6,\n  chain: 'tron',\n  cmcSlug: 'tron',\n} as const;\n\nexport const MYCOIN = {\n  name: 'MyTonWallet Coin',\n  symbol: 'MY',\n  slug: 'ton-eqcfvnlrbn',\n  decimals: 9,\n  chain: 'ton',\n  minterAddress: 'EQCFVNlRb-NHHDQfv3Q9xvDXBLJlay855_xREsq5ZDX6KN-w',\n} as const;\n\nexport const MYCOIN_TESTNET = {\n  ...MYCOIN,\n  slug: 'ton-kqawlxpebw',\n  minterAddress: 'kQAWlxpEbwhCDFX9gp824ee2xVBhAh5VRSGWfbNFDddAbQoQ',\n} as const;\n\nexport const CHAIN_CONFIG = {\n  ton: {\n    isMemoSupported: true,\n    isDnsSupported: true,\n    addressRegex: /^([-\\w_]{48}|0:[\\da-h]{64})$/i,\n    addressPrefixRegex: /^([-\\w_]{1,48}|0:[\\da-h]{0,64})$/i,\n    nativeToken: TONCOIN,\n  },\n  tron: {\n    isMemoSupported: false,\n    isDnsSupported: false,\n    addressRegex: /^T[1-9A-HJ-NP-Za-km-z]{33}$/,\n    addressPrefixRegex: /^T[1-9A-HJ-NP-Za-km-z]{0,33}$/,\n    nativeToken: TRX,\n    mainnet: {\n      apiUrl: TRON_MAINNET_API_URL,\n      usdtAddress: 'TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t',\n    },\n    testnet: {\n      apiUrl: TRON_TESTNET_API_URL,\n      usdtAddress: 'TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs',\n    },\n  },\n} as const;\n\nexport const TRC20_USDT_MAINNET_SLUG = 'tron-tr7nhqjekq';\nexport const TRC20_USDT_TESTNET_SLUG = 'tron-tg3xxyexbk';\nexport const TON_USDT_SLUG = 'ton-eqcxe6mutq';\nexport const STAKED_TON_SLUG = 'ton-eqcqc6ehrj';\nexport const STAKED_MYCOIN_SLUG = 'ton-eqcbzvsfwq';\nexport const TRX_SWAP_COUNT_FEE_ADDRESS = 'TW2LXSebZ7Br1zHaiA2W1zRojDkDwjGmpw';\nexport const MYCOIN_STAKING_POOL = 'EQC3roTiRRsoLzfYVK7yVVoIZjTEqAjQU3ju7aQ7HWTVL5o5';\n\nexport const ETHENA_STAKING_VAULT = 'EQChGuD1u0e7KUWHH5FaYh_ygcLXhsdG2nSHPXHW8qqnpZXW';\nexport const ETHENA_STAKING_MIN_AMOUNT = 1_000_000; // 1 USDe\n// eslint-disable-next-line @stylistic/max-len\nexport const ETHENA_ELIGIBILITY_CHECK_URL = 'https://t.me/id_app/start?startapp=cQeewNnc3pVphUcwY63WruKMQDpgePd1E7eMVoqphMZAdGoU9jwS4qRqrM1kSeaqrAiiDiC3EYAJPwZDGWqxZpw5vtGxmHma59XEt';\n\n// In cross-chain swaps, only a few TON/TRON tokens are available.\n// It’s not optimal to request swap history for all the others.\nexport const SWAP_CROSSCHAIN_SLUGS = new Set([\n  TONCOIN.slug,\n  TON_USDT_SLUG,\n  TRX.slug,\n  TRC20_USDT_MAINNET_SLUG,\n]);\n\nexport const STON_PTON_ADDRESS = 'EQCM3B12QK1e4yZSf8GtBRT0aLMNyEsBc_DhVfRRtOEffLez';\nexport const STON_PTON_SLUG = 'ton-eqcm3b12qk';\n\nexport const DNS_IMAGE_GEN_URL = 'https://dns-image.mytonwallet.org/img?d=';\n\nconst TRC20_USDT = {\n  name: 'Tether USD',\n  symbol: 'USDT',\n  decimals: 6,\n  chain: 'tron',\n} as const;\n\nconst TON_USDT = {\n  name: 'Tether USD',\n  symbol: 'USD₮',\n  chain: 'ton',\n  slug: TON_USDT_SLUG,\n  decimals: 6,\n  tokenAddress: 'EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs',\n} as const;\n\nexport const TON_USDE = {\n  name: 'Ethena USDe',\n  symbol: 'USDe',\n  chain: 'ton',\n  tokenAddress: 'EQAIb6KmdfdDR7CN1GBqVJuP25iCnLKCvBlJ07Evuu2dzP5f',\n  slug: 'ton-eqaib6kmdf',\n  decimals: 6,\n  // eslint-disable-next-line @stylistic/max-len\n  image: 'https://imgproxy.toncenter.com/binMwUmcnFtjvgjp4wSEbsECXwfXUwbPkhVvsvpubNw/pr:small/aHR0cHM6Ly9tZXRhZGF0YS5sYXllcnplcm8tYXBpLmNvbS9hc3NldHMvVVNEZS5wbmc',\n} as const;\n\nexport const TON_TSUSDE = {\n  name: 'Ethena tsUSDe',\n  symbol: 'tsUSDe',\n  chain: 'ton',\n  tokenAddress: 'EQDQ5UUyPHrLcQJlPAczd_fjxn8SLrlNQwolBznxCdSlfQwr',\n  slug: 'ton-eqdq5uuyph',\n  decimals: 6,\n  // eslint-disable-next-line @stylistic/max-len\n  image: 'https://cache.tonapi.io/imgproxy/vGZJ7erwsWPo7DpVG_V7ygNn7VGs0szZXcNLHB_l0ms/rs:fill:200:200:1/g:no/aHR0cHM6Ly9tZXRhZGF0YS5sYXllcnplcm8tYXBpLmNvbS9hc3NldHMvdHNVU0RlLnBuZw.webp',\n} as const;\n\nexport const ALL_STAKING_POOLS = [\n  LIQUID_POOL,\n  MYCOIN_STAKING_POOL,\n  ETHENA_STAKING_VAULT,\n  TON_TSUSDE.tokenAddress,\n];\n\nexport const DEFAULT_ENABLED_TOKEN_SLUGS = [\n  TONCOIN.slug, TON_USDT_SLUG, TRX.slug, TRC20_USDT_TESTNET_SLUG, TRC20_USDT_MAINNET_SLUG,\n] as string[];\n\n// Toncoin, USDT TON, TRX, USDT TRC20\nexport const DEFAULT_ENABLED_TOKEN_COUNT = 4;\n\nexport const PRIORITY_TOKEN_SLUGS = [\n  TONCOIN.slug, TON_USDT_SLUG, TRX.slug,\n] as string[];\n\nconst COMMON_TOKEN = {\n  isFromBackend: true,\n  price: 0,\n  priceUsd: 0,\n  percentChange24h: 0,\n};\n\nexport const TOKEN_INFO: Record<string, ApiTokenWithPrice> = {\n  toncoin: {\n    ...TONCOIN,\n    isFromBackend: true,\n    price: 3.1,\n    priceUsd: 3.1,\n    percentChange24h: 0,\n  },\n  trx: {\n    ...TRX,\n    ...COMMON_TOKEN,\n  },\n  [TRC20_USDT_MAINNET_SLUG]: { // mainnet\n    ...TRC20_USDT,\n    slug: TRC20_USDT_MAINNET_SLUG,\n    tokenAddress: 'TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t',\n    ...COMMON_TOKEN,\n  },\n  [TRC20_USDT_TESTNET_SLUG]: { // testnet\n    ...TRC20_USDT,\n    slug: TRC20_USDT_TESTNET_SLUG,\n    tokenAddress: 'TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs',\n    ...COMMON_TOKEN,\n  },\n  [TON_USDT_SLUG]: {\n    ...TON_USDT,\n    // eslint-disable-next-line @stylistic/max-len\n    image: 'https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp',\n    slug: TON_USDT_SLUG,\n    ...COMMON_TOKEN,\n  },\n  [MYCOIN.slug]: {\n    ...MYCOIN,\n    // eslint-disable-next-line @stylistic/max-len\n    image: 'https://cache.tonapi.io/imgproxy/Qy038wCBKISofJ0hYMlj6COWma330cx3Ju1ZSPM2LRU/rs:fill:200:200:1/g:no/aHR0cHM6Ly9teXRvbndhbGxldC5pby9sb2dvLTI1Ni1ibHVlLnBuZw.webp',\n    ...COMMON_TOKEN,\n  },\n  [TON_USDE.slug]: {\n    ...TON_USDE,\n    ...COMMON_TOKEN,\n  },\n  [TON_TSUSDE.slug]: {\n    ...TON_TSUSDE,\n    ...COMMON_TOKEN,\n  },\n};\n\nexport const TOKEN_WITH_LABEL: Record<string, string> = {\n  [TRC20_USDT_MAINNET_SLUG]: 'TRC-20',\n  [TRC20_USDT_TESTNET_SLUG]: 'TRC-20',\n  [TON_USDT_SLUG]: 'TON',\n};\n\nexport const INIT_SWAP_ASSETS: Record<string, ApiSwapAsset> = {\n  toncoin: {\n    name: 'Toncoin',\n    symbol: TONCOIN.symbol,\n    chain: TONCOIN.chain,\n    slug: TONCOIN.slug,\n    decimals: TONCOIN.decimals,\n    price: 0,\n    priceUsd: 0,\n    isPopular: true,\n  },\n  [TON_USDT_SLUG]: {\n    name: 'Tether USD',\n    symbol: 'USD₮',\n    chain: 'ton',\n    slug: TON_USDT_SLUG,\n    decimals: 9,\n    // eslint-disable-next-line @stylistic/max-len\n    image: 'https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp',\n    tokenAddress: 'EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs',\n    price: 0,\n    priceUsd: 0,\n    isPopular: true,\n  },\n};\n\nexport const DEFAULT_TRX_SWAP_FIRST_TOKEN_SLUG = TONCOIN.slug;\nexport const DEFAULT_SWAP_FIRST_TOKEN_SLUG = TONCOIN.slug;\nexport const DEFAULT_SWAP_SECOND_TOKEN_SLUG = TON_USDT_SLUG;\nexport const DEFAULT_TRANSFER_TOKEN_SLUG = TONCOIN.slug;\nexport const DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG = TRC20_USDT_MAINNET_SLUG;\nexport const SWAP_DEX_LABELS: Record<ApiSwapDexLabel, string> = {\n  dedust: 'DeDust',\n  ston: 'STON.fi',\n};\n\nexport const MULTITAB_DATA_CHANNEL_NAME = IS_CORE_WALLET ? 'tw-multitab' : 'mtw-multitab';\nexport const ACTIVE_TAB_STORAGE_KEY = IS_CORE_WALLET ? 'tw-active-tab' : 'mtw-active-tab';\n\nexport const INDEXED_DB_NAME = 'keyval-store';\nexport const INDEXED_DB_STORE_NAME = 'keyval';\n\nexport const WINDOW_PROVIDER_CHANNEL = 'windowProvider';\nexport const WINDOW_PROVIDER_PORT = `${IS_CORE_WALLET ? 'TonWallet' : 'MyTonWallet'}_popup_reversed`;\n\nexport const SHOULD_SHOW_ALL_ASSETS_AND_ACTIVITY = IS_CORE_WALLET;\nexport const PORTRAIT_MIN_ASSETS_TAB_VIEW = 4;\nexport const LANDSCAPE_MIN_ASSETS_TAB_VIEW = 6;\n\nexport const DEFAULT_PRICE_CURRENCY = 'USD';\nexport const CURRENCIES: Record<ApiBaseCurrency, { name: string; decimals: number; shortSymbol?: string }> = {\n  USD: { name: 'US Dollar', decimals: 2, shortSymbol: '$' },\n  EUR: { name: 'Euro', decimals: 2, shortSymbol: '€' },\n  RUB: { name: 'Ruble', decimals: 2, shortSymbol: '₽' },\n  CNY: { name: 'Yuan', decimals: 2, shortSymbol: '¥' },\n  BTC: { name: 'Bitcoin', decimals: 9 },\n  [TONCOIN.symbol]: { name: 'Toncoin', decimals: 9 },\n};\n\nexport const BURN_ADDRESS = 'UQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJKZ';\n\nexport const DEFAULT_WALLET_VERSION: ApiTonWalletVersion = 'W5';\nexport const POPULAR_WALLET_VERSIONS: ApiTonWalletVersion[] = ['v3R1', 'v3R2', 'v4R2', 'W5'];\nexport const LEDGER_WALLET_VERSIONS: ApiTonWalletVersion[] = ['v3R2', 'v4R2'];\n\nexport const DEFAULT_TIMEOUT = 10000;\nexport const DEFAULT_RETRIES = 3;\nexport const DEFAULT_ERROR_PAUSE = 500;\n\nexport const HISTORY_PERIODS: TokenPeriod[] = ['1D', '7D', '1M', '3M', '1Y', 'ALL'];\n\nexport const BROWSER_HISTORY_LIMIT = 10;\n\nexport const NFT_BATCH_SIZE = 4;\nexport const NOTCOIN_VOUCHERS_ADDRESS = 'EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW';\nexport const BURN_CHUNK_DURATION_APPROX_SEC = 30;\nexport const NOTCOIN_FORWARD_TON_AMOUNT = 30000000n; // 0.03 TON\nexport const NOTCOIN_EXCHANGERS = [\n  'EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2',\n  'EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ',\n  'EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s',\n  'EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm',\n  'EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd',\n  'EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD',\n  'EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p',\n  'EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO',\n  'EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe',\n  'EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-',\n  'EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu',\n  'EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH',\n  'EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy',\n  'EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT',\n  'EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu',\n  'EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw',\n] as const;\n\nexport const CLAIM_ADDRESS = 'EQB3zOTvPi1PmwdcTpqSfFKZnhi1GNKEVJM-LdoAirdLtash';\nexport const CLAIM_AMOUNT = 30000000n; // 0.03 TON\nexport const CLAIM_COMMENT = 'claim';\n\nexport const MINT_CARD_ADDRESS = 'EQBpst3ZWJ9Dqq5gE2YH-yPsFK_BqMOmgi7Z_qK6v7WbrPWv';\nexport const MINT_CARD_COMMENT = 'Mint card';\nexport const MINT_CARD_REFUND_COMMENT = 'Refund';\n\n// eslint-disable-next-line @stylistic/max-len\nexport const RE_LINK_TEMPLATE = /((ftp|https?):\\/\\/)?(?<host>(www\\\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z][-a-zA-Z0-9]{1,62})\\b([-a-zA-Z0-9()@:%_+.,~#?&/=]*)/g;\n// eslint-disable-next-line @stylistic/max-len\nexport const RE_TG_BOT_MENTION = /telegram[:\\s-]*((@[a-z0-9_]+)|(https:\\/\\/)?(t\\.me|telegram\\.me|telegram\\.dog)\\/[a-z0-9_]+)/mig;\n\nexport const STARS_SYMBOL = '⭐️';\n\nexport const GIVEAWAY_CHECKIN_URL = process.env.GIVEAWAY_CHECKIN_URL || 'https://giveaway.mytonwallet.io';\n\nexport const AUTOLOCK_OPTIONS_LIST = [\n  {\n    value: 'never',\n    name: 'Disabled',\n    selectedName: 'Disabled',\n    period: 0,\n  },\n  {\n    value: '1',\n    name: '30 seconds',\n    selectedName: 'If away for 30 sec',\n    period: 30_000,\n  },\n  {\n    value: '2',\n    name: '3 minutes',\n    selectedName: 'If away for 3 min',\n    period: 60_000 * 3,\n  },\n  {\n    value: '3',\n    name: '10 minutes',\n    selectedName: 'If away for 10 min',\n    period: 60_000 * 10,\n  },\n] as const;\n\nexport const AUTO_CONFIRM_DURATION_MINUTES = 5;\n\nexport const PRICELESS_TOKEN_HASHES = new Set([\n  '173e31eee054cb0c76f77edc7956bed766bf48a1f63bd062d87040dcd3df700f', // FIVA SY tsTON EQAxGi9Al7hamLAORroxGkvfap6knGyzI50ThkP3CLPLTtOZ\n  '5226dd4e6db9af26b24d5ca822bc4053b7e08152f923932abf25030c7e38bb42', // FIVA PT tsTON EQAkxIRGXgs2vD2zjt334MBjD3mXg2GsyEZHfzuYX_trQkFL\n  'fea2c08a704e5192b7f37434927170440d445b87aab865c3ea2a68abe7168204', // FIVA YT tsTON EQAcy60qg22RCq87A_qgYK8hooEgjCZ44yxhdnKYdlWIfKXL\n  'e691cf9081a8aeb22ed4d94829f6626c9d822752e035800b5543c43f83d134b5', // FIVA LP tsTON EQD3BjCjxuf8mu5kvxajVbe-Ila1ScZZlAi03oS7lMmAJjM3\n  '301ce25925830d713b326824e552e962925c4ff45b1e3ea21fc363a459a49b43', // FIVA SY eUSDT EQDi9blCcyT-k8iMpFMYY0t7mHVyiCB50ZsRgyUECJDuGvIl\n  '02250f83fbb8624d859c2c045ac70ee2b3b959688c3d843aec773be9b36dbfc3', // FIVA PT eUSDT EQBzVrYkYPHx8D_HPfQacm1xONa4XSRxl826vHkx_laP2HOe\n  'dba3adb2c917db80fd71a6a68c1fc9e12976491a8309d5910f9722efc084ce4d', // FIVA YT eUSDT EQCwUSc2qrY5rn9BfFBG9ARAHePTUvITDl97UD0zOreWzLru\n  '7da9223b90984d6a144e71611a8d7c65a6298cad734faed79438dc0f7a8e53d1', // FIVA LP eUSDT EQBNlIZxIbQGQ78cXgG3VRcyl8A0kLn_6BM9kabiHHhWC4qY\n  'ddf80de336d580ab3c11d194f189c362e2ca1225cae224ea921deeaba7eca818', // tsUSDe EQDQ5UUyPHrLcQJlPAczd_fjxn8SLrlNQwolBznxCdSlfQwr\n]);\n\nexport const STAKED_TOKEN_SLUGS = new Set([\n  STAKED_TON_SLUG,\n  STAKED_MYCOIN_SLUG,\n  TON_TSUSDE.slug,\n]);\n\nexport const DEFAULT_OUR_SWAP_FEE = 0.875;\n\nexport const DEFAULT_STAKING_STATE: ApiLiquidStakingState = {\n  type: 'liquid',\n  id: 'liquid',\n  tokenSlug: TONCOIN.slug,\n  annualYield: 3.9,\n  yieldType: 'APY',\n  balance: 0n,\n  pool: LIQUID_POOL,\n  tokenBalance: 0n,\n  unstakeRequestAmount: 0n,\n  instantAvailable: 0n,\n  start: 0,\n  end: 0,\n};\n\nexport const DEFAULT_NOMINATORS_STAKING_STATE: ApiNominatorsStakingState = {\n  type: 'nominators',\n  id: 'nominators',\n  tokenSlug: TONCOIN.slug,\n  annualYield: 3.9,\n  yieldType: 'APY',\n  balance: 0n,\n  pool: 'Ef8dgIOIRyCLU0NEvF8TD6Me3wrbrkS1z3Gpjk3ppd8m8-s_',\n  start: 0,\n  end: 0,\n  pendingDepositAmount: 0n,\n};\n\nexport const SWAP_API_VERSION = 2;\nexport const TONCENTER_ACTIONS_VERSION = 'v1';\n\nexport const JVAULT_URL = 'https://jvault.xyz';\n\nexport const HELP_CENTER_SEED_SCAM_URL = {\n  en: 'https://help.mytonwallet.io/intro/scams/leaked-seed-phrases',\n  ru: 'https://help.mytonwallet.io/ru/baza-znanii/moshennichestvo-i-skamy/slitye-sid-frazy',\n};\n\nexport const HELP_CENTER_ETHENA_URL = {\n  en: 'https://help.mytonwallet.io/intro/staking/what-is-usde-how-does-usde-staking-work',\n  ru: 'https://help.mytonwallet.io/ru/baza-znanii/steiking/chto-takoe-usde-kak-rabotaet-steiking-usde',\n};\n\nconst ALL_TON_DNS_ZONES = [\n  {\n    suffixes: ['ton'],\n    baseFormat: /^([-\\da-z]+\\.){0,2}[-\\da-z]{4,126}$/i,\n    resolver: 'EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz',\n    collectionName: 'TON DNS Domains',\n  },\n  {\n    suffixes: ['t.me'],\n    baseFormat: /^([-\\da-z]+\\.){0,2}[-_\\da-z]{4,32}$/i,\n    resolver: 'EQCA14o1-VWhS2efqoh_9M1b_A9DtKTuoqfmkn83AbJzwnPi',\n    isTelemint: true,\n    collectionName: 'Telegram Usernames',\n  },\n  {\n    suffixes: ['vip', 'ton.vip', 'vip.ton'],\n    baseFormat: /^([-\\da-z]+\\.){0,2}?[\\da-z]{1,24}$/i,\n    resolver: 'EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS',\n    collectionName: 'VIP DNS Domains',\n    isUnofficial: true,\n  },\n  {\n    suffixes: ['gram'],\n    baseFormat: /^([-\\da-z]+\\.){0,2}[\\da-z]{1,127}$/i,\n    resolver: 'EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ',\n    collectionName: 'GRAM DNS Domains',\n    isUnofficial: true,\n  },\n];\n\nexport const TON_DNS_ZONES = IS_CORE_WALLET\n  ? ALL_TON_DNS_ZONES.filter(({ isUnofficial }) => !isUnofficial)\n  : ALL_TON_DNS_ZONES;\n\nexport const DEFAULT_AUTOLOCK_OPTION: AutolockValueType = '3';\nexport const WRONG_ATTEMPTS_BEFORE_LOG_OUT_SUGGESTION = 2;\n","/*\n *  big.js v6.2.1\n *  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\n *  Copyright (c) 2022 Michael Mclaughlin\n *  https://github.com/MikeMcl/big.js/LICENCE.md\n */\n\n\n/************************************** EDITABLE DEFAULTS *****************************************/\n\n\n  // The default values below must be integers within the stated ranges.\n\n  /*\n   * The maximum number of decimal places (DP) of the results of operations involving division:\n   * div and sqrt, and pow with negative exponents.\n   */\nvar DP = 20,          // 0 to MAX_DP\n\n  /*\n   * The rounding mode (RM) used when rounding to the above decimal places.\n   *\n   *  0  Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\n   *  1  To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\n   *  2  To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\n   *  3  Away from zero.                                  (ROUND_UP)\n   */\n  RM = 1,             // 0, 1, 2 or 3\n\n  // The maximum value of DP and Big.DP.\n  MAX_DP = 1E6,       // 0 to 1000000\n\n  // The maximum magnitude of the exponent argument to the pow method.\n  MAX_POWER = 1E6,    // 1 to 1000000\n\n  /*\n   * The negative exponent (NE) at and beneath which toString returns exponential notation.\n   * (JavaScript numbers: -7)\n   * -1000000 is the minimum recommended exponent value of a Big.\n   */\n  NE = -7,            // 0 to -1000000\n\n  /*\n   * The positive exponent (PE) at and above which toString returns exponential notation.\n   * (JavaScript numbers: 21)\n   * 1000000 is the maximum recommended exponent value of a Big, but this limit is not enforced.\n   */\n  PE = 21,            // 0 to 1000000\n\n  /*\n   * When true, an error will be thrown if a primitive number is passed to the Big constructor,\n   * or if valueOf is called, or if toNumber is called on a Big which cannot be converted to a\n   * primitive number without a loss of precision.\n   */\n  STRICT = false,     // true or false\n\n\n/**************************************************************************************************/\n\n\n  // Error messages.\n  NAME = '[big.js] ',\n  INVALID = NAME + 'Invalid ',\n  INVALID_DP = INVALID + 'decimal places',\n  INVALID_RM = INVALID + 'rounding mode',\n  DIV_BY_ZERO = NAME + 'Division by zero',\n\n  // The shared prototype object.\n  P = {},\n  UNDEFINED = void 0,\n  NUMERIC = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;\n\n\n/*\n * Create and return a Big constructor.\n */\nfunction _Big_() {\n\n  /*\n   * The Big constructor and exported function.\n   * Create and return a new instance of a Big number object.\n   *\n   * n {number|string|Big} A numeric value.\n   */\n  function Big(n) {\n    var x = this;\n\n    // Enable constructor usage without new.\n    if (!(x instanceof Big)) return n === UNDEFINED ? _Big_() : new Big(n);\n\n    // Duplicate.\n    if (n instanceof Big) {\n      x.s = n.s;\n      x.e = n.e;\n      x.c = n.c.slice();\n    } else {\n      if (typeof n !== 'string') {\n        if (Big.strict === true && typeof n !== 'bigint') {\n          throw TypeError(INVALID + 'value');\n        }\n\n        // Minus zero?\n        n = n === 0 && 1 / n < 0 ? '-0' : String(n);\n      }\n\n      parse(x, n);\n    }\n\n    // Retain a reference to this Big constructor.\n    // Shadow Big.prototype.constructor which points to Object.\n    x.constructor = Big;\n  }\n\n  Big.prototype = P;\n  Big.DP = DP;\n  Big.RM = RM;\n  Big.NE = NE;\n  Big.PE = PE;\n  Big.strict = STRICT;\n  Big.roundDown = 0;\n  Big.roundHalfUp = 1;\n  Big.roundHalfEven = 2;\n  Big.roundUp = 3;\n\n  return Big;\n}\n\n\n/*\n * Parse the number or string value passed to a Big constructor.\n *\n * x {Big} A Big number instance.\n * n {number|string} A numeric value.\n */\nfunction parse(x, n) {\n  var e, i, nl;\n\n  if (!NUMERIC.test(n)) {\n    throw Error(INVALID + 'number');\n  }\n\n  // Determine sign.\n  x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\n\n  // Decimal point?\n  if ((e = n.indexOf('.')) > -1) n = n.replace('.', '');\n\n  // Exponential form?\n  if ((i = n.search(/e/i)) > 0) {\n\n    // Determine exponent.\n    if (e < 0) e = i;\n    e += +n.slice(i + 1);\n    n = n.substring(0, i);\n  } else if (e < 0) {\n\n    // Integer.\n    e = n.length;\n  }\n\n  nl = n.length;\n\n  // Determine leading zeros.\n  for (i = 0; i < nl && n.charAt(i) == '0';) ++i;\n\n  if (i == nl) {\n\n    // Zero.\n    x.c = [x.e = 0];\n  } else {\n\n    // Determine trailing zeros.\n    for (; nl > 0 && n.charAt(--nl) == '0';);\n    x.e = e - i - 1;\n    x.c = [];\n\n    // Convert string to array of digits without leading/trailing zeros.\n    for (e = 0; i <= nl;) x.c[e++] = +n.charAt(i++);\n  }\n\n  return x;\n}\n\n\n/*\n * Round Big x to a maximum of sd significant digits using rounding mode rm.\n *\n * x {Big} The Big to round.\n * sd {number} Significant digits: integer, 0 to MAX_DP inclusive.\n * rm {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n * [more] {boolean} Whether the result of division was truncated.\n */\nfunction round(x, sd, rm, more) {\n  var xc = x.c;\n\n  if (rm === UNDEFINED) rm = x.constructor.RM;\n  if (rm !== 0 && rm !== 1 && rm !== 2 && rm !== 3) {\n    throw Error(INVALID_RM);\n  }\n\n  if (sd < 1) {\n    more =\n      rm === 3 && (more || !!xc[0]) || sd === 0 && (\n      rm === 1 && xc[0] >= 5 ||\n      rm === 2 && (xc[0] > 5 || xc[0] === 5 && (more || xc[1] !== UNDEFINED))\n    );\n\n    xc.length = 1;\n\n    if (more) {\n\n      // 1, 0.1, 0.01, 0.001, 0.0001 etc.\n      x.e = x.e - sd + 1;\n      xc[0] = 1;\n    } else {\n\n      // Zero.\n      xc[0] = x.e = 0;\n    }\n  } else if (sd < xc.length) {\n\n    // xc[sd] is the digit after the digit that may be rounded up.\n    more =\n      rm === 1 && xc[sd] >= 5 ||\n      rm === 2 && (xc[sd] > 5 || xc[sd] === 5 &&\n        (more || xc[sd + 1] !== UNDEFINED || xc[sd - 1] & 1)) ||\n      rm === 3 && (more || !!xc[0]);\n\n    // Remove any digits after the required precision.\n    xc.length = sd;\n\n    // Round up?\n    if (more) {\n\n      // Rounding up may mean the previous digit has to be rounded up.\n      for (; ++xc[--sd] > 9;) {\n        xc[sd] = 0;\n        if (sd === 0) {\n          ++x.e;\n          xc.unshift(1);\n          break;\n        }\n      }\n    }\n\n    // Remove trailing zeros.\n    for (sd = xc.length; !xc[--sd];) xc.pop();\n  }\n\n  return x;\n}\n\n\n/*\n * Return a string representing the value of Big x in normal or exponential notation.\n * Handles P.toExponential, P.toFixed, P.toJSON, P.toPrecision, P.toString and P.valueOf.\n */\nfunction stringify(x, doExponential, isNonzero) {\n  var e = x.e,\n    s = x.c.join(''),\n    n = s.length;\n\n  // Exponential notation?\n  if (doExponential) {\n    s = s.charAt(0) + (n > 1 ? '.' + s.slice(1) : '') + (e < 0 ? 'e' : 'e+') + e;\n\n  // Normal notation.\n  } else if (e < 0) {\n    for (; ++e;) s = '0' + s;\n    s = '0.' + s;\n  } else if (e > 0) {\n    if (++e > n) {\n      for (e -= n; e--;) s += '0';\n    } else if (e < n) {\n      s = s.slice(0, e) + '.' + s.slice(e);\n    }\n  } else if (n > 1) {\n    s = s.charAt(0) + '.' + s.slice(1);\n  }\n\n  return x.s < 0 && isNonzero ? '-' + s : s;\n}\n\n\n// Prototype/instance methods\n\n\n/*\n * Return a new Big whose value is the absolute value of this Big.\n */\nP.abs = function () {\n  var x = new this.constructor(this);\n  x.s = 1;\n  return x;\n};\n\n\n/*\n * Return 1 if the value of this Big is greater than the value of Big y,\n *       -1 if the value of this Big is less than the value of Big y, or\n *        0 if they have the same value.\n */\nP.cmp = function (y) {\n  var isneg,\n    x = this,\n    xc = x.c,\n    yc = (y = new x.constructor(y)).c,\n    i = x.s,\n    j = y.s,\n    k = x.e,\n    l = y.e;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) return !xc[0] ? !yc[0] ? 0 : -j : i;\n\n  // Signs differ?\n  if (i != j) return i;\n\n  isneg = i < 0;\n\n  // Compare exponents.\n  if (k != l) return k > l ^ isneg ? 1 : -1;\n\n  j = (k = xc.length) < (l = yc.length) ? k : l;\n\n  // Compare digit by digit.\n  for (i = -1; ++i < j;) {\n    if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;\n  }\n\n  // Compare lengths.\n  return k == l ? 0 : k > l ^ isneg ? 1 : -1;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big divided by the value of Big y, rounded,\n * if necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\n */\nP.div = function (y) {\n  var x = this,\n    Big = x.constructor,\n    a = x.c,                  // dividend\n    b = (y = new Big(y)).c,   // divisor\n    k = x.s == y.s ? 1 : -1,\n    dp = Big.DP;\n\n  if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n    throw Error(INVALID_DP);\n  }\n\n  // Divisor is zero?\n  if (!b[0]) {\n    throw Error(DIV_BY_ZERO);\n  }\n\n  // Dividend is 0? Return +-0.\n  if (!a[0]) {\n    y.s = k;\n    y.c = [y.e = 0];\n    return y;\n  }\n\n  var bl, bt, n, cmp, ri,\n    bz = b.slice(),\n    ai = bl = b.length,\n    al = a.length,\n    r = a.slice(0, bl),   // remainder\n    rl = r.length,\n    q = y,                // quotient\n    qc = q.c = [],\n    qi = 0,\n    p = dp + (q.e = x.e - y.e) + 1;    // precision of the result\n\n  q.s = k;\n  k = p < 0 ? 0 : p;\n\n  // Create version of divisor with leading zero.\n  bz.unshift(0);\n\n  // Add zeros to make remainder as long as divisor.\n  for (; rl++ < bl;) r.push(0);\n\n  do {\n\n    // n is how many times the divisor goes into current remainder.\n    for (n = 0; n < 10; n++) {\n\n      // Compare divisor and remainder.\n      if (bl != (rl = r.length)) {\n        cmp = bl > rl ? 1 : -1;\n      } else {\n        for (ri = -1, cmp = 0; ++ri < bl;) {\n          if (b[ri] != r[ri]) {\n            cmp = b[ri] > r[ri] ? 1 : -1;\n            break;\n          }\n        }\n      }\n\n      // If divisor < remainder, subtract divisor from remainder.\n      if (cmp < 0) {\n\n        // Remainder can't be more than 1 digit longer than divisor.\n        // Equalise lengths using divisor with extra leading zero?\n        for (bt = rl == bl ? b : bz; rl;) {\n          if (r[--rl] < bt[rl]) {\n            ri = rl;\n            for (; ri && !r[--ri];) r[ri] = 9;\n            --r[ri];\n            r[rl] += 10;\n          }\n          r[rl] -= bt[rl];\n        }\n\n        for (; !r[0];) r.shift();\n      } else {\n        break;\n      }\n    }\n\n    // Add the digit n to the result array.\n    qc[qi++] = cmp ? n : ++n;\n\n    // Update the remainder.\n    if (r[0] && cmp) r[rl] = a[ai] || 0;\n    else r = [a[ai]];\n\n  } while ((ai++ < al || r[0] !== UNDEFINED) && k--);\n\n  // Leading zero? Do not remove if result is simply zero (qi == 1).\n  if (!qc[0] && qi != 1) {\n\n    // There can't be more than one zero.\n    qc.shift();\n    q.e--;\n    p--;\n  }\n\n  // Round?\n  if (qi > p) round(q, p, Big.RM, r[0] !== UNDEFINED);\n\n  return q;\n};\n\n\n/*\n * Return true if the value of this Big is equal to the value of Big y, otherwise return false.\n */\nP.eq = function (y) {\n  return this.cmp(y) === 0;\n};\n\n\n/*\n * Return true if the value of this Big is greater than the value of Big y, otherwise return\n * false.\n */\nP.gt = function (y) {\n  return this.cmp(y) > 0;\n};\n\n\n/*\n * Return true if the value of this Big is greater than or equal to the value of Big y, otherwise\n * return false.\n */\nP.gte = function (y) {\n  return this.cmp(y) > -1;\n};\n\n\n/*\n * Return true if the value of this Big is less than the value of Big y, otherwise return false.\n */\nP.lt = function (y) {\n  return this.cmp(y) < 0;\n};\n\n\n/*\n * Return true if the value of this Big is less than or equal to the value of Big y, otherwise\n * return false.\n */\nP.lte = function (y) {\n  return this.cmp(y) < 1;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big minus the value of Big y.\n */\nP.minus = P.sub = function (y) {\n  var i, j, t, xlty,\n    x = this,\n    Big = x.constructor,\n    a = x.s,\n    b = (y = new Big(y)).s;\n\n  // Signs differ?\n  if (a != b) {\n    y.s = -b;\n    return x.plus(y);\n  }\n\n  var xc = x.c.slice(),\n    xe = x.e,\n    yc = y.c,\n    ye = y.e;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) {\n    if (yc[0]) {\n      y.s = -b;\n    } else if (xc[0]) {\n      y = new Big(x);\n    } else {\n      y.s = 1;\n    }\n    return y;\n  }\n\n  // Determine which is the bigger number. Prepend zeros to equalise exponents.\n  if (a = xe - ye) {\n\n    if (xlty = a < 0) {\n      a = -a;\n      t = xc;\n    } else {\n      ye = xe;\n      t = yc;\n    }\n\n    t.reverse();\n    for (b = a; b--;) t.push(0);\n    t.reverse();\n  } else {\n\n    // Exponents equal. Check digit by digit.\n    j = ((xlty = xc.length < yc.length) ? xc : yc).length;\n\n    for (a = b = 0; b < j; b++) {\n      if (xc[b] != yc[b]) {\n        xlty = xc[b] < yc[b];\n        break;\n      }\n    }\n  }\n\n  // x < y? Point xc to the array of the bigger number.\n  if (xlty) {\n    t = xc;\n    xc = yc;\n    yc = t;\n    y.s = -y.s;\n  }\n\n  /*\n   * Append zeros to xc if shorter. No need to add zeros to yc if shorter as subtraction only\n   * needs to start at yc.length.\n   */\n  if ((b = (j = yc.length) - (i = xc.length)) > 0) for (; b--;) xc[i++] = 0;\n\n  // Subtract yc from xc.\n  for (b = i; j > a;) {\n    if (xc[--j] < yc[j]) {\n      for (i = j; i && !xc[--i];) xc[i] = 9;\n      --xc[i];\n      xc[j] += 10;\n    }\n\n    xc[j] -= yc[j];\n  }\n\n  // Remove trailing zeros.\n  for (; xc[--b] === 0;) xc.pop();\n\n  // Remove leading zeros and adjust exponent accordingly.\n  for (; xc[0] === 0;) {\n    xc.shift();\n    --ye;\n  }\n\n  if (!xc[0]) {\n\n    // n - n = +0\n    y.s = 1;\n\n    // Result must be zero.\n    xc = [ye = 0];\n  }\n\n  y.c = xc;\n  y.e = ye;\n\n  return y;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big modulo the value of Big y.\n */\nP.mod = function (y) {\n  var ygtx,\n    x = this,\n    Big = x.constructor,\n    a = x.s,\n    b = (y = new Big(y)).s;\n\n  if (!y.c[0]) {\n    throw Error(DIV_BY_ZERO);\n  }\n\n  x.s = y.s = 1;\n  ygtx = y.cmp(x) == 1;\n  x.s = a;\n  y.s = b;\n\n  if (ygtx) return new Big(x);\n\n  a = Big.DP;\n  b = Big.RM;\n  Big.DP = Big.RM = 0;\n  x = x.div(y);\n  Big.DP = a;\n  Big.RM = b;\n\n  return this.minus(x.times(y));\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big negated.\n */\nP.neg = function () {\n  var x = new this.constructor(this);\n  x.s = -x.s;\n  return x;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big plus the value of Big y.\n */\nP.plus = P.add = function (y) {\n  var e, k, t,\n    x = this,\n    Big = x.constructor;\n\n  y = new Big(y);\n\n  // Signs differ?\n  if (x.s != y.s) {\n    y.s = -y.s;\n    return x.minus(y);\n  }\n\n  var xe = x.e,\n    xc = x.c,\n    ye = y.e,\n    yc = y.c;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) {\n    if (!yc[0]) {\n      if (xc[0]) {\n        y = new Big(x);\n      } else {\n        y.s = x.s;\n      }\n    }\n    return y;\n  }\n\n  xc = xc.slice();\n\n  // Prepend zeros to equalise exponents.\n  // Note: reverse faster than unshifts.\n  if (e = xe - ye) {\n    if (e > 0) {\n      ye = xe;\n      t = yc;\n    } else {\n      e = -e;\n      t = xc;\n    }\n\n    t.reverse();\n    for (; e--;) t.push(0);\n    t.reverse();\n  }\n\n  // Point xc to the longer array.\n  if (xc.length - yc.length < 0) {\n    t = yc;\n    yc = xc;\n    xc = t;\n  }\n\n  e = yc.length;\n\n  // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.\n  for (k = 0; e; xc[e] %= 10) k = (xc[--e] = xc[e] + yc[e] + k) / 10 | 0;\n\n  // No need to check for zero, as +x + +y != 0 && -x + -y != 0\n\n  if (k) {\n    xc.unshift(k);\n    ++ye;\n  }\n\n  // Remove trailing zeros.\n  for (e = xc.length; xc[--e] === 0;) xc.pop();\n\n  y.c = xc;\n  y.e = ye;\n\n  return y;\n};\n\n\n/*\n * Return a Big whose value is the value of this Big raised to the power n.\n * If n is negative, round to a maximum of Big.DP decimal places using rounding\n * mode Big.RM.\n *\n * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\n */\nP.pow = function (n) {\n  var x = this,\n    one = new x.constructor('1'),\n    y = one,\n    isneg = n < 0;\n\n  if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {\n    throw Error(INVALID + 'exponent');\n  }\n\n  if (isneg) n = -n;\n\n  for (;;) {\n    if (n & 1) y = y.times(x);\n    n >>= 1;\n    if (!n) break;\n    x = x.times(x);\n  }\n\n  return isneg ? one.div(y) : y;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big rounded to a maximum precision of sd\n * significant digits using rounding mode rm, or Big.RM if rm is not specified.\n *\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.prec = function (sd, rm) {\n  if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\n    throw Error(INVALID + 'precision');\n  }\n  return round(new this.constructor(this), sd, rm);\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big rounded to a maximum of dp decimal places\n * using rounding mode rm, or Big.RM if rm is not specified.\n * If dp is negative, round to an integer which is a multiple of 10**-dp.\n * If dp is not specified, round to 0 decimal places.\n *\n * dp? {number} Integer, -MAX_DP to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.round = function (dp, rm) {\n  if (dp === UNDEFINED) dp = 0;\n  else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) {\n    throw Error(INVALID_DP);\n  }\n  return round(new this.constructor(this), dp + this.e + 1, rm);\n};\n\n\n/*\n * Return a new Big whose value is the square root of the value of this Big, rounded, if\n * necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\n */\nP.sqrt = function () {\n  var r, c, t,\n    x = this,\n    Big = x.constructor,\n    s = x.s,\n    e = x.e,\n    half = new Big('0.5');\n\n  // Zero?\n  if (!x.c[0]) return new Big(x);\n\n  // Negative?\n  if (s < 0) {\n    throw Error(NAME + 'No square root');\n  }\n\n  // Estimate.\n  s = Math.sqrt(x + '');\n\n  // Math.sqrt underflow/overflow?\n  // Re-estimate: pass x coefficient to Math.sqrt as integer, then adjust the result exponent.\n  if (s === 0 || s === 1 / 0) {\n    c = x.c.join('');\n    if (!(c.length + e & 1)) c += '0';\n    s = Math.sqrt(c);\n    e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\n    r = new Big((s == 1 / 0 ? '5e' : (s = s.toExponential()).slice(0, s.indexOf('e') + 1)) + e);\n  } else {\n    r = new Big(s + '');\n  }\n\n  e = r.e + (Big.DP += 4);\n\n  // Newton-Raphson iteration.\n  do {\n    t = r;\n    r = half.times(t.plus(x.div(t)));\n  } while (t.c.slice(0, e).join('') !== r.c.slice(0, e).join(''));\n\n  return round(r, (Big.DP -= 4) + r.e + 1, Big.RM);\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big times the value of Big y.\n */\nP.times = P.mul = function (y) {\n  var c,\n    x = this,\n    Big = x.constructor,\n    xc = x.c,\n    yc = (y = new Big(y)).c,\n    a = xc.length,\n    b = yc.length,\n    i = x.e,\n    j = y.e;\n\n  // Determine sign of result.\n  y.s = x.s == y.s ? 1 : -1;\n\n  // Return signed 0 if either 0.\n  if (!xc[0] || !yc[0]) {\n    y.c = [y.e = 0];\n    return y;\n  }\n\n  // Initialise exponent of result as x.e + y.e.\n  y.e = i + j;\n\n  // If array xc has fewer digits than yc, swap xc and yc, and lengths.\n  if (a < b) {\n    c = xc;\n    xc = yc;\n    yc = c;\n    j = a;\n    a = b;\n    b = j;\n  }\n\n  // Initialise coefficient array of result with zeros.\n  for (c = new Array(j = a + b); j--;) c[j] = 0;\n\n  // Multiply.\n\n  // i is initially xc.length.\n  for (i = b; i--;) {\n    b = 0;\n\n    // a is yc.length.\n    for (j = a + i; j > i;) {\n\n      // Current sum of products at this digit position, plus carry.\n      b = c[j] + yc[i] * xc[j - i - 1] + b;\n      c[j--] = b % 10;\n\n      // carry\n      b = b / 10 | 0;\n    }\n\n    c[j] = b;\n  }\n\n  // Increment result exponent if there is a final carry, otherwise remove leading zero.\n  if (b) ++y.e;\n  else c.shift();\n\n  // Remove trailing zeros.\n  for (i = c.length; !c[--i];) c.pop();\n  y.c = c;\n\n  return y;\n};\n\n\n/*\n * Return a string representing the value of this Big in exponential notation rounded to dp fixed\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\n *\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.toExponential = function (dp, rm) {\n  var x = this,\n    n = x.c[0];\n\n  if (dp !== UNDEFINED) {\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n      throw Error(INVALID_DP);\n    }\n    x = round(new x.constructor(x), ++dp, rm);\n    for (; x.c.length < dp;) x.c.push(0);\n  }\n\n  return stringify(x, true, !!n);\n};\n\n\n/*\n * Return a string representing the value of this Big in normal notation rounded to dp fixed\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\n *\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n *\n * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.\n * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\n */\nP.toFixed = function (dp, rm) {\n  var x = this,\n    n = x.c[0];\n\n  if (dp !== UNDEFINED) {\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n      throw Error(INVALID_DP);\n    }\n    x = round(new x.constructor(x), dp + x.e + 1, rm);\n\n    // x.e may have changed if the value is rounded up.\n    for (dp = dp + x.e + 1; x.c.length < dp;) x.c.push(0);\n  }\n\n  return stringify(x, false, !!n);\n};\n\n\n/*\n * Return a string representing the value of this Big.\n * Return exponential notation if this Big has a positive exponent equal to or greater than\n * Big.PE, or a negative exponent equal to or less than Big.NE.\n * Omit the sign for negative zero.\n */\nP[Symbol.for('nodejs.util.inspect.custom')] = P.toJSON = P.toString = function () {\n  var x = this,\n    Big = x.constructor;\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, !!x.c[0]);\n};\n\n\n/*\n * Return the value of this Big as a primitve number.\n */\nP.toNumber = function () {\n  var n = Number(stringify(this, true, true));\n  if (this.constructor.strict === true && !this.eq(n.toString())) {\n    throw Error(NAME + 'Imprecise conversion');\n  }\n  return n;\n};\n\n\n/*\n * Return a string representing the value of this Big rounded to sd significant digits using\n * rounding mode rm, or Big.RM if rm is not specified.\n * Use exponential notation if sd is less than the number of digits necessary to represent\n * the integer part of the value in normal notation.\n *\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.toPrecision = function (sd, rm) {\n  var x = this,\n    Big = x.constructor,\n    n = x.c[0];\n\n  if (sd !== UNDEFINED) {\n    if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\n      throw Error(INVALID + 'precision');\n    }\n    x = round(new Big(x), sd, rm);\n    for (; x.c.length < sd;) x.c.push(0);\n  }\n\n  return stringify(x, sd <= x.e || x.e <= Big.NE || x.e >= Big.PE, !!n);\n};\n\n\n/*\n * Return a string representing the value of this Big.\n * Return exponential notation if this Big has a positive exponent equal to or greater than\n * Big.PE, or a negative exponent equal to or less than Big.NE.\n * Include the sign for negative zero.\n */\nP.valueOf = function () {\n  var x = this,\n    Big = x.constructor;\n  if (Big.strict === true) {\n    throw Error(NAME + 'valueOf disallowed');\n  }\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, true);\n};\n\n\n// Export\n\n\nexport var Big = _Big_();\n\n/// <reference types=\"https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/types/big.js/index.d.ts\" />\nexport default Big;\n","import { TONCOIN } from '../config';\nimport { Big } from '../lib/big.js';\n\nBig.RM = 0; // RoundDown\nBig.NE = -100000; // Disable exponential form\nBig.PE = 100000; // Disable exponential form\n\nconst ten = Big(10);\n\nexport function fromDecimal(value: string | number, decimals?: number) {\n  return BigInt(Big(value).mul(ten.pow(decimals ?? TONCOIN.decimals)).round().toString());\n}\n\nexport function toDecimal(value: bigint | number, decimals?: number, noFloor = false) {\n  return toBig(value, decimals ?? TONCOIN.decimals, noFloor).toString();\n}\n\nexport function toBig(value: bigint | number, decimals: number = TONCOIN.decimals, noFloor = false) {\n  return Big(value.toString()).div(ten.pow(decimals)).round(decimals, noFloor ? Big.roundHalfUp : undefined);\n}\n\nexport function roundDecimal(value: string, decimals: number) {\n  return Big(value).round(decimals).toString();\n}\n","export class AssertionError extends Error {\n  constructor(\n    message: string,\n    // Any additional information for the error to help debug it. Don't put sensitive information here.\n    public metadata?: unknown,\n  ) {\n    super(message);\n  }\n}\n\nexport function assert(condition: boolean, message: string, metadata?: unknown) {\n  if (!condition) {\n    throw new AssertionError(message, metadata);\n  }\n}\n","import { DEBUG, DEBUG_API } from '../config';\nimport { AssertionError } from './assert';\n\nexport interface Log {\n  message: string;\n  args: any[];\n  time: number; // Passing data from the worker to the application as a date object is not supported\n  level: 'debug' | 'debugError';\n}\n\nconst MAX_LOG_LENGTH = 999;\nconst logs: Log[] = [];\n\nexport function errorReplacer(_: string, value: any) {\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: value.message,\n      stack: value.stack,\n      metadata: value instanceof AssertionError ? value.metadata : undefined,\n    };\n  }\n  return value;\n}\n\nexport function addLog(log: Omit<Log, 'time'>) {\n  if (logs.length > MAX_LOG_LENGTH) {\n    logs.shift();\n  }\n\n  logs.push({\n    ...log,\n    args: log.args.map((arg) => JSON.stringify(arg, errorReplacer)),\n    time: Date.now(),\n  });\n}\n\nexport function getLogs() {\n  return logs;\n}\n\nexport function logDebugError(message: string, ...args: any[]) {\n  addLog({ message, level: 'debugError', args });\n  if (DEBUG) {\n    // eslint-disable-next-line no-console\n    console.error(`[DEBUG][${message}]`, ...args);\n  }\n}\n\nexport function logDebug(message: any, ...args: any[]) {\n  addLog({ message, level: 'debug', args });\n  if (DEBUG) {\n    // eslint-disable-next-line no-console\n    console.log(`[DEBUG] ${message}`, ...args);\n  }\n}\n\nexport function logDebugApi(message: any, obj1: any, obj2?: any) {\n  if (DEBUG_API) {\n    // eslint-disable-next-line no-console\n    console.debug(`[DEBUG] ${message}`);\n    // eslint-disable-next-line no-console\n    if (obj1) console.dir(obj1);\n    // eslint-disable-next-line no-console\n    if (obj2) console.dir(obj2);\n  }\n}\n\nexport function logSelfXssWarnings() {\n  const selfXssWarnings: AnyLiteral = {\n    en: 'WARNING! This console can be a way for bad people to take over your crypto wallet through something called '\n      + 'a Self-XSS attack. So, don\\'t put in or paste code you don\\'t understand. Stay safe!',\n    ru: 'ВНИМАНИЕ! Через эту консоль злоумышленники могут захватить ваш криптовалютный кошелёк с помощью так '\n      + 'называемой атаки Self-XSS. Поэтому не вводите и не вставляйте код, который вы не понимаете. Берегите себя!',\n    es: '¡ADVERTENCIA! Esta consola puede ser una forma en que las personas malintencionadas se apoderen de su '\n      + 'billetera de criptomonedas mediante un ataque llamado Self-XSS. Por lo tanto, '\n      + 'no introduzca ni pegue código que no comprenda. ¡Cuídese!',\n    zh: '警告！这个控制台可能成为坏人通过所谓的Self-XSS攻击来接管你的加密货币钱包的方式。因此，请不要输入或粘贴您不理解的代码。请保护自己！',\n  };\n\n  const langCode = navigator.language.split('-')[0];\n  const text = selfXssWarnings[langCode] || selfXssWarnings.en;\n\n  // eslint-disable-next-line no-console\n  console.log('%c%s', 'color: red; background: yellow; font-size: 18px;', text);\n}\n","import type InAppBrowserPostMessageAdapter from './embeddedDappBridge/provider/InAppBrowserPostMessageAdapter';\nimport type {\n  ApiUpdate,\n  CancellableCallback,\n  OriginMessageData,\n  OriginMessageEvent,\n  WorkerMessageData,\n} from './PostMessageConnector';\n\nimport { decodeExtensionMessage, encodeExtensionMessage } from './extensionMessageSerializer';\nimport { logDebugError } from './logs';\n\ndeclare const self: WorkerGlobalScope;\n\nconst callbackState = new Map<string, CancellableCallback>();\n\ntype ApiConfig =\n// eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n  ((name: string, ...args: any[]) => any | [any, ArrayBuffer[]])\n  | Record<string, AnyFunction>;\ntype SendToOrigin = (data: WorkerMessageData, transferables?: Transferable[]) => void;\n\n/**\n * Provides functions, defined in this messenger (a window, a worker), to another messenger.\n * The other messenger can call the functions using `createConnector`.\n */\nexport function createPostMessageInterface(\n  api: ApiConfig,\n  channel?: string,\n  target: DedicatedWorkerGlobalScope | Worker | InAppBrowserPostMessageAdapter = self as DedicatedWorkerGlobalScope,\n  shouldIgnoreErrors?: boolean,\n) {\n  function sendToOrigin(data: WorkerMessageData, transferables?: Transferable[]) {\n    data.channel = channel;\n\n    if (transferables) {\n      target.postMessage(data, transferables);\n    } else {\n      target.postMessage(data);\n    }\n  }\n\n  if (!shouldIgnoreErrors) {\n    handleErrors(sendToOrigin);\n  }\n\n  function handleMessage(e: OriginMessageEvent) {\n    if (e.data?.channel === channel) {\n      void onMessage(api, e.data, sendToOrigin);\n    }\n  }\n\n  // Correct for any target, but TypeScript weirdly complains\n  (target as DedicatedWorkerGlobalScope).addEventListener('message', handleMessage);\n\n  return () => {\n    (target as DedicatedWorkerGlobalScope).removeEventListener('message', handleMessage);\n  };\n}\n\n/**\n * Provides functions, defined in the main window, to an IFrame.\n */\nexport function createReverseIFrameInterface(\n  api: ApiConfig,\n  targetOrigin: string,\n  target: Window,\n  channel?: string,\n) {\n  function sendToOrigin(data: WorkerMessageData, transferables?: Transferable[]) {\n    data.channel = channel;\n\n    if (transferables) {\n      throw new Error('Cannot send `Transferable` to `Window`');\n    } else {\n      target.postMessage(data, targetOrigin);\n    }\n  }\n\n  function handleMessage(e: OriginMessageEvent) {\n    if (targetOrigin && e.origin !== targetOrigin) return;\n\n    if (e.data?.channel === channel) {\n      void onMessage(api, e.data, sendToOrigin);\n    }\n  }\n\n  window.addEventListener('message', handleMessage);\n\n  return () => {\n    window.removeEventListener('message', handleMessage);\n  };\n}\n\n/**\n * Provides functions, defined in this extension service worker, to a window.\n * The window can call the functions using `createExtensionConnector`.\n */\nexport function createExtensionInterface(\n  portName: string,\n  api: ApiConfig,\n  channel?: string,\n  cleanUpdater?: (onUpdate: (update: ApiUpdate) => void) => void,\n  withAutoInit = false,\n) {\n  chrome.runtime.onConnect.addListener((port) => {\n    if (port.name !== portName) {\n      return;\n    }\n\n    const url = port.sender?.url;\n    const origin = url ? new URL(url).origin : undefined;\n\n    const dAppUpdater = (update: ApiUpdate) => {\n      sendToOrigin({\n        type: 'update',\n        update,\n      });\n    };\n\n    function sendToOrigin(data: WorkerMessageData) {\n      data.channel = channel;\n      port.postMessage(encodeExtensionMessage(data));\n    }\n\n    handleErrors(sendToOrigin);\n\n    port.onMessage.addListener((data: OriginMessageData | string) => {\n      data = decodeExtensionMessage(data);\n      if (data.channel === channel) {\n        void onMessage(api, data, sendToOrigin, dAppUpdater, origin);\n      }\n    });\n\n    port.onDisconnect.addListener(() => {\n      cleanUpdater?.(dAppUpdater);\n    });\n\n    if (withAutoInit) {\n      void onMessage(api, { type: 'init', args: [] }, sendToOrigin, dAppUpdater);\n    }\n  });\n}\n\n/**\n * Provides functions, defined in this window, to the extension service worker.\n * The service worker can call the functions using `createReverseExtensionConnector`.\n */\nexport function createReverseExtensionInterface(\n  portName: string,\n  api: ApiConfig,\n) {\n  let port: chrome.runtime.Port;\n\n  function sendToServiceWorker(data: WorkerMessageData) {\n    port.postMessage(encodeExtensionMessage(data));\n  }\n\n  function connect() {\n    port = chrome.runtime.connect({ name: portName });\n\n    port.onMessage.addListener((data: OriginMessageData | string) => {\n      data = decodeExtensionMessage(data);\n      void onMessage(api, data, sendToServiceWorker);\n    });\n\n    // For some reason port can suddenly get disconnected\n    port.onDisconnect.addListener(() => {\n      connect();\n    });\n  }\n\n  connect();\n}\n\nasync function onMessage(\n  api: ApiConfig,\n  data: OriginMessageData,\n  sendToOrigin: SendToOrigin,\n  onUpdate?: (update: ApiUpdate) => void,\n  origin?: string,\n) {\n  if (!onUpdate) {\n    onUpdate = (update: ApiUpdate) => {\n      sendToOrigin({\n        type: 'update',\n        update,\n      });\n    };\n  }\n\n  switch (data.type) {\n    case 'init': {\n      const { args } = data;\n      const promise = typeof api === 'function'\n        ? api('init', origin, onUpdate, ...args)\n        : api.init?.(onUpdate, ...args);\n      await promise;\n\n      break;\n    }\n    case 'callMethod': {\n      const {\n        messageId, name, args, withCallback,\n      } = data;\n      try {\n        // This method is probably from another worker\n        if (typeof api !== 'function' && !api[name]) return;\n\n        if (messageId && withCallback) {\n          const callback = (...callbackArgs: any[]) => {\n            const lastArg = callbackArgs[callbackArgs.length - 1];\n\n            sendToOrigin({\n              type: 'methodCallback',\n              messageId,\n              callbackArgs,\n            }, isTransferable(lastArg) ? [lastArg] : undefined);\n          };\n\n          callbackState.set(messageId, callback);\n\n          args.push(callback as never);\n        }\n\n        const response = typeof api === 'function'\n          ? await api(name, origin, ...args)\n          : await api[name](...args);\n        const { arrayBuffer } = (typeof response === 'object' && response && 'arrayBuffer' in response) || {};\n\n        if (messageId) {\n          sendToOrigin(\n            {\n              type: 'methodResponse',\n              messageId,\n              response,\n            },\n            arrayBuffer ? [arrayBuffer] : undefined,\n          );\n        }\n      } catch (err: any) {\n        logDebugError(name, err);\n\n        if (messageId) {\n          sendToOrigin({\n            type: 'methodResponse',\n            messageId,\n            error: { message: err.message },\n          });\n        }\n      }\n\n      if (messageId) {\n        callbackState.delete(messageId);\n      }\n\n      break;\n    }\n    case 'cancelProgress': {\n      const callback = callbackState.get(data.messageId);\n      if (callback) {\n        callback.isCanceled = true;\n      }\n\n      break;\n    }\n  }\n}\n\nfunction isTransferable(obj: any) {\n  return obj instanceof ArrayBuffer || obj instanceof ImageBitmap;\n}\n\nfunction handleErrors(sendToOrigin: SendToOrigin) {\n  self.onerror = (e) => {\n    const message = e.error?.message || 'Uncaught exception in worker';\n    logDebugError(message, e.error);\n\n    sendToOrigin({\n      type: 'unhandledError',\n      error: {\n        message,\n        stack: e.error?.stack,\n      },\n    });\n  };\n\n  self.addEventListener('unhandledrejection', (e) => {\n    const message = e.reason?.message || 'Unhandled rejection in worker';\n    logDebugError(message, e.reason);\n\n    sendToOrigin({\n      type: 'unhandledError',\n      error: {\n        message,\n        stack: e.reason?.stack,\n      },\n    });\n  });\n}\n","import type { ApiAnyDisplayError } from './types';\nimport { ApiCommonError, ApiTransactionError } from './types';\n\nexport class ApiBaseError extends Error {\n  constructor(message?: string, public displayError?: ApiAnyDisplayError) {\n    super(message);\n    this.name = this.constructor.name;\n  }\n}\n\nexport class ApiUserRejectsError extends ApiBaseError {\n  constructor(message: string = 'Canceled by the user') {\n    super(message);\n  }\n}\n\nexport class ApiServerError extends ApiBaseError {\n  constructor(message: string, public statusCode?: number) {\n    super(message, ApiCommonError.ServerError);\n  }\n}\n\nexport class ApiUnsupportedVersionError extends ApiBaseError {\n  constructor(message: string) {\n    super(message, ApiCommonError.UnsupportedVersion);\n  }\n}\n\nexport class ApiHardwareBlindSigningNotEnabled extends ApiBaseError {\n  constructor(message: string = 'Blind signing not enabled') {\n    super(message, ApiTransactionError.HardwareBlindSigningNotEnabled);\n  }\n}\n\nexport class AbortOperationError extends ApiBaseError {\n  constructor(message: string = 'Abort operation') {\n    super(message);\n  }\n}\n\nexport class NotImplemented extends ApiBaseError {\n  constructor(message: string = 'Not implemented') {\n    super(message);\n  }\n}\n\nexport function maybeApiErrors(fn: AnyAsyncFunction) {\n  return async (...args: any) => {\n    try {\n      return await fn(...args);\n    } catch (err) {\n      return handleServerError(err);\n    }\n  };\n}\n\nexport function handleServerError(err: any) {\n  if (err instanceof ApiServerError) {\n    return { error: err.displayError! };\n  }\n  throw err;\n}\n","import type { CancellableCallback } from '../../util/PostMessageConnector';\n\nimport { ungzip } from '../../util/compression';\nimport { createPostMessageInterface } from '../../util/createPostMessageInterface';\nimport { fetchWithTimeout } from '../../util/fetch';\nimport { logDebugError } from '../../util/logs';\n\ndeclare const Module: any;\n\ndeclare function allocate(...args: any[]): string;\n\ndeclare function intArrayFromString(str: string): string;\n\ndeclare const self: WorkerGlobalScope;\n\ntry {\n  self.importScripts('rlottie-wasm.js');\n} catch (err) {\n  throw new Error('Failed to import rlottie-wasm.js');\n}\n\nlet rLottieApi: Record<string, AnyFunction>;\nconst rLottieApiPromise = new Promise<void>((resolve) => {\n  Module.onRuntimeInitialized = () => {\n    rLottieApi = {\n      init: Module.cwrap('lottie_init', '', []),\n      destroy: Module.cwrap('lottie_destroy', '', ['number']),\n      resize: Module.cwrap('lottie_resize', '', ['number', 'number', 'number']),\n      buffer: Module.cwrap('lottie_buffer', 'number', ['number']),\n      render: Module.cwrap('lottie_render', '', ['number', 'number']),\n      loadFromData: Module.cwrap('lottie_load_from_data', 'number', ['number', 'number']),\n    };\n\n    resolve();\n  };\n});\n\nconst HIGH_PRIORITY_MAX_FPS = 60;\nconst LOW_PRIORITY_MAX_FPS = 30;\nconst DESTROY_REPEAT_DELAY = 1000;\nconst LOTTIE_JSON_STUB = '{\"tgs\":1,\"w\":16,\"h\":16,\"layers\":[]}';\n\nconst renderers = new Map<string, {\n  imgSize: number;\n  reduceFactor: number;\n  handle: any;\n  imageData: ImageData;\n  customColor?: [number, number, number];\n}>();\n\nasync function init(\n  key: string,\n  tgsUrl: string,\n  imgSize: number,\n  isLowPriority: boolean,\n  customColor: [number, number, number] | undefined,\n  onInit: CancellableCallback,\n) {\n  if (!rLottieApi) {\n    await rLottieApiPromise;\n  }\n\n  const json = await extractJson(tgsUrl);\n  const stringOnWasmHeap = allocate(intArrayFromString(json), 'i8', 0);\n  const handle = rLottieApi.init();\n  const framesCount = rLottieApi.loadFromData(handle, stringOnWasmHeap);\n  rLottieApi.resize(handle, imgSize, imgSize);\n\n  const imageData = new ImageData(imgSize, imgSize);\n\n  const { reduceFactor, msPerFrame, reducedFramesCount } = calcParams(json, isLowPriority, framesCount);\n\n  renderers.set(key, {\n    imgSize, reduceFactor, handle, imageData, customColor,\n  });\n\n  onInit(reduceFactor, msPerFrame, reducedFramesCount);\n}\n\nasync function changeData(\n  key: string,\n  tgsUrl: string,\n  isLowPriority: boolean,\n  onInit: CancellableCallback,\n) {\n  if (!rLottieApi) {\n    await rLottieApiPromise;\n  }\n\n  const json = await extractJson(tgsUrl);\n  const stringOnWasmHeap = allocate(intArrayFromString(json), 'i8', 0);\n  const { handle } = renderers.get(key)!;\n  const framesCount = rLottieApi.loadFromData(handle, stringOnWasmHeap);\n\n  const { reduceFactor, msPerFrame, reducedFramesCount } = calcParams(json, isLowPriority, framesCount);\n\n  onInit(reduceFactor, msPerFrame, reducedFramesCount);\n}\n\nasync function extractJson(tgsUrl: string) {\n  const response = await fetchWithTimeout(tgsUrl);\n\n  if (!response.ok) {\n    return LOTTIE_JSON_STUB;\n  }\n\n  const contentType = response.headers.get('Content-Type')?.split(';')[0];\n  if (contentType === 'application/json') {\n    return response.text();\n  }\n\n  try {\n    const arrayBuffer = await response.arrayBuffer();\n    const inflated = await ungzip(arrayBuffer);\n    return new TextDecoder().decode(inflated);\n  } catch (err: any) {\n    logDebugError('[extractJson] decompression error:', err?.message, err);\n\n    return LOTTIE_JSON_STUB;\n  }\n}\n\nfunction calcParams(json: string, isLowPriority: boolean, framesCount: number) {\n  const animationData = JSON.parse(json);\n  const maxFps = isLowPriority ? LOW_PRIORITY_MAX_FPS : HIGH_PRIORITY_MAX_FPS;\n  const sourceFps = animationData.fr || maxFps;\n  const reduceFactor = sourceFps % maxFps === 0 ? sourceFps / maxFps : 1;\n\n  return {\n    reduceFactor,\n    msPerFrame: 1000 / (sourceFps / reduceFactor),\n    reducedFramesCount: Math.ceil(framesCount / reduceFactor),\n  };\n}\n\nasync function renderFrames(\n  key: string, frameIndex: number, onProgress: CancellableCallback,\n) {\n  if (!rLottieApi) {\n    await rLottieApiPromise;\n  }\n\n  const {\n    imgSize, reduceFactor, handle, imageData, customColor,\n  } = renderers.get(key)!;\n\n  const realIndex = frameIndex * reduceFactor;\n\n  rLottieApi.render(handle, realIndex);\n  const bufferPointer = rLottieApi.buffer(handle);\n  const data = Module.HEAPU8.subarray(bufferPointer, bufferPointer + (imgSize * imgSize * 4));\n\n  if (customColor) {\n    const arr = new Uint8ClampedArray(data);\n    applyColor(arr, customColor);\n    imageData.data.set(arr);\n  } else {\n    imageData.data.set(data);\n  }\n\n  const imageBitmap = await createImageBitmap(imageData);\n\n  onProgress(frameIndex, imageBitmap);\n}\n\nfunction applyColor(arr: Uint8ClampedArray, color: [number, number, number]) {\n  for (let i = 0; i < arr.length; i += 4) {\n    arr[i] = color[0];\n    arr[i + 1] = color[1];\n    arr[i + 2] = color[2];\n  }\n}\n\nfunction destroy(key: string, isRepeated = false) {\n  try {\n    const renderer = renderers.get(key)!;\n    rLottieApi.destroy(renderer.handle);\n    renderers.delete(key);\n  } catch (err) {\n    // `destroy` sometimes can be called before the initialization is finished\n    if (!isRepeated) {\n      setTimeout(() => destroy(key, true), DESTROY_REPEAT_DELAY);\n    }\n  }\n}\n\nconst api = {\n  'rlottie:init': init,\n  'rlottie:changeData': changeData,\n  'rlottie:renderFrames': renderFrames,\n  'rlottie:destroy': destroy,\n};\n\ncreatePostMessageInterface(api);\n\nexport type RLottieApi = typeof api;\n","import {\n  DEFAULT_ERROR_PAUSE,\n  DEFAULT_RETRIES,\n  DEFAULT_TIMEOUT,\n  IPFS_GATEWAY_BASE_URL,\n  PROXY_API_BASE_URL,\n} from '../config';\nimport { ApiServerError } from '../api/errors';\nimport { logDebug } from './logs';\nimport { pause } from './schedulers';\n\ntype QueryParams = Record<string, string | number | boolean | string[]>;\n\nconst MAX_TIMEOUT = 30000; // 30 sec\n\nexport function fetchJsonWithProxy(url: string | URL, data?: QueryParams, init?: RequestInit) {\n  return fetchJson(getProxiedJsonUrl(url.toString()), data, init);\n}\n\nexport async function fetchJson(url: string | URL, data?: QueryParams, init?: RequestInit) {\n  const urlObject = new URL(url);\n  if (data) {\n    Object.entries(data).forEach(([key, value]) => {\n      if (value === undefined) {\n        return;\n      }\n\n      if (Array.isArray(value)) {\n        value.forEach((item) => {\n          urlObject.searchParams.append(key, item.toString());\n        });\n      } else {\n        urlObject.searchParams.set(key, value.toString());\n      }\n    });\n  }\n\n  const response = await fetchWithRetry(urlObject, init);\n\n  return response.json();\n}\n\nexport async function fetchWithRetry(url: string | URL, init?: RequestInit, options?: {\n  retries?: number;\n  timeouts?: number | number[];\n  shouldSkipRetryFn?: (message?: string, statusCode?: number) => boolean;\n}) {\n  const {\n    retries = DEFAULT_RETRIES,\n    timeouts = DEFAULT_TIMEOUT,\n    shouldSkipRetryFn = isNotTemporaryError,\n  } = options ?? {};\n\n  let message = 'Unknown error.';\n  let statusCode: number | undefined;\n\n  for (let i = 1; i <= retries; i++) {\n    try {\n      if (i > 1) {\n        logDebug(`Retry request #${i}:`, url.toString(), statusCode);\n      }\n\n      const timeout = Array.isArray(timeouts)\n        ? timeouts[i - 1] ?? timeouts[timeouts.length - 1]\n        : Math.min(timeouts * i, MAX_TIMEOUT);\n      const response = await fetchWithTimeout(url, init, timeout);\n      statusCode = response.status;\n\n      if (statusCode >= 400) {\n        const { error } = await response.json().catch(() => {});\n        throw new Error(error ?? `HTTP Error ${statusCode}`);\n      }\n\n      return response;\n    } catch (err: any) {\n      message = typeof err === 'string' ? err : err.message ?? message;\n\n      const shouldSkipRetry = shouldSkipRetryFn(message, statusCode);\n\n      if (shouldSkipRetry) {\n        throw new ApiServerError(message, statusCode);\n      }\n\n      if (i < retries) {\n        await pause(DEFAULT_ERROR_PAUSE * i);\n      }\n    }\n  }\n\n  throw new ApiServerError(message);\n}\n\nexport async function fetchWithTimeout(url: string | URL, init?: RequestInit, timeout = DEFAULT_TIMEOUT) {\n  const controller = new AbortController();\n  const id = setTimeout(() => {\n    controller.abort();\n  }, timeout);\n\n  try {\n    return await fetch(url, {\n      ...init,\n      signal: controller.signal,\n    });\n  } finally {\n    clearTimeout(id);\n  }\n}\n\nexport async function handleFetchErrors(response: Response, ignoreHttpCodes?: number[]) {\n  if (!response.ok && (!ignoreHttpCodes?.includes(response.status))) {\n    // eslint-disable-next-line prefer-const\n    let { error, errors } = await response.json().catch(() => undefined);\n    if (!error && errors && errors.length) {\n      error = errors[0]?.msg;\n    }\n\n    throw new ApiServerError(error ?? `HTTP Error ${response.status}`, response.status);\n  }\n  return response;\n}\n\nfunction isNotTemporaryError(message?: string, statusCode?: number) {\n  return statusCode && [400, 404].includes(statusCode);\n}\n\nexport function getProxiedJsonUrl(url: string) {\n  return `${PROXY_API_BASE_URL}/download-json?url=${encodeURIComponent(url)}`;\n}\n\nexport function getProxiedLottieUrl(url: string) {\n  return `${PROXY_API_BASE_URL}/download-lottie?url=${encodeURIComponent(url)}`;\n}\n\nexport function fixIpfsUrl(url: string) {\n  return url.replace('ipfs://', IPFS_GATEWAY_BASE_URL);\n}\n","import {\n  ACCENT_BNW_INDEX,\n  ACCENT_COLORS,\n  ACCENT_GOLD_INDEX,\n  ACCENT_RADIOACTIVE_INDEX,\n  ACCENT_SILVER_INDEX,\n} from '../../util/accentColor/constants';\nimport { euclideanDistance, hex2rgb } from '../../util/colors';\nimport { createPostMessageInterface } from '../../util/createPostMessageInterface';\nimport { getCachedImageUrl } from '../../util/getCachedImageUrl';\nimport { logDebugError } from '../../util/logs';\nimport quantize from '../quantize';\n\nfunction extractImageData(img: ImageBitmap) {\n  const canvas = new OffscreenCanvas(img.width, img.height);\n  const ctx = canvas.getContext('2d')!;\n  ctx.drawImage(img, 0, 0);\n  return ctx.getImageData(0, 0, canvas.width, canvas.height).data;\n}\n\nfunction createPixelArray(imgData: Uint8ClampedArray, pixelCount: number, quality: number) {\n  const pixels = imgData;\n  const pixelArray = [];\n\n  for (let i = 0, offset, r, g, b, a; i < pixelCount; i += quality) {\n    offset = i * 4;\n    r = pixels[offset + 0];\n    g = pixels[offset + 1];\n    b = pixels[offset + 2];\n    a = pixels[offset + 3];\n\n    // If pixel is mostly opaque and not white\n    if (typeof a === 'undefined' || a >= 125) {\n      if (!(r > 250 && g > 250 && b > 250)) {\n        pixelArray.push([r, g, b]);\n      }\n    }\n  }\n\n  return pixelArray;\n}\n\nfunction extractPaletteFromImage(img: ImageBitmap, quality: number, colorCount: number) {\n  const imageData = extractImageData(img);\n  const pixelArray = createPixelArray(imageData, img.width * img.height, quality);\n  const cmap = quantize(pixelArray, colorCount);\n  return cmap ? cmap.palette() as [number, number, number][] : undefined;\n}\n\nconst excludedIndices = new Set([\n  ACCENT_RADIOACTIVE_INDEX,\n  ACCENT_SILVER_INDEX,\n  ACCENT_GOLD_INDEX,\n  ACCENT_BNW_INDEX,\n]);\n\nconst allowedColors = ACCENT_COLORS.light\n  .map((color, index) => ({ color, index }))\n  .filter(({ index }) => !excludedIndices.has(index));\n\nasync function processNftImage(url: string, quality: number, colorCount: number) {\n  let bitmap: ImageBitmap | undefined;\n\n  try {\n    const cachedBlobUrl = await getCachedImageUrl(url);\n    const response = await fetch(cachedBlobUrl);\n    const blob = await response.blob();\n    bitmap = await createImageBitmap(blob);\n\n    const palette = extractPaletteFromImage(bitmap, quality, colorCount);\n    if (!palette || palette.length === 0) {\n      return undefined;\n    }\n\n    const dominantRgb = palette[0];\n\n    const distances = allowedColors.map(({ color }) => euclideanDistance(dominantRgb, hex2rgb(color)));\n    const minDistance = Math.min(...distances);\n    const minDistanceIndex = distances.indexOf(minDistance);\n\n    return allowedColors[minDistanceIndex].index;\n  } catch (error) {\n    logDebugError('[Worker] Error processing NFT image:', error);\n    return undefined;\n  } finally {\n    if (bitmap) {\n      bitmap.close();\n    }\n  }\n}\n\nconst api = {\n  'offscreen-canvas:processNftImage': processNftImage,\n};\n\ncreatePostMessageInterface(api);\n\nexport type OffscreenCanvasApi = typeof api;\n","export const COLOR_COUNT = 2;\nexport const QUALITY = 1;\n\nexport const ACCENT_COLORS = {\n  light: [\n    '#31AFC7', '#35C759', '#FF9500', '#FF2C55',\n    '#AF52DE', '#5856D7', '#73AAED', '#FFB07A',\n    '#B76C78', '#9689D1', '#E572CC', '#6BA07A',\n    '#338FCC', '#1FC863', '#929395', '#E4B102',\n    '#000000',\n  ],\n  dark: [\n    '#3AB5CC', '#32D74B', '#FF9F0B', '#FF325A',\n    '#BF5AF2', '#7977FF', '#73AAED', '#FFB07A',\n    '#B76C78', '#9689D1', '#E572CC', '#6BA07A',\n    '#338FCC', '#2CD36F', '#C3C5C6', '#DDBA00',\n    '#FFFFFF',\n  ],\n} as const;\nexport const ACCENT_RADIOACTIVE_INDEX = 13;\nexport const ACCENT_SILVER_INDEX = 14;\nexport const ACCENT_GOLD_INDEX = 15;\nexport const ACCENT_BNW_INDEX = 16;\n","import { IMAGE_CACHE_NAME } from '../config';\n\nexport async function getCachedImageUrl(url: string) {\n  const cache = await caches.open(IMAGE_CACHE_NAME);\n\n  const cachedResponse = await cache.match(url);\n  if (cachedResponse) {\n    const blob = await cachedResponse.blob();\n\n    return URL.createObjectURL(blob);\n  }\n\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error(`Image loading error: ${response.statusText}. URL: ${url}`);\n  }\n\n  await cache.put(url, response.clone());\n  const blob = await response.blob();\n\n  return URL.createObjectURL(blob);\n}\n","export type RGBColor = [number, number, number];\n\nexport function hex2rgb(param: string): RGBColor {\n  const hex = param.replace('#', '');\n  return [\n    parseInt(hex.substring(0, 2), 16),\n    parseInt(hex.substring(2, 4), 16),\n    parseInt(hex.substring(4, 6), 16),\n  ];\n}\n\nexport default function rgbToHex(rgb: [number, number, number]) {\n  return `#${rgb.map((x) => {\n    const hex = x.toString(16);\n    return hex.length === 1 ? `0${hex}` : hex;\n  }).join('')}`;\n}\n\nexport function euclideanDistance(color1: RGBColor, color2: RGBColor): number {\n  const r = 0.3 * ((color1[0] - color2[0]) ** 2);\n  const g = 0.59 * ((color1[1] - color2[1]) ** 2);\n  const b = 0.11 * ((color1[2] - color2[2]) ** 2);\n\n  return Math.sqrt(r + g + b);\n}\n\nfunction rgbToLab(rgb: RGBColor): RGBColor {\n  let [r, g, b] = rgb.map((value) => value / 255);\n  [r, g, b] = [r, g, b].map((value) => (value > 0.04045 ? ((value + 0.055) / 1.055) ** 2.4 : value / 12.92));\n\n  let x = r * 0.4124 + g * 0.3576 + b * 0.1805;\n  let y = r * 0.2126 + g * 0.7152 + b * 0.0722;\n  let z = r * 0.0193 + g * 0.1192 + b * 0.9505;\n\n  [x, y, z] = [x / 0.95047, y, z / 1.08883].map(\n    (value) => (value > 0.008856 ? value ** (1 / 3) : (7.787 * value) + 16 / 116),\n  );\n\n  return [(116 * y) - 16, 500 * (x - y), 200 * (y - z)];\n}\n\n/**\n * Calculates the perceptual difference between two RGB colors.\n *\n * Delta E is a metric for understanding how the human eye perceives color difference.\n * The following table provides a general guideline:\n *\n * Delta E  |  Perception\n * ---------|-------------------------------------------\n * <= 1.0   | Not perceptible by human eyes.\n * 1 - 2    | Perceptible through close observation.\n * 2 - 10   | Perceptible at a glance.\n * 11 - 49  | Colors are more similar than opposite.\n * 100      | Colors are exact opposite.\n *\n * @param rgbA The first color as an RGB array.\n * @param rgbB The second color as an RGB array.\n * @returns The Delta E value representing the color difference.\n */\nexport function deltaE(rgbA: RGBColor, rgbB: RGBColor): number {\n  const [l1, a1, b1] = rgbToLab(rgbA);\n  const [l2, a2, b2] = rgbToLab(rgbB);\n\n  const c1 = Math.sqrt(a1 * a1 + b1 * b1);\n  const c2 = Math.sqrt(a2 * a2 + b2 * b2);\n  const deltaC = c1 - c2;\n\n  const deltaL = l1 - l2;\n  const deltaA = a1 - a2;\n  const deltaB = b1 - b2;\n\n  const deltaH = Math.sqrt(deltaA * deltaA + deltaB * deltaB - deltaC * deltaC);\n\n  const sl = 1.0;\n  const sc = 1.0 + 0.045 * c1;\n  const sh = 1.0 + 0.015 * c1;\n\n  const deltaLKlsl = deltaL / sl;\n  const deltaCkcsc = deltaC / sc;\n  const deltaHkhsh = deltaH / sh;\n\n  return Math.sqrt(deltaLKlsl * deltaLKlsl + deltaCkcsc * deltaCkcsc + deltaHkhsh * deltaHkhsh);\n}\n","/* eslint-disable */\n\n/*\n * quantize.js Copyright 2008 Nick Rabinowitz\n * Ported to node.js by Olivier Lesnicki\n * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php\n */\n\n// fill out a couple protovis dependencies\n/*\n * Block below copied from Protovis: http://mbostock.github.com/protovis/\n * Copyright 2010 Stanford Visualization Group\n * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php\n */\nif (!pv) {\n    var pv = {\n        map: function(array, f) {\n            var o = {};\n            return f ? array.map(function(d, i) {\n                o.index = i;\n                return f.call(o, d);\n            }) : array.slice();\n        },\n        naturalOrder: function(a, b) {\n            return (a < b) ? -1 : ((a > b) ? 1 : 0);\n        },\n        sum: function(array, f) {\n            var o = {};\n            return array.reduce(f ? function(p, d, i) {\n                o.index = i;\n                return p + f.call(o, d);\n            } : function(p, d) {\n                return p + d;\n            }, 0);\n        },\n        max: function(array, f) {\n            return Math.max.apply(null, f ? pv.map(array, f) : array);\n        }\n    }\n}\n\n/**\n * Basic Javascript port of the MMCQ (modified median cut quantization)\n * algorithm from the Leptonica library (http://www.leptonica.com/).\n * Returns a color map you can use to map original pixels to the reduced\n * palette. Still a work in progress.\n *\n * @author Nick Rabinowitz\n * @example\n\n// array of pixels as [R,G,B] arrays\nvar myPixels = [[190,197,190], [202,204,200], [207,214,210], [211,214,211], [205,207,207]\n                // etc\n                ];\nvar maxColors = 4;\n\nvar cmap = MMCQ.quantize(myPixels, maxColors);\nvar newPalette = cmap.palette();\nvar newPixels = myPixels.map(function(p) {\n    return cmap.map(p);\n});\n\n */\nvar MMCQ = (function() {\n    // private constants\n    var sigbits = 5,\n        rshift = 8 - sigbits,\n        maxIterations = 1000,\n        fractByPopulations = 0.75;\n\n    // get reduced-space color index for a pixel\n\n    function getColorIndex(r, g, b) {\n        return (r << (2 * sigbits)) + (g << sigbits) + b;\n    }\n\n    // Simple priority queue\n\n    function PQueue(comparator) {\n        var contents = [],\n            sorted = false;\n\n        function sort() {\n            contents.sort(comparator);\n            sorted = true;\n        }\n\n        return {\n            push: function(o) {\n                contents.push(o);\n                sorted = false;\n            },\n            peek: function(index) {\n                if (!sorted) sort();\n                if (index === undefined) index = contents.length - 1;\n                return contents[index];\n            },\n            pop: function() {\n                if (!sorted) sort();\n                return contents.pop();\n            },\n            size: function() {\n                return contents.length;\n            },\n            map: function(f) {\n                return contents.map(f);\n            },\n            debug: function() {\n                if (!sorted) sort();\n                return contents;\n            }\n        };\n    }\n\n    // 3d color space box\n\n    function VBox(r1, r2, g1, g2, b1, b2, histo) {\n        var vbox = this;\n        vbox.r1 = r1;\n        vbox.r2 = r2;\n        vbox.g1 = g1;\n        vbox.g2 = g2;\n        vbox.b1 = b1;\n        vbox.b2 = b2;\n        vbox.histo = histo;\n    }\n    VBox.prototype = {\n        volume: function(force) {\n            var vbox = this;\n            if (!vbox._volume || force) {\n                vbox._volume = ((vbox.r2 - vbox.r1 + 1) * (vbox.g2 - vbox.g1 + 1) * (vbox.b2 - vbox.b1 + 1));\n            }\n            return vbox._volume;\n        },\n        count: function(force) {\n            var vbox = this,\n                histo = vbox.histo;\n            if (!vbox._count_set || force) {\n                var npix = 0,\n                    i, j, k, index;\n                for (i = vbox.r1; i <= vbox.r2; i++) {\n                    for (j = vbox.g1; j <= vbox.g2; j++) {\n                        for (k = vbox.b1; k <= vbox.b2; k++) {\n                            index = getColorIndex(i, j, k);\n                            npix += (histo[index] || 0);\n                        }\n                    }\n                }\n                vbox._count = npix;\n                vbox._count_set = true;\n            }\n            return vbox._count;\n        },\n        copy: function() {\n            var vbox = this;\n            return new VBox(vbox.r1, vbox.r2, vbox.g1, vbox.g2, vbox.b1, vbox.b2, vbox.histo);\n        },\n        avg: function(force) {\n            var vbox = this,\n                histo = vbox.histo;\n            if (!vbox._avg || force) {\n                var ntot = 0,\n                    mult = 1 << (8 - sigbits),\n                    rsum = 0,\n                    gsum = 0,\n                    bsum = 0,\n                    hval,\n                    i, j, k, histoindex;\n                for (i = vbox.r1; i <= vbox.r2; i++) {\n                    for (j = vbox.g1; j <= vbox.g2; j++) {\n                        for (k = vbox.b1; k <= vbox.b2; k++) {\n                            histoindex = getColorIndex(i, j, k);\n                            hval = histo[histoindex] || 0;\n                            ntot += hval;\n                            rsum += (hval * (i + 0.5) * mult);\n                            gsum += (hval * (j + 0.5) * mult);\n                            bsum += (hval * (k + 0.5) * mult);\n                        }\n                    }\n                }\n                if (ntot) {\n                    vbox._avg = [~~(rsum / ntot), ~~ (gsum / ntot), ~~ (bsum / ntot)];\n                } else {\n                    //console.log('empty box');\n                    vbox._avg = [~~(mult * (vbox.r1 + vbox.r2 + 1) / 2), ~~ (mult * (vbox.g1 + vbox.g2 + 1) / 2), ~~ (mult * (vbox.b1 + vbox.b2 + 1) / 2)];\n                }\n            }\n            return vbox._avg;\n        },\n        contains: function(pixel) {\n            var vbox = this,\n                rval = pixel[0] >> rshift;\n            gval = pixel[1] >> rshift;\n            bval = pixel[2] >> rshift;\n            return (rval >= vbox.r1 && rval <= vbox.r2 &&\n                gval >= vbox.g1 && gval <= vbox.g2 &&\n                bval >= vbox.b1 && bval <= vbox.b2);\n        }\n    };\n\n    // Color map\n\n    function CMap() {\n        this.vboxes = new PQueue(function(a, b) {\n            return pv.naturalOrder(\n                a.vbox.count() * a.vbox.volume(),\n                b.vbox.count() * b.vbox.volume()\n            )\n        });;\n    }\n    CMap.prototype = {\n        push: function(vbox) {\n            this.vboxes.push({\n                vbox: vbox,\n                color: vbox.avg()\n            });\n        },\n        palette: function() {\n            return this.vboxes.map(function(vb) {\n                return vb.color\n            });\n        },\n        size: function() {\n            return this.vboxes.size();\n        },\n        map: function(color) {\n            var vboxes = this.vboxes;\n            for (var i = 0; i < vboxes.size(); i++) {\n                if (vboxes.peek(i).vbox.contains(color)) {\n                    return vboxes.peek(i).color;\n                }\n            }\n            return this.nearest(color);\n        },\n        nearest: function(color) {\n            var vboxes = this.vboxes,\n                d1, d2, pColor;\n            for (var i = 0; i < vboxes.size(); i++) {\n                d2 = Math.sqrt(\n                    Math.pow(color[0] - vboxes.peek(i).color[0], 2) +\n                    Math.pow(color[1] - vboxes.peek(i).color[1], 2) +\n                    Math.pow(color[2] - vboxes.peek(i).color[2], 2)\n                );\n                if (d2 < d1 || d1 === undefined) {\n                    d1 = d2;\n                    pColor = vboxes.peek(i).color;\n                }\n            }\n            return pColor;\n        },\n        forcebw: function() {\n            // XXX: won't  work yet\n            var vboxes = this.vboxes;\n            vboxes.sort(function(a, b) {\n                return pv.naturalOrder(pv.sum(a.color), pv.sum(b.color))\n            });\n\n            // force darkest color to black if everything < 5\n            var lowest = vboxes[0].color;\n            if (lowest[0] < 5 && lowest[1] < 5 && lowest[2] < 5)\n                vboxes[0].color = [0, 0, 0];\n\n            // force lightest color to white if everything > 251\n            var idx = vboxes.length - 1,\n                highest = vboxes[idx].color;\n            if (highest[0] > 251 && highest[1] > 251 && highest[2] > 251)\n                vboxes[idx].color = [255, 255, 255];\n        }\n    };\n\n    // histo (1-d array, giving the number of pixels in\n    // each quantized region of color space), or null on error\n\n    function getHisto(pixels) {\n        var histosize = 1 << (3 * sigbits),\n            histo = new Array(histosize),\n            index, rval, gval, bval;\n        pixels.forEach(function(pixel) {\n            rval = pixel[0] >> rshift;\n            gval = pixel[1] >> rshift;\n            bval = pixel[2] >> rshift;\n            index = getColorIndex(rval, gval, bval);\n            histo[index] = (histo[index] || 0) + 1;\n        });\n        return histo;\n    }\n\n    function vboxFromPixels(pixels, histo) {\n        var rmin = 1000000,\n            rmax = 0,\n            gmin = 1000000,\n            gmax = 0,\n            bmin = 1000000,\n            bmax = 0,\n            rval, gval, bval;\n        // find min/max\n        pixels.forEach(function(pixel) {\n            rval = pixel[0] >> rshift;\n            gval = pixel[1] >> rshift;\n            bval = pixel[2] >> rshift;\n            if (rval < rmin) rmin = rval;\n            else if (rval > rmax) rmax = rval;\n            if (gval < gmin) gmin = gval;\n            else if (gval > gmax) gmax = gval;\n            if (bval < bmin) bmin = bval;\n            else if (bval > bmax) bmax = bval;\n        });\n        return new VBox(rmin, rmax, gmin, gmax, bmin, bmax, histo);\n    }\n\n    function medianCutApply(histo, vbox) {\n        if (!vbox.count()) return;\n\n        var rw = vbox.r2 - vbox.r1 + 1,\n            gw = vbox.g2 - vbox.g1 + 1,\n            bw = vbox.b2 - vbox.b1 + 1,\n            maxw = pv.max([rw, gw, bw]);\n        // only one pixel, no split\n        if (vbox.count() == 1) {\n            return [vbox.copy()]\n        }\n        /* Find the partial sum arrays along the selected axis. */\n        var total = 0,\n            partialsum = [],\n            lookaheadsum = [],\n            i, j, k, sum, index;\n        if (maxw == rw) {\n            for (i = vbox.r1; i <= vbox.r2; i++) {\n                sum = 0;\n                for (j = vbox.g1; j <= vbox.g2; j++) {\n                    for (k = vbox.b1; k <= vbox.b2; k++) {\n                        index = getColorIndex(i, j, k);\n                        sum += (histo[index] || 0);\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        } else if (maxw == gw) {\n            for (i = vbox.g1; i <= vbox.g2; i++) {\n                sum = 0;\n                for (j = vbox.r1; j <= vbox.r2; j++) {\n                    for (k = vbox.b1; k <= vbox.b2; k++) {\n                        index = getColorIndex(j, i, k);\n                        sum += (histo[index] || 0);\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        } else { /* maxw == bw */\n            for (i = vbox.b1; i <= vbox.b2; i++) {\n                sum = 0;\n                for (j = vbox.r1; j <= vbox.r2; j++) {\n                    for (k = vbox.g1; k <= vbox.g2; k++) {\n                        index = getColorIndex(j, k, i);\n                        sum += (histo[index] || 0);\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        }\n        partialsum.forEach(function(d, i) {\n            lookaheadsum[i] = total - d\n        });\n\n        function doCut(color) {\n            var dim1 = color + '1',\n                dim2 = color + '2',\n                left, right, vbox1, vbox2, d2, count2 = 0;\n            for (i = vbox[dim1]; i <= vbox[dim2]; i++) {\n                if (partialsum[i] > total / 2) {\n                    vbox1 = vbox.copy();\n                    vbox2 = vbox.copy();\n                    left = i - vbox[dim1];\n                    right = vbox[dim2] - i;\n                    if (left <= right)\n                        d2 = Math.min(vbox[dim2] - 1, ~~ (i + right / 2));\n                    else d2 = Math.max(vbox[dim1], ~~ (i - 1 - left / 2));\n                    // avoid 0-count boxes\n                    while (!partialsum[d2]) d2++;\n                    count2 = lookaheadsum[d2];\n                    while (!count2 && partialsum[d2 - 1]) count2 = lookaheadsum[--d2];\n                    // set dimensions\n                    vbox1[dim2] = d2;\n                    vbox2[dim1] = vbox1[dim2] + 1;\n                    // console.log('vbox counts:', vbox.count(), vbox1.count(), vbox2.count());\n                    return [vbox1, vbox2];\n                }\n            }\n\n        }\n        // determine the cut planes\n        return maxw == rw ? doCut('r') :\n            maxw == gw ? doCut('g') :\n            doCut('b');\n    }\n\n    function quantize(pixels, maxcolors) {\n        // short-circuit\n        if (!pixels.length || maxcolors < 2 || maxcolors > 256) {\n            // console.log('wrong number of maxcolors');\n            return false;\n        }\n\n        // XXX: check color content and convert to grayscale if insufficient\n\n        var histo = getHisto(pixels),\n            histosize = 1 << (3 * sigbits);\n\n        // check that we aren't below maxcolors already\n        var nColors = 0;\n        histo.forEach(function() {\n            nColors++\n        });\n        if (nColors <= maxcolors) {\n            // XXX: generate the new colors from the histo and return\n        }\n\n        // get the beginning vbox from the colors\n        var vbox = vboxFromPixels(pixels, histo),\n            pq = new PQueue(function(a, b) {\n                return pv.naturalOrder(a.count(), b.count())\n            });\n        pq.push(vbox);\n\n        // inner function to do the iteration\n\n        function iter(lh, target) {\n            var ncolors = 1,\n                niters = 0,\n                vbox;\n            while (niters < maxIterations) {\n                vbox = lh.pop();\n                if (!vbox.count()) { /* just put it back */\n                    lh.push(vbox);\n                    niters++;\n                    continue;\n                }\n                // do the cut\n                var vboxes = medianCutApply(histo, vbox),\n                    vbox1 = vboxes[0],\n                    vbox2 = vboxes[1];\n\n                if (!vbox1) {\n                    // console.log(\"vbox1 not defined; shouldn't happen!\");\n                    return;\n                }\n                lh.push(vbox1);\n                if (vbox2) { /* vbox2 can be null */\n                    lh.push(vbox2);\n                    ncolors++;\n                }\n                if (ncolors >= target) return;\n                if (niters++ > maxIterations) {\n                    // console.log(\"infinite loop; perhaps too few pixels!\");\n                    return;\n                }\n            }\n        }\n\n        // first set of colors, sorted by population\n        iter(pq, fractByPopulations * maxcolors);\n        // console.log(pq.size(), pq.debug().length, pq.debug().slice());\n\n        // Re-sort by the product of pixel occupancy times the size in color space.\n        var pq2 = new PQueue(function(a, b) {\n            return pv.naturalOrder(a.count() * a.volume(), b.count() * b.volume())\n        });\n        while (pq.size()) {\n            pq2.push(pq.pop());\n        }\n\n        // next set - generate the median cuts using the (npix * vol) sorting.\n        iter(pq2, maxcolors - pq2.size());\n\n        // calculate the actual colors\n        var cmap = new CMap();\n        while (pq2.size()) {\n            cmap.push(pq2.pop());\n        }\n\n        return cmap;\n    }\n\n    return {\n        quantize: quantize\n    }\n})();\n\nmodule.exports = MMCQ.quantize\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [840], () => (__webpack_require__(16524)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + {\"840\":\"4f2245180425e83f54dc\",\"861\":\"5ddab49b05faf9665ee4\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t524: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkmytonwallet\"] = self[\"webpackChunkmytonwallet\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["deferred","next","async","ungzip","input","decompressionStream","DecompressionStream","tryCreateDecompressionStream","stream","writer","writable","getWriter","write","close","reader","getReader","output","totalSize","value","done","read","push","byteLength","length","concatenated","Uint8Array","offset","array","set","readBytesFromStream","readable","transformBytesByStream","gunzipSync","source","ArrayBuffer","buffer","byteOffset","env","IS_OPERA_EXTENSION","TON_USDT_SLUG","Set","suffixes","baseFormat","resolver","collectionName","isTelemint","isUnofficial","filter","_ref","MAX_DP","NAME","INVALID","INVALID_DP","INVALID_RM","DIV_BY_ZERO","P","UNDEFINED","NUMERIC","round","x","sd","rm","more","xc","c","constructor","RM","Error","e","unshift","pop","stringify","doExponential","isNonzero","s","join","n","charAt","slice","abs","this","cmp","y","isneg","yc","i","j","k","l","div","Big","a","b","dp","DP","bl","bt","ri","bz","ai","al","r","rl","q","qc","qi","p","shift","eq","gt","gte","lt","lte","minus","sub","t","xlty","plus","xe","ye","reverse","mod","ygtx","times","neg","add","pow","one","prec","sqrt","half","Math","toExponential","indexOf","mul","Array","toFixed","Symbol","for","toJSON","toString","NE","PE","toNumber","Number","strict","toPrecision","valueOf","_Big_","TypeError","String","nl","test","replace","search","substring","parse","prototype","roundDown","roundHalfUp","roundHalfEven","roundUp","AssertionError","message","metadata","super","logs","errorReplacer","_","name","stack","undefined","logDebugError","_len","arguments","args","_key","log","level","map","arg","JSON","time","Date","now","callbackState","Map","createPostMessageInterface","api","channel","target","self","sendToOrigin","data","transferables","postMessage","handleMessage","_e$data","onUpdate","origin","update","type","_api$init","promise","init","call","messageId","withCallback","callback","callbackArgs","lastArg","obj","ImageBitmap","response","arrayBuffer","err","error","delete","get","isCanceled","onMessage","onerror","_e$error","_e$error2","addEventListener","_e$reason","_e$reason2","reason","handleErrors","removeEventListener","importScripts","rLottieApi","rLottieApiPromise","Promise","resolve","Module","onRuntimeInitialized","cwrap","destroy","resize","render","loadFromData","LOTTIE_JSON_STUB","renderers","extractJson","tgsUrl","_response$headers$get","url","timeout","controller","AbortController","id","setTimeout","abort","fetch","signal","clearTimeout","fetchWithTimeout","ok","headers","split","text","inflated","TextDecoder","decode","calcParams","json","isLowPriority","framesCount","maxFps","sourceFps","fr","reduceFactor","msPerFrame","reducedFramesCount","ceil","key","imgSize","customColor","onInit","stringOnWasmHeap","allocate","intArrayFromString","handle","imageData","ImageData","frameIndex","onProgress","realIndex","bufferPointer","HEAPU8","subarray","arr","Uint8ClampedArray","color","applyColor","createImageBitmap","isRepeated","renderer","excludedIndices","allowedColors","index","has","quality","colorCount","bitmap","cachedBlobUrl","cache","caches","open","cachedResponse","match","blob","URL","createObjectURL","statusText","put","clone","getCachedImageUrl","palette","img","pixelArray","imgData","pixelCount","pixels","g","createPixelArray","canvas","OffscreenCanvas","width","height","ctx","getContext","drawImage","getImageData","extractImageData","cmap","quantize","extractPaletteFromImage","dominantRgb","distances","_ref2","color1","color2","euclideanDistance","param","hex","parseInt","hex2rgb","minDistance","min","minDistanceIndex","pv","f","o","d","naturalOrder","sum","reduce","max","apply","MMCQ","getColorIndex","PQueue","comparator","contents","sorted","sort","peek","size","debug","VBox","r1","r2","g1","g2","b1","b2","histo","vbox","CMap","vboxes","count","volume","medianCutApply","rw","gw","bw","maxw","copy","total","partialsum","lookaheadsum","forEach","left","right","vbox1","vbox2","d2","dim1","dim2","count2","doCut","force","_volume","_count_set","npix","_count","avg","_avg","hval","ntot","rsum","gsum","bsum","contains","pixel","rval","gval","bval","vb","nearest","d1","pColor","forcebw","lowest","idx","highest","maxcolors","getHisto","rmin","rmax","gmin","gmax","bmin","bmax","vboxFromPixels","pq","iter","lh","ncolors","niters","pq2","module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","__webpack_exports__","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","splice","getter","__esModule","definition","defineProperty","enumerable","chunkId","all","promises","u","miniCssF","globalThis","Function","window","prop","hasOwnProperty","scriptUrl","location","document","currentScript","tagName","toUpperCase","src","scripts","getElementsByTagName","installedChunks","chunkLoadingGlobal","parentChunkLoadingFunction","bind","moreModules","runtime","then"],"sourceRoot":""}