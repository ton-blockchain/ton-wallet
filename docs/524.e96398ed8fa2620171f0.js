(()=>{var e,r,t={16524:(e,r,t)=>{"use strict";async function n(e){const r=function(){try{return new DecompressionStream("gzip")}catch{return}}();if(r)return function(e,r){const t=r.writable.getWriter();return t.write(e),t.close(),async function(e){const r=e.getReader(),t=[];let n=0;for(;;){const{value:e,done:o}=await r.read();if(o)break;t.push(e),n+=e.byteLength}if(1===t.length)return t[0];const o=new Uint8Array(n);let i=0;for(const e of t)o.set(e,i),i+=e.byteLength;return o}(r.readable)}(e,r);const{gunzipSync:n}=await t.e(861).then(t.bind(t,69861));return n((o=e)instanceof ArrayBuffer?new Uint8Array(o):new Uint8Array(o.buffer,o.byteOffset,o.byteLength));var o}t(65606).env.IS_OPERA_EXTENSION;const o="ton-eqcxe6mutq";new Set(["toncoin",o,"trx","tron-tr7nhqjekq"]);(new Set(["173e31eee054cb0c76f77edc7956bed766bf48a1f63bd062d87040dcd3df700f","5226dd4e6db9af26b24d5ca822bc4053b7e08152f923932abf25030c7e38bb42","fea2c08a704e5192b7f37434927170440d445b87aab865c3ea2a68abe7168204","e691cf9081a8aeb22ed4d94829f6626c9d822752e035800b5543c43f83d134b5","301ce25925830d713b326824e552e962925c4ff45b1e3ea21fc363a459a49b43","02250f83fbb8624d859c2c045ac70ee2b3b959688c3d843aec773be9b36dbfc3","dba3adb2c917db80fd71a6a68c1fc9e12976491a8309d5910f9722efc084ce4d","7da9223b90984d6a144e71611a8d7c65a6298cad734faed79438dc0f7a8e53d1","ddf80de336d580ab3c11d194f189c362e2ca1225cae224ea921deeaba7eca818"]),new Set(["ton-eqcqc6ehrj","ton-eqcbzvsfwq","ton-eqdq5uuyph"]),[{suffixes:["ton"],baseFormat:/^([-\da-z]+\.){0,2}[-\da-z]{4,126}$/i,resolver:"EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz",collectionName:"TON DNS Domains"},{suffixes:["t.me"],baseFormat:/^([-\da-z]+\.){0,2}[-_\da-z]{4,32}$/i,resolver:"EQCA14o1-VWhS2efqoh_9M1b_A9DtKTuoqfmkn83AbJzwnPi",isTelemint:!0,collectionName:"Telegram Usernames"},{suffixes:["vip","ton.vip","vip.ton"],baseFormat:/^([-\da-z]+\.){0,2}?[\da-z]{1,24}$/i,resolver:"EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS",collectionName:"VIP DNS Domains",isUnofficial:!0},{suffixes:["gram"],baseFormat:/^([-\da-z]+\.){0,2}[\da-z]{1,127}$/i,resolver:"EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ",collectionName:"GRAM DNS Domains",isUnofficial:!0}]).filter((e=>{let{isUnofficial:r}=e;return!r}));var i=1e6,a="[big.js] ",c=a+"Invalid ",s=c+"decimal places",u=c+"rounding mode",f=a+"Division by zero",l={},h=void 0,d=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function p(e,r,t,n){var o=e.c;if(t===h&&(t=e.constructor.RM),0!==t&&1!==t&&2!==t&&3!==t)throw Error(u);if(r<1)n=3===t&&(n||!!o[0])||0===r&&(1===t&&o[0]>=5||2===t&&(o[0]>5||5===o[0]&&(n||o[1]!==h))),o.length=1,n?(e.e=e.e-r+1,o[0]=1):o[0]=e.e=0;else if(r<o.length){if(n=1===t&&o[r]>=5||2===t&&(o[r]>5||5===o[r]&&(n||o[r+1]!==h||1&o[r-1]))||3===t&&(n||!!o[0]),o.length=r,n)for(;++o[--r]>9;)if(o[r]=0,0===r){++e.e,o.unshift(1);break}for(r=o.length;!o[--r];)o.pop()}return e}function v(e,r,t){var n=e.e,o=e.c.join(""),i=o.length;if(r)o=o.charAt(0)+(i>1?"."+o.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)o="0"+o;o="0."+o}else if(n>0)if(++n>i)for(n-=i;n--;)o+="0";else n<i&&(o=o.slice(0,n)+"."+o.slice(n));else i>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&t?"-"+o:o}l.abs=function(){var e=new this.constructor(this);return e.s=1,e},l.cmp=function(e){var r,t=this,n=t.c,o=(e=new t.constructor(e)).c,i=t.s,a=e.s,c=t.e,s=e.e;if(!n[0]||!o[0])return n[0]?i:o[0]?-a:0;if(i!=a)return i;if(r=i<0,c!=s)return c>s^r?1:-1;for(a=(c=n.length)<(s=o.length)?c:s,i=-1;++i<a;)if(n[i]!=o[i])return n[i]>o[i]^r?1:-1;return c==s?0:c>s^r?1:-1},l.div=function(e){var r=this,t=r.constructor,n=r.c,o=(e=new t(e)).c,a=r.s==e.s?1:-1,c=t.DP;if(c!==~~c||c<0||c>i)throw Error(s);if(!o[0])throw Error(f);if(!n[0])return e.s=a,e.c=[e.e=0],e;var u,l,d,v,g,m=o.slice(),b=u=o.length,w=n.length,y=n.slice(0,u),E=y.length,x=e,M=x.c=[],k=0,F=c+(x.e=r.e-e.e)+1;for(x.s=a,a=F<0?0:F,m.unshift(0);E++<u;)y.push(0);do{for(d=0;d<10;d++){if(u!=(E=y.length))v=u>E?1:-1;else for(g=-1,v=0;++g<u;)if(o[g]!=y[g]){v=o[g]>y[g]?1:-1;break}if(!(v<0))break;for(l=E==u?o:m;E;){if(y[--E]<l[E]){for(g=E;g&&!y[--g];)y[g]=9;--y[g],y[E]+=10}y[E]-=l[E]}for(;!y[0];)y.shift()}M[k++]=v?d:++d,y[0]&&v?y[E]=n[b]||0:y=[n[b]]}while((b++<w||y[0]!==h)&&a--);return M[0]||1==k||(M.shift(),x.e--,F--),k>F&&p(x,F,t.RM,y[0]!==h),x},l.eq=function(e){return 0===this.cmp(e)},l.gt=function(e){return this.cmp(e)>0},l.gte=function(e){return this.cmp(e)>-1},l.lt=function(e){return this.cmp(e)<0},l.lte=function(e){return this.cmp(e)<1},l.minus=l.sub=function(e){var r,t,n,o,i=this,a=i.constructor,c=i.s,s=(e=new a(e)).s;if(c!=s)return e.s=-s,i.plus(e);var u=i.c.slice(),f=i.e,l=e.c,h=e.e;if(!u[0]||!l[0])return l[0]?e.s=-s:u[0]?e=new a(i):e.s=1,e;if(c=f-h){for((o=c<0)?(c=-c,n=u):(h=f,n=l),n.reverse(),s=c;s--;)n.push(0);n.reverse()}else for(t=((o=u.length<l.length)?u:l).length,c=s=0;s<t;s++)if(u[s]!=l[s]){o=u[s]<l[s];break}if(o&&(n=u,u=l,l=n,e.s=-e.s),(s=(t=l.length)-(r=u.length))>0)for(;s--;)u[r++]=0;for(s=r;t>c;){if(u[--t]<l[t]){for(r=t;r&&!u[--r];)u[r]=9;--u[r],u[t]+=10}u[t]-=l[t]}for(;0===u[--s];)u.pop();for(;0===u[0];)u.shift(),--h;return u[0]||(e.s=1,u=[h=0]),e.c=u,e.e=h,e},l.mod=function(e){var r,t=this,n=t.constructor,o=t.s,i=(e=new n(e)).s;if(!e.c[0])throw Error(f);return t.s=e.s=1,r=1==e.cmp(t),t.s=o,e.s=i,r?new n(t):(o=n.DP,i=n.RM,n.DP=n.RM=0,t=t.div(e),n.DP=o,n.RM=i,this.minus(t.times(e)))},l.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},l.plus=l.add=function(e){var r,t,n,o=this,i=o.constructor;if(e=new i(e),o.s!=e.s)return e.s=-e.s,o.minus(e);var a=o.e,c=o.c,s=e.e,u=e.c;if(!c[0]||!u[0])return u[0]||(c[0]?e=new i(o):e.s=o.s),e;if(c=c.slice(),r=a-s){for(r>0?(s=a,n=u):(r=-r,n=c),n.reverse();r--;)n.push(0);n.reverse()}for(c.length-u.length<0&&(n=u,u=c,c=n),r=u.length,t=0;r;c[r]%=10)t=(c[--r]=c[r]+u[r]+t)/10|0;for(t&&(c.unshift(t),++s),r=c.length;0===c[--r];)c.pop();return e.c=c,e.e=s,e},l.pow=function(e){var r=this,t=new r.constructor("1"),n=t,o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(c+"exponent");for(o&&(e=-e);1&e&&(n=n.times(r)),e>>=1;)r=r.times(r);return o?t.div(n):n},l.prec=function(e,r){if(e!==~~e||e<1||e>i)throw Error(c+"precision");return p(new this.constructor(this),e,r)},l.round=function(e,r){if(e===h)e=0;else if(e!==~~e||e<-i||e>i)throw Error(s);return p(new this.constructor(this),e+this.e+1,r)},l.sqrt=function(){var e,r,t,n=this,o=n.constructor,i=n.s,c=n.e,s=new o("0.5");if(!n.c[0])return new o(n);if(i<0)throw Error(a+"No square root");0===(i=Math.sqrt(n+""))||i===1/0?((r=n.c.join("")).length+c&1||(r+="0"),c=((c+1)/2|0)-(c<0||1&c),e=new o(((i=Math.sqrt(r))==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+c)):e=new o(i+""),c=e.e+(o.DP+=4);do{t=e,e=s.times(t.plus(n.div(t)))}while(t.c.slice(0,c).join("")!==e.c.slice(0,c).join(""));return p(e,(o.DP-=4)+e.e+1,o.RM)},l.times=l.mul=function(e){var r,t=this,n=t.constructor,o=t.c,i=(e=new n(e)).c,a=o.length,c=i.length,s=t.e,u=e.e;if(e.s=t.s==e.s?1:-1,!o[0]||!i[0])return e.c=[e.e=0],e;for(e.e=s+u,a<c&&(r=o,o=i,i=r,u=a,a=c,c=u),r=new Array(u=a+c);u--;)r[u]=0;for(s=c;s--;){for(c=0,u=a+s;u>s;)c=r[u]+i[s]*o[u-s-1]+c,r[u--]=c%10,c=c/10|0;r[u]=c}for(c?++e.e:r.shift(),s=r.length;!r[--s];)r.pop();return e.c=r,e},l.toExponential=function(e,r){var t=this,n=t.c[0];if(e!==h){if(e!==~~e||e<0||e>i)throw Error(s);for(t=p(new t.constructor(t),++e,r);t.c.length<e;)t.c.push(0)}return v(t,!0,!!n)},l.toFixed=function(e,r){var t=this,n=t.c[0];if(e!==h){if(e!==~~e||e<0||e>i)throw Error(s);for(e=e+(t=p(new t.constructor(t),e+t.e+1,r)).e+1;t.c.length<e;)t.c.push(0)}return v(t,!1,!!n)},l[Symbol.for("nodejs.util.inspect.custom")]=l.toJSON=l.toString=function(){var e=this,r=e.constructor;return v(e,e.e<=r.NE||e.e>=r.PE,!!e.c[0])},l.toNumber=function(){var e=Number(v(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(a+"Imprecise conversion");return e},l.toPrecision=function(e,r){var t=this,n=t.constructor,o=t.c[0];if(e!==h){if(e!==~~e||e<1||e>i)throw Error(c+"precision");for(t=p(new n(t),e,r);t.c.length<e;)t.c.push(0)}return v(t,e<=t.e||t.e<=n.NE||t.e>=n.PE,!!o)},l.valueOf=function(){var e=this,r=e.constructor;if(!0===r.strict)throw Error(a+"valueOf disallowed");return v(e,e.e<=r.NE||e.e>=r.PE,!0)};var g=function e(){function r(t){var n=this;if(!(n instanceof r))return t===h?e():new r(t);if(t instanceof r)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if("string"!=typeof t){if(!0===r.strict&&"bigint"!=typeof t)throw TypeError(c+"value");t=0===t&&1/t<0?"-0":String(t)}!function(e,r){var t,n,o;if(!d.test(r))throw Error(c+"number");for(e.s="-"==r.charAt(0)?(r=r.slice(1),-1):1,(t=r.indexOf("."))>-1&&(r=r.replace(".","")),(n=r.search(/e/i))>0?(t<0&&(t=n),t+=+r.slice(n+1),r=r.substring(0,n)):t<0&&(t=r.length),o=r.length,n=0;n<o&&"0"==r.charAt(n);)++n;if(n==o)e.c=[e.e=0];else{for(;o>0&&"0"==r.charAt(--o););for(e.e=t-n-1,e.c=[],t=0;n<=o;)e.c[t++]=+r.charAt(n++)}}(n,t)}n.constructor=r}return r.prototype=l,r.DP=20,r.RM=1,r.NE=-7,r.PE=21,r.strict=!1,r.roundDown=0,r.roundHalfUp=1,r.roundHalfEven=2,r.roundUp=3,r}();g.RM=0,g.NE=-1e5,g.PE=1e5,g(10),t(48287).Buffer;class m extends Error{constructor(e,r){super(e),this.metadata=r}}const b=[];function w(e,r){return r instanceof Error?{name:r.name,message:r.message,stack:r.stack,metadata:r instanceof m?r.metadata:void 0}:r}function y(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];var o;o={message:e,level:"debugError",args:t},b.length>999&&b.shift(),b.push({...o,args:o.args.map((e=>JSON.stringify(e,w))),time:Date.now()})}const E=new Map;function x(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:self;function n(e,n){e.channel=r,n?t.postMessage(e,n):t.postMessage(e)}function o(t){var o;(null===(o=t.data)||void 0===o?void 0:o.channel)===r&&async function(e,r,t,n,o){switch(n||(n=e=>{t({type:"update",update:e})}),r.type){case"init":{var i;const{args:t}=r,a="function"==typeof e?e("init",o,n,...t):null===(i=e.init)||void 0===i?void 0:i.call(e,n,...t);await a;break}case"callMethod":{const{messageId:n,name:i,args:a,withCallback:c}=r;try{if("function"!=typeof e&&!e[i])return;if(n&&c){const e=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];const i=r[r.length-1];var a;t({type:"methodCallback",messageId:n,callbackArgs:r},(a=i)instanceof ArrayBuffer||a instanceof ImageBitmap?[i]:void 0)};E.set(n,e),a.push(e)}const r="function"==typeof e?await e(i,o,...a):await e[i](...a),{arrayBuffer:s}="object"==typeof r&&r&&"arrayBuffer"in r||{};n&&t({type:"methodResponse",messageId:n,response:r},s?[s]:void 0)}catch(e){y(i,e),n&&t({type:"methodResponse",messageId:n,error:{message:e.message}})}n&&E.delete(n);break}case"cancelProgress":{const e=E.get(r.messageId);e&&(e.isCanceled=!0);break}}}(e,t.data,n)}return(arguments.length>3?arguments[3]:void 0)||function(e){self.onerror=r=>{var t,n;const o=(null===(t=r.error)||void 0===t?void 0:t.message)||"Uncaught exception in worker";y(o,r.error),e({type:"unhandledError",error:{message:o,stack:null===(n=r.error)||void 0===n?void 0:n.stack}})},self.addEventListener("unhandledrejection",(r=>{var t,n;const o=(null===(t=r.reason)||void 0===t?void 0:t.message)||"Unhandled rejection in worker";y(o,r.reason),e({type:"unhandledError",error:{message:o,stack:null===(n=r.reason)||void 0===n?void 0:n.stack}})}))}(n),t.addEventListener("message",o),()=>{t.removeEventListener("message",o)}}Error;try{self.importScripts("rlottie-wasm.js")}catch(e){throw new Error("Failed to import rlottie-wasm.js")}let M;const k=new Promise((e=>{Module.onRuntimeInitialized=()=>{M={init:Module.cwrap("lottie_init","",[]),destroy:Module.cwrap("lottie_destroy","",["number"]),resize:Module.cwrap("lottie_resize","",["number","number","number"]),buffer:Module.cwrap("lottie_buffer","number",["number"]),render:Module.cwrap("lottie_render","",["number","number"]),loadFromData:Module.cwrap("lottie_load_from_data","number",["number","number"])},e()}})),F='{"tgs":1,"w":16,"h":16,"layers":[]}',A=new Map;async function z(e){var r;const t=await async function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;const n=new AbortController,o=setTimeout((()=>{n.abort()}),t);try{return await fetch(e,{...r,signal:n.signal})}finally{clearTimeout(o)}}(e);if(!t.ok)return F;if("application/json"===(null===(r=t.headers.get("Content-Type"))||void 0===r?void 0:r.split(";")[0]))return t.text();try{const e=await t.arrayBuffer(),r=await n(e);return(new TextDecoder).decode(r)}catch(e){return y("[extractJson] decompression error:",null==e?void 0:e.message,e),F}}function D(e,r,t){const n=r?30:60,o=JSON.parse(e).fr||n,i=o%n===0?o/n:1;return{reduceFactor:i,msPerFrame:1e3/(o/i),reducedFramesCount:Math.ceil(t/i)}}x({"rlottie:init":async function(e,r,t,n,o,i){M||await k;const a=await z(r),c=allocate(intArrayFromString(a),"i8",0),s=M.init(),u=M.loadFromData(s,c);M.resize(s,t,t);const f=new ImageData(t,t),{reduceFactor:l,msPerFrame:h,reducedFramesCount:d}=D(a,n,u);A.set(e,{imgSize:t,reduceFactor:l,handle:s,imageData:f,customColor:o}),i(l,h,d)},"rlottie:changeData":async function(e,r,t,n){M||await k;const o=await z(r),i=allocate(intArrayFromString(o),"i8",0),{handle:a}=A.get(e),c=M.loadFromData(a,i),{reduceFactor:s,msPerFrame:u,reducedFramesCount:f}=D(o,t,c);n(s,u,f)},"rlottie:renderFrames":async function(e,r,t){M||await k;const{imgSize:n,reduceFactor:o,handle:i,imageData:a,customColor:c}=A.get(e),s=r*o;M.render(i,s);const u=M.buffer(i),f=Module.HEAPU8.subarray(u,u+n*n*4);if(c){const e=new Uint8ClampedArray(f);!function(e,r){for(let t=0;t<e.length;t+=4)e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2]}(e,c),a.data.set(e)}else a.data.set(f);t(r,await createImageBitmap(a))},"rlottie:destroy":function e(r){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{const e=A.get(r);M.destroy(e.handle),A.delete(r)}catch(n){t||setTimeout((()=>e(r,!0)),1e3)}}});var S=t(43110),O=t.n(S);const P=new Set([13,14,15,16]),C=["#31AFC7","#35C759","#FF9500","#FF2C55","#AF52DE","#5856D7","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#1FC863","#929395","#E4B102","#000000"].map(((e,r)=>({color:e,index:r}))).filter((e=>{let{index:r}=e;return!P.has(r)}));x({"offscreen-canvas:processNftImage":async function(e,r,t){let n;try{const o=await async function(e){const r=await caches.open("mtw-image"),t=await r.match(e);if(t){const e=await t.blob();return URL.createObjectURL(e)}const n=await fetch(e);if(!n.ok)throw new Error(`Image loading error: ${n.statusText}. URL: ${e}`);await r.put(e,n.clone());const o=await n.blob();return URL.createObjectURL(o)}(e),i=await fetch(o),a=await i.blob();n=await createImageBitmap(a);const c=function(e,r,t){const n=function(e,r,t){const n=e,o=[];for(let e,i,a,c,s,u=0;u<r;u+=t)e=4*u,i=n[e+0],a=n[e+1],c=n[e+2],s=n[e+3],(void 0===s||s>=125)&&(i>250&&a>250&&c>250||o.push([i,a,c]));return o}(function(e){const r=new OffscreenCanvas(e.width,e.height),t=r.getContext("2d");return t.drawImage(e,0,0),t.getImageData(0,0,r.width,r.height).data}(e),e.width*e.height,r),o=O()(n,t);return o?o.palette():void 0}(n,r,t);if(!c||0===c.length)return;const s=c[0],u=C.map((e=>{let{color:r}=e;return function(e,r){const t=.3*(e[0]-r[0])**2,n=.59*(e[1]-r[1])**2,o=.11*(e[2]-r[2])**2;return Math.sqrt(t+n+o)}(s,function(e){const r=e.replace("#","");return[parseInt(r.substring(0,2),16),parseInt(r.substring(2,4),16),parseInt(r.substring(4,6),16)]}(r))})),f=Math.min(...u),l=u.indexOf(f);return C[l].index}catch(e){return void y("[Worker] Error processing NFT image:",e)}finally{n&&n.close()}}})},43110:e=>{if(!r)var r={map:function(e,r){var t={};return r?e.map((function(e,n){return t.index=n,r.call(t,e)})):e.slice()},naturalOrder:function(e,r){return e<r?-1:e>r?1:0},sum:function(e,r){var t={};return e.reduce(r?function(e,n,o){return t.index=o,e+r.call(t,n)}:function(e,r){return e+r},0)},max:function(e,t){return Math.max.apply(null,t?r.map(e,t):e)}};var t=function(){function e(e,r,t){return(e<<10)+(r<<5)+t}function t(e){var r=[],t=!1;function n(){r.sort(e),t=!0}return{push:function(e){r.push(e),t=!1},peek:function(e){return t||n(),void 0===e&&(e=r.length-1),r[e]},pop:function(){return t||n(),r.pop()},size:function(){return r.length},map:function(e){return r.map(e)},debug:function(){return t||n(),r}}}function n(e,r,t,n,o,i,a){var c=this;c.r1=e,c.r2=r,c.g1=t,c.g2=n,c.b1=o,c.b2=i,c.histo=a}function o(){this.vboxes=new t((function(e,t){return r.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())}))}function i(t,n){if(n.count()){var o=n.r2-n.r1+1,i=n.g2-n.g1+1,a=n.b2-n.b1+1,c=r.max([o,i,a]);if(1==n.count())return[n.copy()];var s,u,f,l,h=0,d=[],p=[];if(c==o)for(s=n.r1;s<=n.r2;s++){for(l=0,u=n.g1;u<=n.g2;u++)for(f=n.b1;f<=n.b2;f++)l+=t[e(s,u,f)]||0;h+=l,d[s]=h}else if(c==i)for(s=n.g1;s<=n.g2;s++){for(l=0,u=n.r1;u<=n.r2;u++)for(f=n.b1;f<=n.b2;f++)l+=t[e(u,s,f)]||0;h+=l,d[s]=h}else for(s=n.b1;s<=n.b2;s++){for(l=0,u=n.r1;u<=n.r2;u++)for(f=n.g1;f<=n.g2;f++)l+=t[e(u,f,s)]||0;h+=l,d[s]=h}return d.forEach((function(e,r){p[r]=h-e})),function(e){var r,t,o,i,a,c=e+"1",u=e+"2",f=0;for(s=n[c];s<=n[u];s++)if(d[s]>h/2){for(o=n.copy(),i=n.copy(),a=(r=s-n[c])<=(t=n[u]-s)?Math.min(n[u]-1,~~(s+t/2)):Math.max(n[c],~~(s-1-r/2));!d[a];)a++;for(f=p[a];!f&&d[a-1];)f=p[--a];return o[u]=a,i[c]=o[u]+1,[o,i]}}(c==o?"r":c==i?"g":"b")}}return n.prototype={volume:function(e){var r=this;return r._volume&&!e||(r._volume=(r.r2-r.r1+1)*(r.g2-r.g1+1)*(r.b2-r.b1+1)),r._volume},count:function(r){var t=this,n=t.histo;if(!t._count_set||r){var o,i,a,c=0;for(o=t.r1;o<=t.r2;o++)for(i=t.g1;i<=t.g2;i++)for(a=t.b1;a<=t.b2;a++)c+=n[e(o,i,a)]||0;t._count=c,t._count_set=!0}return t._count},copy:function(){var e=this;return new n(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(r){var t=this,n=t.histo;if(!t._avg||r){var o,i,a,c,s=0,u=0,f=0,l=0;for(i=t.r1;i<=t.r2;i++)for(a=t.g1;a<=t.g2;a++)for(c=t.b1;c<=t.b2;c++)s+=o=n[e(i,a,c)]||0,u+=o*(i+.5)*8,f+=o*(a+.5)*8,l+=o*(c+.5)*8;t._avg=s?[~~(u/s),~~(f/s),~~(l/s)]:[~~(8*(t.r1+t.r2+1)/2),~~(8*(t.g1+t.g2+1)/2),~~(8*(t.b1+t.b2+1)/2)]}return t._avg},contains:function(e){var r=this,t=e[0]>>3;return gval=e[1]>>3,bval=e[2]>>3,t>=r.r1&&t<=r.r2&&gval>=r.g1&&gval<=r.g2&&bval>=r.b1&&bval<=r.b2}},o.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map((function(e){return e.color}))},size:function(){return this.vboxes.size()},map:function(e){for(var r=this.vboxes,t=0;t<r.size();t++)if(r.peek(t).vbox.contains(e))return r.peek(t).color;return this.nearest(e)},nearest:function(e){for(var r,t,n,o=this.vboxes,i=0;i<o.size();i++)((t=Math.sqrt(Math.pow(e[0]-o.peek(i).color[0],2)+Math.pow(e[1]-o.peek(i).color[1],2)+Math.pow(e[2]-o.peek(i).color[2],2)))<r||void 0===r)&&(r=t,n=o.peek(i).color);return n},forcebw:function(){var e=this.vboxes;e.sort((function(e,t){return r.naturalOrder(r.sum(e.color),r.sum(t.color))}));var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,o=e[n].color;o[0]>251&&o[1]>251&&o[2]>251&&(e[n].color=[255,255,255])}},{quantize:function(a,c){if(!a.length||c<2||c>256)return!1;var s=function(r){var t,n,o,i,a=new Array(32768);return r.forEach((function(r){n=r[0]>>3,o=r[1]>>3,i=r[2]>>3,t=e(n,o,i),a[t]=(a[t]||0)+1})),a}(a);s.forEach((function(){}));var u=function(e,r){var t,o,i,a=1e6,c=0,s=1e6,u=0,f=1e6,l=0;return e.forEach((function(e){t=e[0]>>3,o=e[1]>>3,i=e[2]>>3,t<a?a=t:t>c&&(c=t),o<s?s=o:o>u&&(u=o),i<f?f=i:i>l&&(l=i)})),new n(a,c,s,u,f,l,r)}(a,s),f=new t((function(e,t){return r.naturalOrder(e.count(),t.count())}));function l(e,r){for(var t,n=1,o=0;o<1e3;)if((t=e.pop()).count()){var a=i(s,t),c=a[0],u=a[1];if(!c)return;if(e.push(c),u&&(e.push(u),n++),n>=r)return;if(o++>1e3)return}else e.push(t),o++}f.push(u),l(f,.75*c);for(var h=new t((function(e,t){return r.naturalOrder(e.count()*e.volume(),t.count()*t.volume())}));f.size();)h.push(f.pop());l(h,c-h.size());for(var d=new o;h.size();)d.push(h.pop());return d}}}();e.exports=t.quantize}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,o.x=()=>{var e=o.O(void 0,[840],(()=>o(16524)));return o.O(e)},e=[],o.O=(r,t,n,i)=>{if(!t){var a=1/0;for(f=0;f<e.length;f++){for(var[t,n,i]=e[f],c=!0,s=0;s<t.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](t[s])))?t.splice(s--,1):(c=!1,i<a&&(a=i));if(c){e.splice(f--,1);var u=n();void 0!==u&&(r=u)}}return r}i=i||0;for(var f=e.length;f>0&&e[f-1][2]>i;f--)e[f]=e[f-1];e[f]=[t,n,i]},o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((r,t)=>(o.f[t](e,r),r)),[])),o.u=e=>e+"."+{840:"4f2245180425e83f54dc",861:"5ddab49b05faf9665ee4"}[e]+".js",o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var r=o.g.document;if(!e&&r&&(r.currentScript&&"SCRIPT"===r.currentScript.tagName.toUpperCase()&&(e=r.currentScript.src),!e)){var t=r.getElementsByTagName("script");if(t.length)for(var n=t.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=t[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={524:1};o.f.i=(r,t)=>{e[r]||importScripts(o.p+o.u(r))};var r=self.webpackChunkmytonwallet=self.webpackChunkmytonwallet||[],t=r.push.bind(r);r.push=r=>{var[n,i,a]=r;for(var c in i)o.o(i,c)&&(o.m[c]=i[c]);for(a&&a(o);n.length;)e[n.pop()]=1;t(r)}})(),r=o.x,o.x=()=>o.e(840).then(r),o.x()})();
//# sourceMappingURL=524.e96398ed8fa2620171f0.js.map