/*! For license information please see main.e1a5c6320c5f38cb7344.js.LICENSE.txt */
(()=>{var e,t,n,a,o={51:(e,t,n)=>{"use strict";var a,o,r,i,s,c,l,d,u;n.d(t,{Gi:()=>a,Nn:()=>i,gH:()=>o}),function(e){e.Aztec="AZTEC",e.Codabar="CODABAR",e.Code39="CODE_39",e.Code93="CODE_93",e.Code128="CODE_128",e.DataMatrix="DATA_MATRIX",e.Ean8="EAN_8",e.Ean13="EAN_13",e.Itf="ITF",e.Pdf417="PDF_417",e.QrCode="QR_CODE",e.UpcA="UPC_A",e.UpcE="UPC_E"}(a||(a={})),function(e){e.CalendarEvent="CALENDAR_EVENT",e.ContactInfo="CONTACT_INFO",e.DriversLicense="DRIVERS_LICENSE",e.Email="EMAIL",e.Geo="GEO",e.Isbn="ISBN",e.Phone="PHONE",e.Product="PRODUCT",e.Sms="SMS",e.Text="TEXT",e.Url="URL",e.Wifi="WIFI",e.Unknown="UNKNOWN"}(o||(o={})),function(e){e[e["640x480"]=0]="640x480",e[e["1280x720"]=1]="1280x720",e[e["1920x1080"]=2]="1920x1080",e[e["3840x2160"]=3]="3840x2160"}(r||(r={})),function(e){e.Front="FRONT",e.Back="BACK"}(i||(i={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PENDING=1]="PENDING",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.CANCELED=3]="CANCELED",e[e.COMPLETED=4]="COMPLETED",e[e.FAILED=5]="FAILED",e[e.INSTALLING=6]="INSTALLING",e[e.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED"}(s||(s={})),function(e){e[e.HOME=0]="HOME",e[e.UNKNOWN=1]="UNKNOWN",e[e.WORK=2]="WORK"}(c||(c={})),function(e){e[e.HOME=0]="HOME",e[e.UNKNOWN=1]="UNKNOWN",e[e.WORK=2]="WORK"}(l||(l={})),function(e){e[e.FAX=0]="FAX",e[e.HOME=1]="HOME",e[e.MOBILE=2]="MOBILE",e[e.UNKNOWN=3]="UNKNOWN",e[e.WORK=4]="WORK"}(d||(d={})),function(e){e[e.OPEN=1]="OPEN",e[e.WEP=2]="WEP",e[e.WPA=3]="WPA"}(u||(u={}))},251:(e,t)=>{t.read=function(e,t,n,a,o){var r,i,s=8*o-a-1,c=(1<<s)-1,l=c>>1,d=-7,u=n?o-1:0,m=n?-1:1,p=e[t+u];for(u+=m,r=p&(1<<-d)-1,p>>=-d,d+=s;d>0;r=256*r+e[t+u],u+=m,d-=8);for(i=r&(1<<-d)-1,r>>=-d,d+=a;d>0;i=256*i+e[t+u],u+=m,d-=8);if(0===r)r=1-l;else{if(r===c)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,a),r-=l}return(p?-1:1)*i*Math.pow(2,r-a)},t.write=function(e,t,n,a,o,r){var i,s,c,l=8*r-o-1,d=(1<<l)-1,u=d>>1,m=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:r-1,f=a?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),(t+=i+u>=1?m/c:m*Math.pow(2,1-u))*c>=2&&(i++,c/=2),i+u>=d?(s=0,i=d):i+u>=1?(s=(t*c-1)*Math.pow(2,o),i+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,o),i=0));o>=8;e[n+p]=255&s,p+=f,s/=256,o-=8);for(i=i<<o|s,l+=o;l>0;e[n+p]=255&i,p+=f,i/=256,l-=8);e[n+p-f]|=128*h}},398:(e,t,n)=>{"use strict";n.d(t,{CF:()=>c,QQ:()=>l,UH:()=>i,nI:()=>s});var a=n(31481),o=n(48805);o.z.RM=0,o.z.NE=-1e5,o.z.PE=1e5;const r=(0,o.z)(10);function i(e,t){return BigInt((0,o.z)(e).mul(r.pow(t??a.Tu9.decimals)).round().toString())}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c(e,t??a.Tu9.decimals,n).toString()}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Tu9.decimals,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,o.z)(e.toString()).div(r.pow(t)).round(t,n?o.z.roundHalfUp:void 0)}function l(e,t){return(0,o.z)(e).round(t).toString()}},809:(e,t,n)=>{"use strict";n.d(t,{UA:()=>u,_O:()=>d,bk:()=>i,fC:()=>c,m1:()=>l,tH:()=>r,wg:()=>s});var a=n(31481),o=n(398);n(59121);const r="bigint:";function i(e,t){return"string"==typeof t&&t.startsWith(r)?BigInt(t.slice(7)):t}function s(e){return-0n===e||e<0n?-e:e}function c(e,t){return e*a.X1K/(0,o.UH)(t)}function l(e,t){return e*(0,o.UH)(t)/a.X1K}function d(e,t){return e>t?e:t}function u(e,t){return e<t?e:t}},1689:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});const a=n(31481).hL1&&!["chrome-extension:","moz-extension:"].includes(self.location.protocol)},2188:(e,t,n)=>{"use strict";n.d(t,{H:()=>u});var a=n(31481),o=n(10309),r=n(1689),i=n(55029),s=n(37836);const c=("development"===a.Guj||"staging"===a.Guj)&&"object"==typeof window&&!r.B,l=(0,s.nF)((e=>window.alert(e)),10*o.Z2);function d(e){e instanceof ErrorEvent&&"ResizeObserver loop limit exceeded"===e.message||(e.preventDefault(),u(e instanceof ErrorEvent?e.error||e.message:e.reason))}function u(e){(0,i.SJ)("handleError",e);const t="string"==typeof e?e:e.message,n="object"==typeof e?e.stack:void 0;t.endsWith("Failed to import rlottie-wasm.js")||c&&l(`${a.FHx}\n\n${t||e}\n${n}`)}self.addEventListener("error",d),self.addEventListener("unhandledrejection",d)},3476:(e,t,n)=>{"use strict";n.d(t,{$G:()=>E,Bm:()=>b,EV:()=>w,Wb:()=>s,Zm:()=>g,e2:()=>p,eL:()=>f,fI:()=>m,fv:()=>l,kF:()=>v,kJ:()=>A,kc:()=>C,li:()=>h,mv:()=>u,qP:()=>y,sl:()=>c,tF:()=>r,uS:()=>i,v8:()=>d});var a=n(61995);const o=1000000000n,r=1n,i=100000000n,s=1n,c={stakeNominators:o,unstakeNominators:o,stakeLiquid:o,unstakeLiquid:o,stakeJettonsForward:a.xT.STAKE_JETTONS,stakeJettons:a.xT.STAKE_JETTONS+50000000n,unstakeJettons:a.xT.UNSTAKE_JETTONS,claimJettons:a.xT.JETTON_TRANSFER+a.xT.SIMPLE_UPDATE_REQUEST,changeDns:15000000n,stakeEthena:150000000n,stakeEthenaForward:100000000n,unstakeEthena:150000000n,unstakeEthenaForward:100000000n,unstakeEthenaLocked:150000000n,unstakeEthenaLockedForward:70000000n},l={stakeNominators:1000052853n,unstakeNominators:148337433n,stakeLiquid:20251387n,unstakeLiquid:18625604n,stakeJettons:74879996n,unstakeJettons:59971662n,claimJettons:57053859n,stakeEthena:116690790n,unstakeEthena:113210330n,unstakeEthenaLocked:37612000n},d="d",u="w",m=9,p=!0,f=!1;let h=function(e){return e[e.MasterChain=-1]="MasterChain",e[e.BaseChain=0]="BaseChain",e}({});const g=h.BaseChain,v=600,w=4,y=1,b=255;let E=function(e){return e[e.Comment=0]="Comment",e[e.Encrypted=560454219]="Encrypted",e[e.OurFee=1294173507]="OurFee",e[e.Bounced=4294967295]="Bounced",e}({}),k=function(e){return e[e.Transfer=260734629]="Transfer",e[e.TransferNotification=1935855772]="TransferNotification",e[e.InternalTransfer=395134233]="InternalTransfer",e[e.Excesses=3576854235]="Excesses",e[e.Burn=1499400124]="Burn",e[e.BurnNotification=2078119902]="BurnNotification",e}({}),C=function(e){return e[e.ChangeRecord=1320284409]="ChangeRecord",e}({}),N=function(e){return e[e.Ok=2742684035]="Ok",e}({}),S=function(e){return e.Wallet="wallet",e.Staking="staking",e}({}),A=function(e){return e.DnsNextResolver="dns_next_resolver",e.Wallet="wallet",e.Site="site",e.BagId="storage",e.Unknown="unknown",e}({});k.Excesses,N.Ok,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Staking,S.Wallet,S.Wallet,S.Wallet,S.Wallet},5130:(e,t,n)=>{"use strict";n.d(t,{U$:()=>s});var a=n(24082),o=n(14235),r=n(55029);class i{requestStates=new Map;requestStatesByCallback=new Map;constructor(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"*";this.target=e,this.onUpdate=t,this.channel=n,this.shouldUseJson=a,this.targetOrigin=o}destroy(){}init(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.postMessage({type:"init",args:t})}request(e){const{requestStates:t,requestStatesByCallback:n}=this,a=(0,o.A)(),r={type:"callMethod",messageId:a,...e},i={messageId:a},s=new Promise(((e,t)=>{Object.assign(i,{resolve:e,reject:t})}));if("function"==typeof r.args[r.args.length-1]){r.withCallback=!0;const e=r.args.pop();i.callback=e,n.set(e,i)}return t.set(a,i),s.catch((()=>{})).finally((()=>{t.delete(a),i.callback&&n.delete(i.callback)})),this.postMessage(r),s}cancelCallback(e){e.isCanceled=!0;const{messageId:t}=this.requestStatesByCallback.get(e)||{};t&&this.postMessage({type:"cancelProgress",messageId:t})}onMessage(e){try{e=(0,a.d$)(e)}catch(e){return void(0,r.SJ)("PostMessageConnector: Failed to parse message",e)}const{requestStates:t,channel:n}=this;if(e.channel===n)if("update"===e.type&&this.onUpdate&&this.onUpdate(e.update),"methodResponse"===e.type){const n=t.get(e.messageId);n&&(e.error?n.reject(e.error):n.resolve(e.response))}else if("methodCallback"===e.type){var o;const n=t.get(e.messageId);null==n||null===(o=n.callback)||void 0===o||o.call(n,...e.callbackArgs)}else if("unhandledError"===e.type){var i,s;const t=new Error(null===(i=e.error)||void 0===i?void 0:i.message);throw null!==(s=e.error)&&void 0!==s&&s.stack&&(t.stack=e.error.stack),t}}postMessage(e){e.channel=this.channel;let t=e;this.shouldUseJson&&(t=(0,a.HE)(e)),"open"in this.target?this.target.postMessage(t,this.targetOrigin):this.target.postMessage(t)}}function s(e,t,n,a){const o=new i(e,t,n,void 0,a);function r(e){let{data:t}=e;o.onMessage(t)}return e.addEventListener("message",r),o.destroy=()=>{e.removeEventListener("message",r)},o}},9705:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});class a{constructor(){this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}static resolved(e){const t=new a;return t.resolve(e),t}}},10309:(e,t,n)=>{"use strict";n.d(t,{CS:()=>v,GS:()=>h,N5:()=>u,TK:()=>m,UX:()=>c,YG:()=>d,Z2:()=>o,d_:()=>s,dp:()=>i,fU:()=>f,mf:()=>p,pY:()=>r});var a=n(19314);const o=1e3,r=60*o,i=60*r,s=24*i,c=365*s,l=(0,a.A)((function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"short",o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return new Date(t).toLocaleString(e,{year:n?void 0:"numeric",month:a||void 0,day:o?void 0:"numeric",hour:r?"numeric":void 0,minute:r?"numeric":void 0,hourCycle:"h23"})}));function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";const t=(arguments.length>1?arguments[1]:void 0)-Date.now(),n=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24),o=Math.floor(t/1e3/3600/24),r=new Intl.RelativeTimeFormat(e,{localeMatcher:"best fit",numeric:"always",style:"long"}),i=[];if(o>0){const[e,t]=r.formatToParts(o,"day").reverse();i.push(`${t.value}${e.value}`.replace(" "," "))}if(a>0){const[e,t]=r.formatToParts(a,"hour").reverse();i.push(`${t.value}${e.value}`.replace(" "," "))}if(n>0){const[e,t]=r.formatToParts(n,"minute").reverse();i.push(`${t.value}${e.value}`.replace(" "," "))}return i.join(" ")}function u(e,t){return function(e){return v(new Date)===v(new Date(e))}(t)?e("Today"):function(e){const t=new Date;return t.setDate(t.getDate()-1),v(t)===v(new Date(e))}(t)?e("Yesterday"):m(e.code,t)}function m(e,t){const n=new Date(t),a=v(n),o=g(new Date),r=n.getFullYear()===o.getFullYear();return l(e,a,r,"long")}function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=new Date(t),r=v(o),i=g(new Date),s=v(i),c=n&&r===s,d=n?function(e){const t=new Date(e);return t.setSeconds(0,0),t}(o).getTime():r;return a||=o.getFullYear()===i.getFullYear(),l(e,d,a,!c&&"short",c,n)}function f(e){const t=new Date(e);return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function h(e){const t=new Date,n=e instanceof Date?e:new Date(e);return Math.ceil((n.getTime()-t.getTime())/s)}function g(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function v(e){return g(e).getTime()}},10428:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});let a=function(e){return e[e.Default=0]="Default",e[e.Instant=1]="Instant",e[e.BestRate=2]="BestRate",e}({})},14235:(e,t,n)=>{"use strict";function a(){return Date.now().toString(36)+Math.random().toString(36).slice(2)}n.d(t,{A:()=>a})},16546:(e,t,n)=>{"use strict";var a;n.d(t,{$c:()=>a,EA:()=>u,E_:()=>s,F3:()=>i,I9:()=>o,Ii:()=>r}),function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(a||(a={}));class o extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const r=(e=>e.Capacitor=(e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>null!==t?t.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e),s=e=>{var t;return null===(t=n.PluginHeaders)||void 0===t?void 0:t.find((t=>t.name===e))},c=new Map;return n.convertFileSrc||(n.convertFileSrc=e=>e),n.getPlatform=i,n.handleError=t=>e.console.error(t),n.isNativePlatform=()=>"web"!==i(),n.isPluginAvailable=e=>{const t=c.get(e);return!!(null==t?void 0:t.platforms.has(i()))||!!s(e)},n.registerPlugin=(e,l={})=>{const d=c.get(e);if(d)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),d.proxy;const u=i(),m=s(e);let p;const f=r=>{let i;const s=(...s)=>{const c=(async()=>(!p&&u in l?p=p="function"==typeof l[u]?await l[u]():l[u]:null!==t&&!p&&"web"in l&&(p=p="function"==typeof l.web?await l.web():l.web),p))().then((t=>{const c=((t,r)=>{var i,s;if(!m){if(t)return null===(s=t[r])||void 0===s?void 0:s.bind(t);throw new o(`"${e}" plugin is not implemented on ${u}`,a.Unimplemented)}{const a=null==m?void 0:m.methods.find((e=>r===e.name));if(a)return"promise"===a.rtype?t=>n.nativePromise(e,r.toString(),t):(t,a)=>n.nativeCallback(e,r.toString(),t,a);if(t)return null===(i=t[r])||void 0===i?void 0:i.bind(t)}})(t,r);if(c){const e=c(...s);return i=null==e?void 0:e.remove,e}throw new o(`"${e}.${r}()" is not implemented on ${u}`,a.Unimplemented)}));return"addListener"===r&&(c.remove=async()=>i()),c};return s.toString=()=>`${r.toString()}() { [capacitor code] }`,Object.defineProperty(s,"name",{value:r,writable:!1,configurable:!1}),s},h=f("addListener"),g=f("removeListener"),v=(e,t)=>{const n=h({eventName:e},t),a=async()=>{const a=await n;g({eventName:e,callbackId:a},t)},o=new Promise((e=>n.then((()=>e({remove:a})))));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await a()},o},w=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return m?v:h;case"removeListener":return g;default:return f(t)}}});return r[e]=w,c.set(e,{name:e,proxy:w,platforms:new Set([...Object.keys(l),...m?[u]:[]])}),w},n.Exception=o,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),i=r.registerPlugin;class s{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const a=this.windowListeners[e];return a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(e),Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const a=this.listeners[e];if(a)a.forEach((e=>e(t)));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new r.Exception(e,a.Unimplemented)}unavailable(e="not available"){return new r.Exception(e,a.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const a=n.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach((t=>{this.notifyListeners(e,t)})))}}const c=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),l=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class d extends s{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach((e=>{if(e.length<=0)return;let[n,a]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=l(n).trim(),a=l(a).trim(),t[n]=a})),t}async setCookie(e){try{const t=c(e.key),n=c(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),r=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${a}; path=${o}; ${r};`}catch(e){return Promise.reject(e)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(e){return Promise.reject(e)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}i("CapacitorCookies",{web:()=>new d});const u=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=((e={})=>{const t=Object.keys(e);return Object.keys(e).map((e=>e.toLocaleLowerCase())).reduce(((n,a,o)=>(n[a]=e[t[o]],n)),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,a]of Object.entries(e.data||{}))t.set(n,a);n.body=t.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach(((e,n)=>{t.append(n,e)}));else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(a.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class m extends s{async request(e){const t=u(e,e.webFetchExtra),n=((e,t=!0)=>e?Object.entries(e).reduce(((e,n)=>{const[a,o]=n;let r,i;return Array.isArray(o)?(i="",o.forEach((e=>{r=t?encodeURIComponent(e):e,i+=`${a}=${r}&`})),i.slice(0,-1)):(r=t?encodeURIComponent(o):o,i=`${a}=${r}`),`${e}&${i}`}),"").substr(1):null)(e.params,e.shouldEncodeUrlParams),a=n?`${e.url}?${n}`:e.url,o=await fetch(a,t),r=o.headers.get("content-type")||"";let i,s,{responseType:c="text"}=o.ok?e:{};switch(r.includes("application/json")&&(c="json"),c){case"arraybuffer":case"blob":s=await o.blob(),i=await(async e=>new Promise(((t,n)=>{const a=new FileReader;a.onload=()=>{const e=a.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},a.onerror=e=>n(e),a.readAsDataURL(e)})))(s);break;case"json":i=await o.json();break;default:i=await o.text()}const l={};return o.headers.forEach(((e,t)=>{l[t]=e})),{data:i,headers:l,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}i("CapacitorHttp",{web:()=>new m})},19314:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const a=new WeakMap;function o(e){return function(){let t=a.get(e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];const i=o.map(String).join("_");if(t){const e=t.get(i);if(e)return e}else t=new Map,a.set(e,t);const s=e(...o);return t.set(i,s),s}}},19822:(e,t,n)=>{"use strict";n.d(t,{Hd:()=>s,ZM:()=>c,i0:()=>o,iT:()=>r,qM:()=>i});var a=n(66644);function o(e,t){t((()=>{e()&&o(e,t)}))}function r(e,t){e()&&t((()=>{r(e,t)}))}const i={linear:e=>e,easeIn:e=>e**1.675,easeOut:e=>-1*e**1.675,easeInOut:e=>.5*(Math.sin((e-.5)*Math.PI)+1),easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e**3,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e*e**3,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e*e**3,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e*e**4,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e*e**4};function s(e){let{timing:t=i.linear,onUpdate:n,duration:o,onEnd:s,from:c,to:l}=e;const d=Date.now();let u=!1;return r((()=>{if(u)return!1;const e=Date.now(),a=Math.min((e-d)/o,1),r=t(a);if("number"==typeof c&&"number"==typeof l)n(c+(l-c)*r);else if(Array.isArray(c)&&Array.isArray(l)){const e=c.map(((e,t)=>e+(l[t]-e)*r));n(e)}return 1===a&&(null==s||s()),a<1}),a.YS),()=>{u=!0,null==s||s(!0)}}function c(e,t){Object.assign(e.style,t)}},23174:(e,t,n)=>{"use strict";n.d(t,{Dn:()=>a.D,KL:()=>o.KL,Nu:()=>o.Nu,QD:()=>o.QD,jf:()=>o.jf});var a=n(10428),o=n(56051)},23693:(e,t,n)=>{"use strict";var a,o;n.d(t,{_:()=>o,k:()=>a}),function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"}(a||(a={})),function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"}(o||(o={}))},24082:(e,t,n)=>{"use strict";n.d(t,{HE:()=>s,d$:()=>c});var a=n(809);const o="undefined:";function r(e,t){return void 0===t?`${o}marker`:t}function i(e,t){return"string"==typeof t&&t.startsWith(a.tH)?BigInt(t.slice(a.tH.length)):"string"==typeof t&&t.startsWith(o)?void 0:t}function s(e){return JSON.stringify(e,r)}function c(e){return"string"==typeof e?JSON.parse(e,i):e}},31481:(e,t,n)=>{"use strict";n.d(t,{$lq:()=>En,AIK:()=>fe,Avc:()=>An,B9l:()=>_,BV6:()=>vt,BZS:()=>Pe,Ba4:()=>yn,Bqy:()=>ht,C39:()=>i,CV:()=>We,Czf:()=>Ft,Dde:()=>Q,DvZ:()=>T,F9m:()=>Ue,FHx:()=>D,FgL:()=>ke,Fgn:()=>At,Fkn:()=>pe,Fmr:()=>bt,GX2:()=>dt,Guj:()=>o,HOw:()=>Je,HWN:()=>_e,I04:()=>de,Ia6:()=>Ce,JDR:()=>be,JWy:()=>Me,JhS:()=>Ot,Jxt:()=>Ie,K_I:()=>$t,Kfi:()=>Jt,Kih:()=>se,KmP:()=>tn,Kq_:()=>Le,Kzb:()=>je,LaL:()=>S,MS3:()=>J,MVx:()=>u,NEx:()=>L,NFS:()=>Ve,OKZ:()=>on,OZB:()=>xt,Oig:()=>d,OuE:()=>$e,PKm:()=>Se,PcM:()=>U,Pcx:()=>Ht,QSz:()=>mt,RTV:()=>w,S7e:()=>Rt,ScF:()=>Mt,Svl:()=>gn,TI6:()=>r,TUC:()=>Qt,Tu9:()=>st,UAn:()=>Ye,UMQ:()=>b,USn:()=>wn,UuV:()=>ee,V3_:()=>B,VG8:()=>Nt,VL7:()=>E,Vxu:()=>ue,W1_:()=>I,W75:()=>h,WHY:()=>nn,WRE:()=>Xt,WUE:()=>wt,WVU:()=>an,Wvq:()=>Re,X1K:()=>ze,X6R:()=>tt,X7T:()=>ct,Xr6:()=>Be,YDh:()=>vn,YO8:()=>K,YnH:()=>ie,Yyb:()=>R,ZYg:()=>sn,_J8:()=>ce,_bq:()=>Tt,aD4:()=>P,aEZ:()=>rn,b2d:()=>nt,bOf:()=>X,c2m:()=>H,cSq:()=>Gt,dCY:()=>bn,dL4:()=>Qe,dlH:()=>m,dmC:()=>ve,dnp:()=>ne,dqR:()=>Ke,ePC:()=>kn,eZ2:()=>Yt,eec:()=>we,eoU:()=>Ut,fPM:()=>Sn,fSo:()=>he,gR8:()=>en,gSB:()=>He,gY_:()=>Xe,gbw:()=>fn,gmk:()=>k,gpw:()=>De,gs5:()=>Nn,h4K:()=>Ee,hL1:()=>g,hUJ:()=>Ze,hUs:()=>zt,hkI:()=>O,hl5:()=>s,hnd:()=>Fe,i11:()=>re,iAh:()=>M,iX4:()=>Lt,igk:()=>Y,jht:()=>y,jt9:()=>gt,jzp:()=>q,k9U:()=>Z,kuH:()=>hn,kuw:()=>Oe,lWW:()=>j,lfO:()=>_t,lk4:()=>z,lnc:()=>cn,lsx:()=>yt,n3s:()=>Te,nQN:()=>ot,nj6:()=>Vt,nrE:()=>Ae,o$d:()=>xe,oR5:()=>It,oUU:()=>lt,ow1:()=>W,p8S:()=>f,pLj:()=>Ge,pV9:()=>jt,pge:()=>te,pyN:()=>dn,pyR:()=>le,q5n:()=>et,qL:()=>at,qMf:()=>qe,qsd:()=>mn,rFA:()=>c,rKC:()=>Pt,rUK:()=>ft,reE:()=>G,rkj:()=>x,sml:()=>ln,tCm:()=>Dt,tI4:()=>it,tKX:()=>C,tOu:()=>Wt,tpB:()=>ye,twH:()=>p,uPU:()=>St,uSm:()=>Zt,uyj:()=>N,v5B:()=>v,vOV:()=>l,vdF:()=>me,vsz:()=>pt,wOb:()=>Kt,wbd:()=>rt,wg4:()=>V,wln:()=>Ne,wpN:()=>Ct,xA_:()=>F,xB5:()=>$,xFF:()=>un,yR2:()=>qt,yq6:()=>A,zHL:()=>ae,zP3:()=>oe,zTb:()=>pn,zll:()=>ut});var a=n(65606);const o="production",r=!0,i=r?"TON Wallet":"MyTonWallet",s="4.0.3",c="d49e49b0dd1a9eca77e8d597fa689a43559d67b1",l="staging"===o?"Beta":"development"===o?"Dev":void 0,d="production"!==o&&"perf"!==o&&"test"!==o,u=!1,m=!1,p=!1,f="production"===o,h="test"===o,g=!1,v=!1,w="1"===a.env.IS_OPERA_EXTENSION,y=!1,b=!1,E=!1,k=!1,C=!1,N="https://dumb-host",S="[Inactive]",A=r?"https://wallet.ton.org":"https://mytonwallet.app",T=r?"https://beta.wallet.ton.org":"https://beta.mytonwallet.app",I="https://get.mytonwallet.io/",B="https://github.com/mytonwallet-org/mytonwallet",_="MyTonWalletBot",x=d&&!y,D="Shoot!\nSomething went wrong, please see the error details in Dev Tools Console.",L=4,O=r?"TonWallet":"MyTonWallet",P=r?"https://wallet.ton.org":"https://mytonwallet.app",M=!r,F=24,R=M?[12,24]:[24],U=64,W=3,H=700,$=50,V=16,z=30,K=70,q=110,j=120,Y=156,G=192,Q=0,X=4,J=" ",Z=5,ee=!1,te=r?"tonwallet-global-state":"mytonwallet-global-state",ne=0,ae=1,oe=2,re=oe,ie="system",se="0-ton-mainnet",ce="https://toncenter.mytonwallet.org",le="https://toncenter-testnet.mytonwallet.org",de=9,ue=2,me=3,pe="mysupport",fe={en:"MyTonWalletTips",ru:"MyTonWalletTipsRu"},he={getgems:"Getgems",fragment:"Fragment"},ge="https://static.mytonwallet.org",ve=`${ge}/cards/`,we=`${ge}/mint-cards/`,ye="https://mytonwallet.io/",be="https://multisend.mytonwallet.io/",Ee="https://web.telegram.org/a/",ke="https://getgems.io/",Ce=he.getgems,Ne="https://getgems.io/",Se="https://testnet.getgems.io/",Ae={en:"https://help.mytonwallet.io/",ru:"https://help.mytonwallet.io/ru"},Te="NOHASH",Ie=["http://localhost:*","https://tonscan.org"],Be="https://*.mytonwallet.io",_e="support@changelly.com",xe="https://changelly.com/",De="security@changelly.com",Le="https://changelly.com/terms-of-use",Oe="https://changelly.com/privacy-policy",Pe="https://changelly.com/aml-kyc",Me=108e5,Fe="",Re=.01,Ue="mtw-image",We="mtw-lang-222",He=[{langCode:"en",name:"English",nativeName:"English",rtl:!1},{langCode:"es",name:"Spanish",nativeName:"Español",rtl:!1},{langCode:"ru",name:"Russian",nativeName:"Русский",rtl:!1},{langCode:"zh-Hans",name:"Chinese (Simplified)",nativeName:"简体",rtl:!1},{langCode:"zh-Hant",name:"Chinese (Traditional)",nativeName:"繁體",rtl:!1},{langCode:"tr",name:"Turkish",nativeName:"Türkçe",rtl:!1},{langCode:"de",name:"German",nativeName:"Deutsch",rtl:!1},{langCode:"th",name:"Thai",nativeName:"ไทย",rtl:!1},{langCode:"uk",name:"Ukrainian",nativeName:"Українська",rtl:!1},{langCode:"pl",name:"Polish",nativeName:"Polski",rtl:!1}],$e=r,Ve=65536e3,ze=1000000000n,Ke=15000000n,qe="EQD2_4d91M4TVbEBVyBF8J1UwpMJc361LKVCz6bBlffMW05o",je="EQCqC6EhRJ_tpWngKxL6dV0k6DSnRUrs9GSVkLbfdCqsj6TE",Ye=ze,Ge=10000n*ze,Qe=100000000n,Xe=2,Je=r?"tonwallet":"mytonwallet",Ze="embedded-dapp-bridge",et=["0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2","0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2"],tt="super:telegram-gifts",nt="https://cards.mytonwallet.io",at="EQCQE2L9hfwx1V8sgmF9keraHx1rNK9VmgR1ctVvINBGykyM",ot="EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz",rt=14,it=30,st={name:"Toncoin",symbol:"TON",slug:"toncoin",decimals:9,chain:"ton",cmcSlug:"toncoin"},ct={name:"TRON",symbol:"TRX",slug:"trx",decimals:6,chain:"tron",cmcSlug:"tron"},lt={name:"MyTonWallet Coin",symbol:"MY",slug:"ton-eqcfvnlrbn",decimals:9,chain:"ton",minterAddress:"EQCFVNlRb-NHHDQfv3Q9xvDXBLJlay855_xREsq5ZDX6KN-w"},dt={...lt,slug:"ton-kqawlxpebw",minterAddress:"kQAWlxpEbwhCDFX9gp824ee2xVBhAh5VRSGWfbNFDddAbQoQ"},ut={ton:{isMemoSupported:!0,isDnsSupported:!0,addressRegex:/^([-\w_]{48}|0:[\da-h]{64})$/i,addressPrefixRegex:/^([-\w_]{1,48}|0:[\da-h]{0,64})$/i,nativeToken:st},tron:{isMemoSupported:!1,isDnsSupported:!1,addressRegex:/^T[1-9A-HJ-NP-Za-km-z]{33}$/,addressPrefixRegex:/^T[1-9A-HJ-NP-Za-km-z]{0,33}$/,nativeToken:ct,mainnet:{apiUrl:"https://tronapi.mytonwallet.org",usdtAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t"},testnet:{apiUrl:"https://api.shasta.trongrid.io",usdtAddress:"TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs"}}},mt="tron-tr7nhqjekq",pt="tron-tg3xxyexbk",ft="ton-eqcxe6mutq",ht="ton-eqcqc6ehrj",gt="TW2LXSebZ7Br1zHaiA2W1zRojDkDwjGmpw",vt="EQChGuD1u0e7KUWHH5FaYh_ygcLXhsdG2nSHPXHW8qqnpZXW",wt=1e6,yt="https://t.me/id_app/start?startapp=cQeewNnc3pVphUcwY63WruKMQDpgePd1E7eMVoqphMZAdGoU9jwS4qRqrM1kSeaqrAiiDiC3EYAJPwZDGWqxZpw5vtGxmHma59XEt",bt=(new Set([st.slug,ft,ct.slug,mt]),"ton-eqcm3b12qk"),Et={name:"Tether USD",symbol:"USDT",decimals:6,chain:"tron"},kt={name:"Tether USD",symbol:"USD₮",chain:"ton",slug:ft,decimals:6,tokenAddress:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs"},Ct={name:"Ethena USDe",symbol:"USDe",chain:"ton",tokenAddress:"EQAIb6KmdfdDR7CN1GBqVJuP25iCnLKCvBlJ07Evuu2dzP5f",slug:"ton-eqaib6kmdf",decimals:6,image:"https://imgproxy.toncenter.com/binMwUmcnFtjvgjp4wSEbsECXwfXUwbPkhVvsvpubNw/pr:small/aHR0cHM6Ly9tZXRhZGF0YS5sYXllcnplcm8tYXBpLmNvbS9hc3NldHMvVVNEZS5wbmc"},Nt={name:"Ethena tsUSDe",symbol:"tsUSDe",chain:"ton",tokenAddress:"EQDQ5UUyPHrLcQJlPAczd_fjxn8SLrlNQwolBznxCdSlfQwr",slug:"ton-eqdq5uuyph",decimals:6,image:"https://cache.tonapi.io/imgproxy/vGZJ7erwsWPo7DpVG_V7ygNn7VGs0szZXcNLHB_l0ms/rs:fill:200:200:1/g:no/aHR0cHM6Ly9tZXRhZGF0YS5sYXllcnplcm8tYXBpLmNvbS9hc3NldHMvdHNVU0RlLnBuZw.webp"},St=[qe,"EQC3roTiRRsoLzfYVK7yVVoIZjTEqAjQU3ju7aQ7HWTVL5o5",vt,Nt.tokenAddress],At=[st.slug,ft,ct.slug,pt,mt],Tt=4,It=[st.slug,ft,ct.slug],Bt={isFromBackend:!0,price:0,priceUsd:0,percentChange24h:0},_t={toncoin:{...st,isFromBackend:!0,price:3.1,priceUsd:3.1,percentChange24h:0},trx:{...ct,...Bt},[mt]:{...Et,slug:mt,tokenAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",...Bt},[pt]:{...Et,slug:pt,tokenAddress:"TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs",...Bt},[ft]:{...kt,image:"https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp",slug:ft,...Bt},[lt.slug]:{...lt,image:"https://cache.tonapi.io/imgproxy/Qy038wCBKISofJ0hYMlj6COWma330cx3Ju1ZSPM2LRU/rs:fill:200:200:1/g:no/aHR0cHM6Ly9teXRvbndhbGxldC5pby9sb2dvLTI1Ni1ibHVlLnBuZw.webp",...Bt},[Ct.slug]:{...Ct,...Bt},[Nt.slug]:{...Nt,...Bt}},xt={[mt]:"TRC-20",[pt]:"TRC-20",[ft]:"TON"},Dt={toncoin:{name:"Toncoin",symbol:st.symbol,chain:st.chain,slug:st.slug,decimals:st.decimals,price:0,priceUsd:0,isPopular:!0},[ft]:{name:"Tether USD",symbol:"USD₮",chain:"ton",slug:ft,decimals:9,image:"https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp",tokenAddress:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs",price:0,priceUsd:0,isPopular:!0}},Lt=st.slug,Ot=st.slug,Pt=ft,Mt=st.slug,Ft=mt,Rt={dedust:"DeDust",ston:"STON.fi"},Ut=r?"tw-multitab":"mtw-multitab",Wt=r?"tw-active-tab":"mtw-active-tab",Ht="windowProvider",$t=r,Vt=4,zt=6,Kt="USD",qt={USD:{name:"US Dollar",decimals:2,shortSymbol:"$"},EUR:{name:"Euro",decimals:2,shortSymbol:"€"},RUB:{name:"Ruble",decimals:2,shortSymbol:"₽"},CNY:{name:"Yuan",decimals:2,shortSymbol:"¥"},BTC:{name:"Bitcoin",decimals:9},[st.symbol]:{name:"Toncoin",decimals:9}},jt="UQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJKZ",Yt=["v3R1","v3R2","v4R2","W5"],Gt=1e4,Qt=3,Xt=500,Jt=["1D","7D","1M","3M","1Y","ALL"],Zt=10,en=4,tn="EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW",nn=30,an=["EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2","EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ","EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s","EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm","EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd","EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD","EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p","EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO","EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe","EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-","EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu","EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH","EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy","EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT","EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu","EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw"],on="EQB3zOTvPi1PmwdcTpqSfFKZnhi1GNKEVJM-LdoAirdLtash",rn=30000000n,sn="claim",cn="EQBpst3ZWJ9Dqq5gE2YH-yPsFK_BqMOmgi7Z_qK6v7WbrPWv",ln="Mint card",dn="Refund",un="⭐️",mn="https://giveaway.mytonwallet.io",pn=[{value:"never",name:"Disabled",selectedName:"Disabled",period:0},{value:"1",name:"30 seconds",selectedName:"If away for 30 sec",period:3e4},{value:"2",name:"3 minutes",selectedName:"If away for 3 min",period:18e4},{value:"3",name:"10 minutes",selectedName:"If away for 10 min",period:6e5}],fn=5,hn=new Set(["173e31eee054cb0c76f77edc7956bed766bf48a1f63bd062d87040dcd3df700f","5226dd4e6db9af26b24d5ca822bc4053b7e08152f923932abf25030c7e38bb42","fea2c08a704e5192b7f37434927170440d445b87aab865c3ea2a68abe7168204","e691cf9081a8aeb22ed4d94829f6626c9d822752e035800b5543c43f83d134b5","301ce25925830d713b326824e552e962925c4ff45b1e3ea21fc363a459a49b43","02250f83fbb8624d859c2c045ac70ee2b3b959688c3d843aec773be9b36dbfc3","dba3adb2c917db80fd71a6a68c1fc9e12976491a8309d5910f9722efc084ce4d","7da9223b90984d6a144e71611a8d7c65a6298cad734faed79438dc0f7a8e53d1","ddf80de336d580ab3c11d194f189c362e2ca1225cae224ea921deeaba7eca818"]),gn=new Set([ht,"ton-eqcbzvsfwq",Nt.slug]),vn=.875,wn={type:"liquid",id:"liquid",tokenSlug:st.slug,annualYield:3.9,yieldType:"APY",balance:0n,pool:qe,tokenBalance:0n,unstakeRequestAmount:0n,instantAvailable:0n,start:0,end:0},yn={type:"nominators",id:"nominators",tokenSlug:st.slug,annualYield:3.9,yieldType:"APY",balance:0n,pool:"Ef8dgIOIRyCLU0NEvF8TD6Me3wrbrkS1z3Gpjk3ppd8m8-s_",start:0,end:0,pendingDepositAmount:0n},bn="https://jvault.xyz",En={en:"https://help.mytonwallet.io/intro/scams/leaked-seed-phrases",ru:"https://help.mytonwallet.io/ru/baza-znanii/moshennichestvo-i-skamy/slitye-sid-frazy"},kn={en:"https://help.mytonwallet.io/intro/staking/what-is-usde-how-does-usde-staking-work",ru:"https://help.mytonwallet.io/ru/baza-znanii/steiking/chto-takoe-usde-kak-rabotaet-steiking-usde"},Cn=[{suffixes:["ton"],baseFormat:/^([-\da-z]+\.){0,2}[-\da-z]{4,126}$/i,resolver:"EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz",collectionName:"TON DNS Domains"},{suffixes:["t.me"],baseFormat:/^([-\da-z]+\.){0,2}[-_\da-z]{4,32}$/i,resolver:"EQCA14o1-VWhS2efqoh_9M1b_A9DtKTuoqfmkn83AbJzwnPi",isTelemint:!0,collectionName:"Telegram Usernames"},{suffixes:["vip","ton.vip","vip.ton"],baseFormat:/^([-\da-z]+\.){0,2}?[\da-z]{1,24}$/i,resolver:"EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS",collectionName:"VIP DNS Domains",isUnofficial:!0},{suffixes:["gram"],baseFormat:/^([-\da-z]+\.){0,2}[\da-z]{1,127}$/i,resolver:"EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ",collectionName:"GRAM DNS Domains",isUnofficial:!0}],Nn=r?Cn.filter((e=>{let{isUnofficial:t}=e;return!t})):Cn,Sn="3",An=2},36791:(e,t,n)=>{"use strict";function a(){const{userAgent:e,platform:t}=window.navigator;return/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":-1!==["iPhone","iPad","iPod"].indexOf(t)||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2?"iOS":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"macOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":void 0}n.d(t,{u:()=>a})},37448:(e,t,n)=>{"use strict";var a,o;n.d(t,{Wi:()=>o,__:()=>a}),function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(a||(a={})),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"}(o||(o={}))},37836:(e,t,n)=>{"use strict";n.d(t,{Fe:()=>i,Gf:()=>E,IJ:()=>p,aj:()=>f,fm:()=>b,kI:()=>w,nF:()=>r,nb:()=>s,sg:()=>o,v7:()=>a,yu:()=>y});const a=e=>new Promise((t=>{setTimeout((()=>t()),e)}));function o(e,t){let n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];n?(clearTimeout(n),n=void 0):a&&e(...i),n=self.setTimeout((()=>{o&&e(...i),n=void 0}),t)}}function r(e,t){let n,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!1;async function i(){await("function"==typeof t?t():a(t)),s()}async function s(){if(n)try{const t=n;n=void 0,await e(...t)}finally{i()}else r=!1}return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=t,r||(r=!0,o?s():i())}}function i(e){return s(f,e)}function s(e,t){let n,a=!1;return function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];n=r,a||(a=!0,e((()=>{a=!1,t(...n)})))}}const c=35;let l,d,u,m;function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l?l.add(e):(l=new Set([e]),requestAnimationFrame((()=>{const e=l;l=void 0,d=void 0,u&&(clearTimeout(u),u=void 0),e.forEach((e=>e()))}))),t&&(d?d.add(e):d=new Set([e]),u||(u=window.setTimeout((()=>{const e=d;l&&e.forEach(l.delete,l),d=void 0,u&&(clearTimeout(u),u=void 0),e.forEach((e=>e()))}),c)))}function f(e){m?m.push(e):(m=[e],Promise.resolve().then((()=>{const e=m;m=void 0,e.forEach((e=>e()))})))}const h=500;let g,v;function w(e){self.requestIdleCallback?g?g.push(e):(g=[e],requestIdleCallback((e=>{const t=g;for(g=void 0;t.length&&(t.shift()(),e.timeRemaining()););t.length&&(g?g=t.concat(g):t.forEach(w))}),{timeout:h})):f(e)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v||(v=[],self.addEventListener("beforeunload",(()=>{v.forEach((e=>e()))}))),t?v.push(e):v.unshift(e),()=>{v=v.filter((t=>t!==e))}}async function b(e,t,n){let o=0,r=e();for(;!r&&o<n;)await a(t),o++,r=e();return r}function E(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}},39989:(e,t,n)=>{"use strict";n.d(t,{K$:()=>i,KB:()=>r,QS:()=>l,bS:()=>c,cp:()=>s});var a=n(23174);class o extends Error{constructor(e,t){super(e),this.displayError=t,this.name=this.constructor.name}}class r extends o{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Canceled by the user")}}class i extends o{constructor(e,t){super(e,a.QD.ServerError),this.statusCode=t}}class s extends o{constructor(e){super(e,a.QD.UnsupportedVersion)}}class c extends o{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Blind signing not enabled",a.jf.HardwareBlindSigningNotEnabled)}}function l(e){if(e instanceof i)return{error:e.displayError};throw e}},41074:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,M1:()=>c,bP:()=>r});var a=n(31481),o=n(5130);const r=Math.min(navigator.hardwareConcurrency||4,4);let i;function s(){return a.W75?[]:(i||(i=new Array(r).fill(void 0).map((()=>{const e=new Worker(new URL(n.p+n.u(524),n.b));return{worker:e,connector:(0,o.U$)(e)}}))),i)}function c(e,t){return s()[t].connector.request(e)}},48287:(e,t,n)=>{"use strict";const a=n(67526),o=n(251),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.INSPECT_MAX_BYTES=50;const i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|h(e,t);let a=s(n);const o=a.write(e,t);return o!==n&&(a=a.slice(0,o)),a}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return m(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const a=e.valueOf&&e.valueOf();if(null!=a&&a!==e)return c.from(a,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Q(e.length)?s(0):m(e):"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return d(e),s(e<0?0:0|f(e))}function m(e){const t=e.length<0?0:0|f(e.length),n=s(t);for(let a=0;a<t;a+=1)n[a]=255&e[a];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let a;return a=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(a,c.prototype),a}function f(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(o)return a?-1:q(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return B(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function v(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function w(e,t,n,a,o){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,a)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,a,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,a,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,a,o){let r,i=1,s=e.length,c=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;i=2,s/=2,c/=2,n/=2}function l(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){let a=-1;for(r=n;r<s;r++)if(l(e,r)===l(t,-1===a?0:r-a)){if(-1===a&&(a=r),r-a+1===c)return a*i}else-1!==a&&(r-=r-a),a=-1}else for(n+c>s&&(n=s-c),r=n;r>=0;r--){let n=!0;for(let a=0;a<c;a++)if(l(e,r+a)!==l(t,a)){n=!1;break}if(n)return r}return-1}function b(e,t,n,a){n=Number(n)||0;const o=e.length-n;a?(a=Number(a))>o&&(a=o):a=o;const r=t.length;let i;for(a>r/2&&(a=r/2),i=0;i<a;++i){const a=parseInt(t.substr(2*i,2),16);if(Q(a))return i;e[n+i]=a}return i}function E(e,t,n,a){return Y(q(t,e.length-n),e,n,a)}function k(e,t,n,a){return Y(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function C(e,t,n,a){return Y(j(t),e,n,a)}function N(e,t,n,a){return Y(function(e,t){let n,a,o;const r=[];for(let i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),a=n>>8,o=n%256,r.push(o),r.push(a);return r}(t,e.length-n),e,n,a)}function S(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const a=[];let o=t;for(;o<n;){const t=e[o];let r=null,i=t>239?4:t>223?3:t>191?2:1;if(o+i<=n){let n,a,s,c;switch(i){case 1:t<128&&(r=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(r=c));break;case 3:n=e[o+1],a=e[o+2],128==(192&n)&&128==(192&a)&&(c=(15&t)<<12|(63&n)<<6|63&a,c>2047&&(c<55296||c>57343)&&(r=c));break;case 4:n=e[o+1],a=e[o+2],s=e[o+3],128==(192&n)&&128==(192&a)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&a)<<6|63&s,c>65535&&c<1114112&&(r=c))}}null===r?(r=65533,i=1):r>65535&&(r-=65536,a.push(r>>>10&1023|55296),r=56320|1023&r),a.push(r),o+=i}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=T));return n}(a)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return d(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return u(e)},c.allocUnsafeSlow=function(e){return u(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(G(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,a=t.length;for(let o=0,r=Math.min(n,a);o<r;++o)if(e[o]!==t[o]){n=e[o],a=t[o];break}return n<a?-1:a<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const a=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(G(t,Uint8Array))o+t.length>a.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(a,o)):Uint8Array.prototype.set.call(a,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(a,o)}o+=t.length}return a},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(e,t,n,a,o){if(G(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===o&&(o=this.length),t<0||n>e.length||a<0||o>this.length)throw new RangeError("out of range index");if(a>=o&&t>=n)return 0;if(a>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let r=(o>>>=0)-(a>>>=0),i=(n>>>=0)-(t>>>=0);const s=Math.min(r,i),l=this.slice(a,o),d=e.slice(t,n);for(let e=0;e<s;++e)if(l[e]!==d[e]){r=l[e],i=d[e];break}return r<i?-1:i<r?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},c.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let r=!1;for(;;)switch(a){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),r=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function I(e,t,n){let a="";n=Math.min(e.length,n);for(let o=t;o<n;++o)a+=String.fromCharCode(127&e[o]);return a}function B(e,t,n){let a="";n=Math.min(e.length,n);for(let o=t;o<n;++o)a+=String.fromCharCode(e[o]);return a}function _(e,t,n){const a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);let o="";for(let a=t;a<n;++a)o+=X[e[a]];return o}function x(e,t,n){const a=e.slice(t,n);let o="";for(let e=0;e<a.length-1;e+=2)o+=String.fromCharCode(a[e]+256*a[e+1]);return o}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,a,o,r){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function O(e,t,n,a,o){$(t,a,o,e,n,7);let r=Number(t&BigInt(4294967295));e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,n}function P(e,t,n,a,o){$(t,a,o,e,n,7);let r=Number(t&BigInt(4294967295));e[n+7]=r,r>>=8,e[n+6]=r,r>>=8,e[n+5]=r,r>>=8,e[n+4]=r;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=i,i>>=8,e[n+2]=i,i>>=8,e[n+1]=i,i>>=8,e[n]=i,n+8}function M(e,t,n,a,o,r){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,a,r){return t=+t,n>>>=0,r||M(e,0,n,4),o.write(e,t,n,a,23,4),n+4}function R(e,t,n,a,r){return t=+t,n>>>=0,r||M(e,0,n,8),o.write(e,t,n,a,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const a=this.subarray(e,t);return Object.setPrototypeOf(a,c.prototype),a},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let a=this[e],o=1,r=0;for(;++r<t&&(o*=256);)a+=this[e+r]*o;return a},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let a=this[e+--t],o=1;for(;t>0&&(o*=256);)a+=this[e+--t]*o;return a},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(a)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(a)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let a=this[e],o=1,r=0;for(;++r<t&&(o*=256);)a+=this[e+r]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let a=t,o=1,r=this[e+--a];for(;a>0&&(o*=256);)r+=this[e+--a]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(a)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||L(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,r=0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||L(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,r=1;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=e/r&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J((function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);L(this,e,t,n,a-1,-a)}let o=0,r=1,i=0;for(this[t]=255&e;++o<n&&(r*=256);)e<0&&0===i&&0!==this[t+o-1]&&(i=1),this[t+o]=(e/r|0)-i&255;return t+n},c.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);L(this,e,t,n,a-1,-a)}let o=n-1,r=1,i=0;for(this[t+o]=255&e;--o>=0&&(r*=256);)e<0&&0===i&&0!==this[t+o+1]&&(i=1),this[t+o]=(e/r|0)-i&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J((function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,a){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);const o=a-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,a):Uint8Array.prototype.set.call(e,this.subarray(n,a),t),o},c.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!c.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(1===e.length){const t=e.charCodeAt(0);("utf8"===a&&t<128||"latin1"===a)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const r=c.isBuffer(e)?e:c.from(e,a),i=r.length;if(0===i)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=r[o%i]}return this};const U={};function W(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function H(e){let t="",n=e.length;const a="-"===e[0]?1:0;for(;n>=a+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function $(e,t,n,a,o,r){if(e>n||e<t){const a="bigint"==typeof t?"n":"";let o;throw o=r>3?0===t||t===BigInt(0)?`>= 0${a} and < 2${a} ** ${8*(r+1)}${a}`:`>= -(2${a} ** ${8*(r+1)-1}${a}) and < 2 ** ${8*(r+1)-1}${a}`:`>= ${t}${a} and <= ${n}${a}`,new U.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||z(t,e.length-(n+1))}(a,o,r)}function V(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,n){if(Math.floor(e)!==e)throw V(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),W("ERR_OUT_OF_RANGE",(function(e,t,n){let a=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=H(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=H(o)),o+="n"),a+=` It must be ${t}. Received ${o}`,a}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function q(e,t){let n;t=t||1/0;const a=e.length;let o=null;const r=[];for(let i=0;i<a;++i){if(n=e.charCodeAt(i),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(i+1===a){(t-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function j(e){return a.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,n,a){let o;for(o=0;o<a&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const a=16*n;for(let o=0;o<16;++o)t[a+o]=e[n]+e[o]}return t}();function J(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},48805:(e,t,n)=>{"use strict";n.d(t,{z:()=>f});var a=1e6,o="[big.js] ",r=o+"Invalid ",i=r+"decimal places",s=r+"rounding mode",c=o+"Division by zero",l={},d=void 0,u=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function m(e,t,n,a){var o=e.c;if(n===d&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(s);if(t<1)a=3===n&&(a||!!o[0])||0===t&&(1===n&&o[0]>=5||2===n&&(o[0]>5||5===o[0]&&(a||o[1]!==d))),o.length=1,a?(e.e=e.e-t+1,o[0]=1):o[0]=e.e=0;else if(t<o.length){if(a=1===n&&o[t]>=5||2===n&&(o[t]>5||5===o[t]&&(a||o[t+1]!==d||1&o[t-1]))||3===n&&(a||!!o[0]),o.length=t,a)for(;++o[--t]>9;)if(o[t]=0,0===t){++e.e,o.unshift(1);break}for(t=o.length;!o[--t];)o.pop()}return e}function p(e,t,n){var a=e.e,o=e.c.join(""),r=o.length;if(t)o=o.charAt(0)+(r>1?"."+o.slice(1):"")+(a<0?"e":"e+")+a;else if(a<0){for(;++a;)o="0"+o;o="0."+o}else if(a>0)if(++a>r)for(a-=r;a--;)o+="0";else a<r&&(o=o.slice(0,a)+"."+o.slice(a));else r>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&n?"-"+o:o}l.abs=function(){var e=new this.constructor(this);return e.s=1,e},l.cmp=function(e){var t,n=this,a=n.c,o=(e=new n.constructor(e)).c,r=n.s,i=e.s,s=n.e,c=e.e;if(!a[0]||!o[0])return a[0]?r:o[0]?-i:0;if(r!=i)return r;if(t=r<0,s!=c)return s>c^t?1:-1;for(i=(s=a.length)<(c=o.length)?s:c,r=-1;++r<i;)if(a[r]!=o[r])return a[r]>o[r]^t?1:-1;return s==c?0:s>c^t?1:-1},l.div=function(e){var t=this,n=t.constructor,o=t.c,r=(e=new n(e)).c,s=t.s==e.s?1:-1,l=n.DP;if(l!==~~l||l<0||l>a)throw Error(i);if(!r[0])throw Error(c);if(!o[0])return e.s=s,e.c=[e.e=0],e;var u,p,f,h,g,v=r.slice(),w=u=r.length,y=o.length,b=o.slice(0,u),E=b.length,k=e,C=k.c=[],N=0,S=l+(k.e=t.e-e.e)+1;for(k.s=s,s=S<0?0:S,v.unshift(0);E++<u;)b.push(0);do{for(f=0;f<10;f++){if(u!=(E=b.length))h=u>E?1:-1;else for(g=-1,h=0;++g<u;)if(r[g]!=b[g]){h=r[g]>b[g]?1:-1;break}if(!(h<0))break;for(p=E==u?r:v;E;){if(b[--E]<p[E]){for(g=E;g&&!b[--g];)b[g]=9;--b[g],b[E]+=10}b[E]-=p[E]}for(;!b[0];)b.shift()}C[N++]=h?f:++f,b[0]&&h?b[E]=o[w]||0:b=[o[w]]}while((w++<y||b[0]!==d)&&s--);return C[0]||1==N||(C.shift(),k.e--,S--),N>S&&m(k,S,n.RM,b[0]!==d),k},l.eq=function(e){return 0===this.cmp(e)},l.gt=function(e){return this.cmp(e)>0},l.gte=function(e){return this.cmp(e)>-1},l.lt=function(e){return this.cmp(e)<0},l.lte=function(e){return this.cmp(e)<1},l.minus=l.sub=function(e){var t,n,a,o,r=this,i=r.constructor,s=r.s,c=(e=new i(e)).s;if(s!=c)return e.s=-c,r.plus(e);var l=r.c.slice(),d=r.e,u=e.c,m=e.e;if(!l[0]||!u[0])return u[0]?e.s=-c:l[0]?e=new i(r):e.s=1,e;if(s=d-m){for((o=s<0)?(s=-s,a=l):(m=d,a=u),a.reverse(),c=s;c--;)a.push(0);a.reverse()}else for(n=((o=l.length<u.length)?l:u).length,s=c=0;c<n;c++)if(l[c]!=u[c]){o=l[c]<u[c];break}if(o&&(a=l,l=u,u=a,e.s=-e.s),(c=(n=u.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;n>s;){if(l[--n]<u[n]){for(t=n;t&&!l[--t];)l[t]=9;--l[t],l[n]+=10}l[n]-=u[n]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--m;return l[0]||(e.s=1,l=[m=0]),e.c=l,e.e=m,e},l.mod=function(e){var t,n=this,a=n.constructor,o=n.s,r=(e=new a(e)).s;if(!e.c[0])throw Error(c);return n.s=e.s=1,t=1==e.cmp(n),n.s=o,e.s=r,t?new a(n):(o=a.DP,r=a.RM,a.DP=a.RM=0,n=n.div(e),a.DP=o,a.RM=r,this.minus(n.times(e)))},l.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},l.plus=l.add=function(e){var t,n,a,o=this,r=o.constructor;if(e=new r(e),o.s!=e.s)return e.s=-e.s,o.minus(e);var i=o.e,s=o.c,c=e.e,l=e.c;if(!s[0]||!l[0])return l[0]||(s[0]?e=new r(o):e.s=o.s),e;if(s=s.slice(),t=i-c){for(t>0?(c=i,a=l):(t=-t,a=s),a.reverse();t--;)a.push(0);a.reverse()}for(s.length-l.length<0&&(a=l,l=s,s=a),t=l.length,n=0;t;s[t]%=10)n=(s[--t]=s[t]+l[t]+n)/10|0;for(n&&(s.unshift(n),++c),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=c,e},l.pow=function(e){var t=this,n=new t.constructor("1"),a=n,o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(r+"exponent");for(o&&(e=-e);1&e&&(a=a.times(t)),e>>=1;)t=t.times(t);return o?n.div(a):a},l.prec=function(e,t){if(e!==~~e||e<1||e>a)throw Error(r+"precision");return m(new this.constructor(this),e,t)},l.round=function(e,t){if(e===d)e=0;else if(e!==~~e||e<-a||e>a)throw Error(i);return m(new this.constructor(this),e+this.e+1,t)},l.sqrt=function(){var e,t,n,a=this,r=a.constructor,i=a.s,s=a.e,c=new r("0.5");if(!a.c[0])return new r(a);if(i<0)throw Error(o+"No square root");0===(i=Math.sqrt(a+""))||i===1/0?((t=a.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new r(((i=Math.sqrt(t))==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+s)):e=new r(i+""),s=e.e+(r.DP+=4);do{n=e,e=c.times(n.plus(a.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return m(e,(r.DP-=4)+e.e+1,r.RM)},l.times=l.mul=function(e){var t,n=this,a=n.constructor,o=n.c,r=(e=new a(e)).c,i=o.length,s=r.length,c=n.e,l=e.e;if(e.s=n.s==e.s?1:-1,!o[0]||!r[0])return e.c=[e.e=0],e;for(e.e=c+l,i<s&&(t=o,o=r,r=t,l=i,i=s,s=l),t=new Array(l=i+s);l--;)t[l]=0;for(c=s;c--;){for(s=0,l=i+c;l>c;)s=t[l]+r[c]*o[l-c-1]+s,t[l--]=s%10,s=s/10|0;t[l]=s}for(s?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},l.toExponential=function(e,t){var n=this,o=n.c[0];if(e!==d){if(e!==~~e||e<0||e>a)throw Error(i);for(n=m(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return p(n,!0,!!o)},l.toFixed=function(e,t){var n=this,o=n.c[0];if(e!==d){if(e!==~~e||e<0||e>a)throw Error(i);for(e=e+(n=m(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return p(n,!1,!!o)},l[Symbol.for("nodejs.util.inspect.custom")]=l.toJSON=l.toString=function(){var e=this,t=e.constructor;return p(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},l.toNumber=function(){var e=Number(p(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(o+"Imprecise conversion");return e},l.toPrecision=function(e,t){var n=this,o=n.constructor,i=n.c[0];if(e!==d){if(e!==~~e||e<1||e>a)throw Error(r+"precision");for(n=m(new o(n),e,t);n.c.length<e;)n.c.push(0)}return p(n,e<=n.e||n.e<=o.NE||n.e>=o.PE,!!i)},l.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(o+"valueOf disallowed");return p(e,e.e<=t.NE||e.e>=t.PE,!0)};var f=function e(){function t(n){var a=this;if(!(a instanceof t))return n===d?e():new t(n);if(n instanceof t)a.s=n.s,a.e=n.e,a.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError(r+"value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,a,o;if(!u.test(t))throw Error(r+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),o=t.length,a=0;a<o&&"0"==t.charAt(a);)++a;if(a==o)e.c=[e.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(e.e=n-a-1,e.c=[],n=0;a<=o;)e.c[n++]=+t.charAt(a++)}}(a,n)}a.constructor=t}return t.prototype=l,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()},50110:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(31481),o=n(2188);const r=!a.MVx;function i(e,t){if(!r)return e();const{rescue:n,always:a,shouldIgnoreError:i}=t??{};try{return e()}catch(e){return null==n||n(e),void(i||(0,o.H)(e))}finally{null==a||a()}}},51915:(e,t,n)=>{"use strict";n.d(t,{i6:()=>c,jT:()=>a,ks:()=>s,nm:()=>r,rt:()=>i});const a="#detached";let o;function r(){return async function(){const e=await chrome.tabs.create({url:`index.html${a}`,active:!0});return await chrome.windows.update(e.windowId,{focused:!0}),o=e.id,o}()}function i(){o&&chrome.tabs.query({active:!0},(()=>{o&&chrome.tabs.remove(o)}))}async function s(){const e=await chrome.tabs.getCurrent();null!=e&&e.id&&await chrome.tabs.remove(e.id)}function c(e,t){const n=a=>{a===e&&(o=void 0,chrome.tabs.onRemoved.removeListener(n),t())};chrome.tabs.onRemoved.addListener(n)}},54218:(e,t,n)=>{"use strict";n.d(t,{kB:()=>i,p:()=>r}),n(24082);var a=n(55029);const o=new Map;function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:self;function o(e,a){e.channel=t,a?n.postMessage(e,a):n.postMessage(e)}function r(n){var a;(null===(a=n.data)||void 0===a?void 0:a.channel)===t&&s(e,n.data,o)}return(arguments.length>3?arguments[3]:void 0)||function(e){self.onerror=t=>{var n,o;const r=(null===(n=t.error)||void 0===n?void 0:n.message)||"Uncaught exception in worker";(0,a.SJ)(r,t.error),e({type:"unhandledError",error:{message:r,stack:null===(o=t.error)||void 0===o?void 0:o.stack}})},self.addEventListener("unhandledrejection",(t=>{var n,o;const r=(null===(n=t.reason)||void 0===n?void 0:n.message)||"Unhandled rejection in worker";(0,a.SJ)(r,t.reason),e({type:"unhandledError",error:{message:r,stack:null===(o=t.reason)||void 0===o?void 0:o.stack}})}))}(o),n.addEventListener("message",r),()=>{n.removeEventListener("message",r)}}function i(e,t,n,a){function o(e,o){if(e.channel=a,o)throw new Error("Cannot send `Transferable` to `Window`");n.postMessage(e,t)}function r(n){var r;t&&n.origin!==t||(null===(r=n.data)||void 0===r?void 0:r.channel)===a&&s(e,n.data,o)}return window.addEventListener("message",r),()=>{window.removeEventListener("message",r)}}async function s(e,t,n,r,i){switch(r||(r=e=>{n({type:"update",update:e})}),t.type){case"init":{var s;const{args:n}=t,a="function"==typeof e?e("init",i,r,...n):null===(s=e.init)||void 0===s?void 0:s.call(e,r,...n);await a;break}case"callMethod":{const{messageId:r,name:s,args:c,withCallback:l}=t;try{if("function"!=typeof e&&!e[s])return;if(r&&l){const e=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const o=t[t.length-1];var i;n({type:"methodCallback",messageId:r,callbackArgs:t},(i=o)instanceof ArrayBuffer||i instanceof ImageBitmap?[o]:void 0)};o.set(r,e),c.push(e)}const t="function"==typeof e?await e(s,i,...c):await e[s](...c),{arrayBuffer:a}="object"==typeof t&&t&&"arrayBuffer"in t||{};r&&n({type:"methodResponse",messageId:r,response:t},a?[a]:void 0)}catch(e){(0,a.SJ)(s,e),r&&n({type:"methodResponse",messageId:r,error:{message:e.message}})}r&&o.delete(r);break}case"cancelProgress":{const e=o.get(t.messageId);e&&(e.isCanceled=!0);break}}}},55029:(e,t,n)=>{"use strict";n.d(t,{MD:()=>u,SJ:()=>d,ao:()=>l,ef:()=>p,kJ:()=>m});var a=n(31481),o=n(59288);const r=999,i=[];function s(e,t){return t instanceof Error?{name:t.name,message:t.message,stack:t.stack,metadata:t instanceof o.p?t.metadata:void 0}:t}function c(e){i.length>r&&i.shift(),i.push({...e,args:e.args.map((e=>JSON.stringify(e,s))),time:Date.now()})}function l(){return i}function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];c({message:e,level:"debugError",args:n}),a.Oig&&console.error(`[DEBUG][${e}]`,...n)}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];c({message:e,level:"debug",args:n}),a.Oig&&console.log(`[DEBUG] ${e}`,...n)}function m(e,t,n){a.dlH&&(console.debug(`[DEBUG] ${e}`),t&&console.dir(t),n&&console.dir(n))}function p(){const e={en:"WARNING! This console can be a way for bad people to take over your crypto wallet through something called a Self-XSS attack. So, don't put in or paste code you don't understand. Stay safe!",ru:"ВНИМАНИЕ! Через эту консоль злоумышленники могут захватить ваш криптовалютный кошелёк с помощью так называемой атаки Self-XSS. Поэтому не вводите и не вставляйте код, который вы не понимаете. Берегите себя!",es:"¡ADVERTENCIA! Esta consola puede ser una forma en que las personas malintencionadas se apoderen de su billetera de criptomonedas mediante un ataque llamado Self-XSS. Por lo tanto, no introduzca ni pegue código que no comprenda. ¡Cuídese!",zh:"警告！这个控制台可能成为坏人通过所谓的Self-XSS攻击来接管你的加密货币钱包的方式。因此，请不要输入或粘贴您不理解的代码。请保护自己！"},t=e[navigator.language.split("-")[0]]||e.en;console.log("%c%s","color: red; background: yellow; font-size: 18px;",t)}},56051:(e,t,n)=>{"use strict";n.d(t,{KL:()=>r,Nu:()=>o,QD:()=>a,jf:()=>i});let a=function(e){return e.Unexpected="Unexpected",e.ServerError="ServerError",e.DebugError="DebugError",e.UnsupportedVersion="UnsupportedVersion",e}({}),o=function(e){return e.InvalidMnemonic="InvalidMnemonic",e.InvalidAddress="InvalidAddress",e.DomainNotResolved="DomainNotResolved",e}({}),r=function(e){return e.InvalidAmount="InvalidAmount",e.InvalidToAddress="InvalidToAddress",e.InsufficientBalance="InsufficientBalance",e.InvalidStateInit="InvalidStateInit",e.StateInitWithoutBin="StateInitWithoutBin",e.DomainNotResolved="DomainNotResolved",e.WalletNotInitialized="WalletNotInitialized",e.InvalidAddressFormat="InvalidAddressFormat",e.InactiveContract="InactiveContract",e}({}),i=function(e){return e.PartialTransactionFailure="PartialTransactionFailure",e.IncorrectDeviceTime="IncorrectDeviceTime",e.InsufficientBalance="InsufficientBalance",e.UnsuccesfulTransfer="UnsuccesfulTransfer",e.NotSupportedHardwareOperation="NotSupportedHardwareOperation",e.HardwareBlindSigningNotEnabled="HardwareBlindSigningNotEnabled",e.WrongAddress="WrongAddress",e.WrongNetwork="WrongNetwork",e}({})},59121:(e,t,n)=>{"use strict";function a(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function o(e){return self.crypto.getRandomValues(new Uint8Array(e))}n.d(t,{po:()=>o,yT:()=>a}),n(48287).Buffer},59288:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});class a extends Error{constructor(e,t){super(e),this.metadata=t}}},61995:(e,t,n)=>{"use strict";n.d(t,{Hc:()=>r,Hx:()=>a,xT:()=>o});const a={GET_STATIC_DATA:801842850,REPORT_STATIC_DATA:2339837749,GET_STORAGE_DATA:1535698380,REPORT_STORAGE_DATA:2863966447,EXCESSES:3576854235,TRANSFER_JETTON:260734629,INTERNAL_TRANSFER:395134233,TRANSFER_NOTIFICATION:1935855772,PROVIDE_WALLET_ADDRESS:745978227,TAKE_WALLET_ADDRESS:3513996288,BURN_JETTON:1499400124,STAKE_JETTONS:3818940809,ADD_REWARDS:3675696277,SEND_CLAIMED_REWARDS:1153179619,SEND_UNSTAKED_JETTONS:4213386179,APPROVE_STAKE:2443044737,CANCEL_STAKE:2662179289,ADD_REWARD_JETTONS:275213031,CLAIM_COMMISSIONS:3165188199,REQUEST_UPDATE_REWARDS:4123376291,CLAIM_REWARDS:2027548937,RECEIVE_JETTONS:3599387329,UNSTAKE_JETTONS:1234866786,UNSTAKE_REQUEST:23647415,CANCEL_UNSTAKE_REQUEST:2760970010,UPDATE_REWARDS:2928871374,CONFIRM_TRANSFER:3162893073,DEPLOY_NEW_POOL:3666222871,SEND_COMMISSIONS:3110787818,SET_CODE:3805467153,CHANGE_CREATION_FEE:1725256331,CHANGE_CONTENT:247632384,UPDATE_CODES:2244551631},o={MIN_RESERVE:20000000n,DEPLOY_POOL:340000000n,NOTIFICATION:340000000n,JETTON_TRANSFER:55000000n,BURN_JETTONS:340000000n,STAKE_JETTONS:300000000n,UNSTAKE_JETTONS:340000000n,CANCEL_UNSTAKE:340000000n,SEND_COMMISSIONS:340000000n,SIMPLE_UPDATE_REQUEST:340000000n,ADD_REWARDS:340000000n,APPROVE_TRANSFER:340000000n,SAVE_UPDATED_REWARDS:340000000n,MIN_EXCESS:10000000n,SEND_STAKED_JETTONS:630000000n},r={COMMISSION_DIVIDER:10000n,REWARDS_DIVIDER:1e3,DISTRIBUTION_SPEED_DIVIDER:BigInt(86400),DISTRIBUTED_REWARDS_DIVIDER:100000000000000000000000000000000000000n}},65606:e=>{var t,n,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var s,c=[],l=!1,d=-1;function u(){l&&s&&(l=!1,s.length?c=s.concat(c):d=-1,c.length&&m())}function m(){if(!l){var e=i(u);l=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||i(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=f,a.addListener=f,a.once=f,a.off=f,a.removeListener=f,a.removeAllListeners=f,a.emit=f,a.prependListener=f,a.prependOnceListener=f,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},66644:(e,t,n)=>{"use strict";n.d(t,{RK:()=>m,YS:()=>u,gm:()=>p});var a=n(50110),o=n(37836),r=n(75357);let i=[],s=[],c=[];const l=(d=()=>{const e=i;i=[],e.forEach((e=>{(0,a.A)(e)})),Promise.resolve().then((()=>{(0,r.A)("mutate");const e=s;s=[],e.forEach((e=>{(0,a.A)(e)}))})).then((()=>{(0,r.A)("measure");const e=[];for(const t of c)(0,a.A)((()=>{const n=t();n&&e.push(n)}));return c=[],e})).then((e=>{(0,r.A)("mutate");for(const t of e)(0,a.A)(t)})).then((()=>{(0,r.A)("measure")}))},(0,o.nb)((e=>{(0,o.IJ)(e,!0)}),d));var d;function u(e){i.push(e),l()}function m(e){s.push(e),l()}function p(e){c.push(e),l()}},67491:(e,t,n)=>{"use strict";n.d(t,{Cz:()=>c,ZC:()=>d,bU:()=>s,iy:()=>r,s$:()=>l,u_:()=>i});var a=n(31481),o=n(10309);function r(e){return void 0!==i(e)}function i(e){for(const t of a.gs5){const{suffixes:n,baseFormat:a}=t;for(let o=n.length-1;o>=0;o--){const r=n[o];if(!e.endsWith(`.${r}`))continue;const i=e.slice(0,-r.length-1);if(a.test(i))return{base:i,zone:t}}}}function s(e){return(null==e?void 0:e.collectionAddress)===a.nQN}function c(e,t){return s(e)?null==t?void 0:t[e.address]:void 0}function l(e,t,n){const r=[];if(t&&n)for(const i of e){const e=t[i];(0,o.GS)(c(e,n)??1/0)<=a.wbd&&r.push(e)}return r}function d(e,t,n){if(n)return e.reduce(((e,a)=>{const o=c("string"==typeof a?null==t?void 0:t[a]:a,n);return o?Math.min(o,e??1/0):e}),void 0)}},67526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,r=s(e),i=r[0],c=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,i,c)),d=0,u=c>0?i-4:i;for(n=0;n<u;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;return 2===c&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,l[d++]=255&t),1===c&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t),l},t.fromByteArray=function(e){for(var t,a=e.length,o=a%3,r=[],i=16383,s=0,l=a-o;s<l;s+=i)r.push(c(e,s,s+i>l?l:s+i));return 1===o?(t=e[a-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[a-2]<<8)+e[a-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),r.join("")};for(var n=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)n[i]=r[i],a[r.charCodeAt(i)]=i;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,a){for(var o,r,i=[],s=t;s<a;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(n[(r=o)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},75357:(e,t,n)=>{"use strict";n.d(t,{Z3:()=>d,Uj:()=>u,dL:()=>p,A:()=>l,bo:()=>f});const a={Element:{props:["clientLeft","clientTop","clientWidth","clientHeight","scrollWidth","scrollHeight","scrollLeft","scrollTop"],methods:["getClientRects","getBoundingClientRect","scrollBy","scrollTo","scrollIntoView","scrollIntoViewIfNeeded"]},HTMLElement:{props:["offsetLeft","offsetTop","offsetWidth","offsetHeight","offsetParent","innerText"],methods:["focus"]},window:{props:["scrollX","scrollY","innerHeight","innerWidth"],methods:["getComputedStyle"]},VisualViewport:{props:["height","width","offsetTop","offsetLeft"]},Document:{props:["scrollingElement"],methods:["elementFromPoint"]},HTMLInputElement:{methods:["select"]},MouseEvent:{props:["layerX","layerY","offsetX","offsetY"]},Range:{methods:["getClientRects","getBoundingClientRect"]}};let o=console.error;const r=new Map;let i,s="measure",c=!1;function l(e){s=e}function d(){c||(c=!0,Object.entries(a).forEach((e=>{let[t,n]=e;const a=window[t];if(!a)return;const o="object"==typeof a?a:a.prototype;"props"in n&&n.props.forEach((e=>{var n;const a=null===(n=Object.getOwnPropertyDescriptor(o,e))||void 0===n?void 0:n.get;a&&(r.set(`${t}#${e}`,a),Object.defineProperty(o,e,{get(){return h(e),a.call(this)}}))})),"methods"in n&&n.methods.forEach((e=>{const n=o[e];r.set(`${t}#${e}`,n),o[e]=function(){h(e);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n.apply(this,a)}}))})),i=new MutationObserver((e=>{"mutate"!==s&&e.forEach((e=>{let{target:t,type:n,attributeName:a}=e;document.contains(t)&&(m.has(t)||"childList"===n&&t instanceof HTMLElement&&t.contentEditable||null!=a&&a.startsWith("data-")||o(new Error(`Unexpected mutation detected: \`${"attributes"===n?a:n}\``)))})),m.clear()})),i.observe(document.body,{childList:!0,attributes:!0,subtree:!0,characterData:!1}))}function u(e){if("mutate"!==s)throw new Error("The current phase is 'measure'");s="measure";const t=e();return s="mutate",t}const m=new Set;function p(e,t){if("measure"!==s)throw new Error("The current phase is 'mutate'");return c&&(Array.isArray(t)?t.forEach((e=>{m.add(e)})):m.add(t)),e()}function f(e){if(!c)return e();var t;c&&(null===(t=i)||void 0===t||t.disconnect(),i=void 0,Object.entries(a).forEach((e=>{let[t,n]=e;const a=window[t];if(!a)return;const o="object"==typeof a?a:a.prototype;"props"in n&&n.props.forEach((e=>{const n=r.get(`${t}#${e}`);n&&Object.defineProperty(o,e,{get:n})})),"methods"in n&&n.methods.forEach((e=>{o[e]=r.get(`${t}#${e}`)}))})),r.clear(),c=!1);const n=e();return d(),n}function h(e){"measure"!==s&&o(new Error(`Unexpected measurement detected: \`${e}\``))}},76944:(e,t,n)=>{"use strict";n.d(t,{p:()=>v,R:()=>g});var a=n(55029),o=n(5130),r=n(37836),i=n(82393),s=n(31481),c=n(54218),l=n(94465);const d=150,u=5e3;let m,p,f,h=!1;function g(e,t){m=e,f||(p=new Worker(new URL(n.p+n.u(941),n.b)),f=(0,o.U$)(p,e),function(e){(0,c.p)(l,s.Pcx,e,!0)}(p)),h||(i.pz&&window.addEventListener("focus",(()=>{b(),setTimeout((()=>b()),1e3)})),h=!0);const a="function"==typeof t?t():t;return f.init(a)}async function v(e){if(f)try{for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const r=await f.request({name:e,args:n});return(0,a.kJ)(`callApi: ${e}`,n,r),r}catch(e){return}else(0,a.SJ)("API is not initialized when calling",e)}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return f.request({name:e,args:n})}const y=Date.now();async function b(){let e=!1;try{await Promise.race([w("ping"),(0,r.v7)(d).then((()=>e?void 0:Promise.reject(new Error("HEALTH_CHECK_TIMEOUT"))))])}catch(e){var t;(0,a.SJ)("ensureWorkerPing",e),Date.now()-y>=u&&(null===(t=p)||void 0===t||t.terminate(),p=void 0,f=void 0,m({type:"requestReconnectApi"}))}finally{e=!0}}},82393:(e,t,n)=>{"use strict";n.d(t,{$:()=>F,$q:()=>S,By:()=>v,ED:()=>L,Et:()=>M,Fe:()=>I,H8:()=>m,KI:()=>x,Kc:()=>U,Lv:()=>A,MP:()=>u,Ni:()=>h,TF:()=>b,XS:()=>R,Yw:()=>g,ZH:()=>O,_7:()=>l,bA:()=>_,bs:()=>D,cp:()=>k,iF:()=>E,ig:()=>p,pr:()=>w,pz:()=>f,sC:()=>T,u2:()=>C,uh:()=>B,v3:()=>W,vj:()=>N,xy:()=>P});var a,o=n(31481),r=n(66644),i=n(51915),s=n(36791);const c=new Set(["android","android_x","ios"]),l=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),d=(0,s.u)(),u="macOS"===d,m="Windows"===d,p="Linux"===d,f="iOS"===d,h="Android"===d,g=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),v=navigator.userAgent.includes(" OPR/"),w=navigator.userAgent.includes(" Edg/"),y=navigator.userAgent.includes("Firefox/"),b=window.matchMedia("(pointer: coarse)").matches,E=Boolean(null===(a=window.chrome)||void 0===a?void 0:a.system),k=Boolean(window.electron),C=!(o.UMQ||k||o.hL1||o.tKX),N="en",S=function(){if(o.TI6)return"en";const{language:e}=navigator,t=e.startsWith("zh")?e.endsWith("TW")||e.endsWith("HK")?"zh-Hant":"zh-Hans":e.substring(0,2);return o.gSB.some((e=>{let{langCode:n}=e;return n===t}))?t:"en"}(),A=window.devicePixelRatio||1,T=o.UMQ||!(o.TI6||f||o.v5B||o.tKX),I=n.g.location.hash.startsWith(i.jT),B=Boolean(!o.UMQ&&!o.tKX&&window.navigator.credentials&&(!k||u)),_=o.UMQ&&n.g.location.search.startsWith("?bottom-sheet"),x=o.UMQ&&f&&!_&&!function(){const{userAgent:e,platform:t}=window.navigator;return"iPad"===t||e.includes("iPad")||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2}(),D="BroadcastChannel"in window&&!I,L=o.hL1||k||o.UMQ,O=f&&o.UMQ,P=h&&o.UMQ,M=!(y||o.v5B||o.tKX),F=parseInt(getComputedStyle(document.documentElement).fontSize,10),R=(u&&k?-3:-3.75)*F;function U(){const e=document.createElement("div");e.style.cssText="overflow-x: hidden; overflow-y: scroll; visibility:hidden; position:absolute;",e.classList.add("custom-scroll"),document.body.appendChild(e),(0,r.gm)((()=>{const t=e.offsetWidth-e.clientWidth;return()=>{document.documentElement.style.setProperty("--scrollbar-width",`${t}px`),e.remove()}}))}function W(){var e;return o.tKX&&c.has((null===(e=window.Telegram)||void 0===e?void 0:e.WebApp.platform)??"")}},86243:(e,t,n)=>{"use strict";n.d(t,{LG:()=>i,S:()=>s,cK:()=>o,zu:()=>r});var a=n(91049);function o(e){const t=e.split("-"),[n,a="mainnet"]=3===t.length?[t[0],t[2]]:t;return{id:Number(n),network:a}}function r(e){const{id:t,network:n}=e;return`${t}-${n}`}function i(e){return e.ton??Object.values(e).find(Boolean)}function s(e){return e.title||(0,a.W)(i(e.addressByChain)??"")}},87894:(e,t,n)=>{"use strict";function a(e,t){return e.reduce(((e,n)=>(e[n[t]]=n,e)),{})}function o(e,t){return e.reduce(((e,n)=>{const a=n[t];return e[a]?e[a].push(n):e[a]=[n],e}),{})}function r(e,t){return Object.keys(e).reduce(((n,a,o)=>(n[a]=t(e[a],a,o,e),n)),{})}function i(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}function s(e,t){return t.reduce(((t,n)=>(e[n]&&(t[n]=e[n]),t)),{})}function c(e,t){const n=new Set(t.map(String));return i(e,Object.keys(e).filter((e=>!n.has(e))))}function l(e){return Object.keys(e).reduce(((t,n)=>{const a=n;return void 0!==e[a]&&(t[a]=e[a]),t}),{})}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";function a(e,t,n,a){const o=("function"==typeof n?n(e):e[n])||0,r=("function"==typeof n?n(t):t[n])||0;return o===r?0:(a?o>r:o<r)?1:-1}if(Array.isArray(t)){const[o,r]=Array.isArray(n)?n:[n,n],[i,s]=t,c="asc"===o,l="asc"===r;return e.sort(((e,t)=>a(e,t,i,c)||a(e,t,s,l)))}const o="asc"===n;return e.sort(((e,n)=>a(e,n,t,o)))}function u(e){return Array.from(new Set(e))}function m(e){return e.filter(Boolean)}function p(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}function f(e){return g(e)?Array.isArray(e)?e.map(f):Object.keys(e).reduce(((t,n)=>(t[n]=f(e[n]),t)),{}):e}function h(e){return g(e)&&!Array.isArray(e)}function g(e){return"object"==typeof e&&null!==e}function v(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return e[n]}function w(e,t){return e.map((e=>e[t]))}function y(e,t){const n=new Set(t),a=[];for(const t of e)n.has(t)||a.push(t);return a}function b(e,t){return Object.keys(e).reduce(((n,a,o)=>(t(e[a],a,o,e)&&(n[a]=e[a]),n)),{})}function E(e){const t={};for(const[n,a]of Object.entries(e))t[a]=n;return t}n.d(t,{$z:()=>o,Am:()=>u,Hl:()=>y,JY:()=>w,LG:()=>r,My:()=>d,Oy:()=>l,Uk:()=>v,Up:()=>i,V6:()=>E,Vh:()=>h,_E:()=>s,cJ:()=>c,dU:()=>a,k:()=>p,lk:()=>b,mg:()=>f,oE:()=>m})},91049:(e,t,n)=>{"use strict";n.d(t,{V:()=>o,W:()=>r});var a=n(19314);const o=6,r=(0,a.A)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(e)return e.length<=t+n+3?e:`${e.slice(0,t)}···${e.slice(-n)}`}))},94465:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capacitorStorageClear:()=>u,capacitorStorageGetItem:()=>c,capacitorStorageKeys:()=>m,capacitorStorageRemoveItem:()=>d,capacitorStorageSetItem:()=>l,init:()=>s,localStorageClear:()=>v,localStorageGetAll:()=>w,localStorageGetItem:()=>f,localStorageGetMany:()=>y,localStorageRemoveItem:()=>g,localStorageSetItem:()=>h,localStorageSetMany:()=>b});var a=n(31481);let o,r;const i=new Promise((e=>{r=e}));async function s(){a.UMQ&&!o&&(({SecureStoragePlugin:o}=await n.e(201).then(n.bind(n,5054))),r())}async function c(e){var t;return await i,null===(t=await o.get({key:e}).catch((e=>{if(!("string"==typeof e?e:e.message).includes("key does not exist"))throw e})))||void 0===t?void 0:t.value}async function l(e,t){return await i,o.set({key:e,value:t})}async function d(e){return await i,o.remove({key:e})}async function u(){return await i,o.clear()}async function m(){return await i,o.keys()}var p=n(87894);function f(e){return localStorage.getItem(e)}function h(e,t){return localStorage.setItem(e,t)}function g(e){return localStorage.removeItem(e)}function v(){return localStorage.clear()}function w(){return{...localStorage}}function y(e){return(0,p.Up)(localStorage,e)}function b(e){Object.assign(localStorage,e)}},99544:(e,t,n)=>{"use strict";n.d(t,{HN:()=>i,Vq:()=>r});const a=120,o=new Set(["DisconnectedDeviceDuringOperation","TransportRaceCondition"]);function r(e){return function(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>127)return!1;return!0}(e)&&function(e){return e.length<=a}(e)}function i(e){return o.has(e)}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return o[e].call(n.exports,n,n.exports,i),n.exports}i.m=o,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"==typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,i.d(o,r),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+"."+{88:"624986b76c0ad075690b",104:"d3d0658321759c7a1c20",106:"4f3d72aecd28d192bbee",115:"91298d679585917d2a7c",148:"d4136b6a5ecf56ede3d7",168:"f08bfcfdc8c60a24e8ed",196:"47374b197e148f7562b8",201:"a9df2475054636d04195",215:"02897e46fb157ff77165",283:"8137301fc53480049325",355:"2c726ad1bf56ac5011de",408:"4a5a307a8a814b280078",411:"f3fddccbfc7a4f1d09cc",477:"b487be8764000f2f30c2",513:"ebadc095aa3ee931d37b",524:"e96398ed8fa2620171f0",542:"8b97033f3a252281472f",564:"652088edade4d9ed67f5",580:"82f879326ce5b9c846f1",612:"209737ae0d82b434ab41",642:"0cbff8d83531f17fc7b4",789:"ee1e19d801c1e8bfab4d",884:"b0155df7dd4719a9838e",895:"91b32485bcc6a9f2cef6",897:"b0aa8daaa0f11c289b24",941:"683488c878ee093fbd00",949:"10c81af08aa931279b35",956:"1c3822f193a3d67e6aa6",973:"8069d508cb08d6a3b5f3",988:"5ebba37989fff908c5a9"}[e]+".js",i.miniCssF=e=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},a="mytonwallet:",i.l=(e,t,o,r)=>{if(n[e])n[e].push(t);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==a+o){s=u;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",a+o),s.src=e),n[e]=[t];var m=(t,a)=>{s.onerror=s.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(a))),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{i.b=document.baseURI||self.location.href;var e={792:0,840:0};i.f.j=(t,n)=>{var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise(((n,o)=>a=e[t]=[n,o]));n.push(a[2]=o);var r=i.p+i.u(t),s=new Error;i.l(r,(n=>{if(i.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,a[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,o,[r,s,c]=n,l=0;if(r.some((t=>0!==e[t]))){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);c&&c(i)}for(t&&t(n);l<r.length;l++)o=r[l],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkmytonwallet=self.webpackChunkmytonwallet||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=i(31481),t=i(55029),n=i(82393),a=i(76944);function o(e,t){if(e===t)return!0;const n=Object.keys(e),a=n.length;if(a!==Object.keys(t).length)return!1;if(0===a)return!0;for(let o=0;o<a;o++){const a=n[o];if(e[a]!==t[a])return!1}return!0}function r(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const o=Object.keys(e);o.length===Object.keys(t).length?(console.log(n),o.forEach((n=>{e[n]!==t[n]&&console.log(a,n,":",e[n],"=>",t[n])}))):console.log(`${n} LENGTH`)}var s=i(2188),c=i(87894),l=i(37836),d=i(19822);const u=new Set(["TeactMemoWrapper renders","TeactNContainer renders","Button renders"]);let m={};const p=(0,l.nF)((function(){f||function(){f=document.createElement("div"),f.style.cssText="position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px; border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 12px; color: black;",document.body.appendChild(f);const e=document.createElement("a");e.style.cssText="position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; cursor: pointer;",e.innerText="🔄",e.addEventListener("click",(()=>{m={},p()})),document.body.appendChild(e)}();const e=Date.now()-500,[t,n]=Object.entries(m).reduce(((e,t)=>{let[n,{value:a}]=t;return u.has(n)||(n.includes("renders")&&a>e[0]&&(e[0]=a),n.includes("duration")&&a>e[1]&&(e[1]=a)),e}),[0,0]);f.innerHTML="",Object.entries(m).filter((e=>{let[t,{value:n}]=e;return!u.has(t)&&(t.includes("renders")&&n>5||t.includes("duration")&&n>2)})).sort(((e,t)=>t[1].lastUpdateAt-e[1].lastUpdateAt)).forEach((a=>{let[o,{value:r,lastUpdateAt:i}]=a;const s=document.createElement("span");s.style.background=i>e?"lightgreen":"",s.textContent=`${o}: ${Math.round(r)}`;const c=document.createElement("div");var l;c.style.background=`#ff0000${l=r/(o.includes("renders")?t:n),Math.round(255*l).toString(16).padStart(2,"0")}`,c.append(s),f.append(c)}))}),500,!1);let f;function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=Date.now();m[e]?(m[e].value+=t,m[e].lastUpdateAt=n):m[e]={value:t,lastUpdateAt:n},p()}var g=i(50110);function v(){const e=new Set;function t(t){e.delete(t)}return{runCallbacks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e.forEach((e=>{e(...n)}))},addCallback:function(n){return e.add(n),()=>{t(n)}},removeCallback:t,hasCallbacks:function(){return Boolean(e.size)}}}const w=Symbol("SIGNAL_MARK");function y(e){return"function"==typeof e&&w in e}const b=new Map;function E(e){const t={value:e,effects:v()};function n(e){const n=t.effects.addCallback(e);return b.has(e)?b.get(e).add(n):b.set(e,new Set([n])),()=>{n();const t=b.get(e);t.delete(n),t.size||b.delete(e)}}return[Object.assign((function(){return t.value}),{[w]:w,subscribe:n,once:function(e){const t=n((()=>{t(),e()}));return t}}),function(e){t.value!==e&&(t.value=e,t.effects.runCallbacks())}]}var k=i(66644);let C=0,N=0;const[S,A]=E(!1),[T,I]=E(!1),B=S;function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];C++,1===C&&A(!0),t&&(N++,1===N&&I(!0));const n=window.setTimeout(o,e);let a=!1;function o(){a||(a=!0,clearTimeout(n),C--,0===C&&A(!1),t&&(N--,0===N&&I(!1)))}return o}function x(e){(0,l.kI)((()=>{S()?(0,k.YS)((()=>{x(e)})):e()}))}let D=function(e){return e[e.Empty=0]="Empty",e[e.Text=1]="Text",e[e.Tag=2]="Tag",e[e.Component=3]="Component",e[e.Fragment=4]="Fragment",e}({}),L=function(e){return e[e.Mounting=0]="Mounting",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted",e}({});const O=Symbol("Fragment"),P=new Set(["TeactMemoWrapper","TeactNContainer","Button","ListItem","MenuItem"]);let M,F=0;function R(e){return e.type===D.Tag||e.type===D.Component||e.type===D.Fragment}function U(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return e===O?function(e){return{type:D.Fragment,children:H(e,!0)}}(a):"function"==typeof e?function(e,t,n){null!=n&&n.length&&(t.children=1===n.length?n[0]:n);const a={id:-1,$element:void 0,Component:e,name:e.name,props:t,mountState:L.Unmounted};return a.$element=W(a),a.$element}(e,t||{},a):function(e,t,n){return{type:D.Tag,tag:e,props:t,children:H(n)}}(e,t||{},a)}function W(e,t){return{type:D.Component,componentInstance:e,props:e.props,children:t?H(t,!0):[]}}function H(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length-1;for(;n>=0&&$(e[n]);n--);return n===e.length-1?e:-1===n&&t?e.slice(0,1):e.slice(0,n+1)}(e,t),a=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];Array.isArray(o)?a.push(...H(o,t)):a.push(V(o))}return a}function $(e){return!e&&0!==e}function V(e){return $(e)?{type:D.Empty}:R(e)?e:{type:D.Text,value:String(e)}}const z={TOTAL:{name:"TOTAL",renders:0}},K={};document.addEventListener("dblclick",(()=>{console.warn("COMPONENTS",(0,c.My)(Object.values(z).map((e=>{let{avgRenderTime:t,...n}=e;return{...n,...void 0!==t&&{avgRenderTime:Number(t.toFixed(2))}}})),"renders","desc")),console.warn("MEMOS",(0,c.My)(Object.values(K).filter((e=>{let{calls:t}=e;return t>=20})).map((e=>({...e,hitRate:Number(e.hitRate.toFixed(2))}))),"hitRate","asc"))}));let q=new Set,j=new Set,Y=new Map,G=new Map,Q=new Map,X=new Map,J=!1;const Z=(0,l.nb)(k.YS,(()=>{if(T())return void T.once(Z);const e=ee();j=new Set;const t=Array.from(q).sort(((e,t)=>e.id-t.id));q=new Set;const n=G;G=new Map,n.forEach((e=>e()));const a=Y;Y=new Map,a.forEach((e=>e())),(0,k.RK)((()=>{t.forEach(re),t.forEach((e=>{j.has(e.id)||function(e){if(e.mountState===L.Unmounted||!e.onUpdate)return;const t=e.$element;ne(e),e.$element!==t&&e.onUpdate()}(e)})),null==e||e()}))}));function ee(){if(!J)return J=!0,te}function te(){const e=X;X=new Map,e.forEach((e=>e()));const t=Q;Q=new Map,t.forEach((e=>e())),J=!1}function ne(t){j.add(t.id);const{Component:n,props:a}=t;let o;if((0,g.A)((()=>{let r;if(M=t,t.hooks&&(t.hooks.state&&(t.hooks.state.cursor=0),t.hooks.effects&&(t.hooks.effects.cursor=0),t.hooks.memos&&(t.hooks.memos.cursor=0),t.hooks.refs&&(t.hooks.refs.cursor=0)),e.Oig){const t=he(n);z[t]||(z[t]={name:t,renders:0,avgRenderTime:0}),e.MVx&&(P.has(t)||console.log(`[Teact] Render ${t}`)),r=performance.now()}if(o=n(a),e.Oig){const t=performance.now()-r,a=he(n);t>7&&console.warn(`[Teact] Slow component render: ${a}, ${Math.round(t)} ms`);const{renders:o,avgRenderTime:i}=z[a];z[a].avgRenderTime=(i*o+t)/(o+1),z[a].renders++,z.TOTAL.renders++,e.MVx&&(h(`${a} renders`),h(`${a} duration`,t))}}),{rescue:()=>{console.error(`[Teact] Error while rendering component ${t.name}`,t),o=t.renderedValue}}),t.mountState===L.Mounted&&o===t.renderedValue)return t.$element;t.renderedValue=o;const r=Array.isArray(o)?o:[o];return t.$element=W(t,r),t.$element}function ae(e,t){return typeof e!=typeof t||e.type!==t.type||(e.type===D.Text&&t.type===D.Text?e.value!==t.value:e.type===D.Tag&&t.type===D.Tag?e.tag!==t.tag||e.props.key!==t.props.key:e.type===D.Component&&t.type===D.Component&&(e.componentInstance.Component!==t.componentInstance.Component||e.props.key!==t.props.key))}function oe(e){var t;if(e.mountState!==L.Unmounted){if(j.add(e.id),null!==(t=e.hooks)&&void 0!==t&&t.effects)for(const t of e.hooks.effects.byCursor){var n;t.cleanup&&(0,g.A)(t.cleanup),t.cleanup=void 0,null===(n=t.releaseSignals)||void 0===n||n.call(t)}e.mountState=L.Unmounted,function(e){const{effects:t,state:n,memos:a,refs:o}=e.hooks||{};if(t)for(const e of t.byCursor)e.schedule=void 0,e.cleanup=void 0,e.releaseSignals=void 0,e.dependencies=void 0;if(n)for(const e of n.byCursor)e.value=void 0,e.nextValue=void 0,e.setter=void 0;if(a)for(const e of a.byCursor)e.value=void 0,e.dependencies=void 0;if(o)for(const e of o.byCursor)e.current=void 0,e.onChange=void 0;e.hooks=void 0,e.$element=void 0,e.renderedValue=void 0,e.onUpdate=void 0}(e)}}function re(e){var t;if(e.mountState!==L.Unmounted&&null!==(t=e.hooks)&&void 0!==t&&t.state)for(const t of e.hooks.state.byCursor)t.value=t.nextValue}function ie(t,n){M.hooks||(M.hooks={}),M.hooks.state||(M.hooks.state={cursor:0,byCursor:[]});const{cursor:a,byCursor:o}=M.hooks.state,r=M;return void 0===o[a]&&(o[a]={value:t,nextValue:t,setter:t=>{r.mountState!==L.Unmounted&&("function"==typeof t&&(t=t(o[a].nextValue)),o[a].nextValue!==t&&(o[a].nextValue=t,q.add(r),Z(),e.MVx&&console.log("[Teact.useState]",he(r.Component),`State update at cursor #${a}${n?` (${n})`:""}, next value: `,o[a].nextValue)))}}),M.hooks.state.cursor++,[o[a].value,o[a].setter]}function se(t,n,a,o){M.hooks||(M.hooks={}),M.hooks.effects||(M.hooks.effects={cursor:0,byCursor:[]});const{cursor:r,byCursor:i}=M.hooks.effects,s=i[r],c=M;function l(){!function(t,n,a,o){var r;const{byCursor:i}=t.hooks.effects,s=null===(r=i[n])||void 0===r?void 0:r.cleanup,c=o?X:G,l=o?Q:Y,d=`${t.id}_${n}`;if(s){const a=()=>(0,g.A)((()=>{if(t.mountState===L.Unmounted)return;let a;if(e.Oig&&(a=performance.now()),s(),e.Oig){const e=performance.now()-a,o=he(t.Component);e>7&&console.warn(`[Teact] Slow cleanup at effect cursor #${n}: ${o}, ${Math.round(e)} ms`)}}),{rescue:()=>{console.error(`[Teact] Error in effect cleanup at cursor #${n} in ${t.name}`,t)},always:()=>{i[n].cleanup=void 0}});c.set(d,a)}l.set(d,(()=>(0,g.A)((()=>{if(t.mountState===L.Unmounted)return;let o;e.Oig&&(o=performance.now());const r=a();if("function"==typeof r&&(i[n].cleanup=r),e.Oig){const e=performance.now()-o,a=he(t.Component);e>7&&console.warn(`[Teact] Slow effect at cursor #${n}: ${a}, ${Math.round(e)} ms`)}}),{rescue:()=>{console.error(`[Teact] Error in effect at cursor #${n} in ${t.name}`,t)}}))),Z()}(c,r,n,t)}if(a&&null!=s&&s.dependencies){if(a.some(((e,t)=>e!==s.dependencies[t]))){if(e.Oig&&o){const e=a.reduce(((e,t,n)=>{const a=s.dependencies[n];return t!==a&&e.push(`${n}: ${String(a)} => ${String(t)}`),e}),[]);console.log(`[Teact] Effect "${o}" caused by dependencies.`,e.join(", "))}l()}}else o&&console.log(`[Teact] Effect "${o}" caused by missing dependencies.`),l();s&&(s.schedule=void 0),i[r]={...s,dependencies:a,schedule:l},s||(i[r].releaseSignals=function(){const e=null==a?void 0:a.filter(y).map(((e,t)=>e.subscribe((()=>{o&&console.log(`[Teact] Effect "${o}" caused by signal #${t} new value:`,e()),i[r].schedule()}))));if(null!=e&&e.length)return()=>{for(const t of e)t()}}()),M.hooks.effects.cursor++}function ce(e,t,n){return se(!1,e,t,n)}function le(e,t,n){return se(!0,e,t,n)}function de(t,n,a,o){M.hooks||(M.hooks={}),M.hooks.memos||(M.hooks.memos={cursor:0,byCursor:[]});const{cursor:i,byCursor:s}=M.hooks.memos;let c,{value:l}=s[i]||{};if(e.Oig&&o){const e=`${o}#${M.id}`;c=K[e],c||(c={key:e,calls:0,misses:0,hitRate:0},K[e]=c),c.calls++,c.hitRate=(c.calls-c.misses)/c.calls}if(void 0===s[i]||n.length!==s[i].dependencies.length||n.some(((e,t)=>e!==s[i].dependencies[t]))){if(e.Oig){if(a){const e=`[Teact.useMemo] ${M.name} (${a}): Update is caused by:`;s[i]?r(s[i].dependencies,n,e,a):console.log(`${e} [first render]`)}c&&(c.misses++,c.hitRate=(c.calls-c.misses)/c.calls,c.calls%10==0&&c.calls>=20&&c.hitRate<.25&&console.warn(`[Teact] ${c.key}: Hit rate is ${c.hitRate.toFixed(2)} for ${c.calls} calls`))}l=t()}return s[i]={value:l,dependencies:n},M.hooks.memos.cursor++,l}function ue(e,t,n){return de((()=>e),t,n)}function me(e){M.hooks||(M.hooks={}),M.hooks.refs||(M.hooks.refs={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=M.hooks.refs;return n[t]||(n[t]={current:e}),M.hooks.refs.cursor++,n[t]}function pe(e){const t=me();return t.current??=E(e),t.current}function fe(t,n){function a(a){return de((()=>U(t,a)),Object.values(a),n,e.MVx?he(M.Component):void 0)}return a.DEBUG_contentComponentName=he(t),a}function he(e){const{name:t,DEBUG_contentComponentName:n}=e;return"TeactNContainer"===t?`container>${n}`:"TeactMemoWrapper"===t?`memo>${n}`:"TeactContextProvider"===t?`context>id${n}`:t+(n?`>${n}`:"")}const ge={createElement:U,Fragment:O},ve=()=>{const[,e]=ie(!1);return ue((()=>{e((e=>!e))}),[])};var we=i(14235);const ye=function(e){ce(e,[])},be=function(e,t){const n=me(),{current:a}=n;return t&&void 0===e||(n.current=e),a};function Ee(e,t){const n=be(t),a=me();var o;n&&!t.some(((e,t)=>e!==n[t]))||(null===(o=a.current)||void 0===o||o.call(a),a.current=e(n||[])??void 0),ye((()=>()=>{var e;null===(e=a.current)||void 0===e||e.call(a)}))}function ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=me();return Ee((()=>{t.current=e+(0,we.A)()}),[e]),t.current}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ce.apply(null,arguments)}const Ne=ge;let Se,Ae={isInited:!1};const Te=(0,l.Fe)((()=>{Se=Math.random()})),Ie={},Be=[function(){let t;e.Oig&&(t=performance.now());for(const t of xe.values()){const{mapStateToProps:n,ownProps:a,mappedProps:i,forceUpdate:c}=t;if(!He(t,Ae,a))continue;let l;try{l=n(Ae,a)}catch(e){return void(0,s.H)(e)}e.Oig&&Object.values(l).some(Number.isNaN)&&console.warn(`[TeactN] Some of \`${t.DEBUG_componentName}\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`),Object.keys(l).length&&!o(i,l)&&(e.MVx&&r(i,l,`[TeactN] Will update ${t.DEBUG_componentName} caused by:`),t.mappedProps=l,t.DEBUG_updates++,c())}if(e.Oig){const e=performance.now()-t;e>7&&console.warn(`[TeactN] Slow containers update: ${Math.round(e)} ms`)}}],_e={},xe=new Map,De=(0,l.Fe)(Oe);let Le=!0;function Oe(){if(Le)Le=!1;else if(B())return void B.once(De);Be.forEach((e=>e(Ae)))}function Pe(t,n){if("object"==typeof t&&t!==Ae){if(e.Oig){if((null==n||!n.forceOutdated)&&t.DEBUG_randomId&&t.DEBUG_randomId!==Se)throw new Error("[TeactN.setGlobal] Attempt to set an outdated global");Se=Math.random()}Ae=t,null!=n&&n.forceSyncOnIOs?(Le=!0,Oe()):(null!=n&&n.forceOnHeavyAnimation&&(Le=!0),De())}}function Me(){return e.Oig&&(Ae={...Ae,DEBUG_randomId:Se},Te()),Ae}function Fe(){return _e}function Re(){Le=!0}let Ue=[];function We(e){Be.push(e)}function He(e,t,n){const{activationFn:a,stuckTo:o}=e;return!a||a(t,n,(t=>o?o===t:(void 0!==t&&(e.stuckTo=t),!0)))}e.Oig&&(window.getGlobal=Me,window.setGlobal=Pe,window.getActions=Fe,document.addEventListener("dblclick",(()=>{console.warn("GLOBAL CONTAINERS",(0,c.My)(Array.from(xe.values()).map((e=>{let{DEBUG_componentName:t,DEBUG_updates:n}=e;return{DEBUG_componentName:t,DEBUG_updates:n}})),"DEBUG_updates","desc"))})));const $e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>({}),t=arguments.length>1?arguments[1]:void 0;return n=>{function a(a){const r=ke(),i=ve();!function(){M.hooks||(M.hooks={}),M.hooks.effects||(M.hooks.effects={cursor:0,byCursor:[]});const{cursor:e,byCursor:t}=M.hooks.effects;t[e]||(t[e]={cleanup:()=>{xe.delete(r)}}),M.hooks.effects.cursor++}();let c=xe.get(r);if(c||(c={mapStateToProps:e,activationFn:t,ownProps:a,forceUpdate:i,DEBUG_updates:0,DEBUG_componentName:n.name},xe.set(r,c)),(!c.mappedProps||!o(c.ownProps,a))&&He(c,Ae,a))try{c.mappedProps=e(Ae,a)}catch(e){(0,s.H)(e)}return c.ownProps=a,ge.createElement(n,Ce({},c.mappedProps,a))}return a.DEBUG_contentComponentName=he(n),a}},Ve=Me,ze=Pe,Ke=Fe,qe=function(t,n){Ie[t]||(Ie[t]=[],_e[t]=(n,a)=>{!function(t,n,a){if(Ue.push((()=>{var o;null===(o=Ie[t])||void 0===o||o.forEach((t=>{const o=t(e.Oig?Me():Ae,_e,n);o&&"function"!=typeof o.then&&Pe(o,a)}))})),1===Ue.length)try{for(;Ue.length;)Ue[0](),Ue.shift()}finally{Ue=[]}}(t,n,a)}),Ie[t].push(n)},je=$e;var Ye=i(86243);function Ge(e){return!Qe(e,0)}function Qe(e,t){if(t<0)return!0;let n=0;for(const a in e)if(e.hasOwnProperty(a)&&(n++,n>t))return!0;return!1}function Xe(t){return!e.twH&&"view"===t}const Je=new WeakMap;function Ze(e,t){const n=function(){const n=Je.get(e),a=Date.now();for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if(n){const e=n.isDisabledUntil&&n.isDisabledUntil>a,o=t&&n.lastTime+1e3*t<a;if(!e&&!o&&(0,c.k)(n.lastArgs,r))return n.lastResult}const s=e(...r);return Je.set(e,{...n,lastArgs:r,lastResult:s,lastTime:a}),s};return n.disableCache=t=>{const n=Je.get(e);n&&(n.isDisabledUntil=Date.now()+1e3*t)},n}var et=i(19314);function tt(e){var t;return null===(t=e.accounts)||void 0===t?void 0:t.byId}const nt=Ze(((e,t)=>{if(t)return Object.fromEntries(Object.entries(t).filter((t=>{let[n]=t;return(0,Ye.cK)(n).network===e})))}));function at(e){var t;return nt(ot(e),null===(t=e.accounts)||void 0===t?void 0:t.byId)}function ot(e){return e.settings.isTestnet?"testnet":"mainnet"}function rt(e){return it(e,e.currentAccountId)}function it(e,t){var n;return null===(n=tt(e))||void 0===n?void 0:n[t]}function st(e){return ct(e,e.currentAccountId)}function ct(e,t){return e.byAccountId[t]}function lt(e,t){return e.settings.byAccountId[t]}function dt(e){return lt(e,e.currentAccountId)}function ut(e){return"hardware"===e.type}function mt(e){const t=rt(e);return Boolean(t)&&ut(t)}function pt(e,t){const n=tt(e);return Object.entries(n??{}).reduce(((e,n)=>{let[a,o]=n;return ut(o)&&(0,Ye.cK)(a).network===t&&e.push(o),e}),[])}function ft(e){return 1===Object.keys(tt(e)||{}).length}const ht=(0,et.A)((e=>Ze((e=>(e??[]).filter((e=>{let{isDisabled:t}=e;return!t})).length))));function gt(e){return"mnemonic"===e.type}function vt(e){const t=rt(e);return Boolean(t)&&gt(t)}const wt=Ze((e=>Object.values(e??{}).some(gt)));function yt(e){return wt(tt(e))}function bt(e,t){var n;return((null===(n=ct(e,t))||void 0===n||null===(n=n.vesting)||void 0===n?void 0:n.info)||[]).reduce(((e,t)=>(t.parts.forEach((n=>{"ready"===n.status&&e.push({id:t.id,partId:n.id})})),e)),[])}function Et(e,t,n){var a;return null===(a=ct(e,t))||void 0===a||null===(a=a.nfts)||void 0===a||null===(a=a.byAddress)||void 0===a?void 0:a[n]}function kt(e,t){var n;const a=null===(n=it(e,t))||void 0===n?void 0:n.addressByChain;return Boolean(a)&&Qe(a,1)}function Ct(e){const{authConfig:t}=e.settings;return!!t&&"password"!==t.kind}function Nt(e){const{authConfig:t}=e.settings;return!!t&&"native-biometrics"===t.kind}function St(e){const{type:t}=rt(e)||{};return Xe(t)}var At=i(3476);function Tt(e){return"nft:transfer"===(null==e?void 0:e.type)}function It(e){return"tokens:transfer"===(null==e?void 0:e.type)||"tokens:transfer-non-standard"===(null==e?void 0:e.type)}const Bt=Ze((t=>{const n={},a=(e,t)=>{n[e]=(n[e]??0n)+t};let o=!1,r=!1,i=0;for(const n of t??[])n.isScam&&(o=!0),n.isDangerous&&(r=!0),a(e.Tu9.slug,n.amount+n.networkFee),It(n.payload)?a(n.payload.slug,n.payload.amount):Tt(n.payload)&&i++;return{amountsBySlug:n,isScam:o,isDangerous:r,nftCount:i}})),_t=Ze(((t,n,a)=>{if(!n||!a)return;const o=[];for(const[r,i]of Object.entries(t)){const t=a[r];if((n[r===e.Fmr?e.Tu9.slug:r]??0n)<i){const n=r===e.Fmr?e.Tu9.symbol:(null==t?void 0:t.symbol)||r;o.push(n)}}return o.length>0?o.join(", "):void 0}));function xt(e){const{transactions:t}=e.currentDappTransfer;return Bt(t)}function Dt(e){var t;const n=st(e),a=null==n||null===(t=n.balances)||void 0===t?void 0:t.bySlug,o=e.tokenInfo.bySlug,{amountsBySlug:r}=xt(e);return _t(r,a,o)}var Lt=i(398),Ot=i(48805);function Pt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ot.z.roundHalfUp;return new Ot.z(e).round(t,n).toNumber()}const Mt=(0,et.A)((t=>Ze((function(t,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=function(t,n){return Object.keys(t).length===e._bq&&Object.entries(t).every((t=>{let[a,o]=t;const{decimals:r,priceUsd:i}=n.bySlug[a];return(0,Lt.CF)(o,r).mul(i??0).lt(e.Wvq)}))}(t,n);return Object.entries(t).filter((e=>{var t;let[o]=e;return o in n.bySlug&&!(null!==(t=a.deletedSlugs)&&void 0!==t&&t.includes(o))})).map((t=>{var o,s;let[c,l]=t;const{symbol:d,name:u,image:m,decimals:p,cmcSlug:f,color:h,chain:g,tokenAddress:v,codeHash:w,type:y,price:b=0,percentChange24h:E=0,priceUsd:k}=n.bySlug[c],C=(0,Lt.CF)(l,p),N=C.mul(b).round(p).toString(),S=C.mul(k??0).gte(e.Wvq),A=e.kuH.has(w)&&l>0n,T=!(i&&e.Fgn.includes(c)||!r||r&&S||A||(null===(o=a.alwaysShownSlugs)||void 0===o?void 0:o.includes(c)))||(null===(s=a.alwaysHiddenSlugs)||void 0===s?void 0:s.includes(c));return{chain:g,symbol:d,slug:c,amount:l,name:u,image:m,price:b,priceUsd:k,decimals:p,change24h:Pt(E/100,4),isDisabled:T,cmcSlug:f,totalValue:N,color:h,tokenAddress:v,codeHash:w,type:y}})).sort(((t,n)=>{if(o||!a.orderedSlugs){const a=e.oR5.indexOf(t.slug),o=e.oR5.indexOf(n.slug);return-1!==a&&-1!==o&&t.totalValue===n.totalValue?a-o:-1!==a&&-1===o?-1:-1!==o&&-1===a?1:Number(n.totalValue)-Number(t.totalValue)}return a.orderedSlugs.indexOf(t.slug)-a.orderedSlugs.indexOf(n.slug)}))}))));function Ft(e){return Wt(e,e.currentAccountId)}function Rt(e,t){var n;return(null===(n=st(e))||void 0===n||null===(n=n.balances)||void 0===n?void 0:n.bySlug[t])??0n}function Ut(t){return Rt(t,e.Tu9.slug)}function Wt(e,t){var n;const a=null===(n=ct(e,t))||void 0===n||null===(n=n.balances)||void 0===n?void 0:n.bySlug;if(!a||!e.tokenInfo)return;const o=lt(e,t),{areTokensWithNoCostHidden:r,isSortByValueEnabled:i}=e.settings;return Mt(t)(a,e.tokenInfo,o,i,r)}function Ht(t,n){if(n!==e.Tu9.slug)return $t(t,n).tokenAddress}function $t(e,t){return e.tokenInfo.bySlug[t]}function Vt(t){const{isTestnet:n}=t.settings;return $t(t,n?e.GX2.slug:e.oUU.slug)}function zt(e,t){return(Ft(e)??[]).filter((e=>e.chain===t)).reduce(((e,t)=>t.priceUsd*Number(t.amount)>(e?e.priceUsd*Number(e.amount):0)?t:e))}function Kt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(fn(e)?1:0)-(fn(t)?1:0);return 0===a&&(a=e.timestamp-t.timestamp,0===a&&(a=e.id>t.id?1:e.id<t.id?-1:0)),n?a:-a}var qt=i(91049);const jt=new Map;function Yt(t){return(0,qt.W)(t,e.bOf)}function Gt(e){const t=Yt(e);return jt.get(t)}function Qt(e){const{fromAddress:t,amount:n,timestamp:a}=e,o=Gt(t);(!o||o.timestamp<a||o.timestamp===a&&o.amount>n)&&function(e,t,n){const a=Yt(e);jt.set(a,{address:e,amount:t,timestamp:n})}(t,n,a)}function Xt(e){const{fromAddress:t}=e,n=Gt(t);return n&&n.address!==t}function Jt(){jt.clear()}const Zt={stake:["Staked","Staking","$stake_action"],unstake:["Unstaked","Unstaking","$unstake_action"],unstakeRequest:["Unstake Requested","Requesting Unstake","$request_unstake_action"],callContract:["Contract Called","Calling Contract","$call_contract_action"],excess:["Excess","Excess","Excess"],contractDeploy:["Contract Deployed","Deploying Contract","$deploy_contract_action"],bounced:["Bounced","Bouncing","$bounce_action"],mint:["Minted","Minting","$mint_action"],burn:["Burned","Burning","$burn_action"],auctionBid:["NFT Auction Bid","Bidding at NFT Auction","NFT Auction Bid"],dnsChangeAddress:["Address Updated","Updating Address","$update_address_action"],dnsChangeSite:["Site Updated","Updating Site","$update_site_action"],dnsChangeSubdomains:["Subdomains Updated","Updating Subdomains","$update_subdomains_action"],dnsChangeStorage:["Storage Updated","Updating Storage","$update_storage_action"],dnsDelete:["Domain Record Deleted","Deleting Domain Record","$delete_domain_record_action"],dnsRenew:["Domain Renewed","Renewing Domain","$renew_domain_action"],liquidityDeposit:["Liquidity Provided","Providing Liquidity","$provide_liquidity_action"],liquidityWithdraw:["Liquidity Withdrawn","Withdrawing Liquidity","$withdraw_liquidity_action"]},en=new Set(["stake","unstake","unstakeRequest"]),tn=new Set(["dnsChangeAddress","dnsChangeSite","dnsChangeStorage","dnsChangeSubdomains","dnsDelete","dnsRenew"]);function nn(e){const[t,n,a]=e.split(":");return{hash:t,type:a,subId:n}}function an(e){return e.endsWith(":local")}function on(e){switch(e.kind){case"transaction":return e.nft?[]:[e.slug];case"swap":return[e.from,e.to]}}function rn(e){return!(!e||an(e.id)||(t=e.id,t.endsWith(":backend-swap"))||fn(e));var t}function sn(e,t,n){let a,{type:o,isIncoming:r,nft:i}=e;a="nftTrade"===o?r?["NFT Sold","Selling NFT","$sell_nft_action"]:["NFT Bought","Buying NFT","$buy_nft_action"]:o&&Zt[o]?Zt[o]:r?["Received","Receiving","$receive_action"]:["Sent","Sending","$send_action"];let s=n(a["past"===t?0:"present"===t?1:2]);return!i||o&&"mint"!==o&&"burn"!==o||(s+=" NFT"),s}function cn(e){var t;return Boolean(null===(t=e.metadata)||void 0===t?void 0:t.isScam)||e.isIncoming&&Xt(e)}function ln(e){return Boolean(e.comment||e.encryptedComment)&&!en.has(e.type)&&!cn(e)}function dn(e){let{type:t,amount:n,nft:a}=e;return n||void 0===t&&!a?"stake"===t||"unstake"===t?"noSign":"normal":"hide"}function un(t){const{type:n,isIncoming:a,nft:o,toAddress:r,fromAddress:i,extra:s}=t;return"nftTrade"===n?null!=s&&s.marketplace?["list"]:[]:mn(t)||"burn"===n||!a&&o&&r===o.address||a&&"excess"===n&&i===e.pV9?[]:["list","modal"]}function mn(t){let{type:n,isIncoming:a,toAddress:o,fromAddress:r}=t;return en.has(n)&&e.uPU.includes(a?r:o)}function pn(e){return"stake"===e.type&&mn(e)}function fn(e){return"swap"===e.kind?!e.cex&&"pending"===e.status:!!e.isPending}function hn(e,t){const n=[],a=[];for(const t of e)(an(t.id)?n:a).push(t);return{...gn(n,t),...vn(a,t)}}function gn(e,t){const n={};if(!e.length)return n;const a=new Set((0,c.JY)(t,"id")),o=t.filter((e=>!an(e.id)));for(const t of e){const{id:e}=t;if(a.has(e)){n[e]=e;continue}const r=o.find((e=>wn(t,e)));r&&(n[e]=r.id)}return n}function vn(e,t){const n={};if(!e.length)return n;const a=new Set((0,c.JY)(t,"id")),o=(0,c.$z)(t,"externalMsgHashNorm");for(const{id:t,externalMsgHashNorm:r}of e)if(a.has(t))n[t]=t;else if(r){const e=o[r];null!=e&&e.length&&(n[t]=e[0].id,e.length>1&&e.shift())}return n}function wn(e,t){var n;if(null!==(n=e.extra)&&void 0!==n&&n.withW5Gasless){if("transaction"===e.kind&&"transaction"===t.kind)return!t.isIncoming&&e.normalizedAddress===t.normalizedAddress&&e.amount===t.amount&&e.slug===t.slug;if("swap"===e.kind&&"swap"===t.kind)return e.from===t.from&&e.to===t.to&&e.fromAmount===t.fromAmount}return e.externalMsgHashNorm?e.externalMsgHashNorm===t.externalMsgHashNorm&&!t.shouldHide:nn(e.id).hash===nn(t.id).hash}function yn(e,t){var n;return(0,c.LG)((null===(n=ct(e,t))||void 0===n||null===(n=n.activities)||void 0===n?void 0:n.newestActivitiesBySlug)||{},(e=>{let{timestamp:t}=e;return t}))}function bn(e,t){var n;const{byId:a={},localActivityIds:o=[]}=(null===(n=e.byAccountId[t])||void 0===n?void 0:n.activities)??{};return(0,c.oE)(o.map((e=>a[e])))}function En(e,t,n){var a;const{byId:o={},pendingActivityIds:r={}}=(null===(a=e.byAccountId[t])||void 0===a?void 0:a.activities)??{},i=r[n]??[];return(0,c.oE)(i.map((e=>o[e])))}let kn=function(e){return e[e.Auth=0]="Auth",e[e.Main=1]="Main",e[e.Explore=2]="Explore",e[e.Settings=3]="Settings",e[e.Ledger=4]="Ledger",e[e.Inactive=5]="Inactive",e}({}),Cn=function(e){return e[e.none=0]="none",e[e.createWallet=1]="createWallet",e[e.checkPassword=2]="checkPassword",e[e.createPin=3]="createPin",e[e.confirmPin=4]="confirmPin",e[e.createBiometrics=5]="createBiometrics",e[e.confirmBiometrics=6]="confirmBiometrics",e[e.createNativeBiometrics=7]="createNativeBiometrics",e[e.createPassword=8]="createPassword",e[e.createBackup=9]="createBackup",e[e.disclaimerAndBackup=10]="disclaimerAndBackup",e[e.importWalletCheckPassword=11]="importWalletCheckPassword",e[e.importWallet=12]="importWallet",e[e.importWalletCreatePin=13]="importWalletCreatePin",e[e.importWalletConfirmPin=14]="importWalletConfirmPin",e[e.importWalletCreateNativeBiometrics=15]="importWalletCreateNativeBiometrics",e[e.importWalletCreateBiometrics=16]="importWalletCreateBiometrics",e[e.importWalletConfirmBiometrics=17]="importWalletConfirmBiometrics",e[e.importWalletCreatePassword=18]="importWalletCreatePassword",e[e.disclaimer=19]="disclaimer",e[e.ready=20]="ready",e[e.about=21]="about",e[e.safetyRules=22]="safetyRules",e[e.mnemonicPage=23]="mnemonicPage",e[e.checkWords=24]="checkWords",e[e.importViewAccount=25]="importViewAccount",e}({}),Nn=function(e){return e[e.None=0]="None",e[e.TurnOnPasswordConfirmation=1]="TurnOnPasswordConfirmation",e[e.TurnOnRegistration=2]="TurnOnRegistration",e[e.TurnOnVerification=3]="TurnOnVerification",e[e.TurnOnComplete=4]="TurnOnComplete",e[e.TurnOffWarning=5]="TurnOffWarning",e[e.TurnOffBiometricConfirmation=6]="TurnOffBiometricConfirmation",e[e.TurnOffCreatePassword=7]="TurnOffCreatePassword",e[e.TurnOffComplete=8]="TurnOffComplete",e}({}),Sn=function(e){return e[e.None=0]="None",e[e.WarningHardware=1]="WarningHardware",e[e.Initial=2]="Initial",e[e.Confirm=3]="Confirm",e[e.Password=4]="Password",e[e.ConnectHardware=5]="ConnectHardware",e[e.ConfirmHardware=6]="ConfirmHardware",e[e.Complete=7]="Complete",e}({}),An=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Password=2]="Password",e[e.Complete=3]="Complete",e}({}),Tn=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Password=2]="Password",e[e.ConnectHardware=3]="ConnectHardware",e[e.ConfirmHardware=4]="ConfirmHardware",e[e.Complete=5]="Complete",e}({}),In=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Password=2]="Password",e[e.ConnectHardware=3]="ConnectHardware",e[e.ConfirmHardware=4]="ConfirmHardware",e[e.Complete=5]="Complete",e}({}),Bn=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Blockchain=2]="Blockchain",e[e.Password=3]="Password",e[e.WaitTokens=4]="WaitTokens",e[e.Complete=5]="Complete",e[e.SelectTokenFrom=6]="SelectTokenFrom",e[e.SelectTokenTo=7]="SelectTokenTo",e}({}),_n=function(e){return e[e.In=0]="In",e[e.Out=1]="Out",e}({}),xn=function(e){return e[e.UnexpectedError=0]="UnexpectedError",e[e.InvalidPair=1]="InvalidPair",e[e.NotEnoughLiquidity=2]="NotEnoughLiquidity",e[e.ChangellyMinSwap=3]="ChangellyMinSwap",e[e.ChangellyMaxSwap=4]="ChangellyMaxSwap",e[e.NotEnoughForFee=5]="NotEnoughForFee",e[e.TooSmallAmount=6]="TooSmallAmount",e}({}),Dn=function(e){return e[e.OnChain=0]="OnChain",e[e.CrosschainFromWallet=1]="CrosschainFromWallet",e[e.CrosschainToWallet=2]="CrosschainToWallet",e}({}),Ln=function(e){return e[e.Info=0]="Info",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.ConfirmHardware=3]="ConfirmHardware",e}({}),On=function(e){return e[e.Connect=0]="Connect",e[e.Connecting=1]="Connecting",e[e.Failed=2]="Failed",e[e.ConnectedWithSeveralWallets=3]="ConnectedWithSeveralWallets",e[e.ConnectedWithSingleWallet=4]="ConnectedWithSingleWallet",e[e.WaitingForRemoteTab=5]="WaitingForRemoteTab",e}({}),Pn=function(e){return e[e.None=0]="None",e[e.StakeInitial=1]="StakeInitial",e[e.StakePassword=2]="StakePassword",e[e.StakeConnectHardware=3]="StakeConnectHardware",e[e.StakeConfirmHardware=4]="StakeConfirmHardware",e[e.StakeComplete=5]="StakeComplete",e[e.UnstakeInitial=6]="UnstakeInitial",e[e.UnstakePassword=7]="UnstakePassword",e[e.UnstakeConnectHardware=8]="UnstakeConnectHardware",e[e.UnstakeConfirmHardware=9]="UnstakeConfirmHardware",e[e.UnstakeComplete=10]="UnstakeComplete",e[e.ClaimPassword=11]="ClaimPassword",e[e.ClaimConnectHardware=12]="ClaimConnectHardware",e[e.ClaimConfirmHardware=13]="ClaimConfirmHardware",e[e.ClaimComplete=14]="ClaimComplete",e}({}),Mn=function(e){return e[e.Password=0]="Password",e[e.ConnectHardware=1]="ConnectHardware",e[e.ConfirmHardware=2]="ConfirmHardware",e}({}),Fn=function(e){return e[e.Initial=0]="Initial",e[e.PushNotifications=1]="PushNotifications",e[e.Appearance=2]="Appearance",e[e.Assets=3]="Assets",e[e.Security=4]="Security",e[e.Dapps=5]="Dapps",e[e.Language=6]="Language",e[e.About=7]="About",e[e.Disclaimer=8]="Disclaimer",e[e.NativeBiometricsTurnOn=9]="NativeBiometricsTurnOn",e[e.SelectTokenList=10]="SelectTokenList",e[e.WalletVersion=11]="WalletVersion",e[e.LedgerConnectHardware=12]="LedgerConnectHardware",e[e.LedgerSelectWallets=13]="LedgerSelectWallets",e[e.HiddenNfts=14]="HiddenNfts",e[e.BackupWallet=15]="BackupWallet",e}({}),Rn=function(e){return e[e.Initial=0]="Initial",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.ConfirmHardware=3]="ConfirmHardware",e[e.Done=4]="Done",e}({}),Un=function(e){return e[e.Receive=0]="Receive",e[e.Transfer=1]="Transfer",e[e.Swap=2]="Swap",e[e.Stake=3]="Stake",e}({}),Wn=function(e){return e[e.Assets=0]="Assets",e[e.Activity=1]="Activity",e[e.Explore=2]="Explore",e[e.Nft=3]="Nft",e}({}),Hn=function(e){return e[e.Nft=0]="Nft",e}({}),$n=function(e){return e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e}({});function Vn(t){return e.zll[t]}function zn(t){return t in e.zll?e.zll[t]:void 0}const Kn=Object.fromEntries(Object.entries(e.zll).map((e=>{let[t,{nativeToken:n}]=e;return[n.slug,t]})));function qn(e){return!!e&&e in Kn}function jn(t,n){return Boolean(t.startsWith("ton-")||n&&t===e.Tu9.slug)}function Yn(e){return Vn(e).nativeToken}function Gn(e){const t=e.split("-");return t.length>1?t[0]:Kn[e]}function Qn(t){const{type:n,codeHash:a="",slug:o=""}=t??{};return"lp_token"===n||e.Svl.has(o)||e.kuH.has(a)}function Xn(e){return{...(0,c.Up)(e,["symbol","slug","name","image","decimals","keywords","chain","tokenAddress","type"]),amount:0n,totalValue:"0",price:0,priceUsd:0,change24h:0}}function Jn(e,t,n,a){return Object.entries(e.bySlug).filter((e=>{let[,t]=e;return!a||a(t)})).map((e=>{let[n,{symbol:a,name:o,image:r,decimals:i,keywords:s,chain:c,tokenAddress:l,isPopular:d,color:u,price:m=0,priceUsd:p=0}]=e;const f=t[n]??0n;return{symbol:a,slug:n,amount:f,price:m,priceUsd:p,name:o,image:r,decimals:i,isDisabled:!1,canSwap:!0,isPopular:d,keywords:s,totalValue:(0,Lt.CF)(f,i).mul(m).toString(),color:u,chain:c,tokenAddress:l}})).sort(n)}const Zn=(0,et.A)((e=>Ze(((e,t)=>{const n=["TON","USD₮","USDT","BTC","ETH","jUSDT","jWBTC"],a=new Map(n.map(((e,t)=>[e,t])));return Jn(t,e,((e,t)=>(a.has(e.symbol)?a.get(e.symbol):n.length)-(a.has(t.symbol)?a.get(t.symbol):n.length)),(e=>e.isPopular))})))),ea=(0,et.A)((e=>Ze(((e,t)=>Jn(t,e,((e,t)=>e.name.trim().toLowerCase().localeCompare(t.name.trim().toLowerCase()))))))),ta=(0,et.A)((e=>Ze((function(t,n,a,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return Mt(e)(t,n,o,r,i).filter((e=>e.slug in a.bySlug&&!e.isDisabled))}))));function na(e){var t;const n=null===(t=st(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(n&&e.swapTokenInfo)return ea(e.currentAccountId)(n,e.swapTokenInfo)}function aa(e){const{tokenInSlug:t}=e.currentSwap;return void 0===t?void 0:e.swapTokenInfo.bySlug[t]}function oa(e){const{tokenOutSlug:t}=e.currentSwap;return void 0===t?void 0:e.swapTokenInfo.bySlug[t]}function ra(t){const{tokenInSlug:n=e.JhS,tokenOutSlug:a=e.rKC}=t.currentSwap,o=Gn(n),r=Gn(a);if("ton"===o&&"ton"===r)return Dn.OnChain;const{addressByChain:i}=rt(t)??{addressByChain:{}};return o in i?Dn.CrosschainFromWallet:Dn.CrosschainToWallet}function ia(t){return e.TI6||t.restrictions.isSwapDisabled||t.settings.isTestnet||mt(t)}var sa=i(809);function ca(t){return function(e){return void 0!==e.diesel&&("not-available"!==(t=e.diesel).status&&void 0!==t.amount);var t}(t)?function(e){let{diesel:t}=e;const n="stars-fee"===t.status?"stars":"token",a=function(e,t,n){const a=(0,Ot.z)(n.toString()).div(t.toString());return BigInt((0,Ot.z)(e.toString()).mul(a).round().toString())}(t.realFee,t.nativeAmount,t.amount),o=(0,sa.UA)(t.amount,a),r=(0,sa._O)(0n,t.realFee-t.nativeAmount);return{isGasless:!0,canTransferFullBalance:!1,fullFee:{precision:"lessThan",terms:{[n]:t.amount,native:t.remainingFee},nativeSum:t.nativeAmount+t.remainingFee},realFee:{precision:"approximate",terms:{[n]:o,native:r},nativeSum:t.realFee},excessFee:t.nativeAmount+t.remainingFee-t.realFee}}(t):function(t){const n={isGasless:!1,canTransferFullBalance:t.tokenSlug===e.Tu9.slug};return void 0!==t.fee&&(n.fullFee={precision:t.realFee===t.fee?"exact":"lessThan",terms:{native:t.fee},nativeSum:t.fee},n.realFee=n.fullFee),void 0!==t.realFee&&(n.realFee={precision:t.realFee===t.fee?"exact":"approximate",terms:{native:t.realFee},nativeSum:t.realFee}),void 0!==t.fee&&void 0!==t.realFee&&(n.excessFee=t.fee-t.realFee),n}(t)}function la(e){let{tokenBalance:t,tokenSlug:n,fullFee:a,canTransferFullBalance:o}=e;if(void 0===t)return;if(o||!a)return t;let r=a.token??0n;return qn(n)&&(r+=a.native??0n),(0,sa._O)(t-r,0n)}function da(e){return"stars-fee"===e.status?0n:e.amount??0n}var ua=i(67491);function ma(e,t,n){const a=Vn(t);return e&&(a[n?"addressPrefixRegex":"addressRegex"].test(e)||a.isDnsSupported&&(0,ua.iy)(e))}function pa(e){const{currentTransfer:t}=e,n=Rt(e,t.tokenSlug),{fullFee:a,canTransferFullBalance:o}=ca(t);return la({tokenBalance:n,tokenSlug:t.tokenSlug,fullFee:null==a?void 0:a.terms,canTransferFullBalance:o})}function fa(e){const{tokenSlug:t,toAddress:n}=e.currentTransfer,a=Gn(t);if(!n)return t;for(const r of[!1,!0]){var o;if(!n||ma(n,a,r))return t;const i=null===(o=rt(e))||void 0===o?void 0:o.addressByChain;if(i)for(const t of Object.keys(i)){if(!ma(n,t,r))continue;const a=zt(e,t);if(a)return a.slug}}return t}const ha=(0,et.A)((e=>Ze(((e,t)=>{const n=t?Object.values(t):void 0;return null!=n&&n.length?n:[e]}))));function ga(e,t){var n;const{stateById:a}=(null===(n=ct(e,t))||void 0===n?void 0:n.staking)??{};return ha(t)(e.stakingDefault,a)}const va=(0,et.A)((e=>Ze((e=>(0,c.dU)(e,"tokenSlug")))));function wa(e,t){return va(t)(ga(e,t))}function ya(t,n){var a;const{stateById:o,stakingId:r,shouldUseNominators:i}=(null===(a=ct(t,n))||void 0===a?void 0:a.staking)??{};return o&&r&&r in o?o[r]:i?e.Ba4:t.stakingDefault}function ba(t,n){const a=ct(t,n);return ya(t,n).tokenSlug===e.Tu9.slug?null==a?void 0:a.stakingHistory:void 0}function Ea(t){return Boolean(e.OuE||t.settings.isTestnet)}function ka(e,t){var n;const{linkedAddressByAddress:a}=(null===(n=st(e))||void 0===n?void 0:n.nfts)||{};return(0,ua.bU)(t)?null==a?void 0:a[t.address]:void 0}qe("initApi",(async(e,o)=>{var r;(0,t.MD)("initApi action called");const i=null!==(r=e.accounts)&&void 0!==r&&r.byId?Object.keys(e.accounts.byId):[];(0,a.R)(o.apiUpdate,{isElectron:n.cp,isNativeBottomSheet:n.bA,isIosApp:n.ZH,isAndroidApp:n.xy,referrer:new URLSearchParams(window.location.search).get("r")??void 0,accountIds:i}),await(0,a.p)("waitDataPreload");const{currentAccountId:s}=Ve();if(!s)return;const c=yn(e,s);(0,a.p)("activateAccount",s,c)})),qe("resetApiSettings",((t,a,o)=>{const r=!(null!=o&&o.areAllDisabled);e.hL1&&(a.toggleTonMagic({isEnabled:!1}),a.toggleTonProxy({isEnabled:!1})),(e.hL1||n.cp)&&a.toggleDeeplinkHook({isEnabled:r}),a.changeBaseCurrency({currency:e.wOb})}));var Ca,Na,Sa=i(16546);!function(e){e[e.NONE=0]="NONE",e[e.TOUCH_ID=1]="TOUCH_ID",e[e.FACE_ID=2]="FACE_ID",e[e.FINGERPRINT=3]="FINGERPRINT",e[e.FACE_AUTHENTICATION=4]="FACE_AUTHENTICATION",e[e.IRIS_AUTHENTICATION=5]="IRIS_AUTHENTICATION",e[e.MULTIPLE=6]="MULTIPLE"}(Ca||(Ca={})),function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BIOMETRICS_UNAVAILABLE=1]="BIOMETRICS_UNAVAILABLE",e[e.USER_LOCKOUT=2]="USER_LOCKOUT",e[e.BIOMETRICS_NOT_ENROLLED=3]="BIOMETRICS_NOT_ENROLLED",e[e.USER_TEMPORARY_LOCKOUT=4]="USER_TEMPORARY_LOCKOUT",e[e.AUTHENTICATION_FAILED=10]="AUTHENTICATION_FAILED",e[e.APP_CANCEL=11]="APP_CANCEL",e[e.INVALID_CONTEXT=12]="INVALID_CONTEXT",e[e.NOT_INTERACTIVE=13]="NOT_INTERACTIVE",e[e.PASSCODE_NOT_SET=14]="PASSCODE_NOT_SET",e[e.SYSTEM_CANCEL=15]="SYSTEM_CANCEL",e[e.USER_CANCEL=16]="USER_CANCEL",e[e.USER_FALLBACK=17]="USER_FALLBACK"}(Na||(Na={}));const Aa=(0,Sa.F3)("NativeBiometric",{web:()=>i.e(542).then(i.bind(i,35542)).then((e=>new e.NativeBiometricWeb))});var Ta=i(23174),Ia=i(59121),Ba=i(10309);const _a=e.tKX?25:250,xa=n.pz?350:250,Da=Ba.Z2,La=window.innerHeight,Oa=[];let Pa=Ma();function Ma(){return Ua(),Va(),setTimeout(Va,Da),Fa()}function Fa(){return{width:window.innerWidth,height:window.innerHeight,screenHeight:window.screen.height,safeAreaTop:Ha(),safeAreaBottom:$a()}}window.addEventListener("orientationchange",(0,l.nF)((()=>{Pa=Ma()}),xa,!1)),n.pz||window.addEventListener("resize",(0,l.nF)((()=>{Pa=Ma()}),_a,!0)),e.UMQ&&i.e(408).then(i.bind(i,408)).then((e=>{let{Keyboard:t}=e;t.addListener("keyboardDidShow",(async e=>{await Wa(e.keyboardHeight);for(const e of Oa)(0,g.A)(e)})),t.addListener("keyboardWillHide",(()=>{Wa(0)}))})),"visualViewport"in window&&(n.pz||n.Ni)&&window.visualViewport.addEventListener("resize",(0,l.nF)((t=>{const a=t.target;if(n.pz&&e.tKX){const e=La-a.height;Wa(e>40?e:0).finally((()=>{(0,k.YS)((()=>{Pa={...Fa(),height:a.height}}))}))}else Ua(),Pa={...Fa(),height:a.height}}),_a,!0));const Ra=()=>Pa;function Ua(){if(!n.pz&&!n.Ni||e.UMQ||n.pz&&e.tKX)return;const t=n.pz?window.visualViewport.height+window.visualViewport.pageTop:window.innerHeight;(0,k.RK)((()=>{const e=.01*t;document.documentElement.style.setProperty("--vh",`${e}px`)}))}function Wa(e){return new Promise((t=>{(0,k.RK)((()=>{(0,d.ZM)(document.body,{paddingBottom:e?`${e}px`:""}),t()}))}))}function Ha(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top-value"),10);return Number.isNaN(e)?0:e}function $a(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom-value"),10);return Number.isNaN(e)?0:e}function Va(){const{safeAreaTop:e,safeAreaBottom:t}=Fa(),{documentElement:n}=document;(0,k.RK)((()=>{n.classList.toggle("with-safe-area-top",!Number.isNaN(e)&&e>0),n.classList.toggle("with-safe-area-bottom",!Number.isNaN(t)&&t>0)}))}let za,Ka=!1,qa=!1,ja=!1,Ya=!1,Ga=0;function Qa(){var e;const t=null===(e=za)||void 0===e?void 0:e.BiometricManager;if(!t)return;const{isBiometricAvailable:n,isAccessGranted:a,isAccessRequested:o}=t;return n&&o&&!a}function Xa(){return za}function Ja(){return new Promise((e=>{window.addEventListener("DOMContentLoaded",(()=>{e(Xa())}))}))}function Za(){const{top:e,left:t,right:n,bottom:a}=za.safeAreaInset,{top:o,left:r,right:i,bottom:s}=za.contentSafeAreaInset;document.documentElement.style.setProperty("--safe-area-top",`${e+o}px`),document.documentElement.style.setProperty("--safe-area-left",`${t+r}px`),document.documentElement.style.setProperty("--safe-area-right",`${n+i}px`),document.documentElement.style.setProperty("--safe-area-bottom",`${a+s}px`)}function eo(){za.isFullscreen?(Ke().openFullscreen(),no()):(Ke().closeFullscreen(),ao())}function to(e){ao(),"ALREADY_FULLSCREEN"===e.error&&(Ke().openFullscreen(),no())}function no(){var e;Ga+=1,1===Ga&&(null===(e=za)||void 0===e||e.disableVerticalSwipes())}function ao(){var e;Ga=Math.max(0,Ga-1),0===Ga&&(null===(e=za)||void 0===e||e.enableVerticalSwipes())}function oo(e){return new Promise(((t,n)=>{Xa().BiometricManager.requestAccess(e,(e=>{e?t(e):n(new Error("Access denied"))}))}))}async function ro(t){const n=Xa().BiometricManager;if(!n.isAccessGranted&&!await oo({reason:e.C39}))throw new Error("Access to biometric data has not been granted");return new Promise(((e,a)=>{n.updateBiometricToken(t,(n=>{n?e(t):a(new Error("Failed to update or save the biometric token"))}))}))}async function io(){const t=Xa().BiometricManager;if(!t.isAccessGranted&&!await oo({reason:e.C39}))throw new Error("Biometric access was denied. Please grant access to proceed.");return new Promise(((e,n)=>{t.authenticate({reason:""},((t,a)=>{t?e({success:t,token:a}):n(new Error("Biometric authentication failed. Please try again."))}))}))}var so=i(48287).Buffer,co=function(e){return e[e.Ed25519=-8]="Ed25519",e[e.ES256=-7]="ES256",e[e.RS256=-257]="RS256",e}(co||{});const lo=e.C39,uo=e.C39,mo={createCredential:async function(){const e=window.location.hostname,t=(0,Ia.po)(32),n=(0,Ia.po)(32),a={publicKey:{challenge:(0,Ia.po)(32),rp:{name:lo,id:e},user:{id:t,name:uo,displayName:lo},pubKeyCredParams:[{type:"public-key",alg:co.ES256},{type:"public-key",alg:co.RS256},{type:"public-key",alg:co.Ed25519}],authenticatorSelection:{requireResidentKey:!0,userVerification:"preferred"},extensions:{credBlob:n,hmacCreateSecret:!0},timeout:12e4,excludeCredentials:[]}},o=await navigator.credentials.create(a);if(!o)throw new Error("Missing credential");return{type:o.getClientExtensionResults().credBlob?"credBlob":"userHandle",password:{credBlob:so.from(n).toString("hex"),userHandle:so.from(t).toString("hex")},credential:o}},verify:async function(e){let{credential:t,password:n,type:a}=e;await(0,l.v7)(300);const o=t.response&&t.response.getTransports&&t.response.getTransports(),r=so.from(t.rawId).toString("hex"),i={publicKey:{challenge:(0,Ia.po)(32),allowCredentials:[{id:t.rawId,type:"public-key",transports:o}],userVerification:"required",extensions:{getCredBlob:!0}}},s=await navigator.credentials.get(i);if(!s)throw new Error("Missing authentication");const c=s.response;let d;if("userHandle"===a){if(!c.userHandle)throw new Error("Missing stored userHandle");if(!so.from(n.userHandle,"hex").equals(so.from(c.userHandle)))throw new Error("Stored blob not equals passed blob");d=n.userHandle}if(!d)throw new Error("Missing stored blob");return{config:{kind:"webauthn",type:a,credentialId:r,transports:o},password:d}},getPassword:async function(e){if("webauthn"!==e.kind)throw new Error("Unexpected auth kind");const{credentialId:t,transports:n,type:a}=e,o=(new AbortController).signal,r={publicKey:{challenge:(0,Ia.po)(32),allowCredentials:[{id:so.from(t,"hex"),type:"public-key",transports:n}],userVerification:"required",extensions:{getCredBlob:!0}},signal:o},i=await navigator.credentials.get(r);if(o.aborted)throw new Error("Verification canceled");const s=i.response,c=i.getClientExtensionResults();if("userHandle"===a){if(!s.userHandle)throw new Error("missing userHandle");return so.from(s.userHandle).toString("hex")}return so.from(c.getCredBlob??"").toString("hex")}};var po=i(48287).Buffer;const fo=async function(e){let n,{credential:a}=e;try{if(a)n=await mo.verify(a);else{var o;const e=po.from((0,Ia.po)(32)).toString("hex"),t=await(null===(o=window.electron)||void 0===o?void 0:o.encryptPassword(e));if(!t)return n;n={password:e,config:{kind:"electron-safe-storage",encryptedPassword:t}}}}catch(e){(0,t.SJ)("setupBiometrics",e)}return n},ho=async function(t){return e.tKX?(await ro(t),{password:t,config:{kind:"native-biometrics"}}):(await Aa.setCredentials({username:e.hkI,password:t,server:e.aD4}),{password:t,config:{kind:"native-biometrics"}})},go=function(){return e.tKX?ro(""):Aa.deleteCredentials({server:e.aD4})},vo=async function(n){let a;try{if("webauthn"===n.kind)a=await mo.getPassword(n);else if("electron-safe-storage"===n.kind){var o;a=await(null===(o=window.electron)||void 0===o?void 0:o.decryptPassword(n.encryptedPassword))}else if(e.tKX&&"native-biometrics"===n.kind){const{success:e,token:t}=await io();if(!e)return;a=t}else{if("native-biometrics"!==n.kind)throw new Error("Unexpected auth kind");if(!await Aa.verifyIdentity({title:e.C39,subtitle:"",isWeakAuthenticatorAllowed:!0,maxAttempts:1}).then((()=>!0)).catch((()=>!1)))return;a=(await Aa.getCredentials({server:e.aD4})).password}}catch(e){(0,t.SJ)("getPassword",e)}return a},wo=(0,Sa.F3)("App",{web:()=>i.e(168).then(i.bind(i,41168)).then((e=>new e.AppWeb))}),yo=(0,Sa.F3)("SplashScreen",{web:()=>i.e(411).then(i.bind(i,7411)).then((e=>new e.SplashScreenWeb))}),bo=(0,Sa.F3)("SafeArea",{web:()=>i.e(88).then(i.bind(i,28088)).then((e=>new e.SafeAreaWeb))}),Eo=(0,Sa.F3)("AppLauncher",{web:()=>i.e(895).then(i.bind(i,73895)).then((e=>new e.AppLauncherWeb))}),ko=(0,Sa.F3)("BottomSheet"),Co=e=>{e.stopPropagation(),e.preventDefault()};function No(e,t,n){const a=o=>{e.removeEventListener(t,a),n(o)};e.addEventListener(t,a)}function So(){var t;const{userAgent:n}=navigator,a=navigator.platform||(null===(t=navigator)||void 0===t||null===(t=t.userAgentData)||void 0===t?void 0:t.platform)||"";let o;return o=e.hL1||e.tKX?"browser":/Android/.test(n)?"android":-1!==["iPhone"].indexOf(a)?"iphone":-1!==["iPad","iPod"].indexOf(a)?"ipad":-1!==["macOS","Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(a)?"mac":-1!==["Win32","Win64","Windows","WinCE"].indexOf(a)?"windows":/Linux/.test(a)?"linux":"browser",o}const Ao=function(e,t,n,a){if(window[e])return;const o=["connect","restoreConnection","disconnect","send"],r=new Map,i=new Set;function s(e){const a=Date.now().toString(36)+Math.random().toString(36).slice(2),o=new Promise(((e,t)=>{r.set(a,{resolve:e,reject:t})}));for(var i=arguments.length,s=new Array(i>1?i-1:0),c=1;c<i;c++)s[c-1]=arguments[c];const l={channel:t,messageId:a,type:"callMethod",name:e,args:s};return"parent"in n?n.postMessage(l,"*"):n.postMessage(JSON.stringify(l)),o}function c(e){if(e)return(e=String(e).trim().replace(/[\x00-\x1F\x7F]/g,"")).startsWith("//")?`https:${e}`:![/^\s*javascript\s*:/i,/^\s*data\s*:/i,/^\s*vbscript\s*:/i,/^\s*file\s*:/i,/^\s*about\s*:/i,/^\s*blob\s*:/i,/^\s*filesystem\s*:/i,/^\s*chrome(-extension)?\s*:/i,/^\s*moz-extension\s*:/i,/^\s*ms-browser-extension\s*:/i].some((t=>t.test(e)))&&/^[a-z][a-z0-9+.-]*:/i.test(e)?e:void 0}window.addEventListener("message",(e=>{let{data:n}=e;const a=n;if(a.channel===t)if("methodResponse"===a.type){const e=r.get(a.messageId);if(!e)return;r.delete(a.messageId),a.error?e.reject(a.error):e.resolve(a.response)}else"update"===a.type&&i.forEach((e=>e(a.update)))})),window.open=e=>((e=c(e))&&s("window:open",{url:e}),null),window.close=()=>{s("window:close")},window.addEventListener("click",(e=>{if(!(e.target instanceof HTMLElement))return;const{href:t,target:n}=e.target.closest("a")||{};if(t&&("_blank"===n||!t.startsWith("http"))){e.preventDefault();const n=c(t);n&&s("window:open",{url:n})}}),!1),function(){const t=Object.fromEntries(o.map((e=>[e,function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return s(`tonConnect:${e}`,...n)}])));window[e]={tonconnect:{...a,...t,listen:function(e){return i.add(e),()=>{i.delete(e)}}}}}()}.toString();var To=i(54218);let Io=function(e){return e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",e[e.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e}({}),Bo=function(e){return e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e}({}),_o=0;function xo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unknown error.";return{event:"connect_error",id:e,payload:{code:(arguments.length>2?arguments[2]:void 0)||Io.UNKNOWN_ERROR,message:t}}}function Do(e){return{url:e,isUrlEnsured:!0,accountId:Ve().currentAccountId}}function Lo(o){const{closeBrowser:r}=Ke(),i=function(o){const{openLoadingOverlay:r,closeLoadingOverlay:i}=Ke(),s=new URL(o).origin.toLowerCase();return{connect:async(n,o)=>{try{if(n>e.gY_)return xo(_o,"Unsupported protocol version",Io.BAD_REQUEST_ERROR);!function(e){var t;if(!(e&&e.manifestUrl&&null!==(t=e.items)&&void 0!==t&&t.length))throw new Error("Wrong request data")}(o),r();const t=await(0,a.p)("tonConnect_connect",Do(s),o,_o);return i(),_o++,t}catch(e){return(0,t.SJ)("useDAppBridge:connect",e),"event"in e&&"id"in e&&"payload"in e?e:xo(_o,null==e?void 0:e.message,Io.UNKNOWN_ERROR)}},restoreConnection:async()=>{try{const e=await(0,a.p)("tonConnect_reconnect",Do(s),_o);return _o++,e}catch(e){return(0,t.SJ)("useDAppBridge:reconnect",e),"event"in e&&"id"in e&&"payload"in e?e:xo(_o,null==e?void 0:e.message,Io.UNKNOWN_ERROR)}},disconnect:async()=>{_o=0,await(0,a.p)("tonConnect_disconnect",Do(s),{id:_o.toString(),method:"disconnect",params:[]})},send:async e=>{var o;_o++;const r=Ve();if(!(null===(o=r.byAccountId[r.currentAccountId].dapps)||void 0===o?void 0:o.some((e=>e.url===s))))return{error:{code:Bo.UNKNOWN_APP_ERROR,message:"Unknown app"},id:e.id.toString()};const i=Do(s);try{switch(e.method){case"disconnect":return await(0,a.p)("tonConnect_disconnect",i,e);case"sendTransaction":{const t=await(0,a.p)("tonConnect_sendTransaction",i,e);return n.bA&&ko.applyScrollPatch(),t}case"signData":return await(0,a.p)("tonConnect_signData",i,e);default:{const t=e;return{id:String(t.id),error:{code:Bo.BAD_REQUEST_ERROR,message:`Method "${t.method}" is not supported`}}}}}catch(n){return(0,t.SJ)("useDAppBridge:send",n),{id:String(e.id),error:{code:Bo.UNKNOWN_ERROR,message:null==n?void 0:n.message}}}}}}(o),s=i?function(e){const t=Object.entries(e).map((e=>{let[t,n]=e;return[`tonConnect:${t}`,n]}));return Object.fromEntries(t)}(i):void 0;return{"window:open"(e){let{url:t}=e;fc(t,{isExternal:!0,isFromInAppBrowser:!0})},"window:close"(){r()},...s}}function Oo(e){const t=me(e);return t.current=e,t}function Po(e){const t=Oo(e);return ue((function(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call(t,...a)}),[])}class Mo{constructor(e){this.inAppBrowser=e}addEventListener(e,t){this.inAppBrowser.addEventListener(e,t)}removeEventListener(e,t){this.inAppBrowser.removeEventListener(e,t)}postMessage(e){this.inAppBrowser.executeScript({code:`window.dispatchEvent(new MessageEvent('message', { data: ${JSON.stringify(e)} }));`})}}var Fo=i(48287).Buffer;const Ro=/[-a-z0-9@:%._+~#=]{1,256}\.[a-z0-9()]{1,6}\b([-a-z0-9()@:%_+.~#?&/=]*)/gi,Uo=new Set(["http:","https:"]),Wo={ton:{name:"Tonscan",base:{mainnet:"https://tonscan.org/",testnet:"https://testnet.tonscan.org/"},address:"{base}address/{address}",explorer:"{base}jetton/{address}",transaction:"{base}tx/{hash}"},tron:{name:"Tronscan",base:{mainnet:"https://tronscan.org/#/",testnet:"https://shasta.tronscan.org/#/"},address:"{base}address/{address}",explorer:"{base}token20/{address}",transaction:"{base}transaction/{hash}"}};function Ho(e){try{return new URL(e).hostname}catch(n){return(0,t.SJ)("getHostnameFromUrl",n),e}}function $o(e){return Wo[e].name}function Vo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Wo[e].base[t?"testnet":"mainnet"]}function zo(t,n,a){var o;if(n&&n!==e.n3s)return Wo[t].transaction.replace("{base}",Vo(t,a)).replace("{hash}","ton"===t?(o=n,Fo.from(o,"base64").toString("hex")):n)}function Ko(e,t,n){if(t)return Wo[e].address.replace("{base}",Vo(e,n)).replace("{address}",t)}function qo(e,t){if(e)return`${Vo("ton",t)}nft/${e}`}function jo(e){return e.startsWith("https://t.me/")}function Yo(t){return`${e.dmC}${t.metadata.mtwCardId}.webp`}const Go=/(\*\*|__).+?\1/g;function Qo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["simple_markdown","br"];return"string"!=typeof e?[e]:(0,c.oE)(t.reduce(((e,t)=>{switch(t){case"simple_markdown":return e.reduce(((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(Go),a=t.match(Go)||[];return e.push(n[0]),a.reduce(((e,t,a)=>{e.push(t.startsWith("**")?ge.createElement("b",null,t.replace(/\*\*/g,"")):ge.createElement("i",null,t.replace(/__/g,"")));const o=2*a+2;return n[o]&&e.push(n[o]),e}),e)}),[]);case"br":return e.reduce(((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(/\r\n|\r|\n/g).reduce(((e,t,n,a)=>{const o=t.trimStart(),r=t.length-o.length;return e.push(String.fromCharCode(160).repeat(r)+o),n!==a.length-1&&e.push(ge.createElement("br",null)),e}),[]);return[...e,...n]}),[])}return e}),[e]))}const Xo=JSON.parse('{"$auth_intro":"**Securely** store crypto\\nand make blockchain payments\\nat the **speed of light**.\\n","Create New Wallet":"Create New Wallet","Import From %1$d Secret Words":"Import From %1$d Secret Words","More about %app_name%":"More about %app_name%","Creating Wallet...":"Creating Wallet...","On the count of three...":"On the count of three...","$back_up_auth":"Back Up","$back_up_security":"Back Up","Passwords must be equal.":"Passwords must be equal.","To protect your wallet as much as possible, use a password with":"To protect your wallet as much as possible, use a password with","$auth_password_rule_8chars":"at least 8 characters","$auth_password_rule_one_small_char":"one small letter","$auth_password_rule_one_capital_char":"one capital letter","$auth_password_rule_one_digit":"one digit","$auth_password_rule_one_special_char":"and one special character","The wallet is imported":"The wallet is imported","The wallet is ready":"The wallet is ready","Create a password to protect it.":"Create a password to protect it.","Enter your password":"Enter your password","Enter your password...":"Enter your password...","...and repeat it":"...and repeat it","Cancel":"Cancel","Insecure Password":"Insecure Password","Your have entered an insecure password, which can be easily guessed by scammers.":"Your have entered an insecure password, which can be easily guessed by scammers.","Continue or change password to something more secure?":"Continue or change password to something more secure?","Change":"Change","%1$d Secret Words":"%1$d Secret Words","Secret Words":"Secret Words","$auth_import_mnemonic_description":"You can restore access to your wallet by entering the **12 or 24 secret words** that you wrote down when creating the wallet.\\n","Let’s make sure your secrets words are recorded correctly.":"Let’s make sure your secrets words are recorded correctly.","$mnemonic_check_words_list":"Please enter the words **%1$s** below.","$mnemonic_check_error":"The secret words you have entered do not match the ones in the list. Please try again.","$check_words_description":"Now let’s check that you wrote\\nyour secret words correctly.\\n","$mnemonic_list_description":"Write down these words in the **correct order** and store them in a **secure place**.","$private_key_description":"Save this private key **correctly** and store it in a **secure place**.","$mnemonic_warning":"**Do not** send or show it to anyone,\\n**do not** enter it anywhere.\\n","View Secret Words":"View Secret Words","View TON Private Key":"View TON Private Key","Can be imported to non-multichain wallets for TON.":"Can be imported to non-multichain wallets for TON.","Can be imported to any multichain wallet supporting TON.":"Can be imported to any multichain wallet supporting TON.","Let\'s Check":"Let\'s Check","Let\'s Check!":"Let\'s Check!","Safety Rules":"Safety Rules","$safety_rules_private_key_one":"On the next screen you will see the **TON private key**. Save it correctly and **store in a secure place**.\\n","$safety_rules_private_key_two":"It allows to **open your wallet** if you lose your password or access to this device.","$safety_rules_private_key_three":"If anybody else sees this private key, your funds **may be stolen**. **Do not send or show it to anyone**, not even developers or technical support.","$safety_rules_one":"On the next screen you will see the **secret words**. Write them down in the correct order and **store in a secure place**.\\n","$safety_rules_two":"They allow to **open your wallet** if you lose your password or access to this device.","$safety_rules_three":"If anybody else sees these words your funds **may be stolen**. **Do not send it to anyone**, not even developers or technical support.","Understood":"Understood","Congratulations!":"Congratulations!","Continue":"Continue","Close":"Close","Back":"Back","Search...":"Search...","Main menu":"Main menu","TON Proxy":"TON Proxy","Toggle TON Proxy":"Toggle TON Proxy","TON Magic":"TON Magic","Toggle TON Magic":"Toggle TON Magic","Open Telegram Web":"Open Telegram Web","Back Up Secret Words":"Back Up Secret Words","Settings":"Settings","About %app_name%":"About %app_name%","Exit":"Exit","Remove Wallet":"Remove Wallet","Something went wrong.":"Something went wrong.","Something went wrong":"Something went wrong","Logo":"Logo","$about_description1":"Securely store crypto, explore decentralized apps, and make blockchain payments at the **speed of light**.","$about_description2":"The wallet is **non-custodial and safe**. The developers **do not** have access to your funds, browser history or any other information.","What is TON Proxy?":"What is TON Proxy?","$about_extension_description1":"TON Proxy opens a way to **decentralized internet** by allowing to anonymously access TON Sites.","More info and demo.":"More info and demo.","$about_extension_description2":"TON Magic provides native **Telegram integration** by patching the official Telegram Web app.","$about_extension_description3":"Turn it on to send and receive Toncoins from any Telegram user.","$about_proxy_magic_title":"What about %ninja% TON Proxy and %unicorn% TON Magic?","$about_proxy_magic_description":"To enjoy **decentralized internet**, access **TON Sites**, and leverage native **Telegram integration**, feel free to install the %extension_link%.","$about_extension_link_text":"**%app_name% extension**","Is it open source?":"Is it open source?","$about_wallet_github":"Yes, it is. Feel free to explore our %github_link%.","$about_github_link_text":"**GitHub repository**","Is there a community?":"Is there a community?","$about_wallet_community":"Sure, welcome to our %community_link%.","$about_community_link_text":"**Telegram channel**","Currency History":"Currency History","Enter Password":"Enter Password","Send":"Send","Add Wallet":"Add Wallet","Done":"Done","Delete":"Delete","Delete Saved Address":"Delete Saved Address","Are you sure you want to remove this address from your saved ones?":"Are you sure you want to remove this address from your saved ones?","You will be able to save it again via Transaction Info with this address.":"You will be able to save it again via Transaction Info with this address.","Address removed from saved":"Address removed from saved","Warning!":"Warning!","Log Out":"Log Out","$logout_without_backup_warning":"You have not backed up this wallet. If you remove it now, you will lose access to your tokens and NFTs.","$logout_accounts_without_backup_warning":"You have not backed up %links%. If you proceed, you will lose access to your tokens and NFTs.","$logout_warning":"This will remove the current wallet from the app. Make sure you have your **secret words** backed up.","Your address was copied!":"Your address was copied!","Create Deposit Link":"Create Deposit Link","$receive_invoice_description":"You can specify the amount and purpose of\\nthe payment to save the sender some time.\\n","Amount":"Amount","Comment":"Comment","Comment or Memo":"Comment or Memo","Share this URL to receive %token%":"Share this URL to receive %token%","Invoice link was copied!":"Invoice link was copied!","Theme":"Theme","Language":"Language","Enable Animations":"Enable Animations","Base Currency":"Base Currency","Investor View":"Investor View","Toggle Investor View":"Toggle Investor View","Hide Tiny Transfers":"Hide Tiny Transfers","Toggle Hide Tiny Transfers":"Toggle Hide Tiny Transfers","Network":"Network","Developer Options":"Developer Options","All Wallet Versions":"All Wallet Versions","Add TON-Only Wallet":"Add TON-Only Wallet","Confirmation":"Confirmation","Signing Data":"Signing Data","Contract Initialization Data":"Contract Initialization Data","$dont_have_required_token":"You don’t have the required token to send, but it can be swapped.","$unknown_token_address":"Unknown token address.","$dont_have_required_nft":"You don’t have the required NFT to send.","$state_init_requires_bin":"Contract initialization data requires the bin parameter.","$state_init_invalid":"Invalid contract initialization data.","$signature_warning":"Signing custom data is very dangerous. Use it only if you trust the source of it.","Sign":"Sign","Done!":"Done!","Signing was confirmed!":"Signing was confirmed!","Transaction Info":"Transaction Info","Transaction in progress":"Transaction in progress","Comment was copied!":"Comment was copied!","Sender":"Sender","Recipient":"Recipient","Address was copied!":"Address was copied!","Repeat":"Repeat","Switch Account":"Switch Account","Copy wallet address":"Copy wallet address","View address on %ton_explorer_name%":"View address on %ton_explorer_name%","You have just created a new wallet":"You have just created a new wallet","You can now transfer your tokens from another wallet or exchange.":"You can now transfer your tokens from another wallet or exchange.","Assets":"Assets","Activity":"Activity","NFT":"NFT","No NFTs yet":"No NFTs yet","$nft_explore_offer":"Explore a marketplace to discover\\nexisting NFT collections.\\n","Received":"Received","Sent":"Sent","$transaction_from":"from %address%","$transaction_to":"to %address%","$transaction_on":"on %address%","Wallet is not backed up":"Wallet is not backed up","Testnet Version":"Testnet Version","Error reading clipboard":"Error reading clipboard","$fee_value":"Fee %fee%","$fee_value_with_colon":"Fee: %fee%","Pay fee with %stars_symbol%":"Pay fee with %stars_symbol%","Loading...":"Loading...","Recipient Address":"Recipient Address","Wallet address or domain":"Wallet address or domain","Incorrect address":"Incorrect address","Incorrect address.":"Incorrect address.","Paste":"Paste","Insufficient balance":"Insufficient balance","Insufficient Balance":"Insufficient Balance","$seed_phrase_scam_warning":"**Warning!** You have recently imported a wallet that does not have enough funds to cover the fees for token withdrawal.\\n\\nThis resembles a common scam where you\'re encouraged to deposit your own funds to cover fees.\\n\\n**Do not deposit your own funds, as you may lose them!** Learn more about this and other scams in our %help_center_link%.\\n","$help_center_prepositional":"Help Center","Optional":"Optional","$send_token_symbol":"Send %1$s","Is it all ok?":"Is it all ok?","Receiving Address":"Receiving Address","Fee":"Fee","Edit":"Edit","Confirm":"Confirm","Coins have been sent!":"Coins have been sent!","Transaction Sent!":"Transaction Sent!","Data Signed!":"Data Signed!","Details":"Details","Change password visibility":"Change password visibility","Amount value":"Amount value","Save Address":"Save Address","Name":"Name","Save":"Save","Copy":"Copy","Remove From Saved":"Remove From Saved","View on Explorer":"View on Explorer","No suggestions, you\'re on your own!":"No suggestions, you\'re on your own!","Play Sounds":"Play Sounds","Focus on asset value rather than current balance":"Focus on asset value rather than current balance","$logout_confirm":"Remove **all** wallets","$logout_warning2":"Wallets are located in the decentralized TON Blockchain. If you want the wallet to be deleted simply transfer all the TON from it and leave it empty.","$tiny_transfers_help":"Hide transfers worth less than $%value%. Keep in mind: small amounts are often sent by spammers and scammers.","Today":"Today","Yesterday":"Yesterday","Now":"Now","$receive_ton_description":"Scan this QR or share your address to top up your wallet balance.","Wrong password, please try again.":"Wrong password, please try again.","Appearance":"Appearance","Light":"Light","Dark":"Dark","System":"System","$stake_asset":"Stake %symbol%","Earn from your tokens while holding them":"Earn from your tokens while holding them","Why this is safe":"Why this is safe","Why is staking safe?":"Why is staking safe?","$safe_staking_description1":"Staking is **fully decentralized** and operated by the **official TON Liquid Staking** smart contracts.","$safe_staking_description2":"The deposited stake will be used for the TON network validation as part of its **proof-of-stake** essence.","$safe_staking_description3":"You can withdraw your stake at **any time** and it will be deposited back to your account within **two days**.","$safe_staking_description_jetton1":"Token staking is **fully decentralized** and operated by the **open-source** smart contracts developed by %jvault_link% and passed **security audits**.","$safe_staking_description_jetton2":"You can withdraw your stake at **any time** and it will be deposited back to your account **instantly**.","$min_value":"Min %value%","Est. balance in a year":"Est. balance in a year","Confirm Staking":"Confirm Staking","Confirm operation with your password":"Confirm operation with your password","Coins have been staked!":"Coins have been staked!","View":"View","Stake More":"Stake More","Staking":"Staking","Currently Staked":"Currently Staked","Unstake":"Unstake","Earning History":"Earning History","$total":"Total: %value%","$unstake_asset":"Unstake %symbol%","Amount to unstake":"Amount to unstake","Confirm Unstaking":"Confirm Unstaking","Request for unstaking is sent!":"Request for unstaking is sent!","$unstaking_when_receive":"You will receive your unstaked deposit in %time%.","$unstaking_when_receive_with_amount":"You will receive your unstaked %amount% in %time%.","$unstake_insufficient_balance":"You need to have %balance% on your main balance to proceed with unstaking.","at %annual_yield%":"at %annual_yield%","Est. %annual_yield%":"Est. %annual_yield%","Staked":"Staked","$stake_action":"Stake","Unstaked":"Unstaked","Unstaking":"Unstaking","$unstake_action":"Unstake","The network fee has slightly changed, try sending again.":"The network fee has slightly changed, try sending again.","Transfer was unsuccessful. Try again later.":"Transfer was unsuccessful. Try again later.","Unstaking was unsuccessful. Try again later.":"Unstaking was unsuccessful. Try again later.","Staking was unsuccessful. Try again later.":"Staking was unsuccessful. Try again later.","Invalid amount":"Invalid amount","Invalid address":"Invalid address","Domain is not connected to a wallet":"Domain is not connected to a wallet","Unexpected error":"Unexpected error","Unexpected Error":"Unexpected Error","Earn":"Earn","Earning":"Earning","Unexpected":"Unexpected error","You can save this address for quick access while sending.":"You can save this address for quick access while sending.","Stake Again":"Stake Again","Earned":"Earned","Connect Dapp":"Connect Dapp","Select wallet to use on this dapp":"Select wallet to use on this dapp","Connect":"Connect","Dapp Permissions":"Dapp Permissions","$dapp_can_view_balance":"%dappname% will be able to view wallet address and balance.","Send Transaction":"Send Transaction","Payload":"Payload","$many_transactions":{"zeroValue":"No Transactions","oneValue":"%1$d Transaction","otherValue":"%1$d Transactions"},"Total Amount":"Total Amount","$unstaking_short":"Unstaking","Handle ton:// links":"Handle ton:// links","Back up wallet to have full access to it":"Back up wallet to have full access to it","Consider More Secure Version":"Consider More Secure Version","Install our native app or browser extension.":"Install our native app or browser extension.","Scam":"Scam","Scam comment is hidden.":"Scam comment is hidden.","Display":"Display","Connected Dapps":"Connected Dapps","Disconnect All Dapps":"Disconnect All Dapps","Disconnect":"Disconnect","Disconnect Dapp":"Disconnect Dapp","Disconnect Dapps":"Disconnect Dapps","Are you sure you want to disconnect?":"Are you sure you want to disconnect %dappname%?","Are you sure you want to disconnect all websites?":"Are you sure you want to disconnect all websites?","$dapps-description":"You can log in on dapps that support %app_name%. They can view wallet address, balance, and request operations.","Logged in with %app_name%":"Logged in with %app_name%","No active connections":"No active connections","Other":"Other","Assets & Activity":"Assets & Activity","Token Settings":"Token Settings","My Tokens":"My Tokens","Add Token":"Add Token","Delete Token":"Delete Token","Are you sure you want to delete?":"Are you sure you want to delete %token%?","Hide Tokens With No Cost":"Hide Tokens With No Cost","Sort By Cost":"Sort By Cost","Update %app_name%":"Update %app_name%","Connect Ledger":"Connect Ledger","Connecting to your Ledger...":"Connecting to your Ledger...","Failed to connect":"Failed to connect","Ledger Connected!":"Ledger Connected!","Select Ledger Wallets":"Select Ledger Wallets","%1$d Selected":"%1$d Selected","Add":"Add","Try Again":"Try Again","Driver":"Driver","Unlock it and open the TON App":"Unlock it and open the TON App","Maybe you need to check the password or change the driver.":"Maybe you need to check the password or change the driver.","Confirm via Ledger":"Confirm via Ledger","Please confirm transaction on your Ledger":"Please confirm transaction on your Ledger","Declined":"Declined","Create Wallet":"Create Wallet","Switch to the newly opened tab to connect Ledger.":"Switch to the newly opened tab to connect Ledger.","Once connected, switch back to this window to proceed.":"Once connected, switch back to this window to proceed.","Not all transactions were sent successfully":"Not all transactions were sent successfully","The time on your device is incorrect, sync it and try again":"The time on your device is incorrect, sync it and try again","Name or Address...":"Name or Address...","Such error, many tabs":"Such error, many tabs","$many_tabs_error_description":"%app_name% supports only one active tab with the app.\\nPlease reload this page to continue using this tab or close it.\\n","Reload App":"Reload App","Please confirm operation on your Ledger":"Please confirm operation on your Ledger","Token Not Found":"Token Not Found","Try another keyword or address.":"Try another keyword or address.","Decrypt":"Decrypt","Encrypted Message":"Encrypted Message","Message is encrypted.":"Message is encrypted.","$dapp_ledger_warning1":"You are about to send a multi-way transaction using your **Ledger** wallet. You will need to sign each underlying transaction **one by one manually**.","$dapp_ledger_warning2":"Please take your time and do not interrupt the process.","Agree":"Agree","$swap_action":"Swap","Swap":"Swap","You sell":"You sell","You buy":"You buy","Swap Details":"Swap Details","Blockchain Fee":"Blockchain Fee","Aggregator Fee":"Aggregator Fee","Included":"Included","Price Impact":"Price Impact","Minimum Received":"Minimum Received","Slippage":"Slippage","$swap_from_to":"Swap %from% %icon% %to%","The exchange rate is below market value!":"The exchange rate is %value% below market value!","Invalid Pair":"Invalid Pair","We do not recommend to perform an exchange, try to specify a lower amount.":"We do not recommend to perform an exchange, try to specify a lower amount.","$swap_minimum_received_tooltip1":"This is the least amount of new tokens you\'ll get from this swap, considering current market conditions, slippage tolerance, and potential price impact.","$swap_minimum_received_tooltip2":"It\'s an expected minimum, but if the conditions change a lot while your swap is being processed, the final amount could be less.","$swap_price_impact_tooltip1":"This shows how much your trade might change the token\'s price.","$swap_price_impact_tooltip2":"Big trades can make the price go up or down more. Lower is usually better.","$swap_slippage_tooltip1":"This sets how much the price is allowed to change before your swap is processed.","$swap_slippage_tooltip2":"If during the processing of your swap, the price changes more than this value, your order will be canceled.","Coins have been swapped!":"Coins have been swapped!","Slippage not specified":"Slippage not specified","Slippage too high":"Slippage too high","Not Enough %symbol%":"Not Enough %symbol%","Use Responsibly":"Use Responsibly","$auth_responsibly_description1":"%app_name% is a **self-custodial** wallet, which means that **only you** have full control and, most importantly, **full responsibility** for your funds.\\n","$auth_responsibly_description2":"Your private keys are stored on your device and are subject to **hacker attacks**. If your computer is infected with **malware**, your funds are likely to be stolen.\\n","$auth_responsibly_description3":"The %app_name% team is **not responsible** for the safety of your funds, just as your computer manufacturer or internet provider is not responsible.\\n","$auth_responsibly_description4":"**Never** store all your funds in one place. **Diversify** and use various software and hardware. Always **do your own research** and learn more about crypto security.\\n","Start Wallet":"Start Wallet","$auth_backup_warning_notice":"Now you need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n","Later":"Later","Back Up Now":"Back Up Now","I have read and accept this information":"I have read and accept this information.","$ledger_verify_address":"Always verify pasted address using your Ledger device.","$ledger_not_ready":"Ledger is not connected or TON app is not open.","Verify now":"Verify now","Invalid address format. Only URL Safe Base64 format is allowed.":"Invalid address format. Only URL Safe Base64 format is allowed.","$auth_backup_description1":"This is a **secure wallet**\\nand is only **controlled by you**.\\n","$auth_backup_description2":"And with great power comes **great responsibility**.","$auth_backup_description3":"You need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n","Swap Placed":"Swap Placed","Swapping":"Swapping","Swapped":"Swapped","Swap Failed":"Swap Failed","Swap Again":"Swap Again","Terms of Use":"Terms of Use","Privacy Policy":"Privacy Policy","Insufficient liquidity":"Insufficient liquidity","This address is new and never received transfers before.":"This address is new and never received transfers before.","Create Backup":"Create Backup","Sending":"Sending","$send_action":"Send","Failed":"Failed","Refunded":"Refunded","On Hold":"On Hold","Expired":"Expired","In Progress":"In Progress","Waiting for Payment":"Waiting for Payment","Blockchain":"Blockchain","Your address on another blockchain":"Your address on another blockchain","Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.":"Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.","The time for sending coins is over.":"The time for sending coins is over.","You have not sent the coins to the specified address.":"You have not sent the coins to the specified address.","$swap_changelly_to_ton_description1":"Send %value% to this address in %blockchain% blockchain within %time%","Exchange failed and coins were refunded to your wallet.":"Exchange failed and coins were refunded to your wallet.","$swap_changelly_kyc_security":"Please contact **%email%** and provide **Transaction ID** to pass the KYC procedure:","Swap Expired":"Swap Expired","Swap On Hold":"Swap On Hold","Swap Refunded":"Swap Refunded","Address for %blockchain% transfer":"Address for %blockchain% transfer","Cross-chain exchange provided by Changelly":"Cross-chain exchange provided by Changelly","$swap_changelly_agreement_message":"By continuing, you agree to the %terms% and %policy% and understand that the transaction may trigger verification according to %kyc%.","$swap_changelly_terms_of_use":"terms of use","$swap_changelly_privacy_policy":"privacy policy","Password must contain %length% digits.":"Password must contain %length% digits.","Deposit Link":"Deposit Link","$swap_changelly_from_ton_description":"Tokens will be sent to your address in %blockchain% blockchain soon:","Please note that it may take up to a few hours for tokens to appear in your wallet.":"Please note that it may take up to a few hours for tokens to appear in your wallet.","Minimum amount":"Minimum %value%","Maximum amount":"Maximum %value%","Display Tray Icon":"Display Tray Icon","Auto-Updates":"Auto-Updates","Biometric Authentication":"Biometric Authentication","If you turn off biometric protection, you will need to create a password.":"If you turn off biometric protection, you will need to create a password.","Enter your current password":"Enter your current password","Turn On Biometrics":"Turn On Biometrics","Please confirm transaction using biometrics":"Please confirm transaction using biometrics","Enabling biometric confirmation will reset the password.":"Enabling biometric confirmation will reset the password.","Biometric Registration":"Biometric Registration","Step 1 of 2. Registration":"Step 1 of 2. Registration","Step 2 of 2. Verification":"Step 2 of 2. Verification","Download Logs":"Download Logs","Copy Logs":"Copy Logs","Logs were copied!":"Logs were copied!","Biometric setup failed.":"Biometric setup failed.","Biometric confirmation failed.":"Biometric confirmation failed.","Failed to disable biometrics.":"Failed to disable biometrics.","Biometric Confirmation":"Biometric Confirmation","Please verify the operation.":"Please verify the operation.","Create Password":"Create Password","Complete":"Complete","Verification":"Verification","Create a password or use biometric authentication to protect it.":"Create a password or use biometric authentication to protect it.","Connect Biometrics":"Connect Biometrics","Use Password":"Use Password","Biometrics Disabled":"Biometrics Disabled","Biometrics Enabled":"Biometrics Enabled","A request is already pending":"A request is already pending","Please confirm operation using biometrics":"Please confirm operation using biometrics","Scan QR Code":"Scan QR Code","Permission denied. Please grant camera permission to use the QR code scanner.":"Permission denied. Please grant camera permission to use the QR code scanner.","This QR Code is not supported":"This QR Code is not supported","An error on the server side. Please try again.":"An error on the server side. Please try again.","Address was saved!":"Address was saved!","US Dollar":"US Dollar","Euro":"Euro","Ruble":"Ruble","Yuan":"Yuan","Bitcoin":"Bitcoin","Toncoin":"Toncoin","$max_balance":"Max: %balance%","$unstake_information_instantly":"You will get your deposit instantly","Select Token":"Select Token","MY":"MY","POPULAR":"POPULAR","Not Found":"Not Found","Wallet is ready!":"Wallet is ready!","Wallet is imported!":"Wallet is imported!","Create a code to protect it":"Create a code to protect it","Enter your code again":"Enter your code again","Codes don\'t match":"Codes don’t match","Code set successfully":"Code set successfully","Use Biometrics":"Use Biometrics","Use Touch ID":"Use Touch ID","Use Face ID":"Use Face ID","You can connect your biometric data for more convenience":"You can connect your biometric data for more convenience","Connect Touch ID":"Connect Touch ID","Connect Face ID":"Connect Face ID","Not Now":"Not Now","Touch ID":"Touch ID","Face ID":"Face ID","Turn Off Touch ID":"Turn Off Touch ID","Turn Off Face ID":"Turn Off Face ID","Turn Off Biometrics":"Turn Off Biometrics","Enter code":"Enter code","Enter code or use Face ID":"Enter code or use Face ID","Enter code or use Touch ID":"Enter code or use Touch ID","Enter code or use biometrics":"Enter code or use biometrics","Wrong code, please try again":"Wrong code, please try again","Scan your fingerprint":"Scan your fingerprint","Incorrect code, please try again.":"Incorrect code, please try again.","Correct":"Correct","Confirm Action":"Confirm Action","Confirm Swap":"Confirm Swap","Confirm Rewards Claim":"Confirm Rewards Claim","%amount% to %address%":"%amount% to %address%","%amount_from% to %amount_to%":"%amount_from% to %amount_to%","Failed to enable biometrics.":"Failed to enable biometrics.","Please try to confirm your biometrics again":"Please try to confirm your biometrics again","Unknown error":"Unknown error","Are you sure you want to disable Face ID?":"Are you sure you want to disable Face ID?","Are you sure you want to disable Touch ID?":"Are you sure you want to disable Touch ID?","Are you sure you want to disable biometrics?":"Are you sure you want to disable biometrics?","Yes":"Yes","Biometric confirmation failed":"Biometric confirmation failed","No Activity":"No Activity","Add / Buy":"Add / Buy","Buy with Card":"Buy with Card","Buy with Crypto":"Buy with Crypto","Cannot load widget":"Cannot load widget","Explore":"Explore","No partners yet":"No partners yet","Clear":"Clear","Get TON":"Get TON","$unstake_up_to_information":"Instantly – up to %value%","$all_balance":"All: %balance%","$unstaking_not_enough_balance":"You need to have %value% on your main balance to proceed with unstaking.","$ledger_verify_address_on_device":"Please, verify the address on your Ledger.","Wallet Versions":"Wallet Versions","$read_more_about_wallet_version":"Read more about types of wallet contracts on %ton_link%.","$current_wallet_version":"Your current wallet version is %version%.","You have tokens on other versions of your wallet. You can import them from here.":"You have tokens on other versions of your wallet. You can import them from here.","$wallet_switch_version_1":"You can also %action%.","$wallet_switch_version_2":"switch to another wallet version","or import from":"or import from","Insufficient fee":"Insufficient fee","$insufficient_fee":"Insufficient fee: %fee%","Required":"Required","Comment is too long.":"Comment is too long.","Memo":"Memo","Memo was copied!":"Memo was copied!","$hide_tokens_no_cost_help":"Hide tokens worth less than $%value%. Keep in mind: worthless tokens are often sent by spammers and scammers. On the same screen below, you can hide individual tokens.","No internet connection. Please check your connection and try again.":"No internet connection. Please check your connection and try again.","To use this feature, first enable Face ID in your phone settings.":"To use this feature, first enable Face ID in your phone settings.","To use this feature, first enable biometrics in your phone settings.":"To use this feature, first enable biometrics in your phone settings.","Open Settings":"Open Settings","$service_token_transfer_warning":"You are about to transfer an important service token required to withdraw your deposit or complete service operations. Please ensure this is the action you intend to take.","No Price":"No Price","$ledger_not_supported_operation":"This operation is not supported by your version of the Ledger TON App. Please update it using Ledger Live.","$ledger_unsupported_ton_connect":"TonConnect is not supported by version of your Ledger TON App. Please update it using Ledger Live.","$dapp_transfer_tokens_burn":"Burning %amount%","$dapp_dns_set_wallet_payload":"Changing linked wallet of domain %domain% to %address%","$dapp_dns_delete_wallet_payload":"Deleting linked wallet of domain %domain%","$dapp_dns_change_record_payload":"Changing \\"%category%\\" record of domain %domain% to %value%","$dapp_dns_delete_record_payload":"Deleting \\"%category%\\" record of domain %domain%","$dapp_token_bridge_pay_swap_payload":"Confirmation of exchange via cross-chain bridge","$dapp_liquid_staking_deposit_payload":"Deposit to liquid staking","$dapp_liquid_staking_vote_payload":"Voting \\"%vote%\\" for proposal %votingAddress%","$dapp_single_nominator_change_validator_payload":"Changing address of SingleNominator staking contract validator to %address%","$dapp_single_nominator_withdraw_payload":"Withdrawal of %amount% TON from SingleNominator staking contract","$dapp_vesting_add_whitelist_payload":"Adding %address% to vesting wallet whitelist","Search or enter address":"Search or enter address","Connecting dapps is not yet supported by Ledger.":"Connecting dapps is not yet supported by Ledger.","Time synchronization issue. Please ensure your device\'s time settings are correct.":"Time synchronization issue. Please ensure your device\'s time settings are correct.","Data was copied!":"Data was copied!","Open NFT Collection":"Open NFT Collection","Previous":"Previous","Next":"Next","Insufficient TON for fee.":"Insufficient TON for fee.","Send NFT":"Send NFT","NFT has been sent!":"NFT has been sent!","Cannot be sent":"Cannot be sent","NFT is for sale":"NFT is for sale","More actions":"More actions","Open on %ton_explorer_name%":"Open on %ton_explorer_name%","Swap is not supported in Testnet.":"Swap is not supported in Testnet.","Swap is not yet supported by Ledger.":"Swap is not yet supported by Ledger.","Buying with card is not supported in Testnet.":"Buying with card is not supported in Testnet.","Staking is not supported in Testnet.":"Staking is not supported in Testnet.","Get Support":"Get Support","$transfer_inactive_contract_error":"You entered an address in the \\"EQ...\\" format, but the address is not active, so the transaction will not be completed.\\nIf you definitely want to send to this address, then enter the address in the \\"UQ...\\" format.\\n","Successfully":"Successfully","Unstake More":"Unstake More","WrongAddress":"The dapp requested a transaction from another wallet.","Are you sure you want to burn this NFT? It will be lost forever.":"Are you sure you want to burn this NFT?\\nIt will be lost forever.\\n","$multi_burn_nft_warning":"You are going to burn %amount% NFTs.","$multi_send_nft_warning":"The process may take ~%duration% minute(s). Please do not close the app and do not switch accounts until it is finished.","Burn NFT":"Burn NFT","Burn":"Burn","Private Key":"Private Key","%amount% NFTs":"%amount% NFTs","1 NFT":"1 NFT","1 NFT Selected":"1 NFT Selected","%amount% NFTs Selected":"%amount% NFTs Selected","For sale. Cannot be sent and burned":"For sale. Cannot be sent and burned","Select":"Select","Send All":"Send All","Burn All":"Burn All","Select All":"Select All","Collection":"Collection","Transaction ID was copied!":"Transaction ID was copied!","$swap_changelly_support":"If there are any problems, please contact %livechat% or %email% and provide **Transaction ID**:","Changelly Live Chat":"Changelly Live Chat","Your %blockchain% Address":"Your %blockchain% Address","Vesting":"Vesting","Vesting Balance":"Vesting Balance","Ready to Unfreeze":"Ready to Unfreeze","You will receive your unfrozen coins in a few minutes.":"You will receive your unfrozen coins in a few minutes.","Vesting Schedule":"Vesting Schedule","Loyal User Airdrop":"Loyal User Airdrop","Unfrozen":"Unfrozen","Missed":"Missed","Frozen":"Frozen","until %date%":"until %date%","Until %date%":"Until %date%","%volume% in %amount% parts":"%volume% in %amount% parts","Unfreeze":"Unfreeze","Claim":"Claim","Confirm Unfreezing":"Confirm Unfreezing","Insufficient Balance for Fee":"Insufficient Balance for Fee","$fee_value_bold":"**Fee:** %fee%","%app_name% Features":"%app_name% Features","Security":"Security","To avoid entering the passcode every time, you can use biometrics.":"To avoid entering the passcode every time, you can use biometrics.","Change Passcode":"Change Passcode","Change Password":"Change Password","Confirm Password":"Confirm Password","The passcode will be changed for all your wallets.":"The passcode will be changed for all your wallets.","Password Changed!":"Password Changed!","Passcode Changed!":"Passcode Changed!","New code set successfully":"New code set successfully","Codes don’t match":"Codes don’t match","Enter your new code":"Enter your new code","Re-enter your new code":"Re-enter your new code","Install on Desktop":"Install on Desktop","Install on Mobile":"Install on Mobile","Install App":"Install App","WrongNetwork":"The dapp requested a transaction from another network.","Hide":"Hide","Hidden NFTs":"Hidden NFTs","Hidden By Me":"Hidden By Me","Probably Scam":"Probably Scam","$settings_nft_probably_scam_description":"These NFTs were automatically disabled by Anti-Scam Protection. You can return the necessary ones to Home if you think they were included in this list by mistake.","Unhide":"Unhide","Hide All":"Hide All","Hide NFT":"Hide NFT","Reload Page":"Reload Page","Open in Safari":"Open in Safari","Open in Browser":"Open in browser","CopyURL":"Copy URL","Share":"Share","Unhide NFT":"Unhide NFT","$unhide_nft_warning":"Are you sure you want to unhide %name%? This NFT looks suspicious and may not match its name and description.","Hide NFTs":"Hide NFTs","Are you sure you want to hide this NFT collection containing %number% NFTs?":"Are you sure you want to hide this NFT collection containing %number% NFTs?","Are you sure you want to hide these %number% NFTs?":"Are you sure you want to hide these %number% NFTs?","Show":"Show","Confirm Sending":"Confirm Sending","Confirm Burning":"Confirm Burning","Confirm Passcode":"Confirm Passcode","Enter your code":"Enter your code","$hardware_payload_warning":"**A third-party service is requesting access to your wallet.** This could lead to the loss of funds. Cancel the operation if you are not sure about the reliability of this service.","$hardware_blind_sign_not_enabled":"**A third-party service is requesting access to your wallet.** This could lead to the loss of funds. Cancel the operation if you are not sure about the reliability of this service.\\n\\nTo continue, enable the \\"Blind Signing\\" option in the settings of the TON App on Ledger.\\n","$hardware_blind_sign_not_enabled_internal":"To continue, enable the \\"Blind Signing\\" option in the settings of the TON App on Ledger.","Switch to W5":"Switch to W5","Not Scam":"Not Scam","Untitled":"Untitled","Multichain":"Multichain","$swap_too_small_amount":"Too small amount","Not enough %symbol%":"Not enough %symbol%","$receive_tron_description":"Scan this QR or share your address to top up your wallet balance.","You have just created a new multichain wallet":"You have just created a new multichain wallet","Now you can transfer tokens from your TON and TRON wallets.":"Now you can transfer tokens from your TON and TRON wallets.","Enter Secret Words":"Enter Secret Words","Turn this off so you can manually download updates and verify signatures.":"Turn this off so you can manually download updates and verify signatures.","InvalidMnemonic":"Your mnemonic words are invalid","NFT Menu":"NFT Menu","Connection Type":"Connection Type","Ledger is not supported on this device":"Ledger is not supported on this device","Connect your Ledger":"Connect your Ledger","$app_lock_description":"When app lock is enabled, a lock icon appears on the card on the main page. Use it to lock %app_name%.","App Lock":"App Lock","Auto-Lock":"Auto-Lock","Disabled":"Disabled","30 seconds":"30 seconds","3 minutes":"3 minutes","10 minutes":"10 minutes","If away for 30 sec":"If away for 30 sec","If away for 3 min":"If away for 3 min","If away for 10 min":"If away for 10 min","Unlock":"Unlock","This address mimics another address that you previously interacted with.":"This address mimics another address that you previously interacted with.","Biometric authentication failed":"Biometric authentication failed","Reset biometrics in security settings, or use a passcode.":"Reset biometrics in security settings, or use a passcode.","Best Rate":"Best Rate","via %dex_name%":"via %dex_name%","$swap_dex_chooser_rate_title":"Analyzed actual rates on **DeDust** and **STON.fi** to use the **best rate**.","You will receive %amount% **more**.":"You will receive %amount% **more**.","You will spend %amount% **less**.":"You will spend %amount% **less**.","Best":"Best","Use Best Rate":"Use Best Rate","Switch to %dex_name%":"Switch to %dex_name%","Built-in DEX Aggregator":"Built-in DEX Aggregator","Add Tokens":"Add Tokens","No tokens yet":"No tokens yet","$no_tokens_description":"Receive tokens from another wallet, or simply enable preferred tokens in the settings for monitoring.","Exchange Rate":"Exchange Rate","Install Card":"Install Card","Reset Card":"Reset Card","Apply Palette":"Install Palette","Reset Palette":"Reset Palette","Notifications & Sounds":"Notifications & Sounds","Sounds":"Sounds","Push Notifications":"Push Notifications","Select up to %count% wallets for notifications":"Select up to %count% wallets for notifications","$swap_aggregator_fee_tooltip":"A built-in **DEX aggregator** finds the **best rate** across available DEXes. Service fee is %percent%.","Accumulated Rewards":"Accumulated Rewards","$swap_reverse_prohibited":"Setting the buy amount is impossible for this pair of tokens","Blockchain Fee Details":"Blockchain Fee Details","Final Fee":"Final Fee","Excess":"Excess","$fee_details":"%full_fee% need to be immediately debited from your wallet to pay the fee. Part of this will be returned **in **%excess_symbol% to you as excess within a few minutes.\\n\\nThis is how %chain_name% Blockchain works.\\n","Got It":"Got It","Wallet":"Wallet","Connected":"Connected","All Dapps":"All Dapps","Trending":"Trending","No Data":"No Data","Toggle fullscreen":"Toggle fullscreen","Request is sent!":"Request is sent!","Transaction ID":"Transaction ID","Help Center":"Help Center","MyTonWallet Tips":"MyTonWallet Tips","$auth_import_24_mnemonic_description":"You can restore access to your wallet by entering the **24 secret words** that you wrote down when creating the wallet.\\n","Open %nft_marketplace%":"Open %nft_marketplace%","Link was copied!":"Link was copied!","Share Link":"Share Link","$dapp_return_details":"%fee_amount% will be immediately debited from your wallet to pay the fee.\\n\\n%received_amount% will be returned to you within a few minutes.\\n","Additional Amount Sent":"Additional Amount Sent","Show Sensitive Data":"Show Sensitive Data","Hide Sensitive Data":"Hide Sensitive Data","Copy Address":"Copy Address","Copy Transaction ID":"Copy Transaction ID","Requesting Unstake":"Requesting Unstake","Unstake Requested":"Unstake Requested","$request_unstake_action":"Request Unstake","Calling Contract":"Calling Contract","Contract Called":"Contract Called","$call_contract_action":"Call Contract","Deploying Contract":"Deploying Contract","Contract Deployed":"Contract Deployed","$deploy_contract_action":"Deploy Contract","Minting":"Minting","Minted":"Minted","$mint_action":"Mint","Burning":"Burning","Burned":"Burned","$burn_action":"Burn","Address Updated":"Address Updated","Updating Address":"Updating Address","$update_address_action":"Update Address","Site Updated":"Site Updated","Updating Site":"Updating Site","$update_site_action":"Update Site","Subdomains Updated":"Subdomains Updated","Updating Subdomains":"Updating Subdomains","$update_subdomains_action":"Update Subdomains","Storage Updated":"Storage Updated","Updating Storage":"Updating Storage","$update_storage_action":"Update Storage","Domain Record Deleted":"Domain Record Deleted","Deleting Domain Record":"Deleting Domain Record","$delete_domain_record_action":"Delete Domain Record","Renewing Domain":"Renewing Domain","Domain Renewed":"Domain Renewed","$renew_domain_action":"Renew Domain","Providing Liquidity":"Providing Liquidity","Liquidity Provided":"Liquidity Provided","$provide_liquidity_action":"Provide Liquidity","Withdrawing Liquidity":"Withdrawing Liquidity","Liquidity Withdrawn":"Liquidity Withdrawn","$withdraw_liquidity_action":"Withdraw Liquidity","Bounced":"Bounced","Bouncing":"Bouncing","$bounce_action":"Bounce","NFT Auction Bid":"NFT Auction Bid","Bidding at NFT Auction":"Bidding at NFT Auction","NFT Bought":"NFT Bought","Buying NFT":"Buying NFT","$buy_nft_action":"Buy NFT","NFT Sold":"NFT Sold","Selling NFT":"Selling NFT","$sell_nft_action":"Sell NFT","Receiving":"Receiving","$receive_action":"Receive","Change Palette":"Change Palette","Palette":"Palette","Unlock New Palettes":"Unlock New Palettes","Get a unique MyTonWallet Card to unlock new palettes.":"Get a unique MyTonWallet Card to unlock new palettes.","Mint Cards":"Mint Cards","Card has been upgraded!":"Card has been upgraded!","$mint_card_result":"NFT Card will be **minted** and **installed automatically** within a minute.","Unique":"Unique","Get a card with unique background and personalized palette for wallet interface.":"Get a card with unique background and personalized palette for wallet interface.","Transferable":"Transferable","Easily send your upgraded card to any of your friends.":"Easily send your upgraded card to any of your friends.","Tradable":"Tradable","Sell or auction your card on third-party NFT marketplaces.":"Sell or auction your card on third-party NFT marketplaces.","Upgrade for %currency% %amount%":"Upgrade for %currency% %amount%","%amount% left":"%amount% left","%amount% sold":"%amount% sold","This card has been sold out":"This card has been sold out","Import Existing Wallet":"Import Existing Wallet","View Any Address":"View Any Address","12/24 Secret Words":"12/24 Secret Words","24 Secret Words":"24 Secret Words","Wallet Address or Domain":"Wallet Address or Domain","$import_view_account_note":"Enter **any address** on TON or TRON network to open it in **View Mode**.","$view_mode":"View","Import Wallet":"Import Wallet","Please top up your TON balance.":"Please top up your TON balance.","Remember Passcode":"Remember Passcode","Remember Password":"Remember Password","Not available with biometrics.":"Not available with biometrics.","App will not ask for signature for %1$d minutes after last entry.":"The app will not ask for a signature for %1$d minutes after the last entry.","Remember for %1$d minutes":"Remember for %1$d minutes","Preview":"Preview","$preview_not_guaranteed":"Preview result **is not guaranteed **and **can be forged **by the service.","Unverified Source":"Unverified Source","$reopen_in_iab":"For your safety, please re-open this dapp in %browserButton%.","MyTonWallet Browser":"MyTonWallet Browser","Exit all wallets":"Exit all wallets","Can\'t confirm?":"Can\'t confirm?","$safe_staking_ethena_description1":"Staking is fully decentralized and operated by **Ethena’s official** audited liquid staking **smart contracts**.","$safe_staking_ethena_description2":"The deposited USDe stake is used in Ethena’s **trading and investment strategies** to yield rewards automatically and transparently.","$safe_staking_ethena_description3":"You can **withdraw** your stake with rewards at any time, and it will be returned to your account **in 7 days**, according to Ethena’s standard withdrawal period.","Unstake %amount%":"Unstake %amount%","Request Unstaking":"Request Unstaking","$unstaking_when_receive_ethena":"You will be able to receive your unstaked deposit in **7 days**.","Coins have been unstaked!":"Coins have been unstaked!","Confirm Upgrading":"Confirm Upgrading","How does it work?":"How does it work?","Multisend":"Multisend","Renew All":"Renew All","Renew":"Renew","Renew Domain":"Renew Domain","Renew Domains":"Renew Domains","Some domains are about to expire":"Some domains are about to expire","$domain_expire":"**%domain%** expires %days%","%token% Staking":"%token% Staking","Add Tab":"Add Tab","Remove Tab":"Remove Tab","Failed to process domain operation. Please try again.":"Failed to process domain operation. Please try again.","$domains_amount %1$d":{"zeroValue":"No domains","oneValue":"%1$d domain","otherValue":"%1$d domains"},"Stake":"Stake","Manage Tokens":"Manage Tokens","Claim Rewards":"Claim Rewards","Configure DNS":"Configure DNS","Link to Wallet":"Link to Wallet","Change Wallet":"Change Wallet","Change Linked Wallet":"Change Linked Wallet","Domain has been renewed!":"Domain has been renewed!","Domains have been renewed!":"Domains have been renewed!","Linked Wallet":"Linked Wallet","Domain has been linked!":"Domain has been linked!","Link":"Link","Confirm Renewing":"Confirm Renewing","Confirm Linking":"Confirm Linking","$domains_expire":{"zeroValue":"No domains expires %days%","oneValue":"**%domain% domain** expires %days%","otherValue":"**%domain% domains** expire %days%"},"$in_days":{"zeroValue":"today","oneValue":"tomorrow","otherValue":"in %1$d days"},"$domain_was_expired":"**%domain%** is expired","$domains_was_expired":{"zeroValue":"No domains is expired","oneValue":"**%domain% domain** is expired","otherValue":"**%domain% domains** are expired"},"Reload":"Reload","Copy Link":"Copy Link","Check eligibility for max APY":"Check eligibility for max APY","Check eligibility":"Check eligibility","$expired_many":"Expired","$expires_in %days%":"Expires %days%","Message":"Message","Binary Data":"Binary Data","The binary data content is unclear. Sign it only if you trust the service.":"The binary data content is unclear. Sign it only if you trust the service.","Cell Schema":"Cell Schema","Cell Data":"Cell Data","Sign Data":"Sign Data","Please confirm signature on your Ledger":"Please confirm signature on your Ledger","Utilities":"Utilities","Games":"Games","Entertainment":"Entertainment","Toggle to landscape layout":"Toggle to landscape layout","Toggle to portrait layout":"Toggle to portrait layout","Attributes":"Attributes","Show All":"Show All","Description":"Description","No additional data.":"No additional data.","Domain was copied!":"Domain was copied!","$in_currency":"in %currency%","Rename Wallet":"Rename Wallet","You can rename this wallet for easier identification.":"You can rename this wallet for easier identification.","$storage_cleared_title":"Application Storage Cleared","$storage_cleared_message":"Your wallet data has been cleared due to browser-related or disk space issues. Please log out from all wallets and then re-import them manually using your secret words.\\n\\nIf you need assistance, please contact %support_link%.\\n","Collectibles":"Collectibles"}'),Jo=self.caches;async function Zo(e){try{if(!Jo)return;return await Jo.delete(e)}catch(e){return void console.warn(e)}}const er=new Set(Object.values(e.yR2).map((e=>e.shortSymbol)).filter(Boolean)),tr=(0,et.A)((function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2?arguments[2]:void 0,o=new Ot.z(t);if(o.eq(0))return"0";const r=o.lt(0);r&&(o=o.neg());const i=o.lt(1)?"toPrecision":"round";let s=o[i](n,a?Ot.z.roundHalfUp:Ot.z.roundDown).toString().replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,"");return s=function(t){const[n,a=""]=t.split(".");return[n.replace(/\B(?=(\d{3})+(?!\d))/g,`$&${e.MS3}`),a].filter(Boolean).join(".")}(s),r&&(s=`-${s}`),s}));function nr(e,t,n,a){return rr(tr(e,n,a),t)}function ar(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const r=Number(e),i=n?"":(0===r?o:r<0)?"− ":"+ ";return e=e.toString(),i+nr(n?e:e.replace(/^-/,""),t,a)}function or(e,t,n){return"string"!=typeof e&&(e=(0,Lt.nI)(e,n)),rr(e,t)}function rr(e,t){return er.has(t)?`${t}${e}`.replace(`${t}-`,`-${t}`):`${e} ${t}`}function ir(t){return t||(t=e.wOb),e.yR2[t].shortSymbol??t}function sr(e,t,n){return nr((0,Ot.z)((0,Lt.nI)((0,sa.wg)(e),n.decimals,!0)).mul(n.price),ir(t))}const cr=Xo,{addCallback:lr,removeCallback:dr,runCallbacks:ur}=v(),mr=/%\d?\$?[sdf@]/g,pr=["value","zeroValue","oneValue","twoValue","fewValue","manyValue","otherValue"],fr={de:e=>0===e?1:1!==e?6:2,en:e=>0===e?1:1!==e?6:2,es:e=>0===e?1:1!==e?6:2,pl:e=>0===e?1:1===e?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,ru:e=>0===e?1:e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,th:e=>0===e?1:6,tr:e=>0===e?1:e>1?6:2,uk:e=>0===e?1:e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,"zh-Hans":e=>0===e?1:6,"zh-Hant":e=>0===e?1:6},hr=new Map;let gr,vr;function wr(){return(e,t,a,o)=>{var r;if(void 0!==t&&("object"!=typeof t||Array.isArray(t))){const n=Array.isArray(t)?JSON.stringify(t):t,r=hr.get(`${e}_${n}_${a}${o?`_${o}`:""}`);if(r)return r}return gr||cr?function(e,t,a,o,r){const i="number"==typeof a||void 0!==r?function(e){const t=vr||n.vj,a=fr[t]?fr[t](e):0;return pr[a]}(r??a):"value",s="string"==typeof e?e:"value"===i?"object"==typeof e?e.value:e:"object"==typeof e?(null==e?void 0:e[i])||e.otherValue:void 0;if(!s||!s.trim()||void 0===a)return s;const c="i"===o?tr(a):a,l="object"!=typeof a||Array.isArray(a)?function(e,t){t=Array.isArray(t)?t:[t];const n=e.split(mr),a=n.shift();return n.reduce(((e,n,a)=>`${e}${String(t[a]??"")}${n}`),a||"")}(s,c):function(e,t){let n=e;Object.entries(t).forEach((e=>{let[t,a]=e;var o;"string"!=typeof a&&"number"!=typeof a||(n=n.replace(new RegExp(`%${o=t,o.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}%`,"g"),String(a)))}));if(!Object.values(t).some((e=>"string"!=typeof e&&"number"!=typeof e)))return Qo(n);const a=n.split(/%(\w+)%/),o=[];for(let e=0;e<a.length;e++)if(e%2==0)a[e]&&o.push(...Qo(a[e]));else{const n=t[a[e]];void 0!==n&&o.push(n)}return o}(s,c);if("object"!=typeof a&&"string"==typeof l){const e=Array.isArray(a)?JSON.stringify(a):a;hr.set(`${t}_${e}_${o}${r?`_${r}`:""}`,l)}return l}((null===(r=gr)||void 0===r?void 0:r[e])||(null==cr?void 0:cr[e])||e,e,t,a,o):e}}let yr=wr();async function br(t,a){if(gr&&t===vr)return void(a&&a());let o=await async function(t,n){if(Jo)try{const a=e.jht?`${e.uyj}/${n.replace(/:/g,"_")}`:new Request(n.replace(/:/g,"_")),o=await Jo.open(t),r=await o.match(a);if(!r)return;return await r.json()}catch(e){return void console.warn(e)}}(e.CV,t);if(!o&&(o=await async function(t){if(t===n.vj)return cr;const a=await fetch(`${e.jht?".":".."}/i18n/${t}.json`);if(!a.ok){const e=`An error has occured: ${a.status}`;throw new Error(e)}const o=await a.json();return o?(await async function(t,n,a){if(Jo)try{const o="string"==typeof a||a instanceof Blob||a instanceof ArrayBuffer?a:JSON.stringify(a),r=e.jht?`${e.uyj}/${n.replace(/:/g,"_")}`:new Request(n.replace(/:/g,"_")),i=new Response(o);if(r instanceof Request&&0===r.url.indexOf("chrome-extension"))return;const s=await Jo.open(t);return await s.put(r,i)}catch(e){return void console.warn(e)}}(e.CV,t,o),o):void 0}(t),!o))return;hr.clear(),vr=t,gr=o,document.documentElement.lang=t;const r=null===e.gSB||void 0===e.gSB?void 0:e.gSB.find((e=>e.langCode===t));yr=wr(),yr.isRtl=Boolean(null==r?void 0:r.rtl),yr.code=t.replace("-raw",""),yr.langName=null==r?void 0:r.nativeName,a&&a(),ur()}const Er=()=>{const e=ve();return ye((()=>lr(e))),yr};function kr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var Cr=i(75357);const Nr=(e,t,n)=>Math.min(n,Math.max(t,e)),Sr=(e,t,n)=>e>=t&&e<=n,Ar=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(e*10**t)/10**t};let Tr=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e}({});function Ir(e,t){return t?Math.hypot(t.pageX-e.pageX,t.pageY-e.pageY):0}function Br(e,t){return{x:(e.pageX+t.pageX)/2,y:(e.pageY+t.pageY)/2}}let _r=0;const xr=new class{constructor(){let{stability:e=8,sensitivity:t=100,tolerance:n=1.1,delay:a=150}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stability=e,this.sensitivity=t,this.tolerance=n,this.delay=a,this.lastUpDeltas=new Array(2*this.stability).fill(0),this.lastDownDeltas=new Array(2*this.stability).fill(0),this.deltasTimestamp=new Array(2*this.stability).fill(0)}check(e){let t;return void 0!==(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:void 0!==e.deltaY?t=-40*e.deltaY:void 0===e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))}isInertia(e){const t=-1===e?this.lastDownDeltas:this.lastUpDeltas;if(void 0===t[0])return e;if(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])return!1;const n=t.slice(0,this.stability),a=t.slice(this.stability,2*this.stability),o=n.reduce(((e,t)=>e+t)),r=a.reduce(((e,t)=>e+t)),i=o/n.length,s=r/a.length;return Math.abs(i)<Math.abs(s*this.tolerance)&&this.sensitivity<Math.abs(s)}}({stability:5,sensitivity:25,tolerance:n.H8?1:.6,delay:150});function Dr(e,t){let a,o=!1,r=!1,i=!1,s=0,c=t.initialZoom??1,d={x:0,y:0},u={x:!1,y:!1};const m=Ra();let p,f={x:m.width/2,y:m.height/2};const h=t.minZoom??1,g=t.maxZoom??4;function v(n){var o;const r=n.target,{excludedClosestSelector:i,includedClosestSelector:c,withNativeDrag:l,withCursor:d,onDrag:u}=t;(e===r||e.contains(r))&&"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName&&(i&&(r.matches(i)||r.closest(i))||c&&!r.matches(c)&&!r.closest(c)||(a=n,"mousedown"===n.type?(!l&&u&&n.preventDefault(),document.addEventListener("mousemove",y),document.addEventListener("mouseup",w)):"touchstart"===n.type&&(r.addEventListener("touchmove",y,{passive:!0}),r.addEventListener("touchend",w,{passive:!0}),r.addEventListener("touchcancel",w,{passive:!0}),"touches"in n&&(void 0===n.pageX&&(n.pageX=n.touches[0].pageX),void 0===n.pageY&&(n.pageY=n.touches[0].pageY),2===n.touches.length&&(s=Ir(n.touches[0],n.touches[1]),f=Br(n.touches[0],n.touches[1])))),d&&document.body.classList.add("cursor-grabbing"),null===(o=t.onCapture)||void 0===o||o.call(t,n)))}function w(e){if(a){if(t.withCursor&&document.body.classList.remove("cursor-grabbing"),document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",y),a.target.removeEventListener("touchcancel",w),a.target.removeEventListener("touchend",w),a.target.removeEventListener("touchmove",y),n.pz&&t.selectorToPreventScroll){const e=Array.from(document.querySelectorAll(t.selectorToPreventScroll));(0,Cr.dL)((()=>{e.forEach((e=>{e.style.overflow=""}))}),e)}e&&(o?t.onRelease&&t.onRelease(e):"mouseup"===e.type&&(t.onDoubleClick&&Date.now()-_r<300?t.onDoubleClick(e,{centerX:a.pageX,centerY:a.pageY}):!t.onClick||"button"in e&&0!==e.button||t.onClick(e),_r=Date.now()))}o=!1,r=!1,i=!1,s=0,c=Nr(c,h,g),p=void 0,d={x:0,y:0},u={x:!1,y:!1};const l=Ra();f={x:l.width/2,y:l.height/2},a=void 0}function y(e){if(a){if("touchmove"===e.type&&"touches"in e&&(void 0===e.pageX&&(e.pageX=e.touches[0].pageX),void 0===e.pageY&&(e.pageY=e.touches[0].pageY),t.onZoom&&s>0&&2===e.touches.length)){const n=Ir(e.touches[0],e.touches[1]),a=Br(e.touches[0],e.touches[1]),r=a.x-f.x,i=a.y-f.y,c=n/s;t.onZoom(e,{zoomFactor:c,initialCenterX:f.x,initialCenterY:f.y,dragOffsetX:r,dragOffsetY:i,currentCenterX:a.x,currentCenterY:a.y}),1!==c&&(o=!0)}const i=e.pageX-a.pageX,c=e.pageY-a.pageY;(Math.abs(i)>=15||Math.abs(c)>=15)&&(o=!0);let l=!1;if(t.onDrag&&(t.onDrag(e,a,{dragOffsetX:i,dragOffsetY:c}),l=!0),t.onSwipe&&!r&&(r=function(e,a,o){if(n.pz){const t="touches"in e?e.touches[0].pageX:e.pageX;if(t<=20||t>=Ra().width-20)return!1}const r=Math.abs(a),i=Math.abs(o),s=t.swipeThreshold??20;let c;if(r>i&&r>=s?c="x":i>r&&i>=s&&(c="y"),!c)return!1;if(p){if(p!==c)return!1}else p=c;return function(e,t,n,a,o){const r={dragOffsetX:n,dragOffsetY:a};return"x"===t?o(e,n<0?Tr.Left:Tr.Right,r):"y"===t&&o(e,a<0?Tr.Up:Tr.Down,r)}(e,c,a,o,t.onSwipe)}(e,i,c),l=r),n.pz&&l&&t.selectorToPreventScroll){const e=Array.from(document.querySelectorAll(t.selectorToPreventScroll));(0,Cr.dL)((()=>{e.forEach((e=>{e.style.overflow="hidden"}))}),e)}}}const b=(0,l.sg)(w,150,!1),E=(0,l.sg)(w,150,!1);function k(e){o||(v(e),o=!0,f={x:e.x,y:e.y})}function C(e){if(!t.onZoom&&!t.onDrag)return;if(t.excludedClosestSelector&&(e.target.matches(t.excludedClosestSelector)||e.target.closest(t.excludedClosestSelector)))return;e.preventDefault(),e.stopPropagation();const{doubleTapZoom:n=3}=t;if(t.onDoubleClick&&Object.is(e.deltaX,-0)&&Object.is(e.deltaY,-0)&&e.ctrlKey)return k(e),c=c>1?1:n,t.onDoubleClick(e,{centerX:e.pageX,centerY:e.pageY}),void(o=!1);const r=e.metaKey||e.ctrlKey||e.shiftKey;if(r&&function(e){if(!t.onZoom)return;k(e);const n=e.x-f.x,a=e.y-f.y,o=Nr(e.deltaY,-25,25);c-=.01*o,c=Nr(c,.5*h,3*g),i=!0,t.onZoom(e,{zoom:Ar(c,2),initialCenterX:f.x,initialCenterY:f.y,dragOffsetX:n,dragOffsetY:a,currentCenterX:e.x,currentCenterY:e.y}),E(e)}(e),!r&&!i){const n=xr.check(e);(1!==c||n)&&function(e){if(!t.onDrag)return;k(e),u.x&&Math.sign(d.x)!==Math.sign(e.deltaX)||(d.x-=e.deltaX),u.y&&Math.sign(d.y)!==Math.sign(e.deltaY)||(d.y-=e.deltaY);const{x:n,y:o}=d;t.onDrag(e,a,{dragOffsetX:n,dragOffsetY:o},((e,t)=>{u={x:e,y:t}})),b(e)}(e)}}return t.withWheelDrag&&e.addEventListener("wheel",C),e.addEventListener("mousedown",v),document.body.addEventListener("touchstart",v,{passive:!t.isNotPassive}),()=>{w(),document.body.removeEventListener("touchstart",v),e.removeEventListener("mousedown",v),e.removeEventListener("wheel",C)}}const Lr={Enter:"onEnter",Backspace:"onBackspace",Delete:"onDelete",Esc:"onEsc",Escape:"onEsc",ArrowUp:"onUp",ArrowDown:"onDown",ArrowLeft:"onLeft",ArrowRight:"onRight",Tab:"onTab"},Or={onEnter:[],onDelete:[],onBackspace:[],onEsc:[],onUp:[],onDown:[],onLeft:[],onRight:[],onTab:[]};function Pr(e){return Mr()||document.addEventListener("keydown",Fr,!0),Object.keys(e).forEach((t=>{const n=e[t];if(!n)return;const a=Or[t];a&&a.push(n)})),()=>{!function(e){Object.keys(e).forEach((t=>{const n=e[t],a=Or[t];if(a){const e=a.findIndex((e=>"function"==typeof e?e===n:n&&"handler"in n&&e.handler===n.handler));-1!==e&&a.splice(e,1)}})),Mr()||document.removeEventListener("keydown",Fr,!1)}(e)}}function Mr(){return Object.values(Or).some((e=>Boolean(e.length)))}function Fr(e){const t=Lr[e.key];if(!t)return;const{length:n}=Or[t];if(!n)return;const a=Or[t][n-1];if("function"==typeof a)a(e),e.stopPropagation();else{const{handler:t,noStopPropagation:n,shouldPreventDefault:o}=a;n||e.stopPropagation(),o&&e.preventDefault(),t(e)}}let Rr=0;function Ur(){Rr+=1}function Wr(){Rr-=1}function Hr(e){function t(t){if("Tab"!==t.key)return;t.preventDefault(),t.stopPropagation();const n=Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!n.length)return;const a=n.findIndex((e=>e.isSameNode(document.activeElement)));let o=0;a>=0&&(o=t.shiftKey?a>0?a-1:n.length-1:a<n.length-1?a+1:0),n[o].focus()}return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}function $r(e){return/^#[0-9A-F]{6}$/i.test(e)?e:`#${e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map(((e,t)=>(3===t?Math.round(255*parseFloat(e)):parseFloat(e)).toString(16).padStart(2,"0").replace("NaN",""))).join("")}`}var Vr,zr;!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(Vr||(Vr={})),function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"}(zr||(zr={}));const Kr=(0,Sa.F3)("StatusBar");var qr;!function(e){e.SHOW="onShow",e.HIDE="onHide",e.COLOR_CHANGE="onColorChange"}(qr||(qr={}));const jr=(0,Sa.F3)("NavigationBar",{web:()=>i.e(884).then(i.bind(i,15884)).then((e=>new e.NavigationBarWeb))}),Yr=window.matchMedia("(prefers-color-scheme: dark)");let Gr,Qr;function Xr(e,t){Gr=e,Jr(),ei({isInModal:t}),(0,k.YS)((()=>{var e;const t=getComputedStyle(document.documentElement).getPropertyValue("--color-background-second");null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content",t)}))}function Jr(){var t;const n="dark"===Gr||"system"===Gr&&(e.tKX?"dark"===(null===(t=Xa())||void 0===t?void 0:t.colorScheme):Yr.matches);document.documentElement.classList.toggle("theme-dark",n)}function Zr(){Jr(),ei()}function ei(t){e.tKX?(0,k.YS)((()=>{var e,t,n;const a=getComputedStyle(document.documentElement).getPropertyValue("--color-background-second");if(!a)return;const o=$r(a);null===(e=Xa())||void 0===e||e.setHeaderColor(o),null===(t=Xa())||void 0===t||t.setBackgroundColor(o),null===(n=Xa())||void 0===n||n.setBottomBarColor(o)})):e.UMQ&&(void 0!==(null==t?void 0:t.forceDarkBackground)&&(Qr=t.forceDarkBackground),function(e,t,a,o){const r=a||"dark"===e||t&&"system"===e?Vr.Dark:Vr.Light;Kr.setStyle({style:r,isModalOpen:o}),n.xy&&jr.setColor({color:"#00000000",darkButtons:"light"===e||!t&&"system"===e})}(Gr,Yr.matches,Qr,null==t?void 0:t.isInModal))}function ti(){"system"===Ve().settings.theme&&Zr()}Yr.addEventListener("change",Zr),e.tKX&&Ja().then((e=>{e.onEvent("themeChanged",ti)}));const ni=new Map,ai=e=>{const t=matchMedia(e),n=new Set,a=()=>{n.forEach((e=>e(t.matches)))};return t.addEventListener?t.addEventListener("change",a,{passive:!0}):t.addListener(a),{mql:t,dispatchers:n,listener:a}};function oi(e,t){const[n,a]=ie(function(){if((null==t?void 0:t.initializeWithValue)??1){let t=ni.get(e);return t||(t=ai(e),ni.set(e,t)),t.mql.matches}}());return ce((()=>(((e,t)=>{let n=ni.get(e);n||(n=ai(e),ni.set(e,n)),n.dispatchers.add(t),t(n.mql.matches)})(e,a),()=>((e,t)=>{const n=ni.get(e);if(!n)return;const{mql:a,dispatchers:o,listener:r}=n;o.delete(t),o.size||(ni.delete(e),a.removeEventListener?a.removeEventListener("change",r):a.removeListener(r))})(e,a))),[e]),n}let ri;function ii(){ri=oi(`(max-width: ${e.c2m-.02}px)`);const t=oi("(max-height: 43.5rem)");return{isPortrait:Boolean(ri),isSmallHeight:t,isLandscape:!ri,screenHeight:window.screen.height}}function si(){return ri}const ci=(e,t,n)=>{const a=me();return ce((()=>{const n=a.current;return a.current=t,e(n||[])}),t,n)},li=new Map,di=new Set(["color","date","datetime-local","email","month","number","password","search","tel","text","time","url","week"]);let ui;const mi=bo.getSafeAreaInsets().then((e=>{let{insets:t}=e;return ui=t,ui}));let pi,fi;function hi(e,t){ce((()=>{if(n.bA)return li.set(e,t),pi===e&&t(),()=>{li.get(e)===t&&li.delete(e)}}),[e,t])}function gi(e){return!!(e&&e instanceof HTMLElement)&&("INPUT"===e.tagName&&di.has(e.type)||"TEXTAREA"===e.tagName||"DIV"===e.tagName&&e.isContentEditable)}n.bA&&(ko.addListener("delegate",(e=>{var t;let{key:n,globalJson:a}=e;pi=n,null===(t=li.get(n))||void 0===t||t(),ze(JSON.parse(a,sa.bk),{forceOutdated:!0,forceSyncOnIOs:!0})})),ko.addListener("move",(()=>{window.dispatchEvent(new Event("viewportmove"))})));const vi=new Map;n.KI&&(ko.prepare(),ko.addListener("openInMain",(e=>{var t;let{key:n}=e;null===(t=vi.get(n))||void 0===t||t()})));let wi,yi=Promise.resolve();const bi=(0,l.sg)((e=>e()),300,!1),Ei=[];let ki=!1,Ci=0;function Ni(){const e=Xa().BackButton;Ei.length>0&&!ki?(e.show(),e.onClick(Si),ki=!0):!Ei.length&&ki&&(e.hide(),e.offClick(Si),ki=!1)}function Si(){if(Ei.length>0){const e=Ei.pop();try{e.callback()}catch(e){(0,t.SJ)("[handleBackButtonClick]",e)}}bi(Ni)}const Ai=`${window.location.pathname}${window.location.search}`,Ti=Number(new Date);let Ii,Bi,_i=!1,xi=[],Di=[];function Li(){const e=xi.filter((e=>"go"===e.type)),t=xi.filter((e=>"go"!==e.type)),n=e.reduce(((e,t)=>e+t.delta),0);xi=[],n&&(window.history.go(n),t.length)?Di.push(...t):Oi(t)}function Oi(e){e.forEach((e=>window.history[e.type](e.data,"")))}function Pi(e){xi.length||(0,k.YS)(Li),xi.push(e)}function Mi(){Bi=0,Ii=[{index:0,onBack:()=>window.history.back()}],n.Fe||window.history.replaceState({index:0,historyUniqueSessionId:Ti},"",Ai)}function Fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(let t=Bi-1;t>0&&Ii[t].isClosed;t--)e++;return e&&(_i=!0,Pi({type:"go",delta:-e})),e}function Ri(){for(let n=Ii.length-1;n>0;n--){var e,t;Ii[n].isClosed||null===(e=(t=Ii[n]).onBack)||void 0===e||e.call(t)}Mi()}function Ui(t){let{isActive:a,shouldBeReplaced:o,shouldIgnoreForTelegram:r,onBack:i}=t;const s=Po(i),c=me(),l=me(),d=me(!1),u=me(!0),m=ue((function(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]||Ii[Bi].shouldBeReplaced;c.current=e?Bi:++Bi,Bi=c.current;const t=Ii[c.current];var n;t&&!t.isClosed&&(null===(n=t.markReplaced)||void 0===n||n.call(t)),Ii[c.current]={index:c.current,onBack:s,shouldBeReplaced:o,markReplaced:()=>{d.current=!0}},Pi({type:e?"replaceState":"pushState",data:{index:c.current,historyUniqueSessionId:Ti}})}),[s,o]),p=ue((()=>{c.current&&Ii[c.current]&&!d.current&&(Ii[c.current].isClosed=!0,d.current=!0,c.current!==Bi||o||(Bi-=Fi()))}),[o]);ye((()=>{if(!n.pz)return u.current=!1,()=>{a&&!d.current&&p()}})),Ee((e=>{let[t]=e;n.pz||t!==a&&(u.current&&!a||(a?m():p()))}),[a,p,m]),ce((()=>{if(e.tKX&&!r&&a)return l.current=function(e){const t=(Ci+=1,Ci);return Ei.push({id:t,callback:e}),bi(Ni),t}(s),()=>{void 0!==l.current&&(function(e){const t=Ei.findIndex((t=>t.id===e));-1!==t&&(Ei.splice(t,1),bi(Ni))}(l.current),l.current=void 0)}}),[a,r,i])}e.W75&&(window.TEST_getHistoryState=()=>Ii,window.TEST_getHistoryCursor=()=>Bi),Mi(),window.addEventListener("popstate",(e=>{let{state:t}=e;if(_i)return _i=!1,void(Di.length&&(Oi(Di),Di=[]));if(!t)return void Ri();const{index:n,historyUniqueSessionId:a}=t;if(a===Ti){if(n!==Bi)if(n<Bi){let e=0;for(let t=Bi;t>n-e;t--){var o,r;Ii[t].isClosed?e++:null===(o=(r=Ii[t]).onBack)||void 0===o||o.call(r)}const t=Fi(e);Bi+=n-Bi-t,Bi<0&&(Bi=0)}else n>Bi&&(_i=!0,Pi({type:"go",delta:-(n-Bi)}))}else Ri()}));const Wi=new Set(["scroll","mouseenter","mouseleave","load","error"]),Hi={},$i={},Vi=new Map;function zi(e,t){const n=e.replace(/^on/,"").replace(/Capture$/,"").toLowerCase();return"change"===n&&"SELECT"!==t.tagName?"input":"doubleclick"===n?"dblclick":"focus"===n?"focusin":"blur"===n?"focusout":n}function Ki(e,t,n){return!n&&!Wi.has(e)&&"VIDEO"!==t.tagName&&"IFRAME"!==t.tagName}function qi(e,t){Hi[e]--,Hi[e]||document.removeEventListener(e,ji),$i[e].delete(t),Vi.get(t).delete(e)}function ji(e){const t=$i[e.type];if(t){let n=!1,a=e.target;const o=()=>{n=!0},r=()=>{e.preventDefault()},i=new Proxy(e,{get:(e,t)=>"currentTarget"===t?a:"stopPropagation"===t||"stopImmediatePropagation"===t?o:"preventDefault"===t?r:Reflect.get(e,t)});for(;a&&a!==document.body;){const e=t.get(a);if(e&&(e(i),n))return;a=a.parentNode}}}e.Oig&&document.addEventListener("dblclick",(()=>{const e=Object.keys(Hi).length,t=Object.values(Hi).reduce(((e,t)=>e+t),0),n=Object.keys($i).length,a=Object.values($i).reduce(((e,t)=>e+t.size),0),o=Vi.size,r=Array.from(Vi.values()).reduce(((e,t)=>e+t.size),0);console.warn("DELEGATED EVENTS STATS",{delegatedHandlersCount1:t,delegatedHandlersCount2:a,delegatedEventTypesCount:r,delegationRegistriesCount:n,delegationElementsCount:o,documentListenersCount:e})}));const Yi="http://www.w3.org/2000/svg",Gi=new Set(["key","ref","teactFastList","teactOrderKey"]),Qi=new Set(["dir","role","form"]),Xi=["INPUT","TEXTAREA","SELECT"],Ji={autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoPlay:"autoplay",spellCheck:"spellcheck"},Zi="__indexKey#",es="__teactSelectionState",ts=new WeakMap,ns=new WeakMap,as=new WeakMap;function os(t,n,a,o,r,i){var s,c,l;let d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};const{skipComponentUpdate:u,fragment:m}=d;let{nextSibling:p,namespace:f}=d;const h=(null==n?void 0:n.type)===D.Component,g=(null===(s=a)||void 0===s?void 0:s.type)===D.Component,v=a,w=!h&&(null==n?void 0:n.type)===D.Fragment,y=!g&&(null===(c=a)||void 0===c?void 0:c.type)===D.Fragment;if((null===(l=a)||void 0===l?void 0:l.type)===D.Tag&&("svg"===a.tag&&(f=Yi),a.props.xmlns&&(f=a.props.xmlns)),!u&&h&&g&&!ae(n,a)&&(a=function(e,t){return e.componentInstance.props=t.componentInstance.props,ne(e.componentInstance)}(n,a)),!u&&g&&a.componentInstance.mountState===L.Mounted&&is(t,a,o,r,i),n===a)return a;if(e.Oig&&a){const e="target"in a&&a.target;if(e&&(!n||"target"in n&&e!==n.target))throw new Error("[Teact] Cached virtual element was moved within tree")}if(!n&&a)if(g||y)g&&(r=(a=rs(t,a,o,r,i)).componentInstance.context??r),ss(t,a,r,{nextSibling:p,fragment:m,namespace:f});else if(m||p||v.type!==D.Text||1!==o.children.length||t.firstChild){const e=cs(v,r,f);v.target=e,us(m||t,e,p),v.type===D.Tag&&hs(v,e)}else t.textContent=v.value,v.target=t.firstChild;else if(n&&!a)ls(t,n,r,void 0);else if(n&&a)if(ae(n,a))if(p||(p=ms(n)),g||y)g&&(r=(a=rs(t,a,o,r,i)).componentInstance.context??r),ls(t,n,r,void 0),ss(t,a,r,{nextSibling:p,fragment:m,namespace:f});else{const e=cs(v,r,f);v.target=e,ls(t,n,r,e,p),v.type===D.Tag&&hs(v,e)}else if(h&&g||w&&y)ps(n,a,r,t,p,d.forceMoveToEnd);else{const e=n,o=e.target;if(v.target=o,e.target=void 0,n.type===D.Tag){const e=a;hs(n,void 0),hs(e,o),(p||d.forceMoveToEnd)&&us(t,o,p),function(e,t,n,a){gs(n.tagName,t.props);const o=Object.entries(e.props),r=Object.entries(t.props);for(const[e,a]of o){const o=t.props[e];void 0!==a&&(void 0===o||a!==o&&e.startsWith("on"))&&ws(n,e,a)}for(const[t,o]of r){const r=e.props[t];void 0!==o&&o!==r&&vs(n,t,o,a)}}(n,e,o,f),ps(n,e,r,o,void 0,void 0,f)}}return a}function rs(e,t,n,a,o){const{componentInstance:r}=t;return t.componentInstance.context=a,r.mountState===L.Unmounted&&(t=function(e){return e.id=++F,e.mountState=L.Mounting,ne(e),e.mountState=L.Mounted,e.$element}(r),is(e,t,n,a,o)),t}function is(e,t,n,a,o){const{componentInstance:r}=t;r.onUpdate=()=>{n.children[o]=os(e,n.children[o],r.$element,n,a,o,{skipComponentUpdate:!0})}}function ss(e,t,n,a){const{children:o}=t;if(t.type===D.Fragment&&0===o.length){const n=t;return n.placeholderTarget=document.createComment("empty-fragment"),void us(a.fragment||e,n.placeholderTarget,a.nextSibling)}for(let r=0,i=o.length;r<i;r++){const i=o[r],s=os(e,void 0,i,t,n,r,a);s!==i&&(o[r]=s)}}function cs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"http://www.w3.org/1999/xhtml";if(e.type===D.Empty)return document.createTextNode("");if(e.type===D.Text)return document.createTextNode(e.value);const{tag:a,props:o,children:r}=e,i=document.createElementNS(n,a);gs(a,o);for(const e in o)o.hasOwnProperty(e)&&void 0!==o[e]&&vs(i,e,o[e],n);!function(e,t){Xi.includes(e.tagName)&&(t.defaultValue&&vs(e,"value",t.defaultValue),t.defaultChecked&&vs(e,"checked",t.defaultChecked))}(i,o);for(let a=0,o=r.length;a<o;a++){const o=r[a],s=os(i,void 0,o,e,t,a,{namespace:n});s!==o&&(r[a]=s)}return i}function ls(e,t,n,a,o){const r=t.type===D.Component,i=!r&&t.type===D.Fragment;r||i?(r&&oe(t.componentInstance),function(e,t,n){for(const a of t.children)os(e,a,void 0,t,n,-1)}(e,t,n),a&&us(e,a,o)):(a?e.replaceChild(a,t.target):e.removeChild(t.target),ds(t))}function ds(e){if(e.type===D.Component)oe(e.componentInstance);else if(e.type===D.Fragment){const n=e;var t;n.placeholderTarget&&0===n.children.length&&(null===(t=n.placeholderTarget.parentNode)||void 0===t||t.removeChild(n.placeholderTarget),n.placeholderTarget=void 0)}else if(e.type===D.Tag&&(ns.delete(e.target),hs(e,void 0),function(e){const t=Vi.get(e);t&&(t.forEach((t=>qi(t,e))),Vi.delete(e))}(e.target)),e.target=void 0,e.type!==D.Tag)return;for(const t of e.children)ds(t)}function us(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function ms(e){if(e.type===D.Component||e.type===D.Fragment){if(0===e.children.length){const t=e;return t.placeholderTarget&&t.placeholderTarget.nextSibling||void 0}return ms(e.children[e.children.length-1])}return e.target.nextSibling||void 0}function ps(t,n,a,o,r){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0;if(e.Oig&&function(e){const t=e[0];if(t&&"props"in t&&void 0!==t.props.key){const t=e.reduce(((e,t)=>("props"in t&&t.props.key&&e.push(t.props.key),e)),[]);if(t.length!==(0,c.Am)(t).length)throw console.warn("[Teact] Duplicated keys:",t.filter(((e,t,n)=>n.indexOf(e)!==t)),e),new Error("[Teact] Children keys are not unique")}}(n.children),"props"in n&&n.props.teactFastList)return void function(t,n,a,o){const r=t.children,i=n.children,s=new Set;for(const t of i){const n="props"in t?t.props.key:void 0;if(e.Oig&&R(t)&&(null==n&&console.warn("Missing `key` in `teactFastList`"),t.type===D.Fragment))throw new Error("[Teact] Fragment can not be child of container with `teactFastList`");s.add(n)}let c=0;const l={};for(let e=0,t=r.length;e<t;e++){const t=r[e];let d="props"in t?t.props.key:void 0;const u=null!=d;if(!u||s.has(d)){if(!u){const r=i[e],s=r&&"props"in r?r.props.key:void 0;if(!r||s){os(o,t,void 0,n,a,-1);continue}d=`${Zi}${e}`}l[d]={$element:t,index:c++,orderKey:"props"in t?t.props.teactOrderKey:void 0}}else os(o,t,void 0,n,a,-1)}let d,u,m=0;for(let e=0,t=i.length;e<t;e++){const t=i[e],r=l["props"in t?t.props.key:`${Zi}${e}`];if(!r){void 0===u&&(d=e,u=0),u++;continue}u&&(fs(d,u,o,n,a),u=void 0,d=void 0);const s="props"in t?t.props.teactOrderKey:void 0,c=r.index!==m&&(!s||r.orderKey!==s),p=c&&m>r.index;c&&!p||m++;const f=o.childNodes[p?e+1:e],h=c?f?{nextSibling:f}:{forceMoveToEnd:!0}:void 0,g=os(o,r.$element,t,n,a,e,h);g!==t&&(i[e]=g)}u&&fs(d,u,o,n,a)}(t,n,a,o);if(t.type===D.Fragment&&n.type===D.Fragment){const e=t,a=n;var l;if(0===e.children.length&&a.children.length>0&&e.placeholderTarget&&(r=e.placeholderTarget.nextSibling||void 0,null===(l=e.placeholderTarget.parentNode)||void 0===l||l.removeChild(e.placeholderTarget),e.placeholderTarget=void 0),e.children.length>0&&0===a.children.length){const t=ms(e.children[e.children.length-1]);a.placeholderTarget=document.createComment("empty-fragment"),us(o,a.placeholderTarget,t)}}const d=t.children,u=n.children,m=d.length,p=u.length,f=Math.max(m,p),h=p>m?document.createDocumentFragment():void 0,g=t.children[m-1],v=h&&(r||(g?ms(g):void 0));for(let e=0;e<f;e++){const t=os(o,d[e],u[e],n,a,e,e>=m?{fragment:h,namespace:s}:{nextSibling:r,forceMoveToEnd:i,namespace:s});t&&t!==u[e]&&(u[e]=t)}h&&us(o,h,v)}function fs(e,t,n,a,o){const r=n.childNodes[e];if(1===t){const t=a.children[e],i=os(n,void 0,t,a,o,e,{nextSibling:r});return void(i!==t&&(a.children[e]=i))}const i=document.createDocumentFragment();for(let r=e;r<e+t;r++){const e=a.children[r],t=os(n,void 0,e,a,o,r,{fragment:i});t!==e&&(a.children[r]=t)}us(n,i,r)}function hs(e,t){const{ref:n}=e.props;var a;"object"==typeof n?(n.current=t,null===(a=n.onChange)||void 0===a||a.call(n)):"function"==typeof n&&n(t)}function gs(e,t){const n=void 0!==t.value,a=void 0!==t.checked;if(!n&&!a||!Xi.includes(e.toUpperCase()))return;const{value:o,checked:r,onInput:i,onChange:s,onBlur:c}=t;t.onChange=void 0,t.onInput=e=>{if(null==i||i(e),null==s||s(e),void 0!==o&&o!==e.currentTarget.value){const{selectionStart:t,selectionEnd:n}=e.currentTarget,a=t===n&&n===e.currentTarget.value.length;if(e.currentTarget.value=o,"number"==typeof t&&"number"==typeof n){e.currentTarget.setSelectionRange(t,n);const o={selectionStart:t,selectionEnd:n,isCaretAtEnd:a};e.currentTarget.dataset[es]=JSON.stringify(o)}}void 0!==r&&(e.currentTarget.checked=r)},t.onBlur=e=>{delete e.currentTarget.dataset[es],null==c||c(e)}}function vs(e,t,n,a){if("className"===t)ys(e,n,a);else if("value"===t){const t=e;if(t.value!==n){t.value=n;const e=t.dataset[es];if(e){const{selectionStart:n,selectionEnd:a,isCaretAtEnd:o}=JSON.parse(e);if(o){const e=t.value.length;t.setSelectionRange(e,e)}else"number"==typeof n&&"number"==typeof a&&t.setSelectionRange(n,a)}}}else"style"===t?bs(e,n):"dangerouslySetInnerHTML"===t?e.innerHTML=n.__html:t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=zi(t,e);Ki(o,e,a)?function(e,t,n){Hi[e]||(Hi[e]=0,document.addEventListener(e,ji)),function(e){return $i[e]||($i[e]=new Map),$i[e]}(e).set(t,n),function(e){const t=Vi.get(e);if(t)return t;const n=new Set;return Vi.set(e,n),n}(t).add(e),Hi[e]++}(o,e,n):e.addEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):a===Yi||t.startsWith("data-")||t.startsWith("aria-")||Qi.has(t)?e.setAttribute(t,n):Gi.has(t)||(e[Ji[t]||t]=n)}function ws(e,t,n){"className"===t?ys(e,""):"value"===t?e.value="":"style"===t?bs(e,""):"dangerouslySetInnerHTML"===t?e.innerHTML="":t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=zi(t,e);Ki(o,e,a)?qi(o,e):e.removeEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):Gi.has(t)||e.removeAttribute(t)}function ys(e,t,n){if(n===Yi)return void e.setAttribute("class",t);const a=e,o=ns.get(e);if(!o)return void(a.className=t);const r=Array.from(o);t&&r.push(t),a.className=r.join(" ")}function bs(e,t){e.style.cssText=t,as.get(e)&&Ss(e)}function Es(e,t){e.classList.add(t);const n=ns.get(e);n?n.add(t):ns.set(e,new Set([t]))}function ks(e,t){e.classList.remove(t);const n=ns.get(e);n&&(n.delete(t),n.size||ns.delete(e))}function Cs(e,t,n){var a;!0===n?Es(e,t):!1===n||null!==(a=ns.get(e))&&void 0!==a&&a.has(t)?ks(e,t):Es(e,t)}function Ns(e,t){as.set(e,t),Ss(e)}function Ss(e){const t=Object.entries(as.get(e)).reduce(((t,n)=>{let[a,o]=n;return a.startsWith("--")?e.style.setProperty(a,o):t[a]=o,t}),{});Object.assign(e.style,t)}const As=function(e,t){ts.has(t)||ts.set(t,{children:[]});const n=ee(),a=ts.get(t),o=os(t,a.children[0],e,a,{},0);null==n||n(),a.children=o?[o]:[]};function Ts(e){const t=me();return t.current??=E(e),t.current}function Is(e,t){const n=me(!0);n.current&&(n.current=!1,null==t||t.forEach((t=>{y(t)&&t.subscribe(e)}))),ye((()=>()=>{!function(e){var t;null===(t=b.get(e))||void 0===t||t.forEach((e=>{e()})),b.delete(e)}(e)}))}const Bs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=t?e:()=>e;t??=[e];const[o,r]=Ts(),i=Oo(a);function s(){const e=i.current;n?e(r):r(e())}return Ee(s,t),Is(s,t),o},_s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=t?e:()=>e();t??=[e];const o=me(),r=ve(),i=Oo(a);function s(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=i.current;if(n)t((e=>{o.current!==e&&(o.current=e,r())}));else{const n=t();o.current!==n&&(o.current=n,e||r())}}return Ee((()=>{s(!0)}),t),Is(s,t),o.current},xs=(e,t)=>{const n=me();return Ee((()=>{const a=n.current;return n.current=t,e(a||[])}),t)},Ds=350;function Ls(e){const{isOpen:t,noMountTransition:n=!1,noOpenTransition:a=!1,noCloseTransition:o=!1,closeDuration:r=Ds,className:i="fast",prefix:s="",shouldForceOpen:c,onCloseAnimationEnd:l}=e,d=me(),u=e.ref||d,m=me(),[p,f]=pe(),h=Oo({closeDuration:r,noMountTransition:n,noOpenTransition:a,noCloseTransition:o}),g=Po(l);xs((e=>{let[n]=e;const a=h.current;c?f("open"):t?(m.current&&(clearTimeout(m.current),m.current=void 0),a.noOpenTransition||void 0===n&&a.noMountTransition?f("open"):(f("scheduled-open"),(0,k.YS)((()=>{f("open")})))):void 0===n||a.noCloseTransition?f("closed"):(f("closing"),m.current=window.setTimeout((()=>{f("closed"),g()}),a.closeDuration))}),[t,c]);const v=Po((()=>{const e=u.current;if(!e)return;!1!==i&&(Es(e,"opacity-transition"),Es(e,i));const t=p(),n="closed"!==t,a="open"===t,o="closing"===t;Cs(e,`${s}shown`,n),Cs(e,`${s}not-shown`,!n),Cs(e,`${s}open`,a),Cs(e,`${s}not-open`,!a),Cs(e,`${s}closing`,o)}));Ee((()=>{u.onChange=()=>{u.onChange=void 0,v()}}),[v,u]),le(v,[v,p]);const w="withShouldRender"in e&&e.withShouldRender,y=_s((()=>w&&"closed"!==p()),[w,p]),b=Bs((()=>"closing"===p()),[p]);return w?{ref:u,shouldRender:y,getIsClosing:b}:{ref:u,getIsClosing:b}}function Os(e){let{className:t,isActive:n,element:a=document.documentElement}=e;le((()=>{if(n)return Es(a,t),()=>{ks(a,t)}}),[t,n,a])}const Ps="TUSiLENF",Ms=fe((function(e){let{isActive:t,className:n,isDoubled:a}=e;const{shouldRender:o,ref:r}=Ls({isOpen:t,withShouldRender:!0});return o?ge.createElement("div",{ref:r,className:kr("esdydUs1",a&&"UJzP4d9r",n)},ge.createElement("span",{className:Ps}),ge.createElement("span",{className:Ps}),ge.createElement("span",{className:Ps})):null})),Fs={button:"GpDwnAkE",loadingInit:"tZ9ppkji",clicked:"A1qGzs0x",isSimple:"Cw_ElX3O",isText:"d3A7BZDx",primary:"Pb9B3sBE",secondary:"k1jQrbAk",transparent:"nxcFq7cM",disabled:"zSwp1moR",destructive:"tLZabe0e",sizeSmall:"ORqfj0CU",round:"PJ7EB5_T",loadingStart:"pv1HwapI",loadingDots:"_2QYUoJe"},Rs=fe((function(e){let{ref:t,children:n,id:a,className:o,style:r,ariaLabel:i,forFormId:s,kind:c,isSubmit:l,isPrimary:d,isSecondary:u,isSmall:m,isSimple:p,isText:f,isLoading:h,isDisabled:g,isRound:v,isDestructive:w,shouldStopPropagation:y,onClick:b,onMouseDown:E,onContextMenu:k}=e;const[C,N]=ie(!1),S=Po((e=>{!g&&b&&(y&&e.stopPropagation(),b()),N(!0),setTimeout((()=>{N(!1)}),400)})),A=kr(void 0!==h&&Fs.loadingInit,h&&Fs.loadingStart);return ge.createElement("button",{id:a,ref:t,type:l||s?"submit":"button",className:kr(Fs.button,d&&Fs.primary,u&&Fs.secondary,m&&Fs.sizeSmall,p&&Fs.isSimple,f&&Fs.isText,(g||h)&&Fs.disabled,A,v&&Fs.round,w&&Fs.destructive,C&&Fs.clicked,o,c&&Fs[c]),style:r,"aria-label":i,disabled:g||h,form:s,onClick:S,onMouseDown:E,onContextMenu:k},n,ge.createElement(Ms,{isActive:h,className:Fs.loadingDots}))})),Us=function(e){let{containerId:t,className:n,style:a,children:o}=e;const r=me();return r.current||(r.current=document.createElement("div")),le((()=>{const e=document.querySelector(t||"#portals");if(!e)return;const o=r.current;return n&&(o.className=n),a&&(o.style.cssText=a),e.appendChild(o),()=>{As(void 0,o),e.removeChild(o)}}),[n,a,t]),As(o,r.current)},Ws={modal:"bei20BXo",inAppLock:"rhy5UM19",error:"ycQPrkNy",dialog:"lCrWZOJa",backdrop:"BRHUYooL",slideUpAnimation:"ciD50Ivv",container:"pI0zvyZ_",forceBottomSheet:"zXbZnJvJ",content:"ikANOLRm",noBackdrop:"JdyYzya2",compact:"OIC6BQI4",header:"LB42p81C",header_wideContent:"_ijqgHQC",headerWideContent:"_ijqgHQC",header_back:"F2CCACcS",headerBack:"F2CCACcS",header_backIcon:"IubryJoO",headerBackIcon:"IubryJoO",menuButton:"nz22xGPo",menuIcon:"NiajLgHY",closeButton:"Oj6lWSUo",closeIcon:"VPuUZtvp",title:"ZDSNp0nr",singleTitle:"Sv8Bhg5M",contentCompact:"ulAHEr0t",text:"FumpDc7T",text_centered:"PRVdJNuh",textCentered:"PRVdJNuh",text_noExtraMargin:"JNEqsMcb",textNoExtraMargin:"JNEqsMcb",buttons:"PWLeFX8Z",footerButtons:"fXtMQ4nZ",footerButtonFullWidth:"KMr7BHAz",buttonsInsideContentWithScroll:"SCBITBKB",buttonsNoExtraSpace:"vyEjC2QK",button:"pvjzjt3q",buttonHalfWidth:"EhlEYVbZ",buttonFullWidth:"zRgM4gqF",shortButton:"QFWfMoly",transition:"ELmioinr",transitionSlide:"OXFBF6TX",transitionContentWrapper:"N1r_Lya9",transitionContent:"W4ZdBtyi",transitionContent_simple:"qGdeWGzL",transitionContentSimple:"qGdeWGzL"},Hs=350,$s=n.Ni?200:500,[Vs,zs]=E(Date.now()),Ks=new Set,qs=(js=function(t){let{dialogRef:a,title:o,className:r,dialogClassName:i,titleClassName:s,contentClassName:c,isOpen:d,isTemporarilyClosed:u,isCompact:m,nativeBottomSheetKey:p,forceFullNative:f,forceBottomSheet:h,isInAppLock:g,noResetFullNativeOnBlur:v,noBackdrop:w,noBackdropClose:y,header:b,hasCloseButton:E,children:k,onClose:C,onCloseAnimationEnd:N,onEnter:S}=t;const A=d&&!u,T=Po((()=>{if(!u||!d)return C()})),I=Er(),B=me(),x=me(),D=me();a||=x;const{isPortrait:L}=ii();!function(t,a){Ee((()=>{if(!e.UMQ||n.bA||a)return;const o=Xs();o&&t&&o&&o.hide().then((async()=>{n.KI&&await ko.enable()}))}),[a,t])}(A,m);const O=(L?$s:Hs)+e.xB5,P=!m&&L;Ui({isActive:A,onBack:T,shouldIgnoreForTelegram:m}),ce((()=>{if(e.tKX&&A&&!m)return no(),ao}),[m,A]),ci((e=>{let[t]=e;n.bA&&m&&(t||A)&&!fi&&ko.toggleSelfFullSize({isFullSize:!!A})}),[A,m]),ce((()=>{if(!n.bA&&A)return Vs.subscribe(T)}),[A,T]),ce((()=>A?Pr({onEsc:{handler:T,shouldPreventDefault:e.hL1},...S&&{onEnter:S}}):void 0),[A,T,S]),ce((()=>A&&B.current?Hr(B.current):void 0),[A]),Os({className:"is-modal-open",isActive:!m&&A}),le((()=>A?_(O):void 0),[O,A]),ce((()=>{if(p)return A?Ks.add(p):Ks.delete(p),()=>{Ks.delete(p)}}),[A,p]);const[M,F]=ie(!1);ce((()=>{const e=Xs();if(!A)return F(!1),void requestAnimationFrame((()=>{null==e||e.show()}));null==e||e.hide().then((()=>{F(!0)}))}),[A]);const R=function(e,t,a,o){const r=n.KI&&e,i=a&&t;return ci((t=>{let[n]=t;if(r)if(i){var a;null===(a=wi)||void 0===a||a();const t=()=>{Re(),o()};wi=t,yi=Promise.race([yi,(0,l.v7)(1e3)]).then((()=>ko.delegate({key:e,globalJson:JSON.stringify(Ve())}))).then((()=>{wi===t&&(wi(),wi=void 0)})).then((()=>(0,l.v7)(100)))}else n&&ko.release({key:e})}),[i,r,e,o]),r&&t}(p,L,A&&(!Xs()||M),T);(function(e,t,a,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];ci((r=>{let[i]=r;if(n.bA&&e&&e===pi)if(t){const t=o.current;ko.openSelf({key:e,height:String(t.offsetHeight),backgroundColor:$r(getComputedStyle(t).backgroundColor)}).then((()=>{Re(),a()}))}else i&&(ko.closeSelf({key:e}),ei({forceDarkBackground:!1}))}),[t,o,e,a]);const s=n.bA&&e&&t,{screenHeight:c}=ii(),[l,d]=ie(ui);mi.then(d);const u=c-((null==l?void 0:l.top)||0);le((()=>{s&&(o.current.style[r?"maxHeight":"height"]="",o.current.style[r?"height":"maxHeight"]=`${u}px`)}),[o,r,s,u]),ci((e=>{let[t]=e;s&&(fi=r,void 0!==r&&void 0===t||ko.toggleSelfFullSize({isFullSize:r}))}),[r,s]),le((()=>{if(!s)return;const e=o.current;let t;function n(n){if(gi(n.target)){if(t)return clearTimeout(t),void(t=void 0);var a;(a=e).style.opacity="0",setTimeout((()=>{a.style.opacity="1"})),document.documentElement.scrollTop=0,ko.toggleSelfFullSize({isFullSize:!0})}}function a(e){var n;!gi(e.target)||i||r||(n=e.target)&&n instanceof HTMLElement&&(n.matches(".is-compact-modal")||n.closest(".is-compact-modal"))||(t=window.setTimeout((()=>{t=void 0,ko.toggleSelfFullSize({isFullSize:!1})}),50))}return document.addEventListener("focusin",n),document.addEventListener("focusout",a),()=>{document.removeEventListener("focusout",a),document.removeEventListener("focusin",n)}}),[o,r,s,i])})(p,A&&(!Xs()||M),T,a,f,v),ce((()=>{if(n.TF&&A&&L&&P&&!n.bA&&!R)return Dr(B.current,{excludedClosestSelector:".capture-scroll",onSwipe:(e,t)=>!(t!==Tr.Down||!function(e,t){if(La>Pa.height||Rr>0)return!1;const n=Date.now();if(e.current&&n-e.current<500)return!1;e.current=n;const a=null==t?void 0:t.closest(".custom-scroll");return!a||0===a.scrollTop}(D,e.target)||(T(),0))})}),[A,L,P,R,T]);const{shouldRender:U}=Ls({ref:B,isOpen:A&&!R,onCloseAnimationEnd:N,className:!1,closeDuration:O,withShouldRender:!0});if(!U)return;const W=kr(Ws.modal,r,P&&Ws.slideUpAnimation,m&&Ws.compact,m&&"is-compact-modal",h&&Ws.forceBottomSheet,g&&Ws.inAppLock),H=kr(Ws.backdrop,w&&Ws.noBackdrop),$=kr(Ws.content,m&&Ws.contentCompact,"custom-scroll",c);return ge.createElement(Us,null,ge.createElement("div",{ref:B,className:W,tabIndex:-1,role:"dialog"},ge.createElement("div",{className:Ws.container},ge.createElement("div",{className:H,onClick:y?void 0:T}),ge.createElement("div",{className:kr(Ws.dialog,i),ref:a},b||(o?ge.createElement("div",{className:kr(Ws.header,Ws.header_wideContent,!E&&Ws.header_noClose)},ge.createElement("div",{className:kr(Ws.title,Ws.singleTitle,s)},o),E&&ge.createElement(Rs,{isRound:!0,className:Ws.closeButton,ariaLabel:I("Close"),onClick:T},ge.createElement("i",{className:kr(Ws.closeIcon,"icon-close"),"aria-hidden":!0}))):void 0),ge.createElement("div",{className:$},k)))))},function(e){const t=me(e);return e.isOpen?t.current=e:t.current={...t.current,isOpen:!1},js(t.current)});var js;const Ys=je(((e,t)=>{let{isInAppLock:n}=t;return{isTemporarilyClosed:!(n||!e.isAppLockActive)}}))(qs);let Gs;const Qs=fe(je((e=>{const{currentBrowserOptions:t,settings:n}=e;return{url:null==t?void 0:t.url,title:null==t?void 0:t.title,subtitle:null==t?void 0:t.subtitle,theme:n.theme,animationLevel:n.animationLevel}}))((function(a){let{title:o,subtitle:r,url:i,theme:s,animationLevel:d}=a;const{closeBrowser:u}=Ke(),m=Er(),{setupDappBridge:p,cleanupDappBridge:f}=function(t){const n=me(),a=Po((a=>{n.current=(0,To.p)(Lo(t),e.hUJ,new Mo(a))}));return ce((()=>{if(t)return()=>{var e;null===(e=n.current)||void 0===e||e.call(n)}}),[t]),{setupDappBridge:a,cleanupDappBridge:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.call(n)}}}(i),h=de((()=>`\n(${Ao})(\n  '${e.HOw}',\n  '${e.hUJ}',\n  'cordova_iab' in window ? window.cordova_iab : window.webkit.messageHandlers.cordova_iab,\n  {\n    deviceInfo: ${JSON.stringify(function(){const t=["SendTransaction",{name:"SendTransaction",maxMessages:At.Bm}];return t.push({name:"SignData",types:["text","binary","cell"]}),{platform:So(),appName:e.C39,appVersion:"4.0.3",maxProtocolVersion:e.gY_,features:t}}())},\n    protocolVersion: ${e.gY_},\n    isWalletBrowser: true,\n  }\n);\n  `),[]),g=Po((e=>{(0,t.SJ)("inAppBrowser error",e)})),v=Po((async()=>{n.KI&&await ko.enable(),Gs.removeEventListener("loaderror",g),Gs.removeEventListener("exit",v),Gs=void 0,u(),f()})),w=Po((async()=>{n.KI&&!(await ko.isShown()).value&&await ko.disable();const t=!o&&i?Ho(i):o,a=r===t?void 0:r,u=`,${(0,c.oE)([n.pz||t?`title=${t||""}`:void 0,n.pz||a?`subtitle=${a||""}`:void 0,i?`shareurl=${encodeURIComponent(i)}`:void 0,`closebuttoncaption=${n.pz?m("Close"):"x"}`,`backbuttoncaption=${m("Back")}`,`reloadcaption=${m("Reload Page")}`,`openinbrowsercaption=${m(n.pz?"Open in Safari":"Open in Browser")}`,`copyurlcaption=${m("CopyURL")}`,`sharecaption=${m("Share")}`,`theme=${s}`,"animated="+(d??e.i11>0?"yes":"no")]).join(",")}`;Gs=cordova.InAppBrowser.open(i,"_blank",Fc+u,h);const f=Gs.hide;Gs.hide=()=>new Promise((e=>{null==f||f(),Gs&&n.ZH?No(Gs,"hidecompletion",(()=>e())):e()}));const w=Gs.show;Gs.show=()=>{Ks.size>0||null==w||w()};const y=Gs.close;Gs.close=()=>{if(!Gs)return Promise.resolve();y();const e=new Promise((e=>{No(Gs,"exit",(async()=>{await(0,l.fm)((()=>!Gs),15,20),e()})),setTimeout(e,900)}));return Gs.show=()=>{},Gs.hide=()=>e,e},p(Gs),Gs.addEventListener("loaderror",g),Gs.addEventListener("exit",v),Gs.show()}));ce((()=>{if(i)return w(),()=>{var e;return null===(e=Gs)||void 0===e?void 0:e.close()}}),[i])})));function Xs(){return Gs}function Js(){var e;return Promise.all([null===(e=Xs())||void 0===e?void 0:e.close(),Ke().closeAnyModal(),Ke().closeMediaViewer()])}const[,Zs]=e.Xr6.split("*");async function ec(t,n){if(tc(t)&&(t=`${t}#theme=${Ve().settings.theme}`),null!=n&&n.isExternal||!t.startsWith("http")||!(e.UMQ||tc(t)||function(t){return e.Jxt.some((e=>t.startsWith(e.replace(/\*$/,""))))}(t))||jo(t)){const n=e.UMQ&&await async function(e){try{return(await Eo.openUrl({url:e})).completed}catch(e){return!1}}(t);n||window.open(t,"_blank","noopener")}else await Js(),Ke().openBrowser({url:t,title:null==n?void 0:n.title,subtitle:null==n?void 0:n.subtitle})}function tc(e){const{host:t}=new URL(e);return t.endsWith(Zs)||t.startsWith("localhost:432")}function nc(e){e.preventDefault(),ec(e.currentTarget.href,{isExternal:e.shiftKey||e.ctrlKey||e.metaKey})}let ac;const oc=new Promise((e=>{ac=e})),rc="ton://",ic="tc://",sc="mytonwallet-tc://",cc="mtw://",lc=["https://my.tt","https://go.mytonwallet.org"],dc="https://connect.mytonwallet.org",uc="https://checkin.mytonwallet.org";var mc=function(e){return e.CheckinWithR="r",e.Swap="swap",e.BuyWithCrypto="buy-with-crypto",e.BuyWithCard="buy-with-card",e.Stake="stake",e.Giveaway="giveaway",e.Transfer="transfer",e.Explore="explore",e}(mc||{});let pc;async function fc(e,t){let{isFromInAppBrowser:n,...a}=t;gc(e)||yc(e)||bc(e)?await hc(e,n):await ec(e,a)}function hc(n){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ve().currentAccountId||(pc=n),yc(n)?async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!yc(e))return!1;const{openLoadingOverlay:n,closeLoadingOverlay:o}=Ke();n();const r=await(0,a.p)("startSseConnection",{url:e,isFromInAppBrowser:t});return o(),r&&ec(r,{isExternal:!t}),!0}(n,o):bc(n)?async function(n){try{var a;n=kc(n);const{pathname:s,searchParams:c}=new URL(n),l=s.split("/").find(Boolean),d=Ke(),u=Ve(),{isTestnet:m}=u.settings,p=null===(a=rt(u))||void 0===a?void 0:a.ledger;switch((0,t.MD)("Processing deeplink",n),l){case mc.CheckinWithR:{var o;const e=null===(o=s.match(/r\/(.*)$/))||void 0===o?void 0:o[1];return ec(`${uc}${e?`?r=${e}`:""}`),!0}case mc.Giveaway:{var r;const t=null===(r=s.match(/giveaway\/([^/]+)/))||void 0===r?void 0:r[1];return ec(`${e.qsd}${t?`?giveawayId=${t}`:""}`),!0}case mc.Swap:return m?d.showError({error:"Swap is not supported in Testnet."}):p?d.showError({error:"Swap is not yet supported by Ledger."}):d.startSwap({tokenInSlug:c.get("in")||e.Tu9.slug,tokenOutSlug:c.get("out")||e.rKC,amountIn:Ac(c.get("amount"))||"10"}),!0;case mc.BuyWithCrypto:return m?d.showError({error:"Swap is not supported in Testnet."}):p?d.showError({error:"Swap is not yet supported by Ledger."}):d.startSwap({tokenInSlug:c.get("in")||e.Czf,tokenOutSlug:c.get("out")||e.Tu9.slug,amountIn:Ac(c.get("amount"))||"100"}),!0;case mc.BuyWithCard:return m?d.showError({error:"Buying with card is not supported in Testnet."}):d.openOnRampWidgetModal({chain:"ton"}),!0;case mc.Stake:return m?d.showError({error:"Staking is not supported in Testnet."}):d.startStaking(),!0;case mc.Transfer:return await vc(Cc(n));case mc.Explore:{d.closeSettings(),d.openExplore(),d.setActiveContentTab({tab:Wn.Explore});const e=s.split("/").filter(Boolean)[1];if(e){var i;const t=null===(i=Ve().exploreData)||void 0===i?void 0:i.sites.find((t=>{let{url:n}=t;return(jo(n)?new URL(n).pathname.split("/").filter(Boolean)[0]:new URL(n).hostname)===e}));t&&ec(t.url)}return!0}}}catch(e){(0,t.SJ)("processSelfDeeplink",e)}return!1}(n):vc(n)}function gc(e){return e.startsWith(rc)}async function vc(e){await oc;const t=Ke(),n=Ve();if(!n.currentAccountId)return!1;const a=wc(e,n);return!!a&&("error"in a?(t.showError({error:a.error}),!0):(t.startTransfer({isPortrait:si(),...a}),ri||t.setLandscapeActionsActiveTabIndex({index:Un.Transfer}),!0))}function wc(t,n){const a=function(e){if("string"==typeof e&&gc(e)&&e.includes("/transfer/"))try{const t=e.replace(rc,"https://"),n=new URL(t),a=n.pathname.replace(/\//g,""),o=Ic(n,"amount"),r=Ic(n,"text"),i=Ic(n,"bin"),s=Ic(n,"jetton"),c=Ic(n,"nft"),l=Ic(n,"init")||Ic(n,"stateInit");return{toAddress:a,amount:o?BigInt(o):void 0,comment:r,jettonAddress:s,nftAddress:c,binPayload:i?Tc(i):void 0,stateInit:l?Tc(l):void 0}}catch(e){return}}(t);if(!a)return;const{toAddress:o,amount:r,comment:i,binPayload:s,jettonAddress:l,nftAddress:d,stateInit:u}=a,m={toAddress:ma(o,"ton")?o:void 0,tokenSlug:e.Tu9.slug,amount:r,comment:i,binPayload:s,stateInit:u};if(l){const e=l?function(e,t){return Object.values(e.tokenInfo.bySlug).find((e=>e.tokenAddress===t))}(n,l):void 0;if(e){const t=function(e,t){const n=Ft(e);return null==n?void 0:n.find((e=>e.slug===t))}(n,e.slug);t?m.tokenSlug=e.slug:m.error="$dont_have_required_token"}else m.error="$unknown_token_address"}if(d){const e=function(e,t){return Et(e,e.currentAccountId,t)}(n,d);e?m.nfts=[e]:m.error="$dont_have_required_nft"}return(0,c.Oy)(m)}function yc(e){return e.startsWith(ic)||e.startsWith(sc)||Nc(e).startsWith(Nc(dc))}function bc(e){return(e=Sc(e)).startsWith(cc)||lc.some((t=>e.startsWith(t)))}function Ec(e,n){let a=e;if(bc(e))try{e=kc(e);const{pathname:t}=new URL(e);t.split("/").find(Boolean)===mc.Transfer&&(a=Cc(e))}catch(e){(0,t.SJ)("parseDeeplinkTransferParams",e)}return wc(a,n)}function kc(e){return e.startsWith(cc)?e.replace(cc,`${lc[0]}/`):e}function Cc(e){e=Sc(e);for(const t of lc)if(e.startsWith(t))return e.replace(`${t}/`,rc);return e}function Nc(e){return e.replace(/^https?:\/\//,"")}function Sc(e){return e.replace(/^http:\/\//,"https://")}function Ac(e){return String(Number(e)||"")}function Tc(e){return e.replace(/ /g,"+")}function Ic(e,t){return e.searchParams.get(t)??void 0}var Bc=i(94465);const _c=(0,Sa.F3)("PushNotifications",{});function xc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const a={};let o=0;for(const r of t){if(o>=n)break;const t=it(e,r),i=null==t?void 0:t.addressByChain.ton;i&&(a[r]={title:t.title,address:i,chain:"ton"},o+=1)}return a}let Dc;function Lc(){return Dc}let Oc=0;function Pc(e){const{showAnyAccountTx:t,showAnyAccountTokenActivity:n,openAnyAccountStakingInfo:a,switchAccountAndOpenUrl:o,openDomainRenewalModal:r}=Ke(),i=Ve(),s=e.notification.data,{action:l,address:d}=s,u=void 0===d?void 0:function(e,t,n){const a=tt(e);if(!a)return;const o=Object.entries(a).find((e=>{let[t,a]=e;return a.addressByChain.ton===n?t:void 0}));return null==o?void 0:o[0]}(i,0,d),m="mainnet";if("openUrl"!==l){if(u)if("nativeTx"===l||"swap"===l){const{txId:e}=s;t({accountId:u,txId:e,network:m})}else if("jettonTx"===l){const{slug:e}=s;n({accountId:u,slug:e,network:m})}else if("staking"===l){const{stakingId:e}=s;a({accountId:u,network:m,stakingId:e})}else if("expiringDns"===l){const{domainAddress:e}=s;r({accountId:u,network:m,addresses:[e]})}}else o({accountId:u,network:m,...(0,c.Up)(s,["url","isExternal","title","subtitle"])})}function Mc(e){const t=e.value;Ke().registerNotifications({userToken:t,platform:Lc()}),window.addEventListener("focus",(async()=>{const e=Ve(),n=Object.keys(e.pushNotifications.enabledAccounts||[]);n.length&&Oc<=Date.now()&&(await(0,a.p)("subscribeNotifications",{userToken:t,platform:Lc(),addresses:Object.values(xc(e,n))}),Oc=Date.now()+36e5)}),{capture:!0})}const Fc=["location="+(n.pz?"no":"yes"),"lefttoright="+(n.pz?"no":"yes"),"usewkwebview=yes","clearcache=no","clearsessioncache=no","hidden=yes","toolbarposition=top","hidenavigationbuttons=yes","hideurlbar=no","backbuttoncaption=Back","allowInlineMediaPlayback=yes"].join(",");let Rc=!1,Uc=!1,Wc=!1,Hc=0,$c=0;function Vc(e){for(const[t,n]of Object.entries(e.insets))document.documentElement.style.setProperty(`--safe-area-${t}`,`${"android"===Lc()&&"top"===t?n+8:n}px`)}function zc(){return Hc}function Kc(){return e.UMQ&&Rc||e.tKX&&qa}function qc(){return e.UMQ&&Uc||e.tKX&&ja}function jc(){return e.UMQ&&Wc||e.tKX&&Ya}function Yc(){return e.UMQ||(0,n.v3)()}class Gc extends Sa.E_{async write(e){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(void 0!==e.string)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else{if(!e.image)throw new Error("Nothing to write");if("undefined"==typeof ClipboardItem)throw this.unavailable("Writing images to the clipboard is not supported in this browser");try{const t=await(await fetch(e.image)).blob(),n=new ClipboardItem({[t.type]:t});await navigator.clipboard.write([n])}catch(e){throw new Error("Failed to write image")}}}async read(){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if("undefined"==typeof ClipboardItem)return this.readText();try{const e=await navigator.clipboard.read(),t=e[0].types[0],n=await e[0].getType(t);return{value:await this._getBlobData(n,t),type:t}}catch(e){return this.readText()}}async readText(){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,t){return new Promise(((n,a)=>{const o=new FileReader;t.includes("image")?o.readAsDataURL(e):o.readAsText(e),o.onloadend=()=>{const e=o.result;n(e)},o.onerror=e=>{a(e)}}))}}const Qc=(0,Sa.F3)("Clipboard",{web:()=>new Gc});var Xc=i(23693);const Jc=(0,Sa.F3)("Haptics",{web:()=>i.e(789).then(i.bind(i,83789)).then((e=>new e.HapticsWeb))});async function Zc(){var t;e.tKX?null===(t=Xa())||void 0===t||t.HapticFeedback.impactOccurred("soft"):e.UMQ&&await Jc.impact({style:Xc.k.Light})}async function el(){var t;e.tKX?null===(t=Xa())||void 0===t||t.HapticFeedback.notificationOccurred("error"):e.UMQ&&(await Jc.impact({style:Xc.k.Medium}),await(0,l.v7)(100),await Jc.impact({style:Xc.k.Medium}),await(0,l.v7)(75),await Jc.impact({style:Xc.k.Light}))}async function tl(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n;(e.UMQ||e.tKX)&&(e.tKX?null===(n=Xa())||void 0===n||n.HapticFeedback.notificationOccurred("success"):await Jc.impact({style:Xc.k.Light}),t&&await(0,l.v7)(1300))}const nl=document.createElement("textarea");nl.setAttribute("readonly",""),nl.tabIndex=-1,nl.className="visually-hidden";const al=t=>(Zc(),e.UMQ?Qc.write({string:t}):navigator.clipboard.writeText(t));async function ol(){if(e.tKX)return new Promise((e=>{var t;null===(t=Xa())||void 0===t||t.readTextFromClipboard((t=>{Zc(),e({text:t,type:"text/plain"})}))}));if(e.UMQ){const{value:e,type:t}=await Qc.read();return Zc(),{text:e,type:t}}return{text:await navigator.clipboard.readText(),type:"text/plain"}}function rl(t){return 1===t.length&&t[0].length===e.PcM}const il=Symbol("EQUAL"),sl={__delete:!0},cl={__deleteAllChildren:!0};function ll(e,t){if(e===t)return il;if(typeof e!=typeof t)return t;if(Array.isArray(e)&&Array.isArray(t)&&(a=t,(n=e).length===a.length&&n.every(((e,t)=>ll(e,a[t])===il))))return il;var n,a;if(!(0,c.Vh)(e)||!(0,c.Vh)(t))return t;const o=e,r=t,i=Object.keys(o),s=Object.keys(r);if(!s.length)return i.length?cl:il;const l=(0,c.Am)(i.concat(s)).reduce(((e,t)=>{const n=o[t],a=r[t];if(!r.hasOwnProperty(t))return e[t]=sl,e;if(!o.hasOwnProperty(t))return e[t]=a,e;const i=ll(n,a);return i!==il&&(e[t]=i),e}),{});return 0===Object.keys(l).length?il:l}function dl(e,t){return e===t?t:(0,c.Vh)(t)?(0,c.Vh)(e)?t.__deleteAllChildren?{}:(0,c.Am)(Object.keys(e).concat(Object.keys(t))).reduce(((n,a)=>{const o=e[a];if(t.hasOwnProperty(a)){const e=t[a];null!=e&&e.__delete||(n[a]=dl(o,e))}else n[a]=o;return n}),{}):ul(t):t}function ul(e){return e.__deleteAllChildren?{}:Object.entries(e).reduce(((e,t)=>{let[n,a]=t;return null!=a&&a.__delete||(e[n]=(0,c.Vh)(a)?ul(a):a),e}),{})}const[ml,pl]=E(!document.hasFocus()),fl=ml;function hl(){pl(!0)}function gl(){pl(!1)}function vl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Po(e),o=Po(t);ce((()=>{if(!n)return fl()&&a(),fl.subscribe((()=>{fl()?a():o()}))}),[n,a,o])}function wl(){return fl()}e.tKX?Ja().then((e=>{e.onEvent("activated",gl),e.onEvent("deactivated",hl),pl(!(null!=e&&e.isActive))})):(window.addEventListener("blur",hl),window.addEventListener("focus",gl));const yl=n.bs?new BroadcastChannel(e.eoU):void 0;let bl=Ve();function El(){let{noPubGlobal:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};yl&&(e||We(kl),yl.addEventListener("message",Nl))}function kl(e){if(e===bl)return;if(wl()||!1===bl.isInited)return void(bl=e);const t=ll(Cl(bl),Cl(e));"symbol"!=typeof t&&yl.postMessage({type:"globalDiffUpdate",diff:t}),bl=e}function Cl(e){return(0,c.cJ)(e,["DEBUG_randomId"])}function Nl(e){let{data:a}=e;switch(a.type){case"globalDiffUpdate":if(n.bA)return;bl=dl(Ve(),a.diff),ze(bl);break;case"callActionInMain":{if(!n.KI)return;const{name:e,options:t}=a;Ke()[e](t);break}case"callActionInNative":{if(!n.bA)return;const{name:e,options:t}=a;Ke()[e](t);break}case"getLogsFromNative":if(!n.bA)return;yl.postMessage({type:"logsFromNative",logs:(0,t.ao)()})}}function Sl(e,t){yl.postMessage({type:"callActionInMain",name:e,options:t})}function Al(e,t){yl.postMessage({type:"callActionInNative",name:e,options:t})}const Tl={appState:kn.Auth,auth:{state:Cn.none},biometrics:{state:Nn.None},hardware:{hardwareState:On.Connect},currentTransfer:{state:Sn.None,tokenSlug:e.ScF},currentDomainRenewal:{state:Tn.None},currentDomainLinking:{state:In.None},currentSwap:{state:Bn.None,slippage:e.k9U},currentDappTransfer:{state:Sn.None},currentDappSignData:{state:An.None},currentStaking:{state:Pn.None},stakingDefault:e.USn,tokenInfo:{bySlug:e.lfO},swapTokenInfo:{bySlug:e.tCm},tokenPriceHistory:{bySlug:{}},settings:{state:Fn.Initial,theme:e.YnH,animationLevel:e.i11,areTinyTransfersHidden:!e.K_I,canPlaySounds:!0,langCode:n.$q,byAccountId:{},areTokensWithNoCostHidden:!e.K_I,isSortByValueEnabled:!0,isAppLockEnabled:!0,autolockValue:e.fPM},byAccountId:{},dialogs:[],notifications:[],stateVersion:43,restrictions:{isLimitedRegion:!1,isSwapDisabled:n.ZH||e.TI6,isOnRampDisabled:n.ZH||e.TI6,isNftBuyingDisabled:n.ZH},mediaViewer:{},pushNotifications:{enabledAccounts:{}}};function Il(e,t){const n=typeof e;if(n!==typeof t)return!1;if("object"!==n||null===e||null===t)return e===t;const a=Array.isArray(e);if(a!==Array.isArray(t))return!1;if(a){const n=e,a=t;return n.length===a.length&&n.every(((e,t)=>Il(e,a[t])))}const o=e,r=t,i=Object.keys(o),s=Object.keys(r);return!!i.every((e=>r.hasOwnProperty(e)))&&!!s.every((e=>o.hasOwnProperty(e)))&&i.every((e=>Il(o[e],r[e])))}function Bl(e,t){return Il((0,c.Up)(e,Object.keys(t)),t)}function _l(e,t){return{...e,auth:{...e.auth,...t}}}function xl(e,t){return{...e,accounts:{...e.accounts||{byId:{}},...t}}}function Dl(e){return{...e,isPinAccepted:!0}}function Ll(e){return e.isPinAccepted?{...e,isPinAccepted:void 0}:e}function Ol(t){var n;let{global:a,accountId:o,type:r,addressByChain:i,partial:s,titlePostfix:c,network:l,isMnemonicImported:d}=t;const u={...s,type:r,addressByChain:i,...d&&{importedAt:Date.now()}};let m=!0;if(u.title){if(c){var p;const t=null===(p=u.title)||void 0===p?void 0:p.replace(new RegExp(`\\b(${e.eZ2.join("|")})\\b`,"g"),"");u.title=`${t.trim()} ${c}`}}else{l=l||ot(a);const t=at(a)||{},n=Object.keys(t).length,o="mainnet"===l,i=Object.values(t).filter((e=>"view"===e.type)).length,s="view"===r?"View Wallet":o?"Wallet":"Testnet Wallet",d=c?` ${c}`:"",p="view"===r?i+1:n-i+1;u.title=`${s} ${p}${d}`,0===n&&(u.title=o?e.C39:`Testnet ${e.C39}`,m=!1)}if(e.TI6||(a={...a,shouldForceAccountEdit:m}),it(a,o))throw new Error(`Account ${o} already exists`);return{...a,accounts:{...a.accounts,byId:{...null===(n=a.accounts)||void 0===n?void 0:n.byId,[o]:u}}}}function Pl(e,t,n){var a;const o=it(e,t);if(!o)throw new Error(`Account ${t} doesn't exist`);return{...e,accounts:{...e.accounts,byId:{...null===(a=e.accounts)||void 0===a?void 0:a.byId,[t]:{...o,...n}}}}}function Ml(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{firstNetworkAccount:n,secondNetworkAccount:a}=e.auth;return e=Ol({global:e,type:"mnemonic",...n,isMnemonicImported:t}),a&&(e=Ol({global:e,type:"mnemonic",...a,isMnemonicImported:t})),e}function Fl(e,t){return Rl(e,e.currentAccountId,t)}function Rl(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!zl(e,t))return e;const o=ct(e,t);return a&&o&&Bl(o,n)?e:{...e,byAccountId:{...e.byAccountId,[t]:{...o,...n}}}}function Ul(e,t){return{...e,settings:{...e.settings,...t}}}function Wl(e,t,n){return zl(e,t)?{...e,settings:{...e.settings,byAccountId:{...e.settings.byAccountId,[t]:{...e.settings.byAccountId[t],...n}}}}:e}function Hl(e,t){return Wl(e,e.currentAccountId,t)}function $l(e,t){return{...e,biometrics:{...e.biometrics,...t}}}function Vl(e,t){if(!t)throw Error("Empty accountId!");return{...e,currentAccountId:t}}function zl(e,t){var n,a;return!!it(e,t)||t===(null===(n=e.auth.firstNetworkAccount)||void 0===n?void 0:n.accountId)||t===(null===(a=e.auth.secondNetworkAccount)||void 0===a?void 0:a.accountId)}function Kl(e){return!e.currentSwap.isEstimating&&(e.currentSwap.state===Bn.Blockchain||e.currentSwap.state===Bn.Password)}function ql(e,t){let{currentSwap:n}=e,{currentSwap:a}=t;const o=n.inputSource===_n.In?"amountIn":"amountOut";return n.tokenInSlug===a.tokenInSlug&&n.tokenOutSlug===a.tokenOutSlug&&n.slippage===a.slippage&&n.inputSource===a.inputSource&&n.isMaxAmount===a.isMaxAmount&&(a.isMaxAmount||n[o]===a[o])}function jl(e){let{currentSwap:t}=e;const n=t.inputSource===_n.In?"amountIn":"amountOut";return t.tokenInSlug&&t.tokenOutSlug&&Number(t[n]??"0")>0}function Yl(e){return{...e.currentSwap.inputSource===_n.In?{amountOut:void 0}:{amountIn:void 0},amountOutMin:"0",priceImpact:0,errorType:void 0,limits:void 0,dieselStatus:void 0,estimates:void 0,bestRateDexLabel:void 0,networkFee:void 0,realNetworkFee:void 0,swapFee:void 0,swapFeePercent:void 0,ourFee:void 0,ourFeePercent:void 0,dieselFee:void 0}}function Gl(e,t){return{...e,currentSwap:{...e.currentSwap,...t}}}function Ql(e,t,n){let a=Gl(e,t);var o,r;return n||(o=e,jl(r=a)&&o.currentSwap.tokenInSlug===r.currentSwap.tokenInSlug&&o.currentSwap.tokenOutSlug===r.currentSwap.tokenOutSlug||(a=Gl(a,Yl(a))),function(e,t){return jl(t)&&!ql(e,t)}(e,a)&&(a=Gl(a,{isEstimating:!0}))),function(e,t){let{currentSwap:n}=e,{currentSwap:a}=t;const o=n.inputSource===_n.In?"amountIn":"amountOut";return n.tokenInSlug!==a.tokenInSlug||n.tokenOutSlug!==a.tokenOutSlug||n.inputSource!==a.inputSource||!(n.isMaxAmount&&a.isMaxAmount||n[o]===a[o])}(e,a)&&(a=Gl(a,{isDexLabelChanged:void 0})),Gl(a,t)}function Xl(t){return{...t,currentSwap:{state:Bn.None,slippage:e.k9U}}}function Jl(e,t){return td(e,Zl(e,{toAddressName:t.addressName,...(0,c.Up)(t,["fee","realFee","isScam","isMemoRequired","diesel"])}))}function Zl(e,t){return{...e,currentTransfer:{...e.currentTransfer,...t}}}function ed(e){return{...e,currentTransfer:Tl.currentTransfer}}function td(e,t){const n=pa(e);return n&&e.currentTransfer.amount===n?Zl(t,{amount:pa(t)}):t}function nd(e,t){return{...e,currentTransfer:{...e.currentTransfer,isLoading:t}}}function ad(e,t){return(e=Zl(e,{toAddress:t})).currentTransfer.amount||(e=Zl(e,{tokenSlug:fa(e)})),e}function od(e,t){return{...e,currentSignature:{...e.currentSignature,...t}}}function rd(e,t){const{activities:n}=st(e)||{};return Fl(e,{activities:{...n||{byId:{}},isLoading:t}})}function id(e,t,n){const{activities:a}=st(e)||{};return Fl(e,n?{activities:{...a||{byId:{}},isHistoryEndReachedBySlug:{...(null==a?void 0:a.isHistoryEndReachedBySlug)??{},[n]:t}}}:{activities:{...a||{byId:{}},isMainHistoryEndReached:t}})}function sd(e,t,n){const{activities:a}=ct(e,t)||{};return Rl(e,t,{activities:{...a||{byId:{}},isLoading:n}})}function cd(e,t){return{...e,currentStaking:{...e.currentStaking,...t}}}function ld(e,t,n){var a;let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=null===(a=ct(e,t))||void 0===a?void 0:a.staking;return o&&r&&Bl(r,n)?e:Rl(e,t,{staking:{...r,...n}})}function dd(e,t){return{...e,dappConnectRequest:{...e.dappConnectRequest,...t}}}function ud(e){return{...e,dappConnectRequest:void 0}}function md(e,t){return{...e,currentDappTransfer:{...e.currentDappTransfer,...t}}}function pd(e){return{...e,currentDappTransfer:{state:Sn.None}}}function fd(e,t){return{...e,currentDappSignData:{...e.currentDappSignData,...t}}}function hd(e){return{...e,currentDappSignData:{state:An.None}}}function gd(e,t,n,a){if(0===n.length)return e;const{activities:o}=ct(e,t)||{};let{byId:r,idsBySlug:i,idsMain:s,newestActivitiesBySlug:l,localActivityIds:d,pendingActivityIds:u}=o||{};r={...r,...(0,c.dU)(n,"id")},s=yd(s??[],(0,c.JY)(n,"id"),r);const m=function(e){return e.reduce(((e,t)=>{for(const n of on(t))e[n]??=[],e[n].push(t.id);return e}),{})}(n);var p;return i=Ed(i,m,r),l=bd({byId:r,idsBySlug:i,newestActivitiesBySlug:l},Object.keys(m)),d=(0,c.Am)([...d??[],...(0,c.JY)(n,"id").filter(an)]),a&&(u={...u,[a]:(0,c.Am)([...(null===(p=u)||void 0===p?void 0:p[a])??[],...(0,c.JY)(n.filter((e=>fn(e)&&!an(e.id))),"id")])}),Rl(e,t,{activities:{...o,idsMain:s,byId:r,idsBySlug:i,newestActivitiesBySlug:l,localActivityIds:d,pendingActivityIds:u}})}function vd(e,t,n){var a,o;const{activities:r}=ct(e,t)||{};if(!r)return e;const i=new Set(n);if(0===i.size)return e;let{byId:s,idsBySlug:l,idsMain:d,newestActivitiesBySlug:u,localActivityIds:m,pendingActivityIds:p}=r;const f=function(e,t){const n=new Set;for(const a of e){const e=t[a];if(e)for(const t of on(e))n.add(t)}return n}(i,s);l={...l};for(const e of f)e in l&&(l[e]=l[e].filter((e=>!i.has(e))),l[e].length||delete l[e]);u=bd({byId:s,idsBySlug:l,newestActivitiesBySlug:u},f),d=null===(a=d)||void 0===a?void 0:a.filter((e=>!i.has(e))),s={...s};for(const e of i)delete s[e];return m=null===(o=m)||void 0===o?void 0:o.filter((e=>!i.has(e))),p=p&&(0,c.LG)(p,(e=>e.filter((e=>!i.has(e))))),Rl(e,t,{activities:{...r,byId:s,idsBySlug:l,idsMain:d,newestActivitiesBySlug:u,localActivityIds:m,pendingActivityIds:p}})}function wd(e,t,n){var a;const{activities:o}=ct(e,t)??{};return null!=o&&null!==(a=o.isFirstTransactionsLoaded)&&void 0!==a&&a[n]?e:Rl(e,t,{activities:{byId:{},...o,isFirstTransactionsLoaded:{...null==o?void 0:o.isFirstTransactionsLoaded,[n]:!0}}})}function yd(e,t,n){return e.length?t.length?(0,c.Am)([...e,...t]).sort(((e,t)=>Kt(n[e],n[t]))):e:t}function bd(e,t){let{byId:n,idsBySlug:a,newestActivitiesBySlug:o}=e;o={...o};for(const e of t){const t=((null==a?void 0:a[e])??[]).find((e=>rn(n[e])));t?o[e]=n[t]:delete o[e]}return o}function Ed(e,t,n){return{...e,...(0,c.LG)(t,((t,a)=>yd(t,(null==e?void 0:e[a])??[],n)))}}function kd(e,t,n,a){const o=n.address,r=ct(e,t).nfts,i=((null==r?void 0:r.orderedAddresses)??[]).filter((e=>e!==o));return Rl(e,t,{nfts:{...r,byAddress:{...null==r?void 0:r.byAddress,[o]:n},orderedAddresses:a?i.concat(o):[o,...i]}})}function Cd(e,t,n,a){var o;const r=ct(e,t).nfts,i=null==r||null===(o=r.byAddress)||void 0===o?void 0:o[n];return r&&i?Rl(e,t,{nfts:{...r,byAddress:{...r.byAddress,[n]:{...i,...a}}}}):e}function Nd(e,t){return Object.entries(e.settings.byAccountId).forEach((n=>{var a;let[o,r]=n;(null===(a=r.cardBackgroundNft)||void 0===a?void 0:a.address)===t.address&&(e=Wl(e,o,{...r,cardBackgroundNft:t}))})),e}function Sd(e,t,n){var a;return Rl(e,t,{vesting:{...(null===(a=ct(e,t))||void 0===a?void 0:a.vesting)||{info:[]},...n}})}function Ad(e,t){return{...e,currentMintCard:{...e.currentMintCard,...t}}}function Td(e,t){return{...e,currentDomainRenewal:{...e.currentDomainRenewal,...t}}}function Id(e,t){return{...e,currentDomainLinking:{...e.currentDomainLinking,...t}}}function Bd(e,t){return{...e,hardware:{...e.hardware,...t}}}function _d(e){return{...e,hardware:Tl.hardware}}async function xd(e,t,n){if(t===e.currentAccountId)return;const o=Ke(),r=yn(e,t);await(0,a.p)("activateAccount",t,r),e=Ve(),ze(function(e,t){let n=Vl(e,t);return n=ed(n),Xl(n)}(e,t)),Jt(),n&&o.changeNetwork({network:n})}function Dd(t){return Array(t).fill(0).map(((e,t)=>({i:t,rnd:Math.random()}))).sort(((e,t)=>e.rnd-t.rnd)).map((e=>e.i)).slice(0,Math.min(e.ow1,t)).sort(((e,t)=>e-t))}function Ld(){const e=(0,c.mg)(Ve());return e.tokenInfo={},e.swapTokenInfo={},Object.entries(e.byAccountId).forEach((e=>{let[,t]=e;t.activities={}})),e}function Od(t,n){return!!cn(t)||!(!n||t.nft||t.type)&&(0,Lt.CF)(t.amount,n.decimals).abs().mul(n.priceUsd??0).lt(e.Wvq)}function Pd(t){return t.slug===e.Tu9.slug?t.symbol:t.tokenAddress??t.slug}function Md(e,t){return e[t]??Object.values(e).find((e=>{let{tokenAddress:n}=e;return n===t}))}function Fd(t){return t in e.zll}function Rd(e){let{from:t,to:n,toAddress:a,addressByChain:o}=e;const r=Boolean(null==o?void 0:o.tron);return"ton"===(null==t?void 0:t.chain)&&"ton"===(null==n?void 0:n.chain)||r&&t&&n&&o&&Fd(t.chain)&&o[n.chain]===a}function Ud(e,t){return{...e,tokenInfo:{...e.tokenInfo,bySlug:{...e.tokenInfo.bySlug,...t}}}}function Wd(t){return{gas:At.sl[t]+e.dqR,real:At.fv[t]}}function Hd(e){switch(e){case"nominators":return{stake:Wd("stakeNominators"),unstake:Wd("unstakeNominators")};case"liquid":return{stake:Wd("stakeLiquid"),unstake:Wd("unstakeLiquid")};case"jetton":return{stake:Wd("stakeJettons"),unstake:Wd("unstakeJettons"),claim:Wd("claimJettons")};case"ethena":return{stake:Wd("stakeEthena"),unstake:Wd("unstakeEthena"),claim:Wd("unstakeEthenaLocked")}}return{stake:{gas:0n,real:0n},unstake:{gas:0n,real:0n},claim:{gas:0n,real:0n}}}function $d(e){switch(null==e?void 0:e.type){case"nominators":case"liquid":return e.end;case"ethena":return e.unlockTime;default:return}}function Vd(e){return"ethena"===e?"How does it work?":"Why this is safe"}function zd(e){return e.unstakeRequestAmount?"ethena"===e.type&&e.unlockTime&&e.unlockTime<=Date.now()?"readyToClaim":"unstakeRequested":Kd(e)?"active":"inactive"}function Kd(t){return Boolean(t.balance||t.unstakeRequestAmount||"unclaimedRewards"in t&&t.unclaimedRewards>e.dL4)}function qd(e,t){switch(e.type){case"nominators":case"ethena":return!0;case"liquid":return void 0!==t&&t>e.instantAvailable;case"jetton":return!1}}function jd(e){switch(e.type){case"jetton":return e.balance+e.unclaimedRewards;case"ethena":return e.balance+e.unstakeRequestAmount}return e.balance}qe("resetAuth",(e=>{e.currentAccountId&&(e=Ul(e={...e,appState:kn.Main},{isTestnet:"testnet"===(0,Ye.cK)(e.currentAccountId).network})),e={...e,auth:(0,c.mg)(Tl.auth)},ze(e)})),qe("startCreatingWallet",(async(t,o)=>{const r=Ge(tt(t)??{}),i=yt(t),s=i?Cn.createBackup:r?Cn.createWallet:Yc()?Cn.createPin:n.uh?Cn.createBiometrics:Cn.createPassword;if(t=Ve(),i&&!t.auth.password)return void ze(_l(t,{state:Cn.checkPassword,error:void 0}));const c=[(0,a.p)("generateMnemonic",e.iAh&&!t.auth.forceAddingTonOnlyAccount),...i?[]:[(0,l.v7)(3300)]];ze(_l(t,{state:s,method:"createAccount",error:void 0}));const[d]=await Promise.all(c);if(t=_l(Ve(),{mnemonic:d,mnemonicCheckIndexes:Dd((null==d?void 0:d.length)??e.xA_)}),i)return ze(t),void o.afterCreatePassword({password:t.auth.password});ze(_l(t,{state:Yc()?Cn.createPin:n.uh?Cn.createBiometrics:Cn.createPassword})),r&&(o.requestConfetti(),tl())})),qe("startCreatingBiometrics",(e=>{e=_l(e,{state:"createAccount"!==e.auth.method?Cn.importWalletConfirmBiometrics:Cn.confirmBiometrics,biometricsStep:1}),ze(e)})),qe("cancelCreateBiometrics",(e=>{e=_l(e,{state:Cn.createBiometrics,biometricsStep:void 0}),ze(e)})),qe("createPin",((e,t,n)=>{let{pin:a,isImporting:o}=n;e=_l(e,{state:o?Cn.importWalletConfirmPin:Cn.confirmPin,password:a}),ze(e)})),qe("confirmPin",((e,t,n)=>{let{isImporting:a}=n;Kc()?(e=_l(e,{state:a?Cn.importWalletCreateNativeBiometrics:Cn.createNativeBiometrics}),ze(e)):t.skipCreateNativeBiometrics()})),qe("cancelConfirmPin",((e,t,n)=>{let{isImporting:a}=n;e=_l(e,{state:a?Cn.importWalletCreatePin:Cn.createPin}),ze(e)})),qe("cancelDisclaimer",(e=>{ze(_l(e,{state:Yc()?Cn.createPin:n.uh?Cn.createBiometrics:Cn.createPassword}))})),qe("afterCreatePassword",((e,t,n)=>{let{password:a,isPasswordNumeric:o}=n;ze(_l(e,{isLoading:!0}));const{method:r}=Ve().auth,i="createAccount"!==r;"importHardwareWallet"===r?t.createHardwareAccounts():t.createAccount({password:a,isImporting:i,isPasswordNumeric:o})})),qe("afterCreateBiometrics",(async(e,t)=>{const a=!n.cp;e=_l(e,{isLoading:!0,error:void 0,biometricsStep:a?1:void 0}),ze(e);try{const n=a?await mo.createCredential():void 0;e=_l(e=Ve(),{biometricsStep:a?2:void 0}),ze(e);const o=await fo({credential:n});if(e=_l(e=Ve(),{isLoading:!1,biometricsStep:void 0}),!o)return e=_l(e,{error:"Biometric setup failed."}),void ze(e);e=Ul(e,{authConfig:o.config}),ze(e),t.afterCreatePassword({password:o.password})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=_l(e=Ve(),{isLoading:!1,error:n,biometricsStep:void 0}),ze(e)}})),qe("skipCreateBiometrics",(e=>{e=_l(e,{state:Cn.createPassword}),ze(e)})),qe("afterCreateNativeBiometrics",(async(e,t)=>{e=_l(e,{isLoading:!0,error:void 0}),ze(e);try{const{password:n}=e.auth,a=await ho(n);e=Ul(e=_l(e=Ve(),{isLoading:!1}),{authConfig:a.config}),ze(e),t.afterCreatePassword({password:n,isPasswordNumeric:!0})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=_l(e=Ve(),{isLoading:!1,error:n}),ze(e)}})),qe("skipCreateNativeBiometrics",((e,t)=>{const{password:n}=e.auth;e=Ul(e=_l(e,{isLoading:!1,error:void 0}),{authConfig:{kind:"password"},isPasswordNumeric:!0}),ze(e),t.afterCreatePassword({password:n,isPasswordNumeric:!0})})),qe("createAccount",(async(e,t,n)=>{let{password:o,isImporting:r,isPasswordNumeric:i,version:s}=n;ze(_l(e,{isLoading:!0}));const c=ot(Ve()),l=await(0,a.p)(r?"importMnemonic":"createWallet",c,e.auth.mnemonic,o,s);if(e=Ve(),!l||"error"in l)return ze(_l(e,{isLoading:void 0})),void t.showError({error:null==l?void 0:l.error});const{accountId:d,addressByChain:u,secondNetworkAccount:m}=l;if(r||(e={...e,appState:kn.Auth,isAddAccountModalOpen:void 0}),e=Ll(e=_l(e,{isLoading:void 0,password:void 0,firstNetworkAccount:{addressByChain:u,accountId:d},secondNetworkAccount:m,...i&&{isPasswordNumeric:!0}})),r){if(Object.keys(tt(e)||{}).length>0)return ze(e),void t.afterConfirmDisclaimer();e=_l(e,{state:Cn.disclaimer})}else e=_l(e,{state:Ge(tt(e)??{})?Cn.disclaimerAndBackup:Cn.createBackup});ze(e)})),qe("createHardwareAccounts",(async(e,t)=>{const a=Ge(tt(e)??{});ze(_l(e,{isLoading:!0}));const{hardwareSelectedIndices:o=[]}=Ve().auth,r=ot(Ve()),s=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),c=await Promise.all(o.map((e=>s.importLedgerWallet(r,e))));!n.bA||a?t.addHardwareAccounts({wallets:c}):Sl("addHardwareAccounts",{wallets:c})})),qe("addHardwareAccounts",((e,t,n)=>{var o;let{wallets:r}=n;const i=!e.currentAccountId,s=null===(o=r[0])||void 0===o?void 0:o.accountId;s&&(0,a.p)("activateAccount",s);const c=r.reduce(((e,t)=>{if(!t)return e;const{accountId:n,address:a,walletInfo:o}=t,r={ton:a};return Ol({global:e=Vl(e,n),accountId:n,addressByChain:r,type:"hardware",partial:{...o&&{ledger:{driver:o.driver,index:o.index}}}})}),Ve());s&&(e=Vl(c,s)),e=_l(e,{isLoading:!1}),e={...e,shouldForceAccountEdit:!0},ze(e),Ve().areSettingsOpen&&t.closeSettings(),r.forEach((e=>{null!=e&&e.accountId&&t.tryAddNotificationAccount({accountId:null==e?void 0:e.accountId})})),t.afterSignIn(),i&&(t.resetApiSettings(),t.requestConfetti(),tl())})),qe("afterCheckMnemonic",((e,t)=>{e=Vl(e=Ml(e),e.auth.firstNetworkAccount.accountId),ze(e),t.tryAddNotificationAccount({accountId:e.auth.firstNetworkAccount.accountId}),t.afterSignIn(),ft(e)&&t.resetApiSettings()})),qe("restartCheckMnemonicIndexes",((e,t,n)=>{let{worldsCount:a}=n;ze(_l(e,{mnemonicCheckIndexes:Dd(a)}))})),qe("skipCheckMnemonic",((e,t)=>{n.bA?Sl("skipCheckMnemonic"):(e=Fl(e=Vl(e=Ml(e),e.auth.firstNetworkAccount.accountId),{isBackupRequired:!0}),ze(e),t.tryAddNotificationAccount({accountId:e.auth.firstNetworkAccount.accountId}),t.afterSignIn(),ft(e)&&t.resetApiSettings())})),qe("startImportingWallet",(e=>{const t=yt(e)&&!e.auth.password?Cn.importWalletCheckPassword:Cn.importWallet;ze(_l(e,{state:t,error:void 0,method:"importMnemonic"}))})),qe("openAbout",(e=>{ze(_l(e,{state:Cn.about,error:void 0}))})),qe("closeAbout",(e=>{ze(_l(e,{state:Cn.none,error:void 0}))})),qe("afterImportMnemonic",(async(e,t,o)=>{let{mnemonic:r}=o;if(r=(0,c.oE)(r),!rl(r)&&!await(0,a.p)("validateMnemonic",r))return void ze(_l(Ve(),{error:Ta.Nu.InvalidMnemonic}));const i=yt(e=Ve()),s=Object.keys(tt(e)||{}).length>0,l=Yc()?Cn.importWalletCreatePin:n.uh?Cn.importWalletCreateBiometrics:Cn.importWalletCreatePassword;e=_l(e,{mnemonic:r,error:void 0,...!i&&{state:l}}),ze(e),i?t.confirmDisclaimer():(s||t.requestConfetti(),tl())})),qe("confirmDisclaimer",((e,t)=>{if(yt(e))return ze(e),void t.afterCreatePassword({password:e.auth.password});t.afterConfirmDisclaimer()})),qe("afterConfirmDisclaimer",((e,t)=>{const{firstNetworkAccount:n}=e.auth;e=_l(e=Vl(e=Ml(e,!0),n.accountId),{state:Cn.ready}),ze(e),t.tryAddNotificationAccount({accountId:n.accountId}),t.afterSignIn(),ft(e)&&t.resetApiSettings()})),qe("cleanAuthError",(e=>{ze(_l(e,{error:void 0}))})),qe("startChangingNetwork",((e,t,a)=>{let{network:o}=a;n.bA&&Sl("startChangingNetwork",{network:o});const r=Object.keys(nt(o,e.accounts.byId));if(r.length){const e=r[0];t.switchAccount({accountId:e,newNetwork:o})}else ze({...e,areSettingsOpen:!1,appState:kn.Auth}),t.changeNetwork({network:o})})),qe("switchAccount",(async(e,t,a)=>{if(n.bA)return void Sl("switchAccount",a);const{accountId:o,newNetwork:r}=a;await xd(e,o,r)})),qe("afterSelectHardwareWallets",((e,t,n)=>{let{hardwareSelectedIndices:a}=n;ze(_l(e,{method:"importHardwareWallet",hardwareSelectedIndices:a,error:void 0})),t.afterCreatePassword({password:""})})),qe("enableBiometrics",(async(e,t,o)=>{let{password:r}=o;if(!await(0,a.p)("verifyPassword",r))return e=$l(e=Ve(),{error:"Wrong password, please try again."}),void ze(e);e=_l(e=$l(e=Ve(),{error:void 0,state:Nn.TurnOnRegistration}),{isLoading:!0}),ze(e);try{const o=n.cp?void 0:await mo.createCredential();e=$l(e=Ve(),{state:Nn.TurnOnVerification}),ze(e);const i=await fo({credential:o});if(e=Ve(),!i)return e=$l(e,{error:"Biometric setup failed.",state:Nn.TurnOnPasswordConfirmation}),void ze(e);e=$l(e,{state:Nn.TurnOnComplete}),ze(e),await(0,a.p)("changePassword",r,i.password),e=Ul(e=Ve(),{authConfig:i.config}),ze(e),t.setInMemoryPassword({password:void 0,force:!0})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=$l(e=Ve(),{error:n,state:Nn.TurnOnPasswordConfirmation}),ze(e)}finally{e=_l(e=Ve(),{isLoading:void 0}),ze(e)}})),qe("disableBiometrics",(async(e,t,n)=>{let{password:o,isPasswordNumeric:r}=n;const{password:i}=e.biometrics;if(!o||!i)return e=$l(e,{error:"Biometric confirmation failed."}),void ze(e);e=_l(e=Ve(),{isLoading:!0}),ze(e);try{await(0,a.p)("changePassword",i,o)}catch(t){return e=$l(e=Ve(),{error:(null==t?void 0:t.message)||"Failed to disable biometrics."}),void ze(e)}finally{e=_l(e=Ve(),{isLoading:void 0}),ze(e)}e=Ul(e=$l(e=Ve(),{state:Nn.TurnOffComplete,error:void 0}),{authConfig:{kind:"password"},isPasswordNumeric:r}),ze(e)})),qe("closeBiometricSettings",(e=>{e={...e,biometrics:(0,c.mg)(Tl.biometrics)},ze(e)})),qe("openBiometricsTurnOn",(e=>{e=$l(e,{state:Nn.TurnOnPasswordConfirmation}),ze(e)})),qe("openBiometricsTurnOffWarning",(e=>{e=$l(e,{state:Nn.TurnOffWarning}),ze(e)})),qe("openBiometricsTurnOff",(async e=>{e=$l(e,{state:Nn.TurnOffBiometricConfirmation}),ze(e);const t=await vo(e.settings.authConfig);e=$l(e=Ve(),t?{state:Nn.TurnOffCreatePassword,password:t}:{error:"Biometric confirmation failed."}),ze(e)})),qe("disableNativeBiometrics",(e=>{e=Ul(e,{authConfig:{kind:"password"},isPasswordNumeric:!0}),ze(e)})),qe("enableNativeBiometrics",(async(t,n,o)=>{let{password:r}=o;if(!await(0,a.p)("verifyPassword",r))return t=Ve(),t=Ll(t={...t,nativeBiometricsError:"Incorrect code, please try again."}),void ze(t);t=Dl(t=Ve()),t={...t,nativeBiometricsError:void 0},ze(t);try{let a;if(a=e.tKX?(await io()).success:await Aa.verifyIdentity({title:e.C39,subtitle:"",maxAttempts:1}).then((()=>!0)).catch((()=>!1)),!a)return t=Ve(),t=Ll(t={...t,nativeBiometricsError:"Failed to enable biometrics."}),ze(t),void el();const o=await ho(r);await(0,l.v7)(750),t=Ul(t=Ve(),{authConfig:o.config}),t={...t,nativeBiometricsError:void 0},ze(t),n.setInMemoryPassword({password:void 0,force:!0}),tl()}catch(e){t=Ve(),t=Ll(t={...t,nativeBiometricsError:(null==e?void 0:e.message)||"Failed to enable biometrics."}),ze(t),el()}})),qe("clearNativeBiometricsError",(e=>({...e,nativeBiometricsError:void 0}))),qe("openAuthBackupWalletModal",(e=>{n.bA?Sl("openAuthBackupWalletModal"):(e=_l(e,{state:Cn.safetyRules}),ze(e))})),qe("openMnemonicPage",(e=>{n.bA?Sl("openMnemonicPage"):(e=_l(e,{state:Cn.mnemonicPage}),ze(e))})),qe("openCreateBackUpPage",(e=>{n.bA?Sl("openCreateBackUpPage"):(e=_l(e,{state:Ge(tt(e)??{})?Cn.disclaimerAndBackup:Cn.createBackup}),ze(e))})),qe("openCheckWordsPage",(e=>{n.bA?Sl("openCheckWordsPage"):(e=_l(e,{state:Cn.checkWords}),ze(e))})),qe("closeCheckWordsPage",((e,t,a)=>{const{isBackupCreated:o}=a||{};n.bA&&Sl("closeCheckWordsPage",a),!n.bA&&o&&t.afterCheckMnemonic()})),qe("copyStorageData",(async(e,t)=>{const n=await(0,a.p)("fetchAccountConfigForDebugPurposesOnly");if(n){const e=JSON.stringify({...JSON.parse(n),global:Ld()});await al(e),t.showNotification({message:yr("Copied")})}else t.showError({error:Ta.QD.Unexpected})})),qe("importAccountByVersion",(async(e,t,o)=>{let{version:r}=o;if(n.bA)return void Sl("importAccountByVersion",{version:r});const i=e.currentAccountId,s=await(0,a.p)("importNewWalletVersion",i,r);if(e=Ve(),!s.isNew)return void t.switchAccount({accountId:s.accountId});const{title:c,type:l}=it(e,i),d={ton:s.address};e=Vl(e,s.accountId);const u=s.ledger?{ledger:s.ledger}:void 0;e=Ol({global:e,accountId:s.accountId,type:l,addressByChain:d,partial:{...u,title:c},titlePostfix:r}),ze(e),await(0,a.p)("activateAccount",s.accountId),t.tryAddNotificationAccount({accountId:s.accountId})})),qe("setIsAuthLoading",((e,t,n)=>{let{isLoading:a}=n;e=_l(e,{isLoading:a}),ze(e)})),qe("importViewAccount",(async(e,t,o)=>{let{addressByChain:r}=o;if(n.bA)return void Sl("importViewAccount",{addressByChain:r});const i=Ge(tt(e)??{}),s=ot(Ve());i?e=_l(e,{isLoading:!0}):(e=xl(e,{isLoading:!0}),n.KI&&Al("setIsAccountLoading",{isLoading:!0})),ze(e);const c=await(0,a.p)("importViewAccount",s,r);e=Ve(),i?e=_l(e,{isLoading:void 0}):(e=xl(e,{isLoading:void 0}),n.KI&&Al("setIsAccountLoading",{isLoading:void 0})),ze(e),c&&!("error"in c)?(e=Vl(e=Ol({global:e=Ve(),accountId:c.accountId,addressByChain:c.resolvedAddresses,type:"view",partial:{title:c.title}}),c.accountId),ze(e),Ve().areSettingsOpen&&t.closeSettings(),t.tryAddNotificationAccount({accountId:c.accountId}),t.afterSignIn(),i?(t.resetApiSettings(),t.requestConfetti()):t.closeAddAccountModal(),tl()):t.showError({error:null==c?void 0:c.error})})),qe("startImportViewAccount",(e=>{ze(_l(e,{state:Cn.importViewAccount,error:void 0}))})),qe("closeImportViewAccount",(e=>{ze(_l(e,{state:Cn.none,error:void 0}))})),qe("openAuthImportWalletModal",(e=>{e=_l(e,{isImportModalOpen:!0}),ze(e)})),qe("closeAuthImportWalletModal",(e=>{n.bA&&Sl("closeAuthImportWalletModal"),e=_l(e,{isImportModalOpen:void 0}),ze(e)})),qe("fetchTokenTransactions",(async(e,t,n)=>{var o,r;let{limit:i,slug:s,shouldLoadWithBudget:d}=n;e=rd(e,!0),ze(e);const u=e.currentAccountId;let{idsBySlug:m={},byId:p={}}=(null===(o=ct(e,u))||void 0===o?void 0:o.activities)||{},f=!0,h=[],g=m[s]||[];const v=(0,c.Uk)(g,(e=>rn(p[e])));let w=v?p[v].timestamp:void 0;const{chain:y}=$t(e,s);for(;f;){const t=await(0,a.p)("fetchActivitySlice",u,y,s,w,i);if(e=Ve(),!t||"error"in t)break;if(!t.length){e=id(e,!0,s);break}const{areTinyTransfersHidden:n}=e.settings,o=t.filter((e=>!("transaction"===e.kind&&(Xt(e)||n&&Od(e)))));h=h.concat(t),f=o.length<i&&h.length<i,g=(0,c.Am)(g.concat(o.map((e=>e.id)))),w=t[t.length-1].timestamp}h.sort(Kt),e=rd(e,!1);const b=(0,c.dU)(h,"id"),E=Object.keys(b),k=null===(r=ct(e,u))||void 0===r?void 0:r.activities;p={...(null==k?void 0:k.byId)||{},...b},m=(null==k?void 0:k.idsBySlug)||{},g=(0,c.Am)((m[s]||[]).concat(E)),g.sort(((e,t)=>Kt(p[e],p[t]))),e=Rl(e,u,{activities:{...k,byId:p,idsBySlug:{...m,[s]:g}}}),ze(e),d&&(0,l.aj)((()=>{t.fetchTokenTransactions({limit:i,slug:s})}))})),qe("fetchAllTransactions",(async(e,t,n)=>{var o;let{limit:r,shouldLoadWithBudget:i}=n;e=rd(e,!0),ze(e);const s=e.currentAccountId,d=function(e,t){var n;const a=null===(n=ct(e,t))||void 0===n||null===(n=n.activities)||void 0===n?void 0:n.idsBySlug;if(a)return Object.keys(a).filter((e=>e.startsWith("tron-")))}(e,s)??[];let u=function(e,t){var n;const a=null===(n=ct(e,t))||void 0===n?void 0:n.activities;if(!a)return;const{byId:o,idsMain:r=[]}=a,i=(0,c.Uk)(r,(e=>rn(o[e])));return i?o[i].timestamp:void 0}(e,s),m=!0,p=[];for(;m;){const t=await(0,a.p)("fetchAllActivitySlice",s,r,u,d);if(e=Ve(),!t||"error"in t)break;if(!t.length){e=id(e,!0);break}const{areTinyTransfersHidden:n}=e.settings,o=t.filter((e=>!("transaction"===e.kind&&(Xt(e)||n&&Od(e)))));p=p.concat(t),m=o.length<r&&p.length<r,u=t[t.length-1].timestamp}e=rd(e,!1);const f=(0,c.dU)(p,"id"),h=null===(o=ct(e,s))||void 0===o?void 0:o.activities,g={...(null==h?void 0:h.byId)||{},...f};p.sort(Kt);const v=(0,c.Am)(((null==h?void 0:h.idsMain)??[]).concat((0,c.JY)(p,"id")));e=Rl(e,s,{activities:{...h,byId:g,idsMain:v}}),ze(e),i&&(0,l.aj)((()=>{t.fetchAllTransactions({limit:r})}))})),qe("resetIsHistoryEndReached",((e,t,n)=>{e=id(e,!1,null==n?void 0:n.slug),ze(e)})),qe("setIsBackupRequired",((e,t,n)=>{let{isMnemonicChecked:a}=n;const{isBackupRequired:o}=st(e)??{};ze(Fl(e,{isBackupRequired:a?void 0:o}))})),qe("submitSignature",(async(e,t,n)=>{const{password:o}=n,{promiseId:r}=e.currentSignature;await(0,a.p)("verifyPassword",o)?(await(0,a.p)("confirmDappRequest",r,o),ze(od(Ve(),{isSigned:!0}))):ze(od(Ve(),{error:"Wrong password, please try again."}))})),qe("clearSignatureError",(e=>{ze(od(e,{error:void 0}))})),qe("cancelSignature",(e=>{const{promiseId:t}=e.currentSignature||{};t&&(0,a.p)("cancelDappRequest",t,"Canceled by the user"),ze({...e,currentSignature:void 0})})),qe("addToken",((e,t,n)=>{var a,o,r;let{token:i}=n;null!==(a=e.tokenInfo)&&void 0!==a&&null!==(a=a.bySlug)&&void 0!==a&&a[i.slug]||(e=Ud(e,{[i.slug]:{name:i.name,symbol:i.symbol,slug:i.slug,decimals:i.decimals,chain:i.chain,image:i.image,keywords:i.keywords,price:i.price??0,priceUsd:i.priceUsd??0,percentChange24h:i.change24h??0}}));const{balances:s}=st(e)??{};null!=s&&s.bySlug[i.slug]||(e=Fl(e,{balances:{...s,bySlug:{...null==s?void 0:s.bySlug,[i.slug]:0n}}}));const l=dt(e),d=dt(e=Hl(e,{importedSlugs:[...(null==l?void 0:l.importedSlugs)??[],i.slug]}))??{};return Hl(e,{...d,orderedSlugs:[...d.orderedSlugs??[],i.slug],alwaysShownSlugs:(0,c.Am)([...d.alwaysShownSlugs??[],i.slug]),alwaysHiddenSlugs:null===(o=d.alwaysHiddenSlugs)||void 0===o?void 0:o.filter((e=>e!==i.slug)),deletedSlugs:null===(r=d.deletedSlugs)||void 0===r?void 0:r.filter((e=>e!==i.slug))})})),qe("importToken",(async(e,t,n)=>{var o,r;let{address:i}=n;const{currentAccountId:s}=e;e=Ul(e,{importToken:{isLoading:!0,token:void 0}}),ze(e);const c=await(0,a.p)("buildTokenSlug","ton",i);let d=null===(o=(e=Ve()).tokenInfo.bySlug)||void 0===o?void 0:o[c];if(!d){if(d=await(0,a.p)("fetchToken",e.currentAccountId,i),await(0,l.v7)(250),e=Ve(),!d)return e=Ul(e,{importToken:{isLoading:!1,token:void 0}}),void ze(e);{const t={...d,price:0,priceUsd:0,percentChange24h:0};e=Ud(e,{[t.slug]:t}),ze(e)}}const u=(null===(r=ct(e,s))||void 0===r||null===(r=r.balances)||void 0===r?void 0:r.bySlug)??{},m=!(d.slug in u),p=Xn(d);e=Ul(e=Ve(),{importToken:{isLoading:!1,token:p}}),m&&(e=function(e,t,n){var a;return Rl(e,t,{balances:{bySlug:{...null===(a=ct(e,t))||void 0===a||null===(a=a.balances)||void 0===a?void 0:a.bySlug,[n]:0n}}})}(e,e.currentAccountId,d.slug)),ze(e)})),qe("resetImportToken",(e=>{e=Ul(e,{importToken:{isLoading:!1,token:void 0}}),ze(e)})),qe("verifyHardwareAddress",(async(e,t)=>{const n=e.currentAccountId,a=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876));if(await a.reconnectLedger())try{t.showDialog({title:"Ledger",message:"$ledger_verify_address_on_device"}),await a.verifyAddress(n)}catch(e){t.showError({error:e})}else t.showError({error:"$ledger_not_ready"})})),qe("setActiveContentTab",((e,t,n)=>{let{tab:a}=n;return Fl(e,{activeContentTab:a})})),qe("addSwapToken",((e,t,n)=>{let{token:a}=n;if(a.slug in e.swapTokenInfo.bySlug)return;const o={name:a.name,symbol:a.symbol,chain:a.chain,slug:a.slug,decimals:a.decimals,image:a.image,tokenAddress:a.tokenAddress,keywords:a.keywords,isPopular:!1,price:0,priceUsd:0};ze({...e,swapTokenInfo:{...e.swapTokenInfo,bySlug:{...e.swapTokenInfo.bySlug,[o.slug]:o}}})})),qe("apiUpdateWalletVersions",((e,t,n)=>{var a;const{accountId:o,versions:r,currentVersion:i}=n;e={...e,walletVersions:{...e.walletVersions,currentVersion:i,byId:{...null===(a=e.walletVersions)||void 0===a?void 0:a.byId,[o]:r}}},ze(e)}));var Yd=i(39989);function Gd(e){var t,n;return(null===(t=e.sseOptions)||void 0===t?void 0:t.appClientId)??(null===(n=e.sse)||void 0===n?void 0:n.appClientId)??"jsbridge"}function Qd(e,t,o){let r=Ve();const{promiseId:i}=e(r)??{};n.bA?t():i&&(0,a.p)("cancelDappRequest",i,"Canceled by the user"),Yc()&&(r=Ll(r)),r=o(r),ze(r)}async function Xd(e,t,o,r){let i=Ve();const{promiseId:s}=t(i);if(s){if(!await(0,a.p)("verifyPassword",e))return i=Ve(),i=r(i,{error:"Wrong password, please try again."}),void ze(i);Yc()&&(i=Ve(),i=Dl(i),ze(i)),n.bA?o():(i=Ve(),i=r(i,{isLoading:!0,error:void 0}),ze(i),await tl(!0),(0,a.p)("confirmDappRequest",s,e),Yc()&&(i=Ll(Ve()),ze(i)))}}async function Jd(t,a,o,r,i,s){let c=Ve();const{accountId:d}=t,{promiseId:u}=a(c);if(await xd(c,d),u&&!n.bA){o();const t=si()?$s:Hs;await(0,l.v7)(t+e.xB5)}n.bA&&!await(0,l.fm)((()=>r(Ve())),300,5)||(c=Ve(),c=i(c),c=s(c),ze(c))}function Zd(e,t){return"connect"===t&&!!e.dappConnectRequest||"sendTransaction"===t&&e.currentDappTransfer.state!==Sn.None||"signData"===t&&e.currentDappSignData.state!==An.None}function eu(e){return nu(e)?function(e){const t=au(e),n={isGasless:!0,excessFee:ou(e),shouldShowOurFee:iu(e)};if(void 0===e.networkFee||void 0===e.dieselFee||void 0===t)return n;const a="0"===n.excessFee,o="stars-fee"===e.dieselStatus?"stars":"token",r={[o]:e.dieselFee,native:t.toString()};if(n.fullFee={precision:a?"exact":"lessThan",terms:ru(r,e.ourFee??"0",!1),networkTerms:r},n.realFee=n.fullFee,void 0!==e.realNetworkFee){const r=(0,Ot.z)(e.networkFee).sub(t),c=(0,Ot.z)(e.dieselFee).div(r).mul(e.realNetworkFee),l=(i=e.dieselFee,s=c,(0,Ot.z)(i).lt(s)?i:s),d=function(e,t){return(0,Ot.z)(0).gt(t)?0:t}(0,(0,Ot.z)(e.realNetworkFee).sub(r)),u={[o]:l.toString(),native:d.toString()};n.realFee={precision:a?"exact":"approximate",terms:ru(u,e.ourFee??"0",!1),networkTerms:u}}var i,s;return n}(e):function(e){const t={isGasless:!1,excessFee:ou(e),shouldShowOurFee:iu(e)},n=qn(e.tokenInSlug),a="0"===t.excessFee;if(void 0!==e.networkFee){const o={native:e.networkFee};t.fullFee={precision:a?"exact":"lessThan",terms:ru(o,e.ourFee??"0",n),networkTerms:o},t.realFee=t.fullFee}if(void 0!==e.realNetworkFee){const o={native:e.realNetworkFee};t.realFee={precision:a?"exact":"approximate",terms:ru(o,e.ourFee??"0",n),networkTerms:o}}return t}(e)}function tu(t){let{swapType:n,tokenInBalance:a,tokenIn:o,fullNetworkFee:r,ourFeePercent:i}=t;if(n===Dn.CrosschainToWallet||void 0===a)return;let s=a;if(r){if(!o)return;s-=(0,Lt.UH)(r.token??"0",o.decimals),qn(o.slug)&&(s-=(0,Lt.UH)(r.native??"0",o.decimals))}return i??=n===Dn.OnChain?e.YDh:0,s=(0,sa.fC)(s,1+i/100),(0,sa._O)(s,0n)}function nu(e){const t=qn(e.tokenInSlug),n=au(e),a=void 0!==e.networkFee&&void 0!==n&&n.lt(e.networkFee);return e.swapType===Dn.OnChain&&a&&!t&&Boolean(e.dieselStatus)&&"not-available"!==e.dieselStatus}function au(e){var t;if(!e.tokenInSlug||void 0===e.nativeTokenInBalance)return;const n=null===(t=zn(Gn(e.tokenInSlug)))||void 0===t?void 0:t.nativeToken;return n?(0,Lt.CF)(e.nativeTokenInBalance,n.decimals):void 0}function ou(e){let{networkFee:t,realNetworkFee:n}=e;return void 0!==t&&void 0!==n?(0,Ot.z)(t).sub(n).toString():void 0}function ru(e,t,n){return{...e,native:n?(0,Ot.z)(e.native??"0").add(t).toString():e.native,token:n?e.token:(0,Ot.z)(e.token??"0").add(t).toString()}}function iu(e){return e.swapType===Dn.OnChain}qe("startStaking",((e,t,a)=>{const o=e.currentStaking.state!==Pn.None,{tokenSlug:r}=a||{};if(r){const t=wa(e,e.currentAccountId)[r];t&&(e=ld(e=Ve(),e.currentAccountId,{stakingId:t.id}),ze(e),e=Ve())}if(n.bA&&!o)return void Sl("startStaking",a);const i=Pn.StakeInitial;ze(cd(e,{state:i,error:void 0}))})),qe("startUnstaking",((e,t,a)=>{const o=e.currentStaking.state!==Pn.None,{stakingId:r}=a||{};if(r&&(e=ld(e=Ve(),e.currentAccountId,{stakingId:r}),ze(e),e=Ve()),n.bA&&!o)return void Sl("startUnstaking",a);const i=Pn.UnstakeInitial;ze(cd(e,{state:i,error:void 0}))})),qe("fetchStakingFee",(async(e,t,n)=>{const{amount:o}=n,{currentAccountId:r}=e;if(!r)return;const i=ya(e,r),s=await(0,a.p)("checkStakeDraft",r,o,i);s&&!("error"in s)&&(e=cd(e=Ve(),{fee:s.fee}),ze(e))})),qe("submitStakingInitial",(async(e,t,n)=>{const{isUnstaking:o,amount:r}=n??{},{currentAccountId:i}=e;if(!i)return;ze(cd(e,{isLoading:!0,error:void 0}));const s=ya(e,i);if(o){const t=await(0,a.p)("checkUnstakeDraft",i,r,s);e=cd(e=Ve(),{isLoading:!1}),t&&("error"in t?e=cd(e,{error:t.error}):(e=mt(e)?cd(e=_d(e),{state:Pn.UnstakeConnectHardware}):cd(e,{state:Pn.UnstakePassword}),e=cd(e,{fee:t.fee,amount:r,error:void 0,tokenAmount:t.tokenAmount})))}else{const t=await(0,a.p)("checkStakeDraft",i,r,s);e=cd(e=Ve(),{isLoading:!1}),t&&("error"in t?e=cd(e,{error:t.error}):(e=mt(e)?cd(e=_d(e),{state:Pn.StakeConnectHardware}):cd(e,{state:Pn.StakePassword}),e=cd(e,{fee:t.fee,amount:r,error:void 0})))}ze(e)})),qe("submitStakingPassword",(async(e,t,n)=>{const{password:o,isUnstaking:r}=n,{amount:i,tokenAmount:s}=e.currentStaking,{currentAccountId:c}=e;if(!await(0,a.p)("verifyPassword",o))return void ze(cd(Ve(),{error:"Wrong password, please try again."}));const l=ya(e=Ve(),c);if(Yc()&&(e=Dl(e)),e=cd(e,{isLoading:!0,error:void 0}),ze(e),await tl(!0),e=Ve(),r){const n="nominators"===l.type?l.balance:s,r=await(0,a.p)("submitUnstake",e.currentAccountId,o,n,l,Hd(l.type).unstake.real),i=qd(l,n);e=cd(e=Rl(e=Ve(),c,{isLongUnstakeRequested:i}),{isLoading:!1}),ze(e),r?(tl(),e=cd(e=Ve(),{state:Pn.UnstakeComplete})):(el(),t.showDialog({message:"Unstaking was unsuccessful. Try again later."}),e=Ve(),Yc()&&(e=Ll(e)))}else{const n=await(0,a.p)("submitStake",e.currentAccountId,o,i,l,Hd(l.type).stake.real);e=cd(e=Ve(),{isLoading:!1}),ze(e),n?(tl(),e=cd(e=Ve(),{state:Pn.StakeComplete})):(el(),t.showDialog({message:"Staking was unsuccessful. Try again later."}),e=Ve(),Yc()&&(e=Ll(e)))}ze(e)})),qe("submitStakingHardware",(async(e,n,a)=>{const{isUnstaking:o}=a||{},{amount:r,tokenAmount:s}=e.currentStaking,{currentAccountId:c}=e,l=ya(e,c);e=cd(e,{isLoading:!0,error:void 0,state:o?Pn.UnstakeConfirmHardware:Pn.StakeConfirmHardware}),ze(e);const d=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876));let u;const m=(e=Ve()).currentAccountId;try{if(o){const t=l.balance,n="nominators"===l.type?t:s;u=await d.submitLedgerUnstake(m,l,n,Hd(l.type).unstake.real);const a=qd(l,n);e=Rl(e=Ve(),c,{isLongUnstakeRequested:a}),ze(e)}else u=await d.submitLedgerStake(m,r,l,Hd(l.type).stake.real)}catch(e){if(e instanceof Yd.bS)return void ze(cd(Ve(),{isLoading:!1,error:"$hardware_blind_sign_not_enabled_internal"}));if(e instanceof Yd.KB)return void ze(cd(Ve(),{isLoading:!1,error:"Canceled by the user"}));(0,t.SJ)("submitStakingHardware",e)}e=cd(e=Ve(),{isLoading:!1}),ze(e),u?"string"!=typeof u&&"error"in u?(el(),n.showError({error:u.error})):(tl(),e=cd(e=Ve(),{state:o?Pn.UnstakeComplete:Pn.StakeComplete}),ze(e)):(el(),n.showDialog({message:o?"Unstaking was unsuccessful. Try again later.":"Staking was unsuccessful. Try again later."}))})),qe("clearStakingError",(e=>{ze(cd(e,{error:void 0}))})),qe("cancelStaking",(e=>{Yc()&&(e=Ll(e)),e=function(e){return{...e,currentStaking:{state:Pn.None}}}(e),ze(e)})),qe("setStakingScreen",((e,t,n)=>{const{state:a}=n;ze(cd(e,{state:a}))})),qe("fetchStakingHistory",(async e=>{const t=await(0,a.p)("getStakingHistory",e.currentAccountId);t&&(e=Rl(e=Ve(),e.currentAccountId,{stakingHistory:t},!0),ze(e))})),qe("openAnyAccountStakingInfo",(async(e,t,a)=>{let{accountId:o,network:r,stakingId:i}=a;n.bA?Sl("openAnyAccountStakingInfo",{accountId:o,network:r,stakingId:i}):(await Promise.all([Js(),xd(e,o,r)]),t.changeCurrentStaking({stakingId:i}),t.openStakingInfo())})),qe("openStakingInfo",(e=>{n.bA?Sl("openStakingInfo"):(e={...e,isStakingInfoModalOpen:!0},ze(e))})),qe("closeStakingInfo",(e=>{e={...e,isStakingInfoModalOpen:void 0},ze(e)})),qe("changeCurrentStaking",(async(e,t,a)=>{let{stakingId:o,shouldReopenModal:r}=a;n.bA&&r?Sl("changeCurrentStaking",{stakingId:o,shouldReopenModal:r}):(r&&await(0,l.v7)(50),e=ld(e=Ve(),e.currentAccountId,{stakingId:o}),ze(e),r&&t.openStakingInfoOrStart())})),qe("startStakingClaim",((e,t,a)=>{const{stakingId:o}=a||{};o&&(e=ld(e=Ve(),e.currentAccountId,{stakingId:o}),ze(e),e=Ve()),n.bA?Sl("startStakingClaim",a):(e=mt(e)?cd(e=_d(e),{state:Pn.ClaimConnectHardware}):cd(e,{state:Pn.ClaimPassword}),ze(e))})),qe("cancelStakingClaim",(e=>{e=cd(e,{state:Pn.None}),ze(e)})),qe("submitStakingClaim",(async(e,t,o)=>{var r;let{password:i}=o;const s=e.currentAccountId;if(!await(0,a.p)("verifyPassword",i))return void ze(cd(Ve(),{error:"Wrong password, please try again."}));if(e=Ve(),Yc()&&(e=Dl(e)),e=cd(e,{isLoading:!0,error:void 0}),ze(e),await tl(!0),n.bA)return void Sl("submitStakingClaim",{password:i});const c=ya(e=Ve(),s),l="ethena"===c.type,d=await(0,a.p)("submitStakingClaimOrUnlock",s,i,c,null===(r=Hd(c.type).claim)||void 0===r?void 0:r.real);if(e=cd(e=Ve(),{isLoading:!1}),ze(e),!d||"error"in d)return Yc()&&(e=Ll(e=Ve()),ze(e)),el(),void t.showError({error:null==d?void 0:d.error});tl(),e=cd(e=Ve(),{state:l?Pn.ClaimComplete:Pn.None}),ze(e),n.KI&&Al("setStakingScreen",{state:l?Pn.ClaimComplete:Pn.None})})),qe("submitStakingClaimHardware",(async(e,n)=>{e=cd(e,{isLoading:!0,error:void 0,state:Pn.ClaimConfirmHardware}),ze(e);const a=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),o=(e=Ve()).currentAccountId,r=ya(e,o),s="ethena"===r.type;let c;try{var l;c=await a.submitLedgerStakingClaimOrUnlock(o,r,null===(l=Hd(r.type).claim)||void 0===l?void 0:l.real)}catch(e){if(e instanceof Yd.bS)return void ze(cd(Ve(),{isLoading:!1,error:"$hardware_blind_sign_not_enabled_internal"}));if(e instanceof Yd.KB)return void ze(cd(Ve(),{isLoading:!1,error:"Canceled by the user"}));(0,t.SJ)("submitStakingClaimHardware",e)}e=cd(e=Ve(),{isLoading:!1}),ze(e),c?"object"==typeof c&&"error"in c?n.showError({error:c.error}):(e=cd(e=Ve(),{state:s?Pn.ClaimComplete:Pn.None}),ze(e)):n.showError({error:Ta.QD.Unexpected})})),qe("openStakingInfoOrStart",((e,t)=>{e.currentAccountId&&(Kd(ya(e,e.currentAccountId))?t.openStakingInfo():t.startStaking())})),qe("submitDappConnectRequestConfirm",(async(t,o,r)=>{let{password:i,accountId:s}=r;const{promiseId:c,permissions:d}=t.dappConnectRequest;if(null!=d&&d.isPasswordRequired&&(!i||!await(0,a.p)("verifyPassword",i)))return t=dd(t=Ve(),{error:"Wrong password, please try again."}),void ze(t);Yc()&&(t=Dl(t=Ve()),ze(t)),n.bA?Sl("submitDappConnectRequestConfirm",{password:i,accountId:s}):(tl(),o.switchAccount({accountId:s}),await(0,a.p)("confirmDappRequestConnect",c,{accountId:s,password:i}),t=Ve(),e.UMQ&&(t=Ll(t)),t=ud(t),ze(t),await(0,l.v7)(250),o.getDapps())})),qe("submitDappConnectRequestConfirmHardware",(async(e,t,a)=>{let{accountId:o}=a;const{proof:r}=e.dappConnectRequest;e=dd(e=Ve(),{error:void 0,state:Ln.ConfirmHardware}),ze(e);const s=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876));try{const e=await s.signLedgerProof(o,r);if(n.bA)return void Sl("submitDappConnectHardware",{accountId:o,signature:e});t.submitDappConnectHardware({accountId:o,signature:e})}catch(e){ze(dd(Ve(),{error:"Canceled by the user"}))}})),qe("submitDappConnectHardware",(async(e,t,n)=>{let{accountId:o,signature:r}=n;const{promiseId:i}=e.dappConnectRequest;t.switchAccount({accountId:o}),await(0,a.p)("confirmDappRequestConnect",i,{accountId:o,signature:r}),e=ud(e=Ve()),ze(e),await(0,l.v7)(250),t.getDapps()})),qe("cancelDappConnectRequestConfirm",(e=>{Qd((e=>e.dappConnectRequest),(()=>Sl("cancelDappConnectRequestConfirm")),ud)})),qe("setDappConnectRequestState",((e,t,n)=>{let{state:a}=n;ze(dd(e,{state:a}))})),qe("cancelDappTransfer",(e=>{Qd((e=>e.currentDappTransfer),(()=>Sl("cancelDappTransfer")),pd)})),qe("submitDappTransferPassword",(async(e,t,n)=>{let{password:a}=n;await Xd(a,(e=>e.currentDappTransfer),(()=>Sl("submitDappTransferPassword",{password:a})),md)})),qe("submitDappTransferHardware",(async(e,t)=>{const{promiseId:o,transactions:r,vestingAddress:s}=e.currentDappTransfer;if(!o)return;e=md(e=Ve(),{isLoading:!0,error:void 0,state:Sn.ConfirmHardware}),ze(e);const c=e.currentAccountId,l=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876));try{const e=await l.signLedgerTransactions(c,r,{isTonConnect:!0,vestingAddress:s});if(n.bA)return void Sl("submitDappTransferHardware2",{signedMessages:e});t.submitDappTransferHardware2({signedMessages:e})}catch(n){if(n instanceof Yd.bS)return void ze(md(Ve(),{isLoading:!1,error:"$hardware_blind_sign_not_enabled"}));if(n instanceof Yd.cp)t.showError({error:"$ledger_unsupported_ton_connect"}),(0,a.p)("cancelDappRequest",o,n.message);else{if(n instanceof Yd.KB)return void ze(md(Ve(),{isLoading:!1,error:"Canceled by the user"}));(0,a.p)("cancelDappRequest",o,"Unknown error.")}e=pd(e=Ve()),ze(e)}})),qe("submitDappTransferHardware2",((e,t,n)=>{let{signedMessages:o}=n;const{promiseId:r}=e.currentDappTransfer;r&&((0,a.p)("confirmDappRequest",r,o),e=pd(e=Ve()),ze(e))})),qe("submitDappSignDataPassword",(async(e,t,n)=>{let{password:a}=n;await Xd(a,(e=>e.currentDappSignData),(()=>Sl("submitDappSignDataPassword",{password:a})),fd)})),qe("getDapps",(async(e,t)=>{const{currentAccountId:n}=e;let o=await(0,a.p)("getDapps",n);if(!o)return;const r=o.find((e=>{let{url:t}=e;return!t}));r&&(t.deleteDapp({url:r.url,uniqueId:Gd(r)}),o=o.filter((e=>{let{url:t}=e;return t}))),e=function(e,t){return Fl(e,{dapps:t})}(e=Ve(),o),ze(e)})),qe("deleteAllDapps",(e=>{const{currentAccountId:t}=e;(0,a.p)("deleteAllDapps",t),e=function(e){return Fl(e,{dapps:void 0,dappLastOpenedDatesByUrl:void 0})}(e=Ve()),ze(e)})),qe("deleteDapp",((e,t,o)=>{let{url:r,uniqueId:i}=o;const{currentAccountId:s}=e;n.bA?Sl("deleteDapp",{url:r,uniqueId:i}):(0,a.p)("deleteDapp",s,r,i),e=function(e,t){const{dapps:n,dappLastOpenedDatesByUrl:a}=st(e)||{};return a&&delete a[t],Fl(e,{dapps:n.filter((e=>e.url!==t)),dappLastOpenedDatesByUrl:a})}(e=Ve(),r),ze(e)})),qe("cancelDappSignData",(e=>{Qd((e=>e.currentDappSignData),(()=>Sl("cancelDappSignData")),hd)})),qe("apiUpdateDappConnect",(async(e,t,a)=>{let{accountId:o,dapp:r,permissions:i,promiseId:s,proof:c}=a;if(n.bA){if(!await(0,l.fm)((()=>Boolean(Ve().dappConnectRequest)),300,5))return;e=Ve()}e=dd(e,{state:Ln.Info,promiseId:s,accountId:o,dapp:r,permissions:{isAddressRequired:i.address,isPasswordRequired:i.proof},proof:c}),ze(e),t.addSiteToBrowserHistory({url:r.url})})),qe("apiUpdateDappSendTransaction",(async(e,t,n)=>{const{promiseId:a,transactions:o,emulation:r,dapp:i,vestingAddress:s}=n;await Jd(n,(e=>e.currentDappTransfer),t.closeDappTransfer,(e=>e.currentDappTransfer.state!==Sn.None),pd,(e=>md(e,{state:mt(e)&&o.length>1?Sn.WarningHardware:Sn.Initial,promiseId:a,transactions:o,emulation:r,dapp:i,vestingAddress:s})))})),qe("apiUpdateDappSignData",(async(e,t,n)=>{const{promiseId:a,dapp:o,payloadToSign:r}=n;await Jd(n,(e=>e.currentDappSignData),t.closeDappSignData,(e=>e.currentDappSignData.state!==An.None),hd,(e=>fd(e,{state:An.Initial,promiseId:a,dapp:o,payloadToSign:r})))})),qe("apiUpdateDappLoading",(async(e,t,a)=>{let{connectionType:o,isSse:r,accountId:i}=a;if(n.bA){if(!await(0,l.fm)((()=>Zd(Ve(),o)),300,5))return;e=Ve()}!n.bA&&i&&t.switchAccount({accountId:i}),"connect"===o?e=dd(e,{state:Ln.Info,isSse:r}):"sendTransaction"===o?e=md(e,{state:Sn.Initial,isSse:r}):"signData"===o&&(e=fd(e,{state:An.Initial,isSse:r})),ze(e)})),qe("apiUpdateDappCloseLoading",(async(e,t,a)=>{var o;let{connectionType:r}=a;if(n.bA){if(!await(0,l.fm)((()=>Zd(Ve(),r)),300,5))return;e=Ve()}"connect"===r&&(null===(o=e.dappConnectRequest)||void 0===o?void 0:o.state)===Ln.Info?e=ud(e):"sendTransaction"===r&&e.currentDappTransfer.state===Sn.Initial?e=pd(e):"signData"===r&&e.currentDappSignData.state===An.Initial&&(e=hd(e)),ze(e)})),qe("loadExploreSites",(async(e,t,n)=>{let{isLandscape:o}=n;const r=await(0,a.p)("loadExploreSites",{isLandscape:o});Il(r,(e=Ve()).exploreData)||(e={...e,exploreData:r},ze(e))}));const su={},cu=9e5,lu={"Insufficient liquidity":xn.NotEnoughLiquidity,"Tokens must be different":xn.InvalidPair,"Asset not found":xn.InvalidPair,"Pair not found":xn.InvalidPair,"Too small amount":xn.TooSmallAmount};function du(e){var t;const{currentDexLabel:n,amountIn:a,amountOut:o,amountOutMin:r,slippage:i,networkFee:s,swapFee:c,ourFee:l,dieselFee:d,realNetworkFee:u}=e.currentSwap,m=aa(e),p=oa(e),f=Pd(m),h=Pd(p),g=a,v=o,w=it(e,e.currentAccountId),y=null===(t=zn(Gn(m.slug)))||void 0===t?void 0:t.nativeToken,b=y?Rt(e,y.slug):void 0,E=ra(e);return{from:f,to:h,fromAmount:g,toAmount:v,toMinAmount:r,slippage:i,fromAddress:(null==w?void 0:w.addressByChain[m.chain])||(null==w?void 0:w.addressByChain.ton),shouldTryDiesel:nu({...e.currentSwap,swapType:E,nativeTokenInBalance:b}),dexLabel:n,networkFee:u??s,swapFee:c,ourFee:l,dieselFee:d}}qe("startSwap",(async(e,t,a)=>{const o=e.currentSwap.state!==Bn.None;if(n.KI&&o&&(Al("cancelSwap"),await(0,l.v7)(100),e=Ve()),n.bA)return void Sl("startSwap",a);const{state:r}=a??{},i=si(),s=r||(i?Bn.Initial:Bn.None);e=Ql(e,{...a,state:s,swapId:(0,we.A)(),inputSource:_n.In}),ze(e),i||t.setLandscapeActionsActiveTabIndex({index:Un.Swap})})),qe("setDefaultSwapParams",((t,n,a)=>{let{tokenInSlug:o,tokenOutSlug:r}=a??{};const{withResetAmount:i}=a??{};o=o||e.JhS,r=r||e.rKC,(t.currentSwap.tokenInSlug!==o||t.currentSwap.tokenOutSlug!==r||i)&&(t=Ql(t,{tokenInSlug:o,tokenOutSlug:r,inputSource:_n.In,...i?{amountIn:void 0,amountOut:void 0}:void 0}),ze(t))})),qe("cancelSwap",(function(e,t){let{shouldReset:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n){const{tokenInSlug:t,tokenOutSlug:n}=e.currentSwap;return e=Ql(e=Xl(e),{tokenInSlug:t,tokenOutSlug:n,amountIn:void 0,amountOut:void 0,inputSource:_n.In}),void ze(e)}Yc()&&(e=Ll(e)),e=Ql(e,{state:Bn.None,swapId:void 0}),ze(e)})),qe("submitSwap",(async(e,t,n)=>{let{password:o}=n;if(!await(0,a.p)("verifyPassword",o))return void ze(Ql(Ve(),{error:"Wrong password, please try again."}));e=Ve(),Yc()&&(e=Dl(e)),e=Ql(e,{isLoading:!0,shouldResetOnClose:void 0,error:void 0}),ze(e),await tl(!0);const r=du(e),i=await(0,a.p)("swapBuildTransfer",e.currentAccountId,o,r);if(e=Ve(),!i||"error"in i)return Yc()&&(e=Ll(e)),el(),e=Ql(e,{shouldResetOnClose:!0,isLoading:!1}),ze(e),void t.showError({error:null==i?void 0:i.error});const s={id:i.id,timestamp:Date.now(),status:"pending",from:r.from,fromAmount:r.fromAmount,to:r.to,toAmount:r.toAmount,networkFee:e.currentSwap.realNetworkFee??e.currentSwap.networkFee,swapFee:e.currentSwap.swapFee,ourFee:e.currentSwap.ourFee,hashes:[]};e=Ql(e,{tokenInSlug:void 0,tokenOutSlug:void 0,amountIn:void 0,amountOut:void 0,isLoading:!1,state:Bn.Complete,shouldResetOnClose:!0}),ze(e),tl();const c=await(0,a.p)("swapSubmit",e.currentAccountId,o,i.transfers,s,r.shouldTryDiesel);!c||"error"in c?(e=Ql(e=Ve(),{shouldResetOnClose:!0}),Yc()&&(e=Ll(e)),ze(e),el(),t.showError({error:null==c?void 0:c.error})):(e=Ql(e=Ve(),{activityId:c.activityId}),ze(e))})),qe("submitSwapCex",(async(e,t,n)=>{let{password:o}=n;if(!await(0,a.p)("verifyPassword",o))return void ze(Ql(Ve(),{error:"Wrong password, please try again."}));e=Ql(e=Ve(),{isLoading:!0,error:void 0,shouldResetOnClose:void 0}),Yc()&&(e=Dl(e)),ze(e),await tl(!0);const r=kt(e=Ve(),e.currentAccountId),i=rt(e),s=function(e){var t;return Object.keys((null===(t=it(e,e.currentAccountId))||void 0===t?void 0:t.addressByChain)||{ton:!0})}(e),d=e.swapTokenInfo.bySlug[e.currentSwap.tokenInSlug],u=e.swapTokenInfo.bySlug[e.currentSwap.tokenOutSlug],m="ton"===d.chain,p=r&&"tron"===d.chain,f=m||p,h=r?s.includes(d.chain):"ton"===d.chain,g=i.addressByChain.ton,v=(null==i?void 0:i.addressByChain[u.chain])??e.currentSwap.toAddress,w=du(e),y={...(0,c.Up)(w,["from","fromAmount","to","swapFee","networkFee"]),fromAddress:g,toAddress:v},b=await(0,a.p)("swapCexCreateTransaction",e.currentAccountId,o,y);if(e=Ve(),!b)return e=Ql(e,{isLoading:!1,shouldResetOnClose:!0}),Yc()&&(e=Ll(e)),el(),ze(e),void t.showError({error:Ta.QD.Unexpected});if(e=Ql(e,{isLoading:!1,state:h?Bn.Complete:Bn.WaitTokens,activityId:b.activity.id,payinAddress:b.swap.cex.payinAddress,payoutAddress:b.swap.cex.payoutAddress,payinExtraId:b.swap.cex.payinExtraId,shouldResetOnClose:!0}),ze(e),tl(),f){const n={password:o,accountId:(e=Ve()).currentAccountId,fee:(0,Lt.UH)(b.swap.networkFee,d.decimals),amount:(0,Lt.UH)(b.swap.fromAmount,d.decimals),toAddress:b.swap.cex.payinAddress,tokenAddress:r?d.tokenAddress:void 0};let i;var E;await(0,l.v7)(5e3),m?i=await(0,a.p)("swapCexSubmit","ton",n,b.swap.id):p&&(i=await(0,a.p)("swapCexSubmit","tron",n,b.swap.id)),(!i||"error"in i)&&(e=Ql(e=Ve(),{shouldResetOnClose:!0}),Yc()&&(e=Ll(e)),ze(e),el(),t.showError({error:null===(E=i)||void 0===E?void 0:E.error}))}})),qe("switchSwapTokens",(e=>{const{tokenInSlug:t,tokenOutSlug:n,amountIn:a,amountOut:o}=e.currentSwap;e=Ql(e,{isMaxAmount:!1,amountIn:o,amountOut:a,tokenInSlug:n,tokenOutSlug:t,inputSource:_n.In}),ze(e)})),qe("setSwapTokenIn",((e,t,n)=>{let{tokenSlug:a}=n;const{amountIn:o,amountOut:r,tokenInSlug:i,tokenOutSlug:s}=e.currentSwap,c=e.swapTokenInfo.bySlug[a],l=o?(0,Lt.QQ)(o,c.decimals):o,d=a===s?i:s,u=d?e.swapTokenInfo.bySlug[d]:void 0,m=r&&u?(0,Lt.QQ)(r,u.decimals):r;e=Ql(e,{amountIn:"0"===l?void 0:l,amountOut:"0"===m?void 0:m,tokenInSlug:a,tokenOutSlug:d}),ze(e)})),qe("setSwapTokenOut",((e,t,n)=>{let{tokenSlug:a}=n;const{amountIn:o,amountOut:r,tokenInSlug:i,tokenOutSlug:s}=e.currentSwap,c=e.swapTokenInfo.bySlug[a],l=r?(0,Lt.QQ)(r,c.decimals):r,d=a===i?s:i,u=d?e.swapTokenInfo.bySlug[d]:void 0,m=o&&u?(0,Lt.QQ)(o,u.decimals):o;e=Ql(e,{amountOut:"0"===l?void 0:l,amountIn:"0"===m?void 0:m,tokenOutSlug:a,tokenInSlug:d}),ze(e)})),qe("setSwapAmountIn",((e,t,n)=>{let{amount:a,isMaxAmount:o=!1}=n;e=Ql(e,{amountIn:a,isMaxAmount:o,inputSource:_n.In}),ze(e)})),qe("setSwapAmountOut",((e,t,n)=>{let{amount:a}=n;e=Ql(e,{amountOut:a,isMaxAmount:!1,inputSource:_n.Out}),ze(e)})),qe("setSlippage",((e,t,n)=>{let{slippage:a}=n;return Ql(e,{slippage:a})})),qe("estimateSwap",(async()=>{await async function(){const t=Ve();if(!Kl(t)&&!uu)try{uu=!0;const n=ql.bind(void 0,t),o=await(async(t,n)=>{const{tokenInSlug:o,tokenOutSlug:r}=t.currentSwap;if(o){if(await async function(t){var n;await(0,l.fm)((()=>{const{swapTokenInfo:{isLoaded:e,bySlug:n}}=Ve();return!(!e&&!n[t])}),500,100);let o=Ve();const r=o.swapTokenInfo.bySlug[t];if(!r)return;const i=Pd(r),s=su[t];if(s&&Date.now()-s.timestamp<=cu)return;const c=await(0,a.p)("swapGetPairs",i);let d;if(o=Ve(),c){const n="ton"===r.chain;d=c.reduce(((t,a)=>{const o=jn(a.slug,!0),i=Number(n)+(o?1:0),s=!(2===i||1===i&&[r.slug,a.slug].includes(e.Tu9.slug));return t[a.slug]={...s&&{isMultichain:s},...a.isReverseProhibited&&{isReverseProhibited:a.isReverseProhibited}},t}),{}),su[t]={timestamp:Date.now()}}else d={};ze({...o,swapPairs:{bySlug:{...null===(n=o.swapPairs)||void 0===n?void 0:n.bySlug,[t]:d}}})}(o),n())return;t=Ve()}var i;if(o&&r&&!(null===(i=t.swapPairs)||void 0===i||null===(i=i.bySlug)||void 0===i||null===(i=i[o])||void 0===i?void 0:i[r]))return{...Yl(t),errorType:xn.InvalidPair};return jl(t)?ra(t)===Dn.OnChain?async function(t){const n=t.swapTokenInfo.bySlug[t.currentSwap.tokenInSlug],o=t.swapTokenInfo.bySlug[t.currentSwap.tokenOutSlug],r=Vn(Gn(n.slug)).nativeToken,i=n.slug===e.Tu9.slug?n.symbol:n.tokenAddress,s=o.slug===e.Tu9.slug?o.symbol:o.tokenAddress,{fromAmount:l,isFromAmountMax:d}=function(e){const t=aa(e);let n=e.currentSwap.amountIn??"0",a=!1;if(e.currentSwap.amountIn&&ra(e)===Dn.OnChain&&e.currentSwap.inputSource===_n.In&&e.currentSwap.isMaxAmount){const o=Rt(e,t.slug);n=(0,Lt.nI)(o,t.decimals),a=!0}return{fromAmount:n,isFromAmountMax:a}}(t),u=t.currentSwap.amountOut??"0",m=rt(t).addressByChain.ton,p=t.currentSwap.inputSource===_n.In?{fromAmount:l}:{toAmount:u},f=Ut(t),h=f<(0,Lt.UH)(t.currentSwap.networkFee??"0",r.decimals),g=await(0,a.p)("swapEstimate",t.currentAccountId,{...p,from:i,to:s,slippage:t.currentSwap.slippage,fromAddress:m,shouldTryDiesel:h,isFromAmountMax:d,toncoinBalance:(0,Lt.nI)(f??0n,e.Tu9.decimals)});if(t=Ve(),!g||"error"in g){const e=lu[null==g?void 0:g.error]??xn.UnexpectedError;return{...Yl(t),errorType:e}}const v="0"===g.toAmount&&h?xn.NotEnoughForFee:void 0,w=function(e){return[{...(0,c.Up)(e,["fromAmount","toAmount","toMinAmount","impact","dexLabel","networkFee","realNetworkFee","swapFee","swapFeePercent","ourFee","dieselFee","networkFee"])},...e.other??[]].sort(((e,t)=>e.dexLabel.localeCompare(t.dexLabel)))}(g),y=function(e,t,n){var a;if(0===t.length)throw new Error("Unexpected empty `newEstimates` array");const{tokenInSlug:o,currentDexLabel:r,isDexLabelChanged:i}=e.currentSwap;if(r&&i){const e=t.find((e=>{let{dexLabel:t}=e;return t===r}));if(e)return e}const s=o?e.swapTokenInfo.bySlug[o]:void 0,c=o?Rt(e,o):void 0,l=o?null===(a=zn(Gn(o)))||void 0===a?void 0:a.nativeToken:void 0,d=l&&Rt(e,l.slug);let u=t.filter((e=>function(e){var t;if(!e.tokenIn||void 0===e.nativeTokenInBalance)return;const n=null===(t=zn(Gn(e.tokenIn.slug)))||void 0===t?void 0:t.nativeToken;if(!n)return;const a=(0,Lt.UH)(e.variant.networkFee,n.decimals);if(e.nativeTokenInBalance>=a)return!0;if(e.variant.dieselFee){if(void 0===e.tokenInBalance)return;const t=(0,Lt.UH)(e.variant.dieselFee,e.tokenIn.decimals);if(e.tokenInBalance>=t)return!0}return!1}({variant:e,tokenIn:s,tokenInBalance:c,nativeTokenInBalance:d})));return 0===u.length&&(u=t),u.find((e=>{let{dexLabel:t}=e;return t===n}))??u[0]}(t,w,g.dexLabel);return{...Yl(t),...t.currentSwap.inputSource===_n.In?{amountOut:y.toAmount}:{amountIn:y.fromAmount},...d?{amountIn:y.fromAmount}:void 0,bestRateDexLabel:g.dexLabel,amountOutMin:y.toMinAmount,priceImpact:y.impact,errorType:v,dieselStatus:g.dieselStatus,estimates:w,currentDexLabel:y.dexLabel,networkFee:y.networkFee,realNetworkFee:y.realNetworkFee,swapFee:y.swapFee,swapFeePercent:y.swapFeePercent,ourFee:y.ourFee,ourFeePercent:g.ourFeePercent,dieselFee:y.dieselFee}}(t):async function(t,n){var o;const r=t.swapTokenInfo.bySlug[t.currentSwap.tokenInSlug],i=t.swapTokenInfo.bySlug[t.currentSwap.tokenOutSlug],s=Pd(r),c=Pd(i),l=t.currentSwap.amountIn??"0",d=ra(t),u=await(0,a.p)("swapCexEstimate",{fromAmount:l,from:s,to:c});if(n())return;if(t=Ve(),!u)return{...Yl(t),errorType:window.navigator.onLine?xn.InvalidPair:xn.UnexpectedError};if("error"in u){const{error:e}=u;return e.includes("requests limit")?"rateLimited":{...Yl(t),errorType:xn.UnexpectedError}}const m=null===(o=t.accounts)||void 0===o?void 0:o.byId[t.currentAccountId];let p,f;if(d===Dn.CrosschainFromWallet){if("ton"!==r.chain&&"tron"!==r.chain)throw new Error(`Unexpected chain ${r.chain}`);const n={ton:m.addressByChain.ton,tron:e.jt9}[r.chain],o=await(0,a.p)("checkTransactionDraft",r.chain,{accountId:t.currentAccountId,toAddress:n,tokenAddress:r.tokenAddress});o&&({networkFee:p,realNetworkFee:f}=function(e,t){const n=Yn(t);let a,o;return void 0!==(null==e?void 0:e.fee)&&(a=(0,Lt.nI)(e.fee,n.decimals)),void 0!==(null==e?void 0:e.realFee)&&(o=(0,Lt.nI)(e.realFee,n.decimals)),{networkFee:a,realNetworkFee:o}}(o,r.chain))}return{...Yl(t),amountOut:"0"===u.toAmount?void 0:u.toAmount,limits:{fromMin:u.fromMin,fromMax:u.fromMax},swapFee:u.swapFee,networkFee:p,realNetworkFee:f,ourFee:"0",ourFeePercent:0,dieselStatus:"not-available",amountOutMin:u.toAmount,errorType:(0,Ot.z)(l).lt(u.fromMin)?xn.ChangellyMinSwap:(0,Ot.z)(l).gt(u.fromMax)?xn.ChangellyMaxSwap:void 0}}(t,n):Yl(t)})(t,(()=>{const e=Ve();return Kl(e)||!n(e)})),r=Ve();if(!n(r))return;if("rateLimited"===o)return;ze(Ql(r,{isEstimating:!1,...Kl(r)?void 0:o}))}finally{uu=!1}}()})),qe("setSwapScreen",((e,t,n)=>{let{state:a}=n;a===Bn.Initial&&(e=Ql(e,{swapId:(0,we.A)()})),e=Ql(e,{state:a}),ze(e)})),qe("clearSwapError",(e=>{e=Ql(e,{error:void 0}),ze(e)})),qe("setSwapCexAddress",((e,t,n)=>{let{toAddress:a}=n;e=Ql(e,{toAddress:a}),ze(e)})),qe("updatePendingSwaps",(async e=>{const t=e.currentAccountId;if(!t)return;let{activities:n}=ct(e,t)??{};if(!n)return;const o=Object.values(n.byId).filter((e=>Boolean("swap"===e.kind&&"pending"===e.status&&e.cex))).map((e=>{let{id:t}=e;return nn(t).hash}));if(!o.length)return;const r=await(0,a.p)("fetchSwaps",t,o);if(null==r||!r.swaps.length)return;const{swaps:i,nonExistentIds:s}=r;if((e=Ve()).currentAccountId!==t)return;({activities:n}=ct(e,t)??{});for(const e of r.swaps)e.isCanceled&&(e.shouldHide=!0);const l={};for(const e of s)l[e]={...n.byId[e],status:"expired",shouldHide:!0};e=Rl(e,t,{activities:{...n,byId:{...n.byId,...l,...(0,c.dU)(i,"id")}}}),ze(e)})),qe("setSwapDex",((e,t,n)=>{let{dexLabel:a}=n;const{estimates:o,bestRateDexLabel:r}=e.currentSwap,i=(o||[]).find((e=>e.dexLabel===a));i&&(e=Ql(e,{amountIn:i.fromAmount,amountOut:i.toAmount,amountOutMin:i.toMinAmount,networkFee:i.networkFee,realNetworkFee:i.realNetworkFee,swapFee:i.swapFee,swapFeePercent:i.swapFeePercent,ourFee:i.ourFee,dieselFee:i.dieselFee,priceImpact:i.impact,currentDexLabel:a,isDexLabelChanged:a!==r||void 0},!0),ze(e))}));let uu=!1;qe("loadPriceHistory",(async(e,t,n)=>{const{slug:o,period:r,currency:i=e.settings.baseCurrency}=n??{},s=await(0,a.p)("fetchPriceHistory",o,r,i);s&&(e=function(e,t,n){const{bySlug:a}=e.tokenPriceHistory;return{...e,tokenPriceHistory:{bySlug:{...a,[t]:{...a[t],...n}}}}}(e=Ve(),o,{[r]:s}),ze(e))})),qe("submitTransferInitial",(async(e,t,o)=>{if(n.KI)return void Al("submitTransferInitial",o);const{tokenSlug:r,toAddress:i,comment:s,shouldEncrypt:c,nfts:l,withDiesel:d,stateInit:u,isGaslessWithStars:m,binPayload:p}=o;let{amount:f}=o;ze(nd(e,!0));const h=Boolean(null==l?void 0:l.length);let g;if(h)f=0n,g=await(0,a.p)("checkNftTransferDraft",{accountId:e.currentAccountId,nfts:l,toAddress:i,comment:s});else{const{tokenAddress:t,chain:n}=$t(e,r);g=await(0,a.p)("checkTransactionDraft",n,{accountId:e.currentAccountId,tokenAddress:t,toAddress:i,amount:f,data:p??s,shouldEncrypt:c,stateInit:u,isBase64Data:Boolean(p),allowGasless:!0})}var v,w;e=nd(e=Ve(),!1),g&&(e=Jl(e,g)),g&&!("error"in g)?ze(Zl(e,{state:Sn.Confirm,error:void 0,toAddress:i,resolvedAddress:g.resolvedAddress,amount:f,comment:s,shouldEncrypt:c,tokenSlug:r,isToNewAddress:g.isToAddressNew,withDiesel:d,isGaslessWithStars:m})):(ze(e),(null===(v=g)||void 0===v?void 0:v.error)!==Ta.KL.InsufficientBalance||h?t.showError({error:null===(w=g)||void 0===w?void 0:w.error}):t.showDialog({message:"The network fee has slightly changed, try sending again."}))})),qe("fetchTransferFee",(async(t,n,o)=>{var r;t=Zl(t,{isLoading:!0,error:void 0}),ze(t);const{tokenSlug:i,toAddress:s,comment:c,shouldEncrypt:l,binPayload:d,stateInit:u}=o,{tokenAddress:m,chain:p}=$t(t,i),f=await(0,a.p)("checkTransactionDraft",p,{accountId:t.currentAccountId,toAddress:s,data:d??c,tokenAddress:m,shouldEncrypt:l,isBase64Data:Boolean(d),stateInit:u,allowGasless:!0});if(!(i!==(t=Ve()).currentTransfer.tokenSlug||null!==(r=t.currentTransfer.nfts)&&void 0!==r&&r.length)&&(t=Zl(t,{isLoading:!1}),f&&(t=Jl(t,f)),ze(t),null!=f&&f.error&&f.error!==Ta.KL.InsufficientBalance&&n.showError({error:f.error}),(null==f?void 0:f.error)===Ta.KL.InsufficientBalance)){const n=rt(t),a=Ft(t),{chain:o}=$t(t,i);(function(t,n,a){return!(!t.importedAt||Date.now()-t.importedAt>Ba.dp)&&"tron"===a&&n.some((t=>t.slug===e.QSz||"tron"===t.chain&&t.amount>0n&&t.slug!==e.X7T.slug))})(n,a,o)&&(t=Pl(t=Zl(t=Ve(),{shouldShowScamWarning:!0}),t.currentAccountId,{importedAt:void 0}),ze(t))}})),qe("fetchNftFee",(async(e,t,n)=>{var o;const{toAddress:r,nfts:i,comment:s}=n;e=Zl(e,{isLoading:!0,error:void 0}),ze(e);const c=await(0,a.p)("checkNftTransferDraft",{accountId:e.currentAccountId,nfts:i,toAddress:r,comment:s});null!==(o=(e=Ve()).currentTransfer.nfts)&&void 0!==o&&o.length&&(e=Zl(e,{isLoading:!1}),c&&(e=Jl(e,c)),ze(e),null!=c&&c.error&&t.showError({error:(null==c?void 0:c.error)===Ta.KL.InsufficientBalance?"Insufficient TON for fee.":c.error}))})),qe("submitTransferPassword",(async(t,n,o)=>{var r,i;let{password:s}=o;const{resolvedAddress:c,comment:l,amount:d,promiseId:u,tokenSlug:m,shouldEncrypt:p,binPayload:f,nfts:h,withDiesel:g,diesel:v,stateInit:w,isGaslessWithStars:y}=t.currentTransfer;if(!await(0,a.p)("verifyPassword",s))return void ze(Zl(Ve(),{error:"Wrong password, please try again."}));if(t=Ve(),t=Zl(Ve(),{isLoading:!0,error:void 0}),Yc()&&(t=Dl(t)),ze(t),await tl(!0),u)return Yc()&&(t=Dl(t=Ve()),ze(t)),void(0,a.p)("confirmDappRequest",u,s);const b=ca(t.currentTransfer),E=null===(r=b.fullFee)||void 0===r?void 0:r.nativeSum,k=null===(i=b.realFee)||void 0===i?void 0:i.nativeSum;let C;if(null!=h&&h.length){const n=[];for(let t=0;t<h.length;t+=e.gR8)n.push(h.slice(t,t+e.gR8));for(const e of n){const n=await(0,a.p)("submitNftTransfers",t.currentAccountId,s,e,c,l,k&&(0,sa.fC)(k,h.length/e.length));t=Zl(t=Ve(),{sentNftsCount:(t.currentTransfer.sentNftsCount||0)+e.length}),ze(t),C=n}}else{const{tokenAddress:e,chain:n}=$t(t,m),o={accountId:t.currentAccountId,password:s,toAddress:c,amount:d,comment:f??l,tokenAddress:e,fee:E,realFee:k,shouldEncrypt:p,isBase64Data:Boolean(f),withDiesel:g,dieselAmount:v&&da(v),stateInit:w,isGaslessWithStars:y};C=await(0,a.p)("submitTransfer",n,o)}var N;t=Zl(t=Ve(),{isLoading:!1}),ze(t),!C||"error"in C?(Yc()&&(t=Ll(t=Ve()),ze(t)),el(),n.showError({error:null===(N=C)||void 0===N?void 0:N.error})):tl()})),qe("submitTransferHardware",(async(e,t)=>{var n;const{toAddress:o,resolvedAddress:r,comment:s,amount:c,promiseId:l,tokenSlug:d,rawPayload:u,parsedPayload:m,stateInit:p,nfts:f}=e.currentTransfer,h=e.currentAccountId;ze(Zl(Ve(),{isLoading:!0,error:void 0,state:Sn.ConfirmHardware}));const g=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876));if(l){const e={toAddress:o,amount:c,rawPayload:u,payload:m,stateInit:p};try{const t=await g.signLedgerTransactions(h,[e]);(0,a.p)("confirmDappRequest",l,t)}catch(e){e instanceof Yd.KB?ze(Zl(Ve(),{isLoading:!1,error:"Canceled by the user"})):(0,a.p)("cancelDappRequest",l,"Unknown error.")}return}const v=null===(n=ca(e.currentTransfer).realFee)||void 0===n?void 0:n.nativeSum;let w,y;if(null!=f&&f.length)for(const t of f){const n=await g.submitLedgerNftTransfer({accountId:e.currentAccountId,nftAddress:t.address,password:"",toAddress:r,comment:s,nft:t,realFee:v&&v/BigInt(f.length)});e=Zl(e=Ve(),{sentNftsCount:(e.currentTransfer.sentNftsCount||0)+1}),ze(e),w=n}else{const t=Ht(e,d),n={accountId:e.currentAccountId,password:"",toAddress:r,amount:c,comment:s,tokenAddress:t,realFee:v};try{w=await g.submitLedgerTransfer(n,d)}catch(e){e instanceof Yd.bS&&(y="$hardware_blind_sign_not_enabled")}}y||void 0!==w?"object"==typeof w&&"error"in w&&t.showError({error:w.error}):y="Declined",ze(Zl(Ve(),{isLoading:!1,error:y}))})),qe("cancelTransfer",(function(e,t){let{shouldReset:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{promiseId:o,tokenSlug:r}=e.currentTransfer;if(n)return o&&(0,a.p)("cancelDappRequest",o,"Canceled by the user"),e=Zl(e=ed(e),{tokenSlug:r}),void ze(e);Yc()&&(e=Ll(e)),e=Zl(e,{state:Sn.None}),ze(e)})),qe("fetchTransferDieselState",(async(e,t,n)=>{let{tokenSlug:o}=n;const r=Ht(e,o);if(!r)return;const i=await(0,a.p)("fetchEstimateDiesel",e.currentAccountId,r);if(!i)return;const s=ct(e=Ve(),e.currentAccountId);e=td(e,Zl(e,{diesel:i})),null!=s&&s.isDieselAuthorizationStarted&&"not-authorized"!==i.status&&(e=Rl(e,e.currentAccountId,{isDieselAuthorizationStarted:void 0})),ze(e)})),qe("checkTransferAddress",(async(e,t,n)=>{let{address:o}=n;if(!o)return e=Zl(e,{toAddressName:void 0,resolvedAddress:void 0}),void ze(e);const r=ot(e),i=await(0,a.p)("getAddressInfo",r,o);e=Zl(e=Ve(),!i||"error"in i?{toAddressName:void 0,resolvedAddress:void 0}:{toAddressName:i.addressName,resolvedAddress:i.resolvedAddress}),ze(e)}));const mu=n.KI?100:0;function pu(t,n){const{currentAccountId:a,currentMintCard:o}=t,{config:r}=ct(t,a),{cardsInfo:i}=r,s=i[o.type];return{accountId:a,password:n,toAddress:e.lnc,amount:(0,Lt.UH)(s.price,e.Tu9.decimals),comment:e.sml}}function fu(e,t,n){if(e=Ad(e,{isLoading:!1}),ze(e),n)return Yc()&&(e=Ll(e=Ve()),ze(e)),el(),void Ke().showError({error:n});tl(),e=Rl(e=Ad(e=Ve(),{state:Rn.Done}),t,{isCardMinting:!0}),ze(e)}qe("burnNfts",((t,n,a)=>{let{nfts:o}=a;n.startTransfer({isPortrait:si(),nfts:o});const r=o.some((t=>t.collectionAddress===e.KmP));setTimeout((()=>{n.submitTransferInitial({tokenSlug:e.Tu9.slug,amount:0n,toAddress:r?e.WVU[0]:e.pV9,nfts:o})}),mu)})),qe("addNftsToBlacklist",((e,t,n)=>{let{addresses:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=st(e)||{};return o=(0,c.Hl)(o,a),r=(0,c.Hl)(r,a),Fl(e,{blacklistedNftAddresses:[...o,...a],whitelistedNftAddresses:r})})),qe("addNftsToWhitelist",((e,t,n)=>{let{addresses:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=st(e)||{};return o=(0,c.Hl)(o,a),r=(0,c.Hl)(r,a),Fl(e,{blacklistedNftAddresses:o,whitelistedNftAddresses:[...r,...a]})})),qe("removeNftSpecialStatus",((e,t,n)=>{let{address:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=st(e)||{};return o=o.filter((e=>e!==a)),r=r.filter((e=>e!==a)),Fl(e,{blacklistedNftAddresses:o,whitelistedNftAddresses:r})})),qe("openUnhideNftModal",((e,t,n)=>{let{address:a,name:o}=n;return Fl(e,{isUnhideNftModalOpen:!0,selectedNftToUnhide:{address:a,name:o}})})),qe("closeUnhideNftModal",(e=>Fl(e,{isUnhideNftModalOpen:void 0,selectedNftToUnhide:void 0}))),qe("openHideNftModal",((e,t,n)=>{let{addresses:a,isCollection:o}=n;return Fl(e,{selectedNftsToHide:{addresses:a,isCollection:o}})})),qe("closeHideNftModal",(e=>Fl(e,{selectedNftsToHide:void 0}))),qe("openNftAttributesModal",((e,t,n)=>{let{nft:a}=n;return Fl(e,{currentNftForAttributes:a})})),qe("closeNftAttributesModal",(e=>Fl(e,{currentNftForAttributes:void 0}))),qe("submitClaimingVesting",(async(t,o,r)=>{let{password:i}=r;const s=t.currentAccountId;if(!await(0,a.p)("verifyPassword",i))return void ze(Sd(Ve(),s,{error:"Wrong password, please try again."}));if(t=Ve(),Yc()&&(t=Dl(t)),t=Sd(t,s,{isLoading:!0,error:void 0}),ze(t),await tl(!0),n.bA)return void Sl("submitClaimingVesting",{password:i});const c=bt(t=Ve(),s),l={accountId:t.currentAccountId,password:i,toAddress:e.OKZ,amount:e.aEZ,comment:e.ZYg},d=await(0,a.p)("submitTransfer","ton",l);if(t=Sd(t=Ve(),s,{isLoading:!1}),ze(t),!d||"error"in d)return Yc()&&(t=Ll(t=Ve()),ze(t)),el(),void o.showError({error:null==d?void 0:d.error});tl(),t=Sd(t=Ve(),s,{isConfirmRequested:void 0,unfreezeRequestedIds:c}),ze(t),o.openVestingModal()})),qe("submitClaimingVestingHardware",(async(t,n)=>{t=Sd(t,t.currentAccountId,{isLoading:!0,error:void 0,unfreezeState:Mn.ConfirmHardware}),ze(t);const a=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),o=(t=Ve()).currentAccountId,r=bt(t,o),s={accountId:o,password:"",toAddress:e.OKZ,amount:e.aEZ,comment:e.ZYg},c=await a.submitLedgerTransfer(s,e.Tu9.slug);t=Sd(t=Ve(),o,{isLoading:!1}),ze(t),c?(t=Sd(t=Ve(),o,{isConfirmRequested:void 0,unfreezeRequestedIds:r}),ze(t),n.openVestingModal()):n.showError({error:Ta.QD.Unexpected})})),qe("loadMycoin",((t,n)=>{const{isTestnet:a}=t.settings;n.importToken({address:a?e.GX2.minterAddress:e.oUU.minterAddress})})),qe("submitMintCard",(async(e,t,n)=>{let{password:o}=n;const r=e.currentAccountId;if(!await(0,a.p)("verifyPassword",o))return void ze(Ad(Ve(),{error:"Wrong password, please try again."}));e=Ve(),Yc()&&(e=Dl(e)),e=Ad(e,{isLoading:!0,error:void 0}),ze(e),await tl(!0);const i=pu(Ve(),o),s=await(0,a.p)("submitTransfer","ton",i),c=!s||"error"in s?(null==s?void 0:s.error)??Ta.QD.Unexpected:void 0;fu(Ve(),r,c)})),qe("submitMintCardHardware",(async t=>{const n=t.currentAccountId;t=Ad(t,{isLoading:!0,error:void 0,state:Rn.ConfirmHardware}),ze(t);const a=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),o=pu(Ve(),""),r=await a.submitLedgerTransfer(o,e.Tu9.slug)?void 0:Ta.QD.Unexpected;fu(Ve(),n,r)})),qe("checkCardNftOwnership",(t=>{if(n.bA||e.TI6)return;const{byAccountId:o}=t.settings;Object.entries(o).forEach((async e=>{var t,n;let[o,r]=e;const i=null===(t=r.cardBackgroundNft)||void 0===t?void 0:t.address,s=null===(n=r.accentColorNft)||void 0===n?void 0:n.address;if(!i&&!s)return;const c=[i?(0,a.p)("checkNftOwnership",o,i):void 0,s&&s!==i?(0,a.p)("checkNftOwnership",o,s):void 0],[l,d]=await Promise.all(c);let u=Ve();i&&!1===l&&(u=Wl(u,o,{cardBackgroundNft:void 0})),s&&(s===i&&!1===l||s!==i&&!1===d)&&(u=Wl(u,o,{accentColorNft:void 0,accentColorIndex:void 0})),ze(u)}))}));var hu=i(9705);function gu(e,t){let n=new hu.A;return function(){return n.resolve(e),n=new hu.A,Promise.race([t(...arguments),n.promise])}}function vu(e,t){const n=e.pushNotifications.enabledAccounts,{[t]:a,...o}=n;return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:o}}}function wu(e){return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:{}}}}function yu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a={...e.pushNotifications.enabledAccounts,[t]:n};return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:a}}}const bu=gu({aborted:!0},(e=>(0,a.p)("subscribeNotifications",e))),Eu=gu({aborted:!0},(e=>(0,a.p)("unsubscribeNotifications",e)));function ku(e,t,n,a){if(e=n(e,{isLoading:!1,state:a,...1===t.length&&"string"==typeof t[0]?{txId:t[0]}:void 0}),ze(e),t.some((e=>"string"!=typeof e)))return Yc()&&(e=Ll(e=Ve()),ze(e)),el(),void Ke().showError({error:"Failed to process domain operation. Please try again."});tl()}function Cu(e,t,n){return e=t(e,{isLoading:!0,error:void 0,state:n}),ze(e),Ve()}async function Nu(e,t,n){return await(0,a.p)("verifyPassword",t)?(e=Ve(),Yc()&&(e=Dl(e)),e=("renewal"===n?Td:Id)(e,{isLoading:!0,error:void 0}),ze(e),await tl(!0),!0):(ze(("renewal"===n?Td:Id)(Ve(),{error:"Wrong password, please try again."})),!1)}qe("registerNotifications",(async(t,n,o)=>{let{userToken:r,platform:i}=o;const{pushNotifications:s}=t;let c,l=Object.keys(s.enabledAccounts);const d=tt(t)||{};if(s.userToken||Ge(d))s.userToken!==r&&l.length&&([c]=await Promise.all([(0,a.p)("subscribeNotifications",{userToken:r,platform:i,addresses:Object.values(xc(t,l))}),(0,a.p)("unsubscribeNotifications",{userToken:s.userToken,addresses:Object.values(xc(t,l))})]));else{const n=xc(t,Object.keys(d),e.vdF);l=Object.keys(n),c=await(0,a.p)("subscribeNotifications",{userToken:r,platform:i,addresses:Object.values(n)})}if(t=Ve(),t={...t,pushNotifications:{...t.pushNotifications,userToken:r,platform:i}},!c||"error"in c)return void ze(t);const u=l.reduce(((e,t)=>{const n=d[t].addressByChain.ton;return n&&(e[t]=c.addressKeys[n]),e}),{});ze({...t,pushNotifications:{...t.pushNotifications,enabledAccounts:u}})})),qe("deleteNotificationAccount",(async(e,t,n)=>{let{accountId:o,withAbort:r}=n;const{userToken:i,enabledAccounts:s}=e.pushNotifications,c=s[o];if(!i)return;ze(vu(e,o));const l=Object.values(xc(e,[o]));if(0===l.length)return;const d={userToken:i,addresses:l},u=r?await Eu(d):await(0,a.p)("unsubscribeNotifications",d);u&&"aborted"in u||(e=Ve(),ze(u&&"ok"in u?vu(e,o):yu(e,o,c)))})),qe("createNotificationAccount",(async(e,t,n)=>{let{accountId:o,withAbort:r}=n;const{userToken:i,platform:s}=e.pushNotifications;if(!i||!s)return;const c=Object.values(xc(e,[o]));if(!c.length)return;ze(yu(e,o,{}));const l={userToken:i,platform:s,addresses:c},d=r?await bu(l):await(0,a.p)("subscribeNotifications",l);d&&"aborted"in d||(e=Ve(),ze(d&&"ok"in d?function(e,t,n){const a=e.pushNotifications.enabledAccounts;return a[t]={...a[t],...n},{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:a}}}(e,o,d.addressKeys[c[0].address]):vu(e,o)))})),qe("toggleNotifications",(async(t,n,a)=>{let{isEnabled:o}=a;const{enabledAccounts:r={},userToken:i="",platform:s,isAvailable:c}=t.pushNotifications;if(!c)return;let l;if(o){l=xc(t,Object.keys(tt(t)||{}),e.vdF);for(const e of Object.keys(l))t=yu(t,e,{})}else l=xc(t,Object.keys(r)),t=wu(t);if(ze(t),Ge(l))return;const d={userToken:i,addresses:Object.values(l),platform:s},u=o?await bu(d):await Eu(d);if(!u||!("aborted"in u))if(t=Ve(),u&&"ok"in u){if(o&&"addressKeys"in u){const e=u.addressKeys;for(const[n,{address:a}]of Object.entries(l))e[a]&&(t=yu(t,n,e[a]))}ze(t)}else{if(o)t=wu(t);else for(const e of Object.keys(l))t=yu(t,e,r[e]);ze(t)}})),qe("fetchActivityDetails",(async(e,t,n)=>{var o;let{id:r}=n;const i=e.currentAccountId,s=null===(o=ct(e,i))||void 0===o||null===(o=o.activities)||void 0===o?void 0:o.byId[r];if(null==s||!s.shouldLoadDetails)return;const c=await(0,a.p)("fetchTonActivityDetails",i,s);c&&(e=function(e,t,n){const{id:a}=n,{activities:o}=ct(e,t)||{},{byId:r}=o??{};return r&&a in r?Rl(e,t,{activities:{...o,byId:{...r,[a]:n}}}):e}(Ve(),i,c),ze(e))})),qe("checkDomainsRenewalDraft",(async(e,t,n)=>{let{nfts:o}=n;const r=e.currentAccountId,i=await(0,a.p)("checkDnsRenewalDraft",r,o);i&&!("error"in i)?(e=Td(e=Ve(),{realFee:i.realFee}),ze(e)):t.showError({error:null==i?void 0:i.error})})),qe("submitDomainsRenewal",(async(e,t,n)=>{var o;let{password:r}=n;const i=e.currentAccountId,s=null===(o=st(e))||void 0===o||null===(o=o.nfts)||void 0===o?void 0:o.byAddress;if(!s)return;if(!await Nu(e,r,"renewal"))return;const c=(e=Ve()).currentDomainRenewal.addresses,l=e.currentDomainRenewal.realFee,d=c.map((e=>s[e])).filter(Boolean);if(!d.length)return;const u=await(0,a.p)("submitDnsRenewal",i,r,d,l)??[void 0];ku(Ve(),u.map((e=>e&&"activityIds"in e?e.activityIds[0]:e)),Td,Tn.Complete)})),qe("submitDomainsRenewalHardware",(async e=>{var t;const n=e.currentAccountId,a=null===(t=st(e))||void 0===t||null===(t=t.nfts)||void 0===t?void 0:t.byAddress;if(!a)return;e=Cu(e,Td,Tn.ConfirmHardware);const{realFee:o,addresses:r}=e.currentDomainRenewal,s=r.map((e=>a[e])).filter(Boolean),c=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),l=[];for(const e of s){const t=await c.submitLedgerDnsRenewal(n,e,o/BigInt(s.length));l.push(t)}ku(Ve(),l,Td,Tn.Complete)})),qe("checkDomainLinkingDraft",(async(e,t,n)=>{let{nft:o}=n;const r=e.currentAccountId,i=rt(e).addressByChain.ton,s=await(0,a.p)("checkDnsChangeWalletDraft",r,o,i);s&&!("error"in s)?(e=Id(e=Ve(),{realFee:s.realFee}),ze(e)):t.showError({error:null==s?void 0:s.error})})),qe("submitDomainLinking",(async(e,t,n)=>{var o;let{password:r}=n;const i=e.currentAccountId,s=ot(e),c=null===(o=st(e))||void 0===o||null===(o=o.nfts)||void 0===o?void 0:o.byAddress,l=e.currentDomainLinking.address,d=e.currentDomainLinking.realFee,u=null==c?void 0:c[l],m=e.currentDomainLinking.walletAddress,p=await(0,a.p)("getAddressInfo",s,m);if(p&&"error"in p)return void t.showError({error:p.error});if(!u||!p||"resolvedAddress"in p&&!p.resolvedAddress)return;if(!await Nu(e,r,"linking"))return;const f=await(0,a.p)("submitDnsChangeWallet",i,r,u,p.resolvedAddress,d);ku(Ve(),[f&&"activityId"in f?f.activityId:f],Id,In.Complete)})),qe("submitDomainLinkingHardware",(async(e,t)=>{var n;const o=e.currentAccountId,r=ot(e),s=null===(n=st(e))||void 0===n||null===(n=n.nfts)||void 0===n?void 0:n.byAddress,c=null==s?void 0:s[e.currentDomainLinking.address],l=e.currentDomainLinking.walletAddress,d=await(0,a.p)("getAddressInfo",r,l);if(e=Ve(),d&&"error"in d)return void t.showError({error:d.error});if(!c||!d||"resolvedAddress"in d&&!d.resolvedAddress)return;e=Cu(e,Id,In.ConfirmHardware);const{realFee:u}=e.currentDomainLinking,m=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),p=await m.submitLedgerDnsChangeWallet(o,c,d.resolvedAddress,u);ku(Ve(),[p],Id,In.Complete)})),qe("checkLinkingAddress",(async(e,t,n)=>{let{address:o}=n;if(!o)return e=Id(e,{walletAddressName:void 0,resolvedWalletAddress:void 0}),void ze(e);const r=ot(e),i=await(0,a.p)("getAddressInfo",r,o);e=Id(e=Ve(),!i||"error"in i?{walletAddressName:void 0,resolvedWalletAddress:void 0}:{walletAddressName:i.addressName,resolvedWalletAddress:i.resolvedAddress}),ze(e)})),qe("apiUpdate",((t,a,o)=>{switch(o.type){case"updateBalances":t=function(t,n,a,o){var r,i,s;const c={...o},l=(null===(r=ct(t,n))||void 0===r||null===(r=r.balances)||void 0===r?void 0:r.bySlug)??{};for(const[e,t]of Object.entries(l))Gn(e)!==a&&(c[e]=t);let d=(null===(i=lt(t,n))||void 0===i?void 0:i.importedSlugs)??[];Boolean(null===(s=it(t,n))||void 0===s||null===(s=s.addressByChain)||void 0===s?void 0:s.ton)&&(d=[...d,e.rUK]);for(const e of d)e in c||(c[e]=0n);return Rl(t,n,{balances:{bySlug:c}})}(t,o.accountId,o.chain,o.balances),ze(t);break;case"updateStaking":{var r;const{accountId:n,states:a,totalProfit:i,shouldUseNominators:s}=o,l=(0,c.dU)(a,"id");t=ld(t=function(e,t){return{...e,stakingDefault:t}}(t,{...l[e.USn.id],balance:0n,unstakeRequestAmount:0n,tokenBalance:0n}),n,{stateById:l,shouldUseNominators:s,totalProfit:i});const{stakingId:d}=(null===(r=ct(t,n))||void 0===r?void 0:r.staking)??{};if(!d){const e=[...a].sort(((e,t)=>Number(t.balance-e.balance)))[0];e&&e.balance>0n?t=ld(t,n,{stakingId:e.id}):s&&l.nominators&&(t=ld(t,n,{stakingId:l.nominators.id}))}ze(t);break}case"updateTokens":{const{tokens:n,baseCurrency:a}=o;t=Ul(t=function(t,n){var a;let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=null===(a=t.tokenInfo)||void 0===a?void 0:a.bySlug;return n[e.Tu9.slug].price||(n=Object.values(n).reduce(((e,t)=>{const n=null==r?void 0:r[t.slug];return e[t.slug]={...t,price:(null==n?void 0:n.price)??t.price,priceUsd:(null==n?void 0:n.priceUsd)??t.priceUsd,percentChange24h:(null==n?void 0:n.percentChange24h)??t.percentChange24h},e}),{})),o&&r&&Bl(r,n)?t:{...t,tokenInfo:{...t.tokenInfo,bySlug:{...r,...n}}}}(t,n,!0),{baseCurrency:a}),ze(t);break}case"updateSwapTokens":t=function(e,t){var n;const a=null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug;return{...e,swapTokenInfo:{...e.swapTokenInfo,bySlug:{...a,...t},isLoaded:!0}}}(t,o.tokens),ze(t);break;case"updateNfts":{var i;const{accountId:n}=o,r=(0,c.dU)(o.nfts,"address"),s=null===(i=ct(t=Ve(),n))||void 0===i?void 0:i.nfts;t=Rl(t,n,{nfts:{...s,byAddress:{...r,...null==s?void 0:s.byAddress},orderedAddresses:(0,c.Am)([...Object.keys(r),...(null==s?void 0:s.orderedAddresses)||[]])}}),e.TI6||o.nfts.forEach((n=>{n.collectionAddress===e.qL&&(t=Nd(t,n))})),o.nfts.some((e=>e.isTelegramGift))&&a.addCollectionTab({collectionAddress:e.X6R,isAuto:!0}),ze(t),a.checkCardNftOwnership();break}case"nftSent":{const{accountId:n,nftAddress:r,newOwnerAddress:i}=o,s=Et(t,n,r);t=function(e,t,n){const a=ct(e,t).nfts,o=((null==a?void 0:a.orderedAddresses)??[]).filter((e=>e!==n)),r=((null==a?void 0:a.selectedAddresses)??[]).filter((e=>e!==n)),{[n]:i,...s}=(null==a?void 0:a.byAddress)??{};return Rl(e,t,{nfts:{...a,byAddress:s,orderedAddresses:o,selectedAddresses:r}})}(t,n,r),(null==s?void 0:s.collectionAddress)===e.qL&&(s.ownerAddress=i,t=Nd(t,s)),ze(t),a.checkCardNftOwnership();break}case"nftReceived":{const{accountId:n,nft:r}=o;t=kd(t,n,r),ze(t),e.TI6||(a.checkCardNftOwnership(),r.collectionAddress===e.qL&&(a.setCardBackgroundNft({nft:r}),a.installAccentColorFromNft({nft:r})));break}case"nftPutUpForSale":{const{accountId:e,nftAddress:n}=o;t=Cd(t,e,n,{isOnSale:!0}),ze(t);break}case"updateAccount":{const{accountId:e,chain:n,domain:a,address:r}=o,i=it(t,e);if(!i)break;const s={};r&&(s.addressByChain={...i.addressByChain,[n]:r}),!1!==a&&(s.domainByChain={...i.domainByChain,[n]:a}),t=Pl(t,e,s),ze(t);break}case"updateConfig":{const{isLimited:a,isCopyStorageEnabled:r,supportAccountsCount:i,countryCode:s,isAppUpdateRequired:c}=o,l=n.ZH&&a||e.TI6;t=function(e,t){return{...e,restrictions:{...e.restrictions,...t}}}(t,{isLimitedRegion:a,isSwapDisabled:l,isOnRampDisabled:l,isNftBuyingDisabled:l,isCopyStorageEnabled:r,supportAccountsCount:i,countryCode:s}),t={...t,isAppUpdateRequired:e.TI6?void 0:c},ze(t);break}case"updateWalletVersions":n.KI&&Al("apiUpdateWalletVersions",o),a.apiUpdateWalletVersions(o);break;case"openUrl":ec(o.url,{isExternal:o.isExternal,title:o.title,subtitle:o.subtitle});break;case"requestReconnectApi":a.initApi();break;case"incorrectTime":t.isIncorrectTimeNotificationReceived||a.showIncorrectTimeError();break;case"updateVesting":{const{accountId:e,vestingInfo:n}=o,a=bt(t,e);t=function(e,t,n){return Sd(e,t,{info:n})}(t,e,n),Il(a,bt(t,e))||(t=Sd(t,e,{unfreezeRequestedIds:void 0})),ze(t);break}case"updatingStatus":{const{kind:e,accountId:n,isUpdating:a}=o,r="balance"===e?"balanceUpdateStartedAt":"activitiesUpdateStartedAt",i=ct(t,n);if(a&&null!=i&&i[r])break;ze(Rl(t,n,{[r]:a?Date.now():void 0}));break}case"migrateCoreApplication":{const{accountId:e,isTestnet:n,address:r,secondAddress:i,secondAccountId:s,isTonProxyEnabled:c,isTonMagicEnabled:l}=o;t=Ol({global:t=Ul(t,{isTestnet:n}),accountId:e,type:"mnemonic",addressByChain:{ton:r}}),t=Ol({global:t,accountId:s,type:"mnemonic",addressByChain:{ton:i},network:n?"mainnet":"testnet"}),ze(t),requestAnimationFrame((()=>{a.tryAddNotificationAccount({accountId:e}),a.switchAccount({accountId:e,newNetwork:n?"testnet":"mainnet"}),a.afterSignIn(),l&&a.toggleTonMagic({isEnabled:!0}),c&&a.toggleTonProxy({isEnabled:!0})}));break}case"updateAccountConfig":{const{accountConfig:e,accountId:n}=o;t=Rl(t,n,{config:e}),ze(t);break}case"updateAccountDomainData":{var s;const{accountId:e,expirationByAddress:n,linkedAddressByAddress:a,nfts:r}=o,i=(null===(s=ct(t,e))||void 0===s?void 0:s.nfts)||{byAddress:{}};t=function(e,t,n){var a;if(!n||Ge(n))return e;const{byAddress:o}=(null===(a=ct(e,t))||void 0===a?void 0:a.nfts)||{byAddress:{}};return Object.values(n).forEach((n=>{const a=null==o?void 0:o[n.address];e=a?Cd(e,t,n.address,n):kd(e,t,n,!0)})),e}(t=Rl(t,e,{nfts:{...i,dnsExpiration:n,linkedAddressByAddress:a}}),e,r),ze(t);break}}}));const Su=(0,Sa.F3)("NativeAudio",{web:()=>i.e(477).then(i.bind(i,4477)).then((e=>new e.NativeAudioWeb))}),Au=i.p+"incoming-transaction.4ddd93d8f1ec1c4e2651.mp3",Tu=Ba.Z2,Iu=new(window.AudioContext||window.webkitAudioContext);let Bu,_u=e.UMQ||"running"===Iu.state;function xu(){_u||Iu.resume().then((()=>{_u=!0})).catch((e=>{(0,t.SJ)("appSounds:initializeSounds",e)}))}!async function(){const n={assetId:"incomingTransactionSound",assetPath:"public/incoming-transaction.mp3",audioChannelNum:1,isUrl:!1};if(e.UMQ){if(await Su.isPreloaded(n))return;Su.preload(n).catch((e=>{(0,t.SJ)("appSounds:loadSound",e)}))}else fetch(Au).then((e=>e.arrayBuffer())).then((e=>Iu.decodeAudioData(e))).then((e=>{Bu=e})).catch((e=>{(0,t.SJ)("appSounds:loadSound",e)}))}();const Du=(0,l.sg)((()=>{if(n.bA)return;if(!_u)return void(0,t.MD)("appSounds:playIncomingTransactionSound","sound is not initialized");if(e.UMQ)return void Su.play({assetId:"incomingTransactionSound"}).catch((e=>{(0,t.SJ)("appSounds:playIncomingTransactionSound",e)}));if(!Bu)return void(0,t.MD)("playIncomingTransactionSound","audioBuffer is not loaded");const a=Iu.createBufferSource();a.buffer=Bu,a.connect(Iu.destination),a.start(0)}),Tu,!0,!1);qe("apiUpdate",((t,a,o)=>{switch(o.type){case"initialActivities":{const{accountId:e,mainActivities:n,bySlug:a,chain:r}=o;t=function(e,t,n,a){const o=[...n,...Object.values(a).flat()],{activities:r}=ct(e,t)||{};let{byId:i,idsBySlug:s,idsMain:l,newestActivitiesBySlug:d}=r||{};i={...i,...(0,c.dU)(o,"id")},l=function(e,t,n){if(!e.length&&!t.length)return[];if(!e.length&&t.length)return t;if(!t.length&&e.length)return e;const a=Math.max(n[e[e.length-1]].timestamp,n[t[t.length-1]].timestamp);return(0,c.Am)([...e,...t]).filter((e=>n[e].timestamp>=a)).sort(((e,t)=>Kt(n[e],n[t])))}((0,c.JY)(n,"id"),l??[],i);const u=(0,c.LG)(a,(e=>(0,c.JY)(e,"id")));return s=Ed(s,u,i),d=bd({byId:i,idsBySlug:s,newestActivitiesBySlug:d},Object.keys(u)),Rl(e,t,{activities:{...r,idsMain:l,byId:i,idsBySlug:s,newestActivitiesBySlug:d}})}(t=sd(t,e,!1),e,n,a),r&&(t=wd(t,e,r)),ze(t);break}case"newLocalActivities":{const{accountId:e,activities:n}=o;!function(e,t,n){const a=function(e,t,n){var a;const{byId:o={},idsMain:r=[]}=(null===(a=e.byAccountId[t])||void 0===a?void 0:a.activities)??{},i=[];for(const e of r){if(i.length>=n)break;if(an(e))continue;const t=o[e];t&&i.push(t)}return i}(e,t,n.length+20);for(const e of n)e.shouldHide||=a.some((t=>wn(e,t)))}(t,e,n),t=gd(t,e,n);for(const e of n)"transaction"===e.kind&&-e.amount===t.currentTransfer.amount&&(t=Zl(t,{txId:e.txId,state:Sn.Complete,isLoading:!1}),Yc()&&(t=Ll(t)),jn(e.slug)&&a.fetchTransferDieselState({tokenSlug:e.slug}));ze(t);break}case"newActivities":{n.KI&&!o.noForward&&Al("apiUpdate",{...o,noForward:!0}),n.bA&&!o.noForward&&Sl("apiUpdate",{...o,noForward:!0});const{accountId:a,activities:r,pendingActivities:i,chain:s}=o,c=hn([...bn(t,a),...s?En(t,a,s):[]],[...i??[],...r]);t=vd(t,a,Object.keys(c)),s&&void 0!==i&&(t=function(e,t,n,a){var o;const{pendingActivityIds:r}=(null===(o=ct(e,t))||void 0===o?void 0:o.activities)||{};return gd(e=vd(e,t,(null==r?void 0:r[n])??[]),t,a,n)}(t,a,s,i)),t=function(e,t,n){const{currentActivityId:a}=ct(e,t)||{},o=a&&n[a];return o!==a&&(e=Rl(e,t,{currentActivityId:o})),e}(t=function(e,t){const n=e.currentSwap.activityId,a=n&&t[n];return a!==n&&(e=Ql(e,{activityId:a})),e}(t=function(e,t){const n=e.currentDomainRenewal.txId,a=n&&t[n];return a!==n&&(e=Td(e,{txId:a})),e}(t=function(e,t){const n=e.currentDomainLinking.txId,a=n&&t[n];return a!==n&&(e=Id(e,{txId:a})),e}(t=function(e,t){const n=e.currentTransfer.txId,a=n&&t[n];return a!==n&&(e=Zl(e,{txId:a})),e}(t=gd(t,a,r),c),c),c),c),a,c),function(e,t){if(!e.settings.canPlaySounds)return;t.some((t=>{var n;return"transaction"===t.kind&&t.isIncoming&&!t.isPending&&Date.now()-t.timestamp<6e4&&!(e.settings.areTinyTransfersHidden&&Od(t,null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug[t.slug]))&&!Xt(t)}))&&Du()}(t,r),e.TI6||(t=function(t,n,a){const{isCardMinting:o}=ct(t,n)||{};if(!o||!a.length)return t;const r=a.find((t=>{var n;return"transaction"===t.kind&&t.isIncoming&&(null==t||null===(n=t.nft)||void 0===n?void 0:n.collectionAddress)===e.qL})),i=a.find((t=>"transaction"===t.kind&&t.isIncoming&&t.fromAddress===e.lnc&&(null==t?void 0:t.comment)===e.pyN));if(r){const e=r.nft;t=kd(t=Rl(t,n,{isCardMinting:void 0}),n,e),Ke().setCardBackgroundNft({nft:e}),Ke().installAccentColorFromNft({nft:e})}else i&&(t=Rl(t,n,{isCardMinting:void 0}));return t}(t,a,r)),t=sd(t,a,!1),s&&(t=wd(t,a,s)),ze(t);break}}})),qe("apiUpdate",((t,a,o)=>{switch(o.type){case"createTransaction":{const{promiseId:n,amount:a,toAddress:r,fee:i,realFee:s,comment:c,rawPayload:l,parsedPayload:d,stateInit:u}=o;t=Zl(t=ed(t),{state:Sn.Confirm,toAddress:r,amount:a,fee:i,realFee:s,comment:c,promiseId:n,tokenSlug:e.Tu9.slug,rawPayload:l,parsedPayload:d,stateInit:u}),ze(t);break}case"createSignature":{const{promiseId:e,dataHex:n}=o;t=od(t=function(e){return{...e,currentSignature:void 0}}(t),{promiseId:e,dataHex:n}),ze(t);break}case"showError":{const{error:e}=o;a.showError({error:e});break}case"dappConnect":n.KI&&Al("apiUpdateDappConnect",o),a.apiUpdateDappConnect(o);break;case"dappConnectComplete":t=ud(t),ze(t);break;case"dappDisconnect":{var r;const{url:e}=o;(null===(r=t.currentDappTransfer.dapp)||void 0===r?void 0:r.url)===e&&(t=pd(t),ze(t));break}case"dappLoading":n.KI&&Al("apiUpdateDappLoading",o),a.apiUpdateDappLoading(o);break;case"dappCloseLoading":n.KI&&Al("apiUpdateDappCloseLoading",o),a.apiUpdateDappCloseLoading(o);break;case"dappSendTransactions":n.KI&&Al("apiUpdateDappSendTransaction",o),a.apiUpdateDappSendTransaction(o);break;case"dappSignData":n.KI&&Al("apiUpdateDappSignData",o),a.apiUpdateDappSignData(o);break;case"updateDapps":n.KI&&Al("getDapps"),a.getDapps();break;case"prepareTransaction":{const{amount:n,toAddress:a,comment:r,binPayload:i}=o;t=Zl(t=ed(t),{state:Sn.Initial,toAddress:a,amount:n??0n,comment:r,tokenSlug:e.Tu9.slug,binPayload:i}),ze(t);break}case"processDeeplink":{const{url:e}=o;hc(e);break}case"dappTransferComplete":t.currentDappTransfer.state!==Sn.None&&(t=md(t,{state:Sn.Complete,isLoading:!1}),ze(t));break;case"dappSignDataComplete":t.currentDappSignData.state!==An.None&&(t=fd(t,{state:An.Complete,isLoading:!1}),ze(t))}}));const Lu=[e.dnp,e.zHL,e.zP3];function Ou(e){const t=`animation-level-${e}`;document.documentElement.classList.contains(t)||Lu.forEach((t=>{document.documentElement.classList.toggle(`animation-level-${t}`,t===e)}))}qe("init",((t,a)=>{(0,k.RK)((()=>{const{documentElement:t}=document;n.pz?t.classList.add("is-ios","is-mobile"):n.Ni?(t.classList.add("is-android","is-mobile"),n.xy&&t.classList.add("is-android-app")):n.MP?t.classList.add("is-macos"):n.H8?t.classList.add("is-windows"):n.ig&&t.classList.add("is-linux"),n.Yw&&t.classList.add("is-safari"),n.By&&t.classList.add("is-opera"),e.hL1&&t.classList.add("is-extension"),n.cp&&t.classList.add("is-electron"),e.tKX&&t.classList.add("is-telegram-app"),(0,n.v3)()&&t.classList.add("is-mobile-telegram-app"),n.bA&&t.classList.add("is-native-bottom-sheet"),(0,n.Kc)(),a.afterInit()}))})),qe("afterInit",(n=>{const{theme:a,animationLevel:o,langCode:r,authConfig:i}=n.settings;Xr(a),Ou(o),ei({forceDarkBackground:!1}),br(r),function(){const t=e.CV.replace(/\d+$/,""),n=Number((e.CV.match(/\d+$/)||[0])[0]);for(let e=0;e<n;e++)Zo(`${t}${0===e?"":e}`)}(),e.UMQ?async function(e){const n=!!e&&"native-biometrics"===e.kind,a=await Aa.isAvailable({isWeakAuthenticatorAllowed:n,useFallback:!1});Rc=a.isAvailable,Uc=a.biometryType===Ca.FACE_ID,Wc=a.biometryType===Ca.TOUCH_ID,async function(e){const n=Sa.Ii.isPluginAvailable("PushNotifications");if(ze({...e,pushNotifications:{...e.pushNotifications,isAvailable:n}}),!n)return;await _c.addListener("pushNotificationActionPerformed",Pc),await _c.addListener("registration",Mc),await _c.addListener("registrationError",(e=>{(0,t.SJ)("Registration error: ",e.error)}));let a=await _c.checkPermissions();"prompt-with-rationale"!==a.receive&&("prompt"===a.receive&&(a=await _c.requestPermissions()),"granted"===a.receive&&await _c.register())}(Ve())}(i):(e.tKX&&function(e){e.isFullscreen&&za.requestFullscreen(),za.onEvent("fullscreenChanged",eo),za.onEvent("fullscreenFailed",to)}(n),document.addEventListener("click",xu,{once:!0}))})),qe("afterSignIn",((e,t)=>{ze({...e,appState:kn.Main}),setTimeout((()=>{t.resetAuth(),pc&&(hc(pc),pc=void 0)}),320)})),qe("afterSignOut",((e,t,n)=>{var a;null!=n&&n.shouldReset&&("native-biometrics"===(null===(a=e.settings.authConfig)||void 0===a?void 0:a.kind)&&go(),t.setInMemoryPassword({password:void 0,force:!0}),t.resetApiSettings({areAllDisabled:!0}))})),qe("showDialog",((e,t,n)=>{const a=[...e.dialogs],o=a.findIndex((e=>e.message===n.message));return-1!==o&&a.splice(o,1),a.push(n),{...e,dialogs:a}})),qe("dismissDialog",(e=>{n.KI&&Al("dismissDialog");const t=[...e.dialogs];return t.pop(),{...e,dialogs:t}})),qe("selectToken",(function(t,n){let{slug:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a){const o=a===e.Tu9.slug,r=na(t);(o||null!=r&&r.some((e=>e.slug===a)))&&(o?n.setDefaultSwapParams({tokenInSlug:e.rKC,tokenOutSlug:a}):n.setDefaultSwapParams({tokenOutSlug:a}),n.changeTransferToken({tokenSlug:a}))}else{var o;const a=t.byAccountId[t.currentAccountId].currentTokenSlug,r=t.currentSwap.tokenOutSlug===e.JhS&&t.currentSwap.tokenInSlug===e.rKC;t.currentSwap.tokenOutSlug===a&&(t.currentSwap.tokenInSlug===e.JhS&&t.currentSwap.tokenOutSlug!==e.rKC||r)&&n.setDefaultSwapParams({tokenInSlug:void 0,tokenOutSlug:void 0,withResetAmount:!0}),t.currentTransfer.tokenSlug===a&&t.currentTransfer.tokenSlug!==e.ScF&&(null===(o=t.currentTransfer.nfts)||void 0===o||!o.length)&&n.changeTransferToken({tokenSlug:e.ScF,withResetAmount:!0})}return Fl(t,{currentTokenSlug:a})})),qe("showError",(function(e,t){let{error:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.bA)Sl("showError",{error:a});else switch(a){case Ta.KL.InvalidAmount:t.showDialog({message:"Invalid amount"});break;case Ta.Nu.InvalidAddress:case Ta.KL.InvalidToAddress:t.showDialog({message:"Invalid address"});break;case Ta.KL.StateInitWithoutBin:t.showDialog({message:"$state_init_requires_bin"});break;case Ta.KL.InvalidStateInit:t.showDialog({message:"$state_init_invalid"});break;case Ta.KL.InsufficientBalance:t.showDialog({message:"Insufficient balance"});break;case Ta.Nu.DomainNotResolved:case Ta.KL.DomainNotResolved:t.showDialog({message:"Domain is not connected to a wallet"});break;case Ta.KL.WalletNotInitialized:t.showDialog({message:"Encryption is not possible. The recipient is not a wallet or has no outgoing transactions."});break;case Ta.KL.InvalidAddressFormat:t.showDialog({message:"Invalid address format. Only URL Safe Base64 format is allowed."});break;case Ta.jf.PartialTransactionFailure:t.showDialog({message:"Not all transactions were sent successfully"});break;case Ta.jf.IncorrectDeviceTime:t.showDialog({message:"The time on your device is incorrect, sync it and try again"});break;case Ta.jf.UnsuccesfulTransfer:t.showDialog({message:"Transfer was unsuccessful. Try again later."});break;case Ta.KL.InactiveContract:t.showDialog({message:"$transfer_inactive_contract_error"});break;case Ta.jf.NotSupportedHardwareOperation:t.showDialog({message:"$ledger_not_supported_operation"});break;case Ta.QD.ServerError:t.showDialog({message:window.navigator.onLine?"An error on the server side. Please try again.":"No internet connection. Please check your connection and try again."});break;case Ta.QD.DebugError:t.showDialog({message:"Unexpected error. Please let the support know."});break;case Ta.QD.Unexpected:case void 0:t.showDialog({message:"Unexpected"});break;default:t.showDialog({message:a})}})),qe("showNotification",((e,t,a)=>{if(n.bA)return void Sl("showNotification",a);const{message:o,icon:r}=a,i=[...e.notifications],s=i.findIndex((e=>e.message===o));return-1!==s&&i.splice(s,1),i.push({message:o,icon:r}),{...e,notifications:i}})),qe("dismissNotification",(e=>{const t=[...e.notifications];return t.pop(),{...e,notifications:t}})),qe("toggleTonProxy",((e,t,n)=>{let{isEnabled:o}=n;return(0,a.p)("doProxy",o),{...e,settings:{...e.settings,isTonProxyEnabled:o}}})),qe("toggleTonMagic",((e,t,n)=>{let{isEnabled:o}=n;return(0,a.p)("doMagic",o),{...e,settings:{...e.settings,isTonMagicEnabled:o}}})),qe("toggleDeeplinkHook",((e,t,o)=>{let{isEnabled:r}=o;var i;return n.cp?null===(i=window.electron)||void 0===i||i.toggleDeeplinkHandler(r):(0,a.p)("doDeeplinkHook",r),{...e,settings:{...e.settings,isDeeplinkHookEnabled:r}}})),qe("signOut",(async(e,t,o)=>{var r;n.bA&&Sl("signOut",o);const{level:i}=o,s=ot(e),l=at(e),d=Object.keys(l),u="account"!==i,m="mainnet"===s?"testnet":"mainnet";let p=Object.keys(nt(m,null===(r=e.accounts)||void 0===r?void 0:r.byId));if("all"===i&&p.length>0&&(await(0,a.p)("removeNetworkAccounts",m),p=[]),u||1===d.length)if(t.deleteAllNotificationAccounts({accountIds:d}),p.length){await(0,a.p)("removeNetworkAccounts",s),e=Ve();const n=p[0],o=Object.entries(e.accounts.byId).reduce(((e,t)=>{let[n,a]=t;return(0,Ye.cK)(n).network!==s&&(e[n]=a),e}),{}),r=Object.entries(e.byAccountId).reduce(((e,t)=>{let[n,a]=t;return(0,Ye.cK)(n).network!==s&&(e[n]=a),e}),{}),i=Object.entries(e.settings.byAccountId).reduce(((e,t)=>{let[n,a]=t;return(0,Ye.cK)(n).network!==s&&(e[n]=a),e}),{});e=Vl(e,n),e={...e,accounts:{...e.accounts,byId:o},byAccountId:r,settings:{...e.settings,byAccountId:i}},ze(e),t.switchAccount({accountId:n,newNetwork:m}),t.closeSettings(),t.afterSignOut()}else await(0,a.p)("resetAccounts"),t.afterSignOut({shouldReset:!0}),t.init();else{const n=e.currentAccountId,o=d.find((e=>e!==n)),r=yn(e,o);await(0,a.p)("removeAccount",n,o,r),t.deleteNotificationAccount({accountId:n}),e=Ve();const i=(0,c.cJ)(e.accounts.byId,[n]),s=(0,c.cJ)(e.byAccountId,[n]),l=(0,c.cJ)(e.settings.byAccountId,[n]);e=Vl(e,o),e={...e,accounts:{...e.accounts,byId:i},byAccountId:s,settings:{...e.settings,byAccountId:l}},ze(e),t.afterSignOut()}}));var Pu=i(51);const Mu=(0,Sa.F3)("BarcodeScanner",{web:()=>i.e(215).then(i.bind(i,29215)).then((e=>new e.BarcodeScannerWeb))}),Fu=/^\d+\.\d+(\.\d+)?$/,Ru=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;const[n,a]=ie(e,t);return[n,ue((()=>{a(!0)}),[]),ue((()=>{a(!1)}),[])]};const Uu=new Set(["INPUT","TEXTAREA","SELECT"]),Wu=v();function Hu(e){ce((()=>{if(!e)return;const t=Object.entries(e);return Wu.addCallback((function(e){(function(e){return!(e.target instanceof HTMLElement)||!Uu.has(e.target.tagName)})(e)&&t.forEach((t=>{let[n,a]=t;(function(e){return t=>function(e,t){const{alt:n,ctrl:a,meta:o,mod:r,shift:i,key:s}=e,{altKey:c,ctrlKey:l,metaKey:d,shiftKey:u,key:m}=t;if(n!==c)return!1;if(r){if(!l&&!d)return!1}else{if(a!==l)return!1;if(o!==d)return!1}return i===u&&Boolean(s&&(m.toLowerCase()===s.toLowerCase()||t.code.replace("Key","").toLowerCase()===s.toLowerCase()))}(function(e){const t=e.toLowerCase().split("+").map((e=>e.trim())),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},a=["alt","ctrl","meta","shift","mod"];return{...n,key:t.find((e=>!a.includes(e)))}}(e),t)})(n)(e)&&a(e)}))}))}),[e])}function $u(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=ue(e,t);return de((()=>"number"==typeof n?(0,l.nF)(o,n,!a):(0,l.nb)(n,o)),[o,n,a])}function Vu(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=ue(e,t);return de((()=>(0,l.sg)(r,n,!a,!o)),[r,n,a,o])}function zu(){const{width:e,height:t,screenHeight:n}=Ra(),[a,o]=ie(e),[r,i]=ie(t),[s,c]=ie(n),[d,u]=ie(!1),m=Vu(u,[u],250,!0);return ce((()=>{const e=(0,l.nF)((()=>{u(!0)}),250,!0),t=(0,l.nF)((()=>{const{width:e,height:t,screenHeight:n}=Ra();o(e),i(t),c(n),m(!1)}),250,!1),n=()=>{e(),t()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[m]),de((()=>({width:a,height:r,screenHeight:s,isResizing:d})),[r,d,s,a])}document.documentElement.addEventListener("keydown",Wu.runCallbacks);const[Ku,qu]=E(void 0);let ju;const Yu=!n.ZH||n.KI;let Gu;async function Qu(){return ju||(ju=await window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),ju)}function Xu(){return void 0!==Ku()}async function Ju(){const e=Ku();if(e)try{return await async function(e){const t=await Qu(),n=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e.iv},t,e.ciphertext);return(new TextDecoder).decode(n)}(e)}catch(e){return}}function Zu(t){var n;Yu&&(null===(n=Gu)||void 0===n||n(),Gu=function(e,t){if(t<=0)return e(),()=>{};const n=Date.now();let a,o=!1;const r=()=>{o||(o=!0,a&&(clearInterval(a),a=void 0))};return a=window.setInterval((()=>{o||Date.now()-n>=t&&(r(),e())}),5e3),r}((()=>{Ke().setInMemoryPassword({password:void 0})}),e.gbw*Ba.pY)),void 0!==t?async function(e){const t=await Qu(),n=(new TextEncoder).encode(e),a=window.crypto.getRandomValues(new Uint8Array(12));return{ciphertext:await window.crypto.subtle.encrypt({name:"AES-GCM",iv:a},t,n),iv:a}}(t).then((e=>{qu(e)})):qu(void 0)}Qu();const em=i.p+"add_dark.8aaf6cc3b06c8c29c0b8.tgs",tm=i.p+"add_light.be170b963afd3d68fffa.tgs",nm=i.p+"clock_dark.67c2082b0ca3be15abf5.tgs",am=i.p+"clock_dark_blue.dcdade09cdb1018439a5.tgs",om=i.p+"clock_dark_gray.2f8e5bd8283b1b6fbc8b.tgs",rm=i.p+"clock_dark_green.30d56a71568b4a6c2265.tgs",im=i.p+"clock_dark_purple.44d7e54c80d7bfcdc066.tgs",sm=i.p+"clock_dark_purple_white.b5df424559c900b23895.tgs",cm=i.p+"clock_dark_red.67cef0a9056652cc9fc4.tgs",lm=i.p+"clock_light.0f820ef9df9307b005b3.tgs",dm=i.p+"clock_light_blue.5e4780c003d1e4b827e4.tgs",um=i.p+"clock_light_gray.4826990b5758e7e75dc0.tgs",mm=i.p+"clock_light_green.81cd8075f0eea6108c88.tgs",pm=i.p+"clock_light_purple.38ce19dce815fecda5d9.tgs",fm=i.p+"clock_light_purple_white.5f9e760bc1f22f84b046.tgs",hm=i.p+"clock_light_red.55b1cfeadab5652b419e.tgs",gm=i.p+"core_wallet_logo.2055ba52598574ce57c1.tgs",vm=i.p+"duck_bill.f055b12619440839e0be.tgs",wm=i.p+"duck_forges.8b2d0ebddaa6d89f49f9.tgs",ym=i.p+"duck_guard.80ca79a0dd4e872c97de.tgs",bm=i.p+"duck_happy.341e288409ae85100bda.tgs",Em=i.p+"duck_hello.40447128d7d2e35c9513.tgs",km=i.p+"duck_no-data.235bf383a43e5d277cc7.tgs",Cm=i.p+"duck_run.4f00386469e72bd5f970.tgs",Nm=i.p+"duck_snitch.1de91932b48b813238a6.tgs",Sm=i.p+"duck_thumb.4ae249f4ed4f4a37176a.tgs",Am=i.p+"duck_ton.6583e2880c36d10daee2.tgs",Tm=i.p+"duck_wait.94faee2d1128c376e8d9.tgs",Im=i.p+"duck_yeee.883032cf50944d474730.tgs",Bm=i.p+"earn_dark.cc3100d59f35656a0d80.tgs",_m=i.p+"earn_dark_purple.ef283884f712c29765f8.tgs",xm=i.p+"earn_light.ba7d6daf7c43c22f37c5.tgs",Dm=i.p+"earn_light_purple.f5bf3ef47824c05e92a7.tgs",Lm=i.p+"send_dark.a03d74d5dbf4d09aa6cd.tgs",Om=i.p+"send_light.5056ea189e9f728cbf1c.tgs",Pm=i.p+"swap_dark.0cca83400e60322ddc57.tgs",Mm=i.p+"swap_light.f484bcd0bc90ab8c5f43.tgs",Fm=i.p+"clock_dark.82ee95a865a9838d58e7.svg",Rm=i.p+"clock_dark_blue.fdfd239a3616ce16e0b1.svg",Um=i.p+"clock_dark_gray.1b1d9010ecebb08c3903.svg",Wm=i.p+"clock_dark_green.93f238675a9074c4fd47.svg",Hm=i.p+"clock_dark_purple.e08f76411ffbefe55602.svg",$m=i.p+"clock_dark_purple_white.fbc63a9cd9546cfb5f54.svg",Vm=i.p+"clock_dark_red.8510b2dd2f25c2a0dcf1.svg",zm=i.p+"clock_light.ce57368517d1f91b344b.svg",Km=i.p+"clock_light_blue.5fc267d1b83799b2f923.svg",qm=i.p+"clock_light_gray.ee7e9a2398565386ec7a.svg",jm=i.p+"clock_light_green.71f692ac565e957d540a.svg",Ym=i.p+"clock_light_purple.171b47626b50eac4fe77.svg",Gm=i.p+"clock_light_purple_white.fc89347ebf34b9556bfc.svg",Qm=i.p+"clock_light_red.04c3e975306f5ff8d73f.svg",Xm=i.p+"core_wallet_logo.e5460356e39ce9c0ba0e.png",Jm=i.p+"duck_bill.966ff858d718072aae75.png",Zm=i.p+"duck_forges.52c157bd0cc621f324e1.png",ep=i.p+"duck_guard.d4ebb8f84ebdd68f3da2.png",tp=i.p+"duck_happy.b8afd923624d1ef9061d.png",np=i.p+"duck_hello.c865862ea6c03bf4088b.png",ap=i.p+"duck_no-data.21cf5ad05a9a06aebcff.png",op=i.p+"duck_run.a70c5e12b26ee1d82b73.png",rp={hello:Em,snitch:Nm,bill:vm,thumbUp:Sm,holdTon:Am,happy:bm,noData:km,forge:wm,wait:Tm,run:Cm,yeee:Im,guard:ym,helloPreview:np,snitchPreview:i.p+"duck_snitch.b567535e9c071b993b06.png",billPreview:Jm,thumbUpPreview:i.p+"duck_thumb.8d21bd4f32485ac2c2a2.png",holdTonPreview:i.p+"duck_ton.c26fd7a7467b637009fe.png",happyPreview:tp,noDataPreview:ap,forgePreview:Zm,waitPreview:i.p+"duck_wait.b0fe6ec6993586b30e65.png",runPreview:op,yeeePreview:i.p+"duck_yeee.6a3e6f89a1e9cdb20fc7.png",guardPreview:ep,...e.TI6&&{coreWalletLogo:gm,coreWalletLogoPreview:Xm},light:{iconAdd:tm,iconClock:lm,iconClockBlue:dm,iconClockGray:um,iconClockGreen:mm,iconClockPurple:pm,iconClockPurpleWhite:fm,iconClockRed:hm,iconEarn:xm,iconEarnPurple:Dm,iconSend:Om,iconSwap:Mm,preview:{iconClock:zm,iconClockBlue:Km,iconClockGray:qm,iconClockGreen:jm,iconClockPurple:Ym,iconClockPurpleWhite:Gm,iconClockRed:Qm}},dark:{iconAdd:em,iconClock:nm,iconClockBlue:am,iconClockGray:om,iconClockGreen:rm,iconClockPurple:im,iconClockPurpleWhite:sm,iconClockRed:cm,iconEarn:Bm,iconEarnPurple:_m,iconSend:Lm,iconSwap:Pm,preview:{iconClock:Fm,iconClockBlue:Rm,iconClockGray:Um,iconClockGreen:Wm,iconClockPurple:Hm,iconClockPurpleWhite:$m,iconClockRed:Vm}}};function ip(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;ce((()=>{n.TF||t||setTimeout((()=>{var t;null===(t=e.current)||void 0===t||t.focus()}),a)}),[e,a,t])}function sp(e,t){const n=me(0),a=me(!1);return!a.current&&e&&n.current<t&&(n.current+=1),a.current=e,n.current>=t}const cp=fe((function(e){let{id:t,className:n,contentClassName:a,children:o,checked:r,isDisabled:i,onChange:s}=e;const c=Po((e=>{e.preventDefault(),s(e.currentTarget.checked)}));return ge.createElement("label",{className:kr("ydGmLQB9",n)},ge.createElement("input",{id:t,type:"checkbox",className:"aOFCdA5h",checked:r,disabled:i,tabIndex:0,onChange:i?void 0:c}),ge.createElement("div",{className:kr("ZEXtFSPZ",a)},o))})),lp="egsZTzXN",dp=fe(je((e=>{const t=at(e)||{},n=st(e),a=Object.keys(t).length>1;return{currentAccountId:e.currentAccountId,hasManyAccounts:a,accounts:t,accountStates:e.byAccountId,isBackupRequired:null==n?void 0:n.isBackupRequired}}))((function(t){let{isOpen:a,currentAccountId:o,hasManyAccounts:r,accounts:i,accountStates:s,isBackupRequired:c,onClose:l,isInAppLock:d}=t;const{signOut:u,switchAccount:m}=Ke(),p=Er(),[f,h]=ie(e.TI6||!!d),g=de((()=>r?Object.entries(i).reduce(((e,t)=>{var n;let[a,r]=t;return a!==o&&null!==(n=s[a])&&void 0!==n&&n.isBackupRequired&&e.push({id:a,title:(0,Ye.S)(r)??""}),e}),[]):[]),[i,s,o,r]);ce((()=>{a&&h(e.TI6||!!d)}),[a,d]);const v=Po((()=>{l(!f&&r),u({level:e.TI6?"all":f?"network":"account"})})),w=Po((()=>{l(!1)}));const y=f&&g.length>0,b=c&&!y,E=kr(Ws.button,n.ZH&&Ws.shortButton);return ge.createElement(Ys,{isOpen:a,isCompact:!0,title:n.ZH?p("Remove Wallet"):p("Log Out"),onClose:w,isInAppLock:d},ge.createElement("p",{className:kr(Ws.text,Ws.text_noExtraMargin)},Qo(p("$logout_warning","12/24"))),!(e.TI6||d)&&r&&ge.createElement(cp,{id:"logount_all_accounts",className:"B2lzpHP0",checked:f,onChange:h},Qo(p("$logout_confirm"))),b&&ge.createElement("p",{className:Ws.text},ge.createElement("b",{className:lp},p("Warning!"))," ",p("$logout_without_backup_warning")),y&&ge.createElement("p",{className:Ws.text},ge.createElement("b",{className:lp},p("Warning!"))," ",p("$logout_accounts_without_backup_warning",{links:ge.createElement(ge.Fragment,null,g.map((function(e,t){const{id:n,title:a}=e,o=kr(!d&&"mSBmBqo6",t+2===g.length&&"T7L1H3Tm");return ge.createElement("span",{className:o},d?ge.createElement("strong",null,a):ge.createElement("a",{key:n,href:"#",className:"FsSJDg8c",onClick:e=>{var t;e.preventDefault(),t=n,l(!1),m({accountId:t})}},a))})))})),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{className:E,onClick:w},p("Cancel")),ge.createElement(Rs,{isDestructive:!0,onClick:v,className:Ws.button},n.ZH?p("Remove Wallet"):p("Exit"))))})));function up(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(";")}function mp(e,t){const n=Boolean(e),{ref:a}=Ls({isOpen:n,noMountTransition:n,className:"slow",...t});return a}let pp,fp;async function hp(){return pp||(pp=i.e(949).then(i.bind(i,70949)).then((e=>e.default)),fp=await pp),pp}function gp(){return fp}function vp(e){const t=e.replace("#","");return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}function wp(e){let[t,n,a]=e.map((e=>e/255));[t,n,a]=[t,n,a].map((e=>e>.04045?((e+.055)/1.055)**2.4:e/12.92));let o=.4124*t+.3576*n+.1805*a,r=.2126*t+.7152*n+.0722*a,i=.0193*t+.1192*n+.9505*a;return[o,r,i]=[o/.95047,r,i/1.08883].map((e=>e>.008856?e**(1/3):7.787*e+16/116)),[116*r-16,500*(o-r),200*(r-i)]}setTimeout(hp,3e3);const yp=v(),bp=v();function Ep(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Po(e),o=Po(t);ce((()=>{if(!n)return B()&&a(),yp.addCallback(a),bp.addCallback(o),()=>{bp.removeCallback(o),yp.removeCallback(a)}}),[n,o,a])}B.subscribe((()=>{B()?yp.runCallbacks():bp.runCallbacks()}));const kp=v(),Cp=v();const Np=new Map,Sp=fe((e=>{let{ref:t,renderId:a,className:o,style:r,tgsUrl:i,play:s,playSegment:c,speed:l,noLoop:d,size:u,shouldStretch:m,quality:p,isLowPriority:f,color:h,forceOnHeavyAnimation:g,forceInBackground:w,sharedCanvas:y,sharedCanvasCoords:b,onClick:E,onLoad:C,onEnded:N,onLoop:S}=e,A=me();t&&(A=t);const T=ke(),[I,B]=ie(),_=me(),x=me(!0),D=s||!1!==s&&c,L=Oo(s),O=Oo(c),P=me(),M=me(!1);ce((()=>()=>{M.current=!0}),[]),Ee((()=>{if(h){const[e,t,n]=vp(h);P.current=[e,t,n]}else P.current=void 0}),[h]);const F=Po((()=>{if(_.current||M.current||!i||y&&(!b||!y.offsetWidth||!y.offsetHeight))return;const e=A.current||y;if(!e)return;const t=gp().init(i,e,a||(0,we.A)(),{size:u,shouldStretch:m,noLoop:d,quality:p,isLowPriority:f,coords:b},T,P.current,C,N,S);l&&t.setSpeed(l),B(t),_.current=t}));ce((()=>{gp()?F():hp().then(F)}),[F,i,y,b]);const R=$u(F,[F],150);!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Oo(t);ce((()=>{const t=e&&"current"in e?e.current:e;if(!t||n)return;const o=e=>{let[t]=e;t.target.offsetWidth&&t.target.offsetHeight&&a.current(t)};let[r,i]=Np.get(t)||[void 0,void 0];return r||(i=v(),r=new IntersectionObserver(i.runCallbacks),Np.set(t,[r,i]),r.observe(t)),i.addCallback(o),()=>{i.removeCallback(o),i.hasCallbacks()||(r.unobserve(t),r.disconnect(),Np.delete(t))}}),[n,a,e])}(y,R),ce((()=>{I&&I.setColor(P.current)}),[h,I]),ce((()=>()=>{var e;null===(e=_.current)||void 0===e||e.removeView(T)}),[T]);const U=Po((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];I&&(L.current||O.current)&&!Ap(g,w)&&(O.current?I.playSegment(O.current,e,T):I.play(e,T))})),W=Po((()=>{(0,k.YS)(U)})),H=Po((()=>{null!=I&&I.isPlaying()&&I.pause(T)}));if(ci((e=>{let[t]=e;void 0!==t&&d!==t&&(null==I||I.setNoLoop(d))}),[d,I]),ci((e=>{let[t]=e;void 0!==t&&b!==t&&(null==I||I.setSharedCanvasCoords(T,b))}),[b,T,I]),ce((()=>{I&&(D?Ap(g,w)||U(d):H())}),[I,D,d,U,H,g,w]),ce((()=>{I&&(x.current?x.current=!1:i&&(I.changeData(i),U(d)))}),[U,I,i,d]),Ep(H,U,g||n.pz||!D),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Po(e),o=Po(t);ce((()=>{if(!n)return kp.addCallback(a),Cp.addCallback(o),()=>{Cp.removeCallback(o),kp.removeCallback(a)}}),[n,a,o])}(H,U,!D),vl(H,W,!D||w),!y)return ge.createElement("div",{ref:A,className:o,style:up(void 0!==u&&!m&&`width: ${u}px; height: ${u}px;`,E&&!n.cp&&"cursor: pointer",r),onClick:E})}));function Ap(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&!n.pz&&B()||!e&&wl()}function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Tp.apply(null,arguments)}const Ip=fe((function(e){const{size:t,play:n=!0,noLoop:a=!0,className:o,noTransition:r,nonInteractive:i,onLoad:s,onClick:c,...l}=e,[d,u]=Ru(!1),m=mp(r||d),p=Po((()=>{u(),null==s||s()})),[f,h]=ie(String(Math.random())),g=Po((()=>{!0===n&&h(String(Math.random())),null==c||c()}));return ge.createElement(Sp,Tp({ref:m,className:o,size:t,play:!0===n?f:n,noLoop:a,onClick:i?void 0:g,onLoad:p},l))})),Bp="haM4SCte";function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_p.apply(null,arguments)}const xp=new Set,Dp=150,Lp=fe(je((t=>({noAnimation:t.settings.animationLevel===e.dnp})))((function(e){const{size:t=Dp,previewUrl:n,iconPreviewClass:a,thumbDataUri:o,className:r,noAnimation:i,noPreviewTransition:s,...c}=e,[l,d]=Ru(Boolean(a)||Boolean(o)||xp.has(n)),u=mp(l||s),[m,p,f]=Ru(!1);ce((()=>{i&&f()}),[f,i]);const h=Po((()=>{d(),xp.add(n)}));return ge.createElement("div",{ref:s?void 0:u,className:kr(r,"aNPdKxlh"),style:up(void 0!==t&&!c.shouldStretch&&`width: ${t}px; height: ${t}px;`),"data-preview-url":n},o&&!n&&!m&&ge.createElement("img",{src:o,className:Bp}),n&&!m&&ge.createElement("img",{src:n,className:Bp,onLoad:h}),a&&!m&&ge.createElement("i",{className:kr(Bp,a),"aria-hidden":!0}),!i&&ge.createElement(Ip,_p({size:t},c,{onLoad:p,noTransition:!0})))}))),Op={wrapper:"LCV_ofSL",input:"O85V9ajV",error:"hhZYLQar",disabled:"sAhrzaLV",input_password:"MawuFp3r",inputPassword:"MawuFp3r",rich:"_JfHIm8U",rich__value:"VyaUZjoQ",richValue:"VyaUZjoQ",rich__placeholder:"Fd5oMpfT",richPlaceholder:"Fd5oMpfT",isLoading:"oLkTqd0H",large:"cp2mDTzv",inputWrapperStatic:"_30fntf1",input__wrapper:"Q9N6yVvw",inputWrapper:"Q9N6yVvw",input__wrapper_hasFocus:"xJ8YLUEc",inputWrapperHasFocus:"xJ8YLUEc",visibilityToggle:"tXgxOPqo",visibilityToggle_push:"uXlOxDsj",visibilityTogglePush:"uXlOxDsj",fractional:"Q68NbVRf",label:"dGKNlTrc",label_error:"PFA7oH6u",labelError:"PFA7oH6u",label_forPassword:"i9G7zfox",labelForPassword:"i9G7zfox",label_errorUnderInput:"N0y6_7Nt",labelErrorUnderInput:"N0y6_7Nt",label_errorBottom:"fAnhlq4h",labelErrorBottom:"fAnhlq4h",swapCorner:"hcCyNq6V",swapCorner_error:"tRQeFT_t",swapCornerError:"tRQeFT_t",mask:"dYsHTHj3",inputContainer:"vjJxciaS",input_withValueOverlay:"qHmkgxAZ",inputWithValueOverlay:"qHmkgxAZ",valueOverlay:"yLnZrd5z",static:"PXCfAg02"},Pp=fe((function(e){let{ref:t,id:n,label:a,placeholder:o,valueOverlay:r,inputMode:i,isRequired:s,isDisabled:c,isMultiline:l,hasError:d,type:u="text",error:m,value:p="",maxLength:f,inputArg:h,className:g,wrapperClassName:v,autoCapitalize:w,autoComplete:y,autoCorrect:b,children:E,onInput:C,onKeyDown:N,onFocus:S,onBlur:A,isStatic:T}=e;const I=Er(),[B,_]=ie(!1),[x,D,L]=Ru(!1),O=Boolean(r&&!x),P=e=>{C(e.currentTarget.value,h)},M=e=>{D(),null==S||S(e)},F=e=>{L(),null==A||A(e)},R="text"===u||B?"text":"password",U=kr(Op.input,g,"password"===u&&Op.input_password,(d||m)&&Op.error,c&&Op.disabled,r&&Op.input_withvalueOverlay),W=kr(Op.label,(d||m)&&Op.error,(d||m)&&"password"===u&&Op.label_forPassword);return ge.createElement("div",{className:kr(Op.wrapper,v)},m&&!!a&&ge.createElement("label",{className:kr(Op.label,Op.label_error,Op.error),htmlFor:n},m),!!a&&ge.createElement("label",{className:W,htmlFor:n},a),ge.createElement("div",{className:Op.inputContainer},l?ge.createElement("textarea",{ref:t,id:n,className:U,value:p,disabled:c,maxLength:f,autoComplete:y,onInput:P,onChange:e=>{const{currentTarget:t}=e,{scrollHeight:n}=t;(0,k.RK)((()=>{t.style.height="0",t.style.height=`${n}px`}))},onKeyDown:N,onFocus:M,onBlur:F,tabIndex:0,required:s,placeholder:r?void 0:o}):ge.createElement("input",{ref:t,id:n,className:U,type:R,value:p,disabled:c,inputMode:i,maxLength:f,autoCapitalize:w,autoComplete:y,autoCorrect:b,spellCheck:b,onInput:P,onKeyDown:N,onFocus:M,onBlur:F,tabIndex:0,required:s,placeholder:r?void 0:o}),O&&ge.createElement("div",{className:kr(Op.valueOverlay,T&&Op.static)},r)),"password"===u&&ge.createElement("button",{className:kr(Op.visibilityToggle,a&&Op.visibilityToggle_push),type:"button",onClick:()=>{_(!B)},"aria-label":I("Change password visibility"),tabIndex:-1},ge.createElement("i",{className:B?"icon-eye":"icon-eye-closed","aria-hidden":!0})),E,m&&!a&&ge.createElement("label",{className:kr(Op.label,Op.label_errorBottom,Op.error),htmlFor:n},m))}));function Mp(e,t,n,a){return Fp("animationend",e,t,n,a)}function Fp(e,t,n,a,o){let r=!1;function i(){t.removeEventListener(e,s)}function s(e){r||e.target!==e.currentTarget||a&&(e instanceof TransitionEvent&&e.propertyName===a||e instanceof AnimationEvent&&e.animationName===a)||(r=!0,i(),setTimeout((()=>{n()}),50))}return t.addEventListener(e,s),o&&setTimeout((()=>{r||(i(),n())}),o),i}const Rp=d.qM.easeOutCubic,Up="swipe-disabled";let Wp,Hp,$p,Vp,zp=!1;function Kp(e,t){return Dr(e,{swipeThreshold:10,withNativeDrag:!0,excludedClosestSelector:`.${Up}`,onSwipe(e,a,o){if(a===Tr.Left){var r;null===(r=t.onSwipeLeftStart)||void 0===r||r.call(t)}else{if(a!==Tr.Right)return!1;var i;null===(i=t.onSwipeRightStart)||void 0===i||i.call(t)}return n.pz&&(zp=!0,Wp=o),!0},onDrag(e,t,n){var a;zp&&(null===(a=Hp)||void 0===a||a(n))},onRelease(){var e;zp&&(zp=!1,null===(e=$p)||void 0===e||e(t.onCancel),Hp=void 0,$p=void 0)}})}function qp(e,t){e.map((e=>e.getAnimations())).flat().forEach((e=>{e.currentTime=e.effect.getTiming().duration*t}))}function jp(e){const t=e.match(/([XY])\((-?\d+)(%|px)\)/);if(t)return{axis:t[1],value:Number(t[2]),units:t[3]}}const Yp="jLzZScDB",Gp="oVsGIXA4",Qp=fe((function(e){let{value:t,children:n,className:a,isDisabled:o,onClick:r}=e;const[i,s]=ie(!1);return ge.createElement("div",{onMouseDown:o?void 0:()=>{Zc(),null==r||r(t),s(!0),setTimeout((()=>{s(!1)}),200)},className:kr("lnaBx8hc",i&&"qBoIeNzV",a),role:"button",tabIndex:0},t||n)})),Xp=Ba.Z2,Jp="Transition_slide-active",Zp="Transition_slide-from",ef="Transition_slide-to",tf="Transition_slide-inactive",nf=Jp,af=ef,of=function(t){let{ref:n,activeKey:a,nextKey:o,prevKey:r,name:i,direction:s="auto",renderCount:c,shouldRestoreHeight:l,shouldCleanup:u,cleanupExceptionKey:m,shouldWrap:p,wrapExceptionKey:f,id:h,className:g,slideClassName:v,withSwipeControl:w,onStart:y,onStop:b,onContainerClick:E,children:C}=t;const N=me(),{animationLevel:S}=Ve().settings,A=S===e.dnp;let T=me();n&&(T=n);const I=me({}),B=be(a),x=ve(),D=me(!1),L=me(!1),O=void 0!==B&&a!==B;!c&&O&&(I.current={[B]:I.current[B]}),I.current[a]=C,r&&(I.current[r]=C),o&&(I.current[o]=C);const P=-1===s||"auto"===s&&B>a||"inverse"===s&&B<a;le((()=>{function e(){if(!u)return;const e=void 0!==m?I.current[m]:void 0;I.current=e?{[m]:e}:{},x()}const t="slideOptimized"===i||"slideOptimizedRtl"===i,n=T.current,o=Object.keys(I.current).map(Number),r=c?B:o.indexOf(B),s=c?a:o.indexOf(a),p=Array.from(n.childNodes);if(!p.length)return;const f=Array.from(n.children);if(f.forEach((e=>{Es(e,"Transition_slide"),v&&v.split(/\s+/).forEach((t=>{Es(e,t)}))})),!O){if(D.current)return;return void f.forEach((e=>{e===p[s]?(Es(e,Jp),t&&Ns(e,{transition:"none",transform:"translate3d(0, 0, 0)"})):t||Es(e,tf)}))}if(N.current=a,t){if(!p[s])return;return void function(e,t,n,a,o,r,i,s,c,l,d,u,m){if(e)return Cs(s,`Transition-${t}`,!n),Cs(s,`Transition-${t}Backwards`,n),l instanceof HTMLElement&&(ks(l,Jp),Ns(l,{transition:"none",transform:""})),c instanceof HTMLElement&&(Es(c,Jp),Ns(c,{transition:"none",transform:"translate3d(0, 0, 0)"})),void a();"slideOptimizedRtl"===t&&(n=!n),i.current=!0;const p=_();null==u||u(),Cs(s,`Transition-${t}`,!n),Cs(s,`Transition-${t}Backwards`,n),l instanceof HTMLElement&&Ns(l,{transition:"none",transform:"translate3d(0, 0, 0)"}),c instanceof HTMLElement&&Ns(c,{transition:"none",transform:`translate3d(${n?"-":""}100%, 0, 0)`}),(0,k.gm)((()=>(c instanceof HTMLElement&&c.offsetWidth,()=>{l instanceof HTMLElement&&(ks(l,Jp),Ns(l,{transition:"",transform:`translate3d(${n?"":"-"}100%, 0, 0)`})),c instanceof HTMLElement&&(Es(c,Jp),Ns(c,{transition:"",transform:"translate3d(0, 0, 0)"}))}))),Fp("transitionend",c,(()=>{const e=c instanceof HTMLElement?c.clientHeight:void 0;(0,k.RK)((()=>{o===r.current?(l instanceof HTMLElement&&Ns(l,{transition:"none",transform:""}),d&&e&&c instanceof HTMLElement&&(Ns(c,{height:"auto"}),Ns(s,{height:`${e}px`})),null==m||m(),p(),i.current=!1,a()):p()}))}),undefined,undefined)}(A,i,P,e,a,N,D,n,p[s],p[r],l,y,b)}if("none"===i||A||L.current)return L.current&&(L.current=!1),p.forEach(((e,t)=>{e instanceof HTMLElement&&(ks(e,Zp),ks(e,ef),Cs(e,Jp,t===s),Cs(e,tf,t!==s))})),void e();p.forEach(((e,t)=>{e instanceof HTMLElement&&(ks(e,Jp),Cs(e,Zp,t===r),Cs(e,ef,t===s),Cs(e,tf,t!==r&&t!==s))})),D.current=!0;const h=_();function g(){const t=n.querySelector(`.${Jp}`),{clientHeight:o}=t||{};(0,k.RK)((()=>{a===N.current?(ks(n,`Transition-${i}`),ks(n,`Transition-${i}Backwards`),p.forEach(((e,t)=>{e instanceof HTMLElement&&(ks(e,Zp),ks(e,ef),Cs(e,Jp,t===s),Cs(e,tf,t!==s))})),l&&t&&(Ns(t,{height:"auto"}),Ns(n,{height:`${o}px`})),null==b||b(),h(),D.current=!1,e()):h()}))}null==y||y(),Cs(n,`Transition-${i}`,!P),Cs(n,`Transition-${i}Backwards`,P);const E="reveal"!==i&&"slideFadeAndroid"!==i||!P?p[s]:p[r];if(E)if(w&&p[r]){const e=Mp(E,g);!function(e,t,n){var a;if(null===(a=Vp)||void 0===a||a(),!zp)return;const o=function(e){for(const t of e.getAnimations())if(t.effect instanceof KeyframeEffect)for(const e of t.effect.getKeyframes()){if(1!==e.offset||!e.transform)continue;const t=jp(e.transform);if(t)return t}}(e);if(!o)return;let r;e.getAnimations().forEach((e=>e.pause())),t.getAnimations().forEach((e=>e.pause())),e.style.animationTimingFunction="linear",t.style.animationTimingFunction="linear",(0,k.YS)((()=>{const a=(i=getComputedStyle(e).transform,s=o.axis,i.slice(7,-1).split(",").map(Number)["X"===s?4:5]);var i,s;const c=("px"===o.units?o.value:o.value/100*("X"===o.axis?e.offsetWidth:e.offsetHeight))-a;let l=0;Hp=n=>{let{dragOffsetX:a,dragOffsetY:i}=n;const s="X"===o.axis?a-Wp.dragOffsetX:i-Wp.dragOffsetY,d=Nr(s/c,0,1);r=d>l?1:-1,l=d,qp([e,t],l)},$p=a=>{const o=-1===r;function i(){e.getAnimations().forEach((e=>e.cancel())),t.getAnimations().forEach((e=>e.cancel())),(0,k.RK)((()=>{e.style.animationTimingFunction="",t.style.animationTimingFunction=""}))}o||Mp(e,i),Vp=(0,d.Hd)({from:l,to:o?0:1,duration:300,timing:Rp,onUpdate(n){qp([e,t],n)},onEnd(){Vp=void 0,(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||o)&&(i(),n(),a())}})}}))}(p[r],p[s],(()=>{e(),L.current=!0,null==b||b(),h(),D.current=!1}))}else Mp(E,g,void 0,Xp);else g()}),[a,o,B,O,P,i,y,b,c,l,u,v,m,A,x,w]),ce((()=>{if(!l)return;const e=T.current,t=e.querySelector(`.${Jp}`)||e.querySelector(`.${Zp}`);if(!t)return;const{clientHeight:n}=t||{};n&&(0,k.RK)((()=>{Ns(t,{height:"auto"}),Ns(e,{height:`${n}px`,flexBasis:`${n}px`})}))}),[l,C]);const M=!c,F=I.current,R=Object.keys(c?new Array(c).fill(void 0):F).map(Number).map((e=>{const t=F[e];if(!t)return;const n="function"==typeof t?t(e===a,e===B,e,a):t;return p&&e!==f||M?ge.createElement("div",{key:e,teactOrderKey:e},n):n}));return ge.createElement("div",{ref:T,onClick:E,id:h,className:kr("Transition",g),teactFastList:M},R)},rf=4,sf=1500,cf=fe(je((e=>{const{isPinAccepted:t}=e;return{isPinAccepted:t}}),((e,t,n)=>{const{isPinAccepted:a}=e;return n(a)}))((function(t){let{isActive:a,title:o,type:r,value:i,resetStateDelayMs:s=sf,length:c=rf,isPinAccepted:l,className:d,isMinified:u,topContent:m,onBiometricsClick:p,onChange:f,onClearError:h,onSubmit:g,onLogOutClick:v}=t;const{clearIsPinAccepted:w}=Ke(),y=qc(),b=i.length>0,E="success"===r||l,k=be(l),C=E||i.length===c&&"error"!==r,N=kr("r4k7w6HQ","error"===r&&Yp,E&&Gp),S=sp("error"===r,e.Avc);ce((()=>{k&&!l&&c===i.length&&f("")}),[l,c,f,k,i.length]),ce((()=>w),[]),ci((e=>{let[t]=e;n.bA&&(a?ko.clearScrollPatch():t&&ko.applyScrollPatch())}),[a]),ce((()=>{if("error"!==r)return;const e=window.setTimeout((()=>{i.length===c&&f(""),null==h||h()}),s);return el(),()=>{window.clearTimeout(e)}}),[c,f,h,s,r,i.length]),ce((()=>{if(a)return Ur(),()=>{Wr()}}),[a]);const A=Po((e=>{if(i.length!==c&&0!==i.length||null==h||h(),i.length===c)return void f(e);const t=`${i}${e}`;f(t),t.length===c&&g(t)})),T=Po((()=>{null==h||h(),i.length&&f(i.slice(0,-1))}));return ge.createElement("div",{className:kr("Lbq2gMzt",d,Up)},m??ge.createElement("div",{className:N},o),function(){const e=kr("__vkSP7q","error"===r&&"LI_tisFH",E&&"HnSSbC5N");return ge.createElement("div",{className:e,"aria-hidden":!0},Array.from({length:c},((e,t)=>ge.createElement("div",{key:t,className:kr("CH4h9HQz",t<i.length&&"r_kAZ0Dm","error"===r&&Yp,E&&Gp)}))))}(),ge.createElement("div",{className:kr("CUQ0KIAI",u&&"MGnO4hqt")},ge.createElement(Qp,{value:"1",onClick:A,isDisabled:C}),ge.createElement(Qp,{value:"2",onClick:A,isDisabled:C}),ge.createElement(Qp,{value:"3",onClick:A,isDisabled:C}),ge.createElement(Qp,{value:"4",onClick:A,isDisabled:C}),ge.createElement(Qp,{value:"5",onClick:A,isDisabled:C}),ge.createElement(Qp,{value:"6",onClick:A,isDisabled:C}),ge.createElement(Qp,{value:"7",onClick:A,isDisabled:C}),ge.createElement(Qp,{value:"8",onClick:A,isDisabled:C}),ge.createElement(Qp,{value:"9",onClick:A,isDisabled:C}),p?ge.createElement(Qp,{onClick:p,isDisabled:E},ge.createElement("i",{className:kr("icon",y?"icon-face-id":"icon-touch-id"),"aria-hidden":!0})):ge.createElement("span",null),ge.createElement(Qp,{value:"0",onClick:A,isDisabled:C}),ge.createElement(of,{name:"zoomFade",activeKey:S&&!i.length?0:1},v&&S&&!i.length?ge.createElement(Qp,{className:"nvnxE80n",onClick:v},ge.createElement("i",{className:"icon icon-exit","aria-hidden":!0})):ge.createElement(Qp,{className:!b&&"c_i4rWyo",isDisabled:!b||E,onClick:T},ge.createElement("i",{className:"icon icon-backspace","aria-hidden":!0})))))}))),lf={sticker:"ifHfFY2u",label:"C3jlHNpF",title:"kC9WGOYP",errorMessage:"q8niLQND",verify:"SDEJGboy",error:"ZokzPDAj",pinPadHeader:"sftOkqxr",closeButton:"twjZlrDJ",autoConfirmCheckbox:"MgA9JMMb",logOutWrapper:"N0lWn9sM",logOutButton:"jhtp0Nsp"},df=180,[uf,mf]=E(Date.now());function pf(e){e&&Co(e),mf(Date.now())}const ff=fe(je((e=>{const{isPasswordNumeric:t,authConfig:n,isAutoConfirmEnabled:a}=e.settings;return{isPasswordNumeric:t,isBiometricAuthEnabled:Ct(e),isNativeBiometricAuthEnabled:Nt(e),authConfig:n,isAutoConfirmEnabled:a}}))((function(t){let{isActive:o,isLoading:r,operationType:i,isPasswordNumeric:s,isBiometricAuthEnabled:c,isNativeBiometricAuthEnabled:d,authConfig:u,cancelLabel:m,submitLabel:p,stickerSize:f=df,placeholder:h="Enter your password",error:g,help:v,resetStateDelayMs:w,containerClassName:y,pinPadClassName:b,children:E,withCloseButton:k,noAnimatedIcon:C,inputWrapperClassName:N,forceBiometricsInMain:S,skipAuthScreen:A,isAutoConfirmEnabled:T,onUpdate:I,onCancel:B,onSubmit:_}=t;const{openSettings:x,setInMemoryPassword:D,setIsAutoConfirmEnabled:L}=Ke(),O=Er(),P=me(),M=function(e){const t=de((()=>Xu()),[]);return t&&!e.current&&Ju().then((t=>{e.current=t})),t}(P),F=A&&M,R=me(),[U,W]=ie(""),[H,$]=ie(""),[V,z]=ie(0),[K,q,j]=Ru(!1),{isSmallHeight:Y,isPortrait:G}=ii(),Q=!U.length&&!F,X=Yc(),[J,Z,ee]=Ru(!1),te=sp(!!g||!!H,e.Avc),ne=function(t){const{showDialog:n,signOut:a}=Ke();return Po((()=>{n({title:"$storage_cleared_title",message:yr("$storage_cleared_message",{support_link:ge.createElement("a",{href:`https://t.me/${e.Fkn}`,target:"_blank",rel:"noreferrer"},"@",e.Fkn)}),footerButtons:[ge.createElement(Rs,{isDestructive:!0,onClick:()=>a({level:"all"})},yr("Log Out"))],noBackdropClose:!0,isInAppLock:"unlock"===t})}))}(i);ce((()=>{o&&($(""),W(""),z(0))}),[o]);const ae=Po((async e=>{const t=F?P.current:e;if(_(t),F)return;const n=await(0,a.p)("verifyPassword",t);if(!n&&!await(0,a.p)("checkWorkerStorageIntegrity"))return ne();n&&D({password:t})})),oe=Po((()=>{ae(U)})),re=Po((async()=>{try{$("");const e=await vo(u);e?ae(e):(z(V+1),$("Biometric confirmation failed"),n.xy&&V>2&&q())}catch(e){$(e.message||O("Something went wrong."))}}));ce((()=>{n.KI&&!S||!o||!c||F||(0,l.v7)(300).then(re)}),[S,re,o,c,F]),ye((()=>uf.subscribe(re))),ip(R,!o||c);const se=Po((()=>{$(""),I()})),le=Po((()=>{j(),null==B||B(),x()})),ue=Po((e=>{W(e),g&&I()})),pe=Po((e=>{L({isEnabled:e})})),fe=Po((e=>{Co(e),Z()}));ce((()=>Q||r?void 0:Pr({onEnter:oe})),[oe,r,Q]);const he="unlock"===i,ve=kr(Ws.footerButtons,he&&Ws.footerButtonFullWidth);function we(){return ge.createElement("div",{className:ve},B&&ge.createElement(Rs,{isLoading:r&&c,isDisabled:r&&!c,className:Ws.buttonHalfWidth,onClick:B},m||O("Cancel")),c&&Boolean(H)&&ge.createElement(Rs,{isPrimary:!0,isLoading:r,isDisabled:r,className:Ws.buttonHalfWidth,onClick:r?void 0:re,shouldStopPropagation:!0},O("Try Again")),(!c||F)&&ge.createElement(Rs,{isPrimary:!0,isLoading:r,isDisabled:Q,className:he?Ws.buttonFullWidth:Ws.buttonHalfWidth,onClick:r?void 0:oe},p||O("Send")))}function be(){return ge.createElement(cp,{checked:!!T,onChange:pe,className:lf.autoConfirmCheckbox},O("Remember for %1$d minutes",e.gbw))}const Ee="turnOnBiometrics"!==i&&!c;if(X){const t=Boolean(H||g),n=function(){switch(i){case"unfreeze":return"Confirm Unfreezing";case"passcode":case"turnOnBiometrics":return"Confirm Passcode";case"transfer":case"sending":return"Confirm Sending";case"staking":return"Confirm Staking";case"unstaking":return"Confirm Unstaking";case"swap":return"Confirm Swap";case"unlock":return;case"claim":return"Confirm Rewards Claim";case"mintCard":return"Confirm Upgrading";default:return"Confirm Action"}}(),a=O(d?qc()?"Enter code or use Face ID":jc()?"Enter code or use Touch ID":"Enter code or use biometrics":"Enter code"),r=ge.createElement(ge.Fragment,null,k&&ge.createElement(Rs,{isRound:!0,className:kr(Ws.closeButton,lf.closeButton),ariaLabel:O("Close"),onClick:B},ge.createElement("i",{className:kr(Ws.closeIcon,"icon-close"),"aria-hidden":!0})),ge.createElement("div",{className:lf.pinPadHeader},G&&!C&&ge.createElement(Lp,{play:o,tgsUrl:rp.guard,previewUrl:rp.guardPreview,noLoop:!1,nonInteractive:!0}),!Y&&n&&ge.createElement("div",{className:lf.title},O(n)),E),F?we():ge.createElement(cf,{isActive:o,title:O(t?H||g:Y&&n?n:a),type:t?"error":void 0,length:e.NEx,resetStateDelayMs:w,value:U,topContent:Ee?be():void 0,className:b,onBiometricsClick:d?re:void 0,onLogOutClick:"unlock"===i?Z:void 0,onChange:W,onClearError:se,onSubmit:ae}),"unlock"===i&&ge.createElement(dp,{isOpen:J,onClose:ee,isInAppLock:!0}));return F?ge.createElement("div",{className:Ws.transitionContent},r):r}return ge.createElement("div",{className:kr(Ws.transitionContent,y)},!C&&ge.createElement(Lp,{tgsUrl:rp.holdTon,previewUrl:rp.holdTonPreview,play:o,size:f,nonInteractive:!0,noLoop:!1,className:lf.sticker}),E,!F&&(c?function(){const e=H||g;return e?ge.createElement("div",{className:lf.error},O(e)):ge.createElement("div",{className:lf.verify},O("transfer"===i?"Please confirm transaction using biometrics":"Please confirm operation using biometrics"))}():ge.createElement(ge.Fragment,null,ge.createElement(Pp,{ref:R,type:"password",isRequired:!0,id:"first-password",wrapperClassName:N,inputMode:s?"numeric":void 0,error:g?O(g):H,placeholder:O(h),value:U,onInput:ue,maxLength:s?e.NEx:void 0}),H&&ge.createElement("div",{className:lf.errorMessage},O(H)),v&&!g&&ge.createElement("div",{className:lf.label},v),Ee&&be())),te&&"unlock"===i&&ge.createElement("div",{className:lf.logOutWrapper},O("Can't confirm?"),ge.createElement("span",{role:"button",tabIndex:0,className:lf.logOutButton,onClick:fe},O("Exit all wallets"),ge.createElement("i",{className:kr("icon-chevron-right",lf.detailsIcon),"aria-hidden":!0}))),we(),ge.createElement(Ys,{isOpen:K,isCompact:!0,title:O("Biometric authentication failed"),onClose:j},ge.createElement("p",{className:Ws.text},O("Reinstall biometrics in your device's system settings, or use a passcode.")),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{className:Ws.button,onClick:j},O("Close")),ge.createElement(Rs,{isPrimary:!0,className:Ws.button,onClick:le},O("Settings")))),"unlock"===i&&ge.createElement(dp,{isOpen:J,onClose:ee,isInAppLock:!0}))}))),hf=window.matchMedia("(prefers-color-scheme: dark)"),gf=function(e){const[t,n]=ie("system"===e?hf.matches?"dark":"light":e),a=Po((()=>{n((()=>"system"===e?hf.matches?"dark":"light":e))}));return ce((()=>{if("system"===e)return hf.addEventListener("change",a),()=>{hf.removeEventListener("change",a)}}),[e]),a(),t},vf=new Set,wf=fe((function(e){let{url:t,alt:n,loading:a,isSlow:o,className:r,imageClassName:i,children:s,fallback:c}=e;const l=me(),[d,u]=Ru(vf.has(t)),[m,p]=Ru(),f=(m||!t)&&!!c,h=mp(d||f);return ge.createElement("div",{ref:h,className:r,style:o?"transition-duration: 0.5s;":void 0},f?c:ge.createElement("img",{ref:l,src:t,alt:n,loading:a,className:i,draggable:!1,referrerPolicy:"same-origin",onLoad:d?void 0:()=>{u(),vf.add(t)},onError:p}),s)})),yf="a0ISx2DN",bf="Mg8ZA3ww",Ef="AfTARhCR",kf=i.p+"logoCoreWallet.7209423c2390840b4a91.svg",Cf=i.p+"logoDark.db78fa7a76eea19a30e7.svg",Nf=i.p+"logoLight.c9797ad4583a416a16c9.svg",Sf=fe((function(t){let{theme:n}=t;const a=Er(),o=gf(n),r=e.TI6?kf:"light"===o?Nf:Cf;return ge.createElement("div",{className:Ef},ge.createElement(wf,{className:Ef,imageClassName:Ef,url:r,alt:a("Logo")}))})),Af=fe((function(t){let{isActive:n,ref:o,theme:r,innerContentTopPosition:i=0,shouldHideBiometrics:s,onSubmit:c}=t;const l=Er(),{setIsPinAccepted:d}=Ke(),[u,m]=ie(""),p=Po((async e=>{await(0,a.p)("verifyPassword",e)?(Yc()&&(d(),await tl(!0)),c()):m("Wrong password, please try again.")})),f=Po((()=>m("")));return ge.createElement("div",{ref:o,className:yf,style:`--position-top: ${i}px;`},ge.createElement(ff,{isActive:!(!n||Kc()&&s),noAnimatedIcon:!0,forceBiometricsInMain:!0,error:u,resetStateDelayMs:300,operationType:"unlock",containerClassName:kr("y8VDu2CW","custom-scroll"),pinPadClassName:"TBzkDy1l",inputWrapperClassName:"lpSqrTfE",submitLabel:l("Unlock"),onSubmit:p,onUpdate:f},ge.createElement(Sf,{theme:r}),ge.createElement("span",{className:kr(bf,"rounded-font")},e.C39)))})),Tf=fe((function(t){let{ref:n,theme:a,innerContentTopPosition:o=0,handleChangeSlideForBiometricAuth:r}=t;const i=Er();return ge.createElement("div",{ref:n,className:yf,style:`--position-top: ${o}px;`},ge.createElement(Sf,{theme:a}),ge.createElement("span",{className:kr(bf,"rounded-font")},e.C39),ge.createElement(Rs,{isPrimary:!0,onClick:r},i("Unlock")))})),If=["focus","mousemove","touch","wheel","keydown"],Bf={capture:!0};var _f=function(e){return e[e.button=0]="button",e[e.passwordForm=1]="passwordForm",e}(_f||{});const[xf,Df]=E(Date.now());const Lf=fe(je((t=>{const{autolockValue:n,isAppLockEnabled:a}=t.settings,o=yt(t),r=Ct(t),i=Nt(t);return{isNonNativeBiometricAuthEnabled:r&&(!i||e.tKX),autolockValue:n,canRender:Boolean(a&&o),isAppLockEnabled:a,theme:t.settings.theme,isManualLockActive:t.isManualLockActive,shouldHideBiometrics:t.appLockHideBiometrics}}))((function(t){let{isNonNativeBiometricAuthEnabled:a,autolockValue:o="never",theme:r,isManualLockActive:i,isAppLockEnabled:s,shouldHideBiometrics:c,canRender:l}=t;const{clearIsPinAccepted:d,submitAppLockActivityEvent:u,setIsManualLockActive:m,setIsAppLockActive:p}=Ke(),[f,h,g,v]=function(e,t,n){const a=me(!0),o=me("never"!==e||t),r=me(),i=ve();o.current&&!n&&(o.current=!1);const s=Po((()=>{o.current=!0,i()})),c=Po((()=>{o.current=!1,r.current=void 0,i()}));return r.current=!t||a.current&&"never"!==e?"autolock":"manual",a.current=!1,[!!o.current,s,c,r.current]}(o,!!i,l),[w,y,b]=Ru(f),E=me(Date.now()),{ref:k,innerContentTopPosition:C,unfixSlide:N,slideForBiometricAuth:S,setSlideForBiometricAuth:A,getDefaultSlideForBiometricAuth:T}=function(e,t,n){const a=me();function o(){return(wl()||"manual"===n)&&e?_f.button:_f.passwordForm}const[r,i]=ie(o()),[s,c]=ie(),l=void 0!==s,d=!Yc()&&e;function u(e){const n=a.current;if(n&&(!l||e)&&t&&d){const e=n.getBoundingClientRect().top;c(e)}}function m(){c(void 0)}ce((()=>{u()}),[t]);const{height:p}=zu();return ce((()=>{d&&(m(),requestAnimationFrame((()=>u(!0))))}),[p]),{ref:a,innerContentTopPosition:s,unfixSlide:m,slideForBiometricAuth:r,setSlideForBiometricAuth:i,getDefaultSlideForBiometricAuth:o}}(a,f,v),I=Po((()=>{n.bA?u():E.current=Date.now()})),B=$u(I,[I],5e3),_=Po((()=>{var e;b(),A(T()),null===(e=Xs())||void 0===e||e.show(),d(),I(),m({isActive:void 0,shouldHideBiometrics:void 0}),n.KI&&ko.show(),N(),p({isActive:!1}),Zc()})),x=de((()=>e.zTb.find((e=>e.value===o)).period),[o]),{ref:D}=Ls({isOpen:f,noMountTransition:!0,className:"slow",onCloseAnimationEnd:_});ce((()=>{f!==Ve().isAppLockActive&&p({isActive:!!f})}),[f]);const L=Po((()=>{var e;h(),y(),document.activeElement&&document.activeElement.blur(),n.KI&&ko.hide(),null===(e=Xs())||void 0===e||e.hide(),A(T()),p({isActive:!0})})),O=Po((()=>{("never"!==o||i)&&l&&L()}));e.Oig&&(window.lock=O),!i||f||w||O();const P=Po((()=>{A(_f.passwordForm)}));ye((()=>{for(const e of If)window.addEventListener(e,B,Bf);return()=>{for(const e of If)window.removeEventListener(e,B,Bf)}})),ye((()=>{if(!n.bA)return xf.subscribe(B)}));const M=Po((e=>{Co(e),m({isActive:!0,shouldHideBiometrics:!0})}));Hu(de((()=>s&&!f?{"Ctrl+Shift+L":M,"Alt+Shift+L":M,"Meta+Shift+L":M,...n.cp&&{"Mod+L":M}}:void 0),[s,f])),ce((()=>{if(n.bA)return;const e=setInterval((()=>{s&&!f&&Date.now()-E.current>x&&O()}),5e3);return()=>clearInterval(e)}),[f,x,O,s]),vl(void 0,P);const F=Number(S===_f.passwordForm)+2*Number(w),R=a?S===_f.passwordForm?e.tKX?void 0:pf:P:void 0;if(Hu(de((()=>s&&f&&R?{Space:R,Enter:R,Escape:R}:void 0),[s,f,R])),!n.bA)return ge.createElement(of,{ref:D,name:a&&e.tKX?"slideFade":"semiFade",onContainerClick:R,activeKey:F,className:"F1wWh0wj",shouldCleanup:!0},w?function(e){return ge.createElement("div",{className:kr("VzAZj1DO",void 0!==C&&"bO3Yeq_N",Yc()&&S===_f.passwordForm&&"KGdyJD8j")},S===_f.button&&a?ge.createElement(Tf,{ref:k,theme:r,innerContentTopPosition:C,handleChangeSlideForBiometricAuth:P}):ge.createElement(Af,{ref:k,isActive:e,theme:r,innerContentTopPosition:C,shouldHideBiometrics:!!c,onSubmit:g}))}:void 0)}))),Of=n.xy?`${e.p8S?e.yq6:e.DvZ}/version.txt`:"version.txt";qe("showActivityInfo",((e,t,a)=>{let{id:o}=a;if(!n.bA)return Fl(e,{currentActivityId:o});Sl("showActivityInfo",{id:o})})),qe("showAnyAccountTx",(async(e,t,a)=>{let{txId:o,accountId:r,network:i}=a;n.bA?Sl("showAnyAccountTx",{txId:o,accountId:r,network:i}):(await Promise.all([Js(),xd(e,r,i)]),t.showActivityInfo({id:o}))})),qe("showAnyAccountTokenActivity",(async(e,t,a)=>{let{slug:o,accountId:r,network:i}=a;n.bA?Sl("showAnyAccountTokenActivity",{slug:o,accountId:r,network:i}):(await Promise.all([Js(),xd(e,r,i)]),t.showTokenActivity({slug:o}))})),qe("closeActivityInfo",((e,t,n)=>{var a;let{id:o}=n;if((null===(a=st(e))||void 0===a?void 0:a.currentActivityId)===o)return Fl(e,{currentActivityId:void 0})})),qe("addSavedAddress",((e,t,n)=>{let{address:a,name:o,chain:r}=n;const{savedAddresses:i=[]}=st(e)||{};return Fl(e,{savedAddresses:[...i,{address:a,name:o,chain:r}]})})),qe("removeFromSavedAddress",((e,t,n)=>{let{address:a,chain:o}=n;const{savedAddresses:r=[]}=st(e)||{};return Fl(e,{savedAddresses:r.filter((e=>!(e.address===a&&e.chain===o)))})})),qe("toggleTinyTransfersHidden",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,areTinyTransfersHidden:n}}})),qe("setCurrentTokenPeriod",((e,t,n)=>{let{period:a}=n;return Fl(e,{currentTokenPeriod:a})})),qe("addAccount",(async(e,t,o)=>{let{method:r,password:i,isAuthFlow:s}=o;const c=yt(e),l="importMnemonic"===r;if(c){if(s||(e=xl(e,{isLoading:!0}),ze(e)),!await(0,a.p)("verifyPassword",i))return e=Ve(),e=s?_l(e,{isLoading:void 0,error:"Wrong password, please try again."}):xl(Ve(),{isLoading:void 0,error:"Wrong password, please try again."}),void ze(e);Yc()&&(e=Dl(Ve()),ze(e)),await tl(!0)}e=Ve(),e=l||!c?{...e,isAddAccountModalOpen:void 0}:xl(e,{isLoading:!0}),ze(e),n.bA?Sl("addAccount2",{method:r,password:i}):t.addAccount2({method:r,password:i})})),qe("addAccount2",((e,t,a)=>{let{method:o,password:r}=a;const i="importMnemonic"===o,s=yt(e),c=s?i?Cn.importWallet:void 0:Yc()?Cn.createPin:n.uh?Cn.createBiometrics:Cn.createPassword;!i&&s||(e={...e,appState:kn.Auth}),e=Xl(e=ed(e=_l(e,{password:r,state:c}))),ze(e),i?t.startImportingWallet():t.startCreatingWallet()})),qe("renameAccount",((e,t,n)=>{let{accountId:a,title:o}=n;e={...e,shouldForceAccountEdit:!1},ze(function(e,t,n){return Pl(e,t,{title:n})}(e,a,o)),t.renameNotificationAccount({accountId:a})})),qe("clearAccountError",(e=>xl(e,{error:void 0}))),qe("openAddAccountModal",((e,t,a)=>{const{forceAddingTonOnlyAccount:o}=a||{};!n.bA||e.areSettingsOpen?(e={...e,isAddAccountModalOpen:!0},o&&(e=_l(e,{forceAddingTonOnlyAccount:o})),ze(e)):Sl("openAddAccountModal",a)})),qe("closeAddAccountModal",((e,t,n)=>(Yc()&&(e=Ll(e)),e=_l(e,{forceAddingTonOnlyAccount:void 0}),{...e,isAddAccountModalOpen:void 0}))),qe("changeNetwork",((e,t,n)=>{let{network:a}=n;return{...e,settings:{...e.settings,isTestnet:"testnet"===a}}})),qe("openSettings",(e=>(e=Ul(e,{state:Fn.Initial}),{...e,areSettingsOpen:!0}))),qe("openSettingsWithState",((e,t,a)=>{let{state:o}=a;!n.bA||e.areSettingsOpen?(e=Ul(e,{state:o}),ze({...e,areSettingsOpen:!0})):Sl("openSettingsWithState",{state:o})})),qe("setSettingsState",((e,t,n)=>{let{state:a}=n;e=Ul(e,{state:a}),ze(e)})),qe("closeSettings",(e=>e.currentAccountId?{...e,areSettingsOpen:!1}:e)),qe("openBackupWalletModal",(e=>{if(!n.bA)return{...e,isBackupWalletModalOpen:!0};Sl("openBackupWalletModal")})),qe("closeBackupWalletModal",(e=>({...e,isBackupWalletModalOpen:void 0}))),qe("toggleInvestorView",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,isInvestorViewEnabled:n}}})),qe("changeLanguage",((e,t,n)=>{let{langCode:a}=n;return{...e,settings:{...e.settings,langCode:a}}})),qe("toggleCanPlaySounds",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,canPlaySounds:n}}})),qe("setLandscapeActionsActiveTabIndex",((e,t,n)=>{let{index:a}=n;return Fl(e,{landscapeActionsActiveTabIndex:a})})),qe("closeSecurityWarning",(e=>({...e,settings:{...e.settings,isSecurityWarningHidden:!0}}))),qe("toggleTokensWithNoCost",((e,t,n)=>{let{isEnabled:a}=n;return Ul(e,{areTokensWithNoCostHidden:a})})),qe("toggleSortByValue",((e,t,n)=>{let{isEnabled:a}=n;return Ul(e,{isSortByValueEnabled:a})})),qe("updateOrderedSlugs",((e,t,n)=>{let{orderedSlugs:a}=n;return Hl(e,{...dt(e),orderedSlugs:a})})),qe("toggleTokenVisibility",((e,t,n)=>{let{slug:a,shouldShow:o}=n;const r=dt(e)??{},{alwaysShownSlugs:i=[],alwaysHiddenSlugs:s=[]}=r,c=new Set(i),l=new Set(s);return o?(l.delete(a),c.add(a)):(c.delete(a),l.add(a)),Hl(e,{...r,alwaysHiddenSlugs:Array.from(l),alwaysShownSlugs:Array.from(c)})})),qe("deleteToken",((e,t,n)=>{var a,o,r,i;let{slug:s}=n;const c=dt(e)??{};return Hl(e,{...c,orderedSlugs:null===(a=c.orderedSlugs)||void 0===a?void 0:a.filter((e=>e!==s)),alwaysHiddenSlugs:null===(o=c.alwaysHiddenSlugs)||void 0===o?void 0:o.filter((e=>e!==s)),alwaysShownSlugs:null===(r=c.alwaysShownSlugs)||void 0===r?void 0:r.filter((e=>e!==s)),deletedSlugs:[...c.deletedSlugs??[],s],importedSlugs:null===(i=c.importedSlugs)||void 0===i?void 0:i.filter((e=>e!==s))})})),qe("checkAppVersion",(t=>{fetch(`${Of}?${Date.now()}`).then((e=>e.text())).then((n=>{(function(e,t){const n=e.trim();return!!Fu.test(n)&&n!==t})(n=n.trim(),e.hl5)&&(t=Ve(),t={...t,isAppUpdateAvailable:!0,latestAppVersion:n.trim()},ze(t))})).catch((t=>{e.Oig&&console.error("[checkAppVersion failed] ",t)}))})),qe("requestConfetti",(t=>t.settings.animationLevel===e.dnp?t:{...t,confettiRequestedAt:Date.now()})),qe("requestOpenQrScanner",(async(e,t)=>{if((0,n.v3)()){const e=Xa();return void(null==e||e.showScanQrPopup({},(n=>{tl(),e.closeScanQrPopup(),t.handleQrCode({data:n})})))}if(n.bA)return void Sl("requestOpenQrScanner");let a;e.currentTransfer.state===Sn.Initial?a={currentTransfer:e.currentTransfer}:e.currentSwap.state===Bn.Blockchain?a={currentSwap:e.currentSwap}:e.currentDomainLinking.state===In.Initial&&(a={currentDomainLinking:e.currentDomainLinking});const{camera:o}=await Mu.requestPermissions();"granted"===o||"limited"===o?(e=Ve(),e={...e,isQrScannerOpen:!0,currentQrScan:a},ze(e)):t.showNotification({message:yr("Permission denied. Please grant camera permission to use the QR code scanner.")})})),qe("closeQrScanner",(e=>(n.bA&&Sl("closeQrScanner"),{...e,isQrScannerOpen:void 0,currentQrScan:void 0}))),qe("handleQrCode",(async(e,t,a)=>{let{data:o}=a;if(n.bA)return void Sl("handleQrCode",{data:o});const{currentTransfer:r,currentSwap:i,currentDomainLinking:s}=e.currentQrScan||{};if(r){const n=Ec(o,e);return void(n?("error"in n&&t.showError({error:n.error}),ze(Zl(e,{...r,...(0,c.cJ)(n,["error"])}))):ze(ad(Zl(e,r),o)))}if(i||s){const t=Ec(o,e),n=(null==t?void 0:t.toAddress)??o;return void ze(i?Ql(e,{...i,toAddress:n}):Id(e,{...s,walletAddress:n}))}if(await hc(o))return;const l=function(e,t){var n;const a=function(e,t){for(const n of Object.keys(t))if(ma(e,n))return n}(t,(null===(n=rt(e))||void 0===n?void 0:n.addressByChain)??{});if(!a)return;const o=e.currentTransfer.tokenSlug;return{toAddress:t,tokenSlug:a!==Gn(o)?Yn(a).slug:o}}(e=Ve(),o);l?t.startTransfer({...l,isPortrait:si()}):t.showDialog({title:"This QR Code is not supported",message:""})})),qe("changeBaseCurrency",(async(e,t,o)=>{let{currency:r}=o;n.bA&&Sl("changeBaseCurrency",{currency:r}),await(0,a.p)("setBaseCurrency",r),await(0,a.p)("tryUpdateTokens"),await(0,a.p)("tryUpdateSwapTokens")})),qe("setIsPinAccepted",(e=>Dl(e))),qe("clearIsPinAccepted",(e=>(n.bA&&Sl("clearIsPinAccepted"),Ll(e)))),qe("openOnRampWidgetModal",((e,t,a)=>{let{chain:o}=a;n.bA?Sl("openOnRampWidgetModal",{chain:o}):ze({...e,chainForOnRampWidgetModal:o})})),qe("closeOnRampWidgetModal",(e=>{ze({...e,chainForOnRampWidgetModal:void 0})})),qe("openMediaViewer",((e,t,n)=>{let{mediaId:a,mediaType:o,txId:r,hiddenNfts:i,noGhostAnimation:s}=n;const c=st(e),{byAddress:l}=(null==c?void 0:c.nfts)||{};if(null==l?void 0:l[a])return{...e,mediaViewer:{mediaId:a,mediaType:o,txId:r,hiddenNfts:i,noGhostAnimation:s}}})),qe("closeMediaViewer",(e=>({...e,mediaViewer:{mediaId:void 0,mediaType:void 0}}))),qe("setReceiveActiveTab",((e,t,n)=>{let{chain:a}=n;return Fl(e,{receiveModalChain:a})})),qe("openReceiveModal",((e,t,a)=>{n.bA?Sl("openReceiveModal",a):(e=Fl(e,{receiveModalChain:null==a?void 0:a.chain}),e={...e,isReceiveModalOpen:!0},ze(e))})),qe("closeReceiveModal",(e=>(e=Fl(e,{receiveModalChain:void 0}),{...e,isReceiveModalOpen:void 0}))),qe("openInvoiceModal",((e,t,a)=>{n.bA?Sl("openInvoiceModal",a):(e=Fl(e,{invoiceTokenSlug:null==a?void 0:a.tokenSlug}),ze({...e,isInvoiceModalOpen:!0}))})),qe("changeInvoiceToken",((e,t,a)=>{n.bA&&Sl("changeInvoiceToken",a),e=Fl(e,{invoiceTokenSlug:a.tokenSlug}),ze(e)})),qe("closeInvoiceModal",(e=>(e=Fl(e,{invoiceTokenSlug:void 0}),{...e,isInvoiceModalOpen:void 0}))),qe("showIncorrectTimeError",((e,t)=>(t.showDialog({message:yr("Time synchronization issue. Please ensure your device's time settings are correct.")}),{...e,isIncorrectTimeNotificationReceived:!0}))),qe("openLoadingOverlay",(e=>{ze({...e,isLoadingOverlayOpen:!0})})),qe("closeLoadingOverlay",(e=>{ze({...e,isLoadingOverlayOpen:void 0})})),qe("clearAccountLoading",(e=>{n.bA&&Sl("clearAccountLoading"),ze(xl(e,{isLoading:void 0}))})),qe("setIsAccountLoading",((e,t,n)=>{let{isLoading:a}=n;ze(xl(e,{isLoading:a}))})),qe("authorizeDiesel",(t=>{const n=rt(t).addressByChain.ton;if(!n)throw new Error("TON address missing");ze(Fl(t,{isDieselAuthorizationStarted:!0})),ec(`https://t.me/${e.B9l}?start=auth-${n}`)})),qe("submitAppLockActivityEvent",(()=>{n.bA?Sl("submitAppLockActivityEvent"):Df(Date.now())})),qe("closeAnyModal",(()=>{n.bA?Sl("closeAnyModal"):zs(Date.now())})),qe("openExplore",(e=>({...e,isExploreOpen:!0}))),qe("closeExplore",(e=>({...e,isExploreOpen:void 0}))),qe("openFullscreen",(e=>{ze({...e,isFullscreen:!0}),Zc()})),qe("closeFullscreen",(e=>{ze({...e,isFullscreen:void 0}),Zc()})),qe("setIsSensitiveDataHidden",((e,t,n)=>{let{isHidden:a}=n;ze(Ul(e,{isSensitiveDataHidden:!!a||void 0})),Zc()})),qe("setIsAppLockActive",((e,t,a)=>{let{isActive:o}=a;n.KI&&Al("setIsAppLockActive",{isActive:o}),ze({...e,isAppLockActive:o||void 0})})),qe("switchAccountAndOpenUrl",(async(e,t,a)=>{n.bA?Sl("switchAccountAndOpenUrl",a):(await Promise.all([Js(),a.accountId&&xd(e,a.accountId,a.network)]),await fc(a.url,a))})),qe("switchToWallet",((e,t)=>{const{areSettingsOpen:n,isExploreOpen:a}=e,o=st(e),r=(null==o?void 0:o.activeContentTab)===Wn.Assets,i=!a&&!n;t.closeExplore(void 0,{forceOnHeavyAnimation:!0}),t.closeSettings(void 0,{forceOnHeavyAnimation:!0}),!r&&i&&(t.selectToken({slug:void 0},{forceOnHeavyAnimation:!0}),t.setActiveContentTab({tab:Wn.Assets},{forceOnHeavyAnimation:!0}))})),qe("switchToExplore",((e,t)=>{const{isExploreOpen:n}=e;n&&t.closeSiteCategory(void 0,{forceOnHeavyAnimation:!0}),t.closeSettings(void 0,{forceOnHeavyAnimation:!0}),t.openExplore(void 0,{forceOnHeavyAnimation:!0})})),qe("switchToSettings",((e,t)=>{t.closeExplore(void 0,{forceOnHeavyAnimation:!0}),t.openSettings(void 0,{forceOnHeavyAnimation:!0})})),qe("setAppLayout",((e,t,o)=>{let{layout:r}=o;var i;n.cp?null===(i=window.electron)||void 0===i||i.changeAppLayout(r):(0,a.p)("setAppLayout",r)})),qe("clearDappConnectRequestError",(e=>{e=function(e){return{...e,dappConnectRequest:{...e.dappConnectRequest,error:void 0}}}(e),ze(e)})),qe("showDappTransferTransaction",((e,t,n)=>{const{transactionIdx:a}=n;e=md(e,{state:Sn.Confirm,viewTransactionOnIdx:a}),ze(e)})),qe("setDappTransferScreen",((e,t,n)=>{const{state:a}=n;e=md(e,{state:a}),ze(e)})),qe("submitDappTransferConfirm",(async(e,t)=>{const n=await Ju();mt(e=Ve())?(e=md(e=_d(e),{state:Sn.ConnectHardware}),ze(e)):n?(e=md(e,{isLoading:!0}),ze(e),t.submitDappTransferPassword({password:n})):(e=md(e,{state:Sn.Password}),ze(e))})),qe("clearDappTransferError",(e=>{e=md(e,{error:void 0}),ze(e)})),qe("openBrowser",((e,t,n)=>{let{url:a,title:o,subtitle:r}=n;e={...e,currentBrowserOptions:{url:a,title:o,subtitle:r}},ze(e)})),qe("closeBrowser",(e=>{e={...e,currentBrowserOptions:void 0},ze(e)})),qe("addSiteToBrowserHistory",((t,n,a)=>{let{url:o}=a;const r=st(t);t=Fl(t,{browserHistory:(0,c.Am)([o,...(null==r?void 0:r.browserHistory)||[]]).slice(0,e.uSm)}),ze(t)})),qe("removeSiteFromBrowserHistory",((e,t,n)=>{var a;let{url:o}=n;const r=st(e),i=null==r||null===(a=r.browserHistory)||void 0===a?void 0:a.filter((e=>e!==o));e=Fl(e,{browserHistory:null!=i&&i.length?i:void 0}),ze(e)})),qe("updateDappLastOpenedAt",((e,t,n)=>{let{url:a}=n;const{dappLastOpenedDatesByUrl:o}=st(e);e=Fl(e,{dappLastOpenedDatesByUrl:{...o,[a]:Date.now()}}),ze(e)})),qe("openSiteCategory",((e,t,n)=>{let{id:a}=n;return Fl(e,{currentSiteCategoryId:a})})),qe("closeSiteCategory",(e=>Fl(e,{currentSiteCategoryId:void 0}))),qe("closeDappTransfer",(e=>{e=md(e,{state:Sn.None}),ze(e)})),qe("setDappSignDataScreen",((e,t,n)=>{const{state:a}=n;return fd(e,{state:a})})),qe("submitDappSignDataConfirm",(async(e,t)=>{const n=await Ju();e=Ve(),n?(e=fd(e,{isLoading:!0}),ze(e),t.submitDappSignDataPassword({password:n})):(e=fd(e,{state:An.Password}),ze(e))})),qe("clearDappSignDataError",(e=>fd(e,{error:void 0}))),qe("closeDappSignData",(e=>fd(e,{state:An.None})));var Pf=i(51915),Mf=i(99544);async function Ff(a,o,r){let s=Ve();ze(Bd(s,{hardwareState:On.Connecting,hardwareWallets:void 0,isLedgerConnected:void 0,isTonAppConnected:void 0}));const c=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),d=await c.connectLedger(a);var u;if(s=Ve(),!d)return!e.hL1||n.Fe||r?(s=Bd(s,{isLedgerConnected:!1,hardwareState:On.Failed}),"usb"===a&&null!==(u=s.hardware.availableTransports)&&void 0!==u&&u.includes("bluetooth")&&(s=Bd(s,{lastUsedTransport:"bluetooth"})),void ze(s)):async function(e){ze(Bd(Ve(),{hardwareState:On.WaitingForRemoteTab})),await(0,l.v7)(500);const t=await(0,Pf.nm)(),n=await chrome.windows.getCurrent();await new Promise((e=>(0,Pf.i6)(t,e))),await chrome.windows.update(n.id,{focused:!0}),await Ff(e,!1,!0)}(a);if(ze(Bd(s,{isLedgerConnected:!0})),n.Fe)return(0,Pf.ks)();try{const e=await c.waitLedgerTonApp();if(s=Ve(),!e)return void ze(Bd(s,{isTonAppConnected:!1,hardwareState:On.Failed}));ze(Bd(s,{isTonAppConnected:!0}));const t=await async function(e){const t=Ve(),n=ot(t),a=function(e,t){const n=pt(e,t),a=null==n?void 0:n.map((e=>e.ledger.index)).sort(((e,t)=>e-t));if(0===a.length||0!==a[0])return-1;if(1===a.length)return 0;for(let e=1;e<a.length;e++)if(a[e]-a[e-1]!==1)return e-1;return a.length-1}(t,n),o=pt(t,n).map((e=>e.addressByChain.ton)).filter(Boolean),r=await e.getNextLedgerWallets(n,a,o);if("error"in r)throw Ke().showError({error:r.error}),Error(r.error);return r}(c),n=1===t.length?On.ConnectedWithSingleWallet:On.ConnectedWithSeveralWallets;ze(Bd(Ve(),{hardwareWallets:t,hardwareState:n,lastUsedTransport:a}))}catch(e){const n=(0,Mf.HN)(e.name);if(n&&!o)return Ff(a,!0,r);s=Ve(),ze(Bd(s,{isLedgerConnected:!n,isTonAppConnected:n?void 0:s.hardware.isTonAppConnected,hardwareState:On.Failed})),(0,t.SJ)("connectHardwareWallet",e)}}let Rf;qe("initLedgerPage",(e=>({...e,appState:kn.Ledger}))),qe("openHardwareWalletModal",(e=>(e=_d(e),{...e,isHardwareModalOpen:!0}))),qe("closeHardwareWalletModal",(e=>({...e,isHardwareModalOpen:!1}))),qe("initializeHardwareWalletModal",(async(e,t)=>{const a=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),{isBluetoothAvailable:o,isUsbAvailable:r}=await a.detectAvailableTransports(),s=await a.hasUsbDevice(),c=[];r&&c.push("usb"),o&&c.push("bluetooth"),e=Bd(e=Ve(),{availableTransports:c}),0===c.length?(ze(e),t.showNotification({message:"Ledger is not supported on this device."})):1===c.length?(ze(e),n.Fe||t.initializeHardwareWalletConnection({transport:c[0]})):(s||(e=Bd(e,{lastUsedTransport:"bluetooth"})),ze(e))})),qe("initializeHardwareWalletConnection",(async(e,t,n)=>{await Ff(n.transport)})),qe("resetHardwareWalletConnect",(e=>_d(e))),qe("loadMoreHardwareWallets",(async(e,t,n)=>{let{lastIndex:a}=n;const o=ot(e),r=e.hardware.hardwareWallets??[],s=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),c=await s.getNextLedgerWallets(o,a);if(e=Ve(),"error"in c)throw t.showError({error:c.error}),Error(c.error);e=Bd(e,{hardwareWallets:r.concat(c)}),ze(e)})),We((e=>{if(!Rf||!Rf.settings)return void(Rf=e);const{settings:t}=Rf,{settings:n}=e;n.theme!==t.theme&&Xr(n.theme),n.langCode!==t.langCode&&br(n.langCode),Rf=e})),qe("setAppLockValue",((e,t,n)=>{let{value:a,isEnabled:o}=n;return{...e,settings:{...e.settings,autolockValue:a,isAppLockEnabled:o}}})),qe("setIsManualLockActive",((e,t,n)=>{let{isActive:a,shouldHideBiometrics:o}=n;return{...e,isManualLockActive:a,appLockHideBiometrics:o}})),qe("setIsAutoConfirmEnabled",((e,t,n)=>{let{isEnabled:a}=n;return a||t.setInMemoryPassword({password:void 0,force:!0}),{...e,settings:{...e.settings,isAutoConfirmEnabled:a||void 0}}})),qe("setInMemoryPassword",((e,t,a)=>{let{password:o,isFinalCall:r,force:i}=a;return e.settings.isAutoConfirmEnabled||r||i?(Ct(e)||(Zu(o),r||(n.KI&&Al("setInMemoryPassword",{password:o,isFinalCall:!0}),n.bA&&Sl("setInMemoryPassword",{password:o,isFinalCall:!0}))),e):e})),qe("openSettingsHardwareWallet",(e=>{e=Ul(e=_d(e),{state:Fn.LedgerConnectHardware}),ze(e)})),qe("openNftCollection",((e,t,n)=>{let{address:a}=n;const o=e.currentAccountId;return Rl(e,o,{nfts:{...ct(e,o).nfts,currentCollectionAddress:a}})})),qe("closeNftCollection",(e=>Fl(e,{nfts:{...st(e).nfts,currentCollectionAddress:void 0},selectedNftsToHide:void 0}))),qe("selectNfts",((e,t,n)=>{let{addresses:a}=n;e=function(e,t,n){const a=ct(e,t).nfts,o=[...(null==a?void 0:a.selectedAddresses)??[],...n];return Rl(e,t,{nfts:{...a,selectedAddresses:o}})}(e,e.currentAccountId,a),ze(e)})),qe("selectAllNfts",((e,t,n)=>{let{collectionAddress:a}=n;const o=e.currentAccountId,{blacklistedNftAddresses:r,whitelistedNftAddresses:i}=ct(e,o)||{},s=new Set(i),c=new Set(r),{nfts:l}=ct(e,o),d=Object.values(l.byAddress).filter((e=>(!e.isHidden||s.has(e.address))&&!c.has(e.address)&&(void 0===a||e.collectionAddress===a)));e=Rl(e,o,{nfts:{...l,selectedAddresses:d.map((e=>{let{address:t}=e;return t}))}}),ze(e)})),qe("clearNftSelection",((e,t,n)=>{let{address:a}=n;e=function(e,t,n){const a=ct(e,t).nfts,o=((null==a?void 0:a.selectedAddresses)??[]).filter((e=>e!==n));return Rl(e,t,{nfts:{...a,selectedAddresses:o.length?o:void 0}})}(e,e.currentAccountId,a),ze(e)})),qe("clearNftsSelection",(e=>{const t=e.currentAccountId;e=Rl(e,t,{nfts:{...ct(e,t).nfts,selectedAddresses:[]}}),ze(e)})),qe("addCollectionTab",((t,n,a)=>{let{collectionAddress:o,isAuto:r}=a;const i=t.currentAccountId,s=ct(t,i),c=(null==s?void 0:s.nfts)||{byAddress:{}};if(r&&o===e.X6R&&c.wasTelegramGiftsAutoAdded)return t;const l=c.collectionTabs||[];return l.includes(o)||(t=Rl(t,i,{nfts:{...c,collectionTabs:[...l,o],...r&&o===e.X6R&&{wasTelegramGiftsAutoAdded:!0}}})),t})),qe("removeCollectionTab",((e,t,n)=>{let{collectionAddress:a}=n;const o=e.currentAccountId,r=ct(e,o),i=(null==r?void 0:r.nfts)||{byAddress:{}};return i.collectionTabs?e=Rl(e,o,{nfts:{...i,collectionTabs:i.collectionTabs.filter((e=>e!==a))}}):e})),qe("openVestingModal",(e=>{ze({...e,isVestingModalOpen:!0})})),qe("closeVestingModal",(e=>{ze({...e,isVestingModalOpen:void 0})})),qe("startClaimingVesting",(e=>{if(n.bA)return void Sl("startClaimingVesting");const t=e.currentAccountId;e=mt(e=Sd(e={...e,isVestingModalOpen:void 0},t,{isConfirmRequested:!0}))?Sd(e=_d(e),t,{unfreezeState:Mn.ConnectHardware}):Sd(e,t,{unfreezeState:Mn.Password}),ze(e)})),qe("cancelClaimingVesting",(e=>{e=Sd(e,e.currentAccountId,{isConfirmRequested:void 0}),ze(e)})),qe("clearVestingError",(e=>{e=Sd(e,e.currentAccountId,{error:void 0}),ze(e)})),qe("rebuildOrderedSlugs",(e=>{const t=dt(e)??{},{orderedSlugs:n=[]}=t,a=(Ft(e)??[]).map((e=>{let{slug:t}=e;return t})),o=(0,c.Am)([...n,...a]);return(0,c.k)(n,o)?e:Hl(e,{...t,orderedSlugs:o})})),qe("showTokenActivity",((e,t,n)=>{let{slug:a}=n;t.selectToken({slug:a},{forceOnHeavyAnimation:!0}),t.setActiveContentTab({tab:Wn.Activity})})),qe("startTransfer",((e,t,a)=>{var o,r;const i=e.currentTransfer.state!==Sn.None;if(n.bA&&!i)return void Sl("startTransfer",a);const{isPortrait:s,...c}=a??{},l=Symbol("nft"),d=null!==(o=e.currentTransfer.nfts)&&void 0!==o&&o.length?l:e.currentTransfer.tokenSlug,u=null!=a&&null!==(r=a.nfts)&&void 0!==r&&r.length?l:null==a?void 0:a.tokenSlug,m=u&&u!==d;ze(Zl(e,{state:s?Sn.Initial:Sn.None,error:void 0,...m?{fee:void 0,realFee:void 0,diesel:void 0}:{},...c})),s||t.setLandscapeActionsActiveTabIndex({index:Un.Transfer})})),qe("changeTransferToken",((e,t,n)=>{let{tokenSlug:a,withResetAmount:o}=n;const{amount:r,tokenSlug:i,nfts:s}=e.currentTransfer;if(!(null!=s&&s.length||a!==i||o))return;const c=i?e.tokenInfo.bySlug[i]:void 0,l=e.tokenInfo.bySlug[a];o?e=Zl(e,{amount:void 0}):r&&(null==c?void 0:c.decimals)!==(null==l?void 0:l.decimals)&&(e=Zl(e,{amount:(0,Lt.UH)((0,Lt.nI)(r,null==c?void 0:c.decimals),null==l?void 0:l.decimals)})),ze(Zl(e,{tokenSlug:a,fee:void 0,realFee:void 0,diesel:void 0,nfts:void 0}))})),qe("setTransferScreen",((e,t,n)=>{const{state:a}=n;return Zl(e,{state:a})})),qe("setTransferAmount",((e,t,n)=>{let{amount:a}=n;return Zl(e,{amount:a})})),qe("setTransferToAddress",((e,t,n)=>{let{toAddress:a}=n;return ad(e,a)})),qe("setTransferComment",((e,t,n)=>{let{comment:a}=n;return Zl(e,{comment:a})})),qe("setTransferShouldEncrypt",((e,t,n)=>{let{shouldEncrypt:a}=n;return Zl(e,{shouldEncrypt:a})})),qe("submitTransferConfirm",(async(e,t)=>{const n=await Ju();mt(e=Ve())?(e=Zl(e=_d(e),{state:Sn.ConnectHardware}),ze(e)):n?(e=Zl(e,{isLoading:!0}),ze(e),t.submitTransferPassword({password:n})):(e=Zl(e,{state:Sn.Password}),ze(e))})),qe("clearTransferError",(e=>{ze(Zl(e,{error:void 0}))})),qe("dismissTransferScamWarning",(e=>{n.KI&&Al("dismissTransferScamWarning"),e=Zl(e,{shouldShowScamWarning:void 0}),ze(e)})),qe("setTheme",((e,t,n)=>{let{theme:a}=n;return{...e,settings:{...e.settings,theme:a}}})),qe("setAnimationLevel",((e,t,n)=>{let{level:a}=n;return{...e,settings:{...e.settings,animationLevel:a}}})),qe("tryAddNotificationAccount",((t,n,a)=>{let{accountId:o}=a;t.pushNotifications.isAvailable&&Object.keys(tt(t)||{}).length<=e.vdF&&n.createNotificationAccount({accountId:o})})),qe("renameNotificationAccount",((e,t,n)=>{let{accountId:a}=n;const{enabledAccounts:o,isAvailable:r}=e.pushNotifications;r&&null!=o&&o[a]&&t.createNotificationAccount({accountId:a})})),qe("toggleNotificationAccount",((t,n,a)=>{let{accountId:o}=a;const{enabledAccounts:r,userToken:i,platform:s}=t.pushNotifications;if(!i||!s)return;const c=r&&r[o];!c&&r&&Qe(r,e.vdF-1)||(c?n.deleteNotificationAccount({accountId:o,withAbort:!0}):n.createNotificationAccount({accountId:o,withAbort:!0}))})),qe("deleteAllNotificationAccounts",(async(e,t,n)=>{const{enabledAccounts:o,userToken:r}=e.pushNotifications;if(!o||!r)return;const i=(null==n?void 0:n.accountIds)||Object.keys(o);await(0,a.p)("unsubscribeNotifications",{userToken:r,addresses:Object.values(xc(e,i))}),e=Ve(),ze(wu(e))}));var Uf=i(41074);const Wf={light:["#31AFC7","#35C759","#FF9500","#FF2C55","#AF52DE","#5856D7","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#1FC863","#929395","#E4B102","#000000"],dark:["#3AB5CC","#32D74B","#FF9F0B","#FF325A","#BF5AF2","#7977FF","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#2CD36F","#C3C5C6","#DDBA00","#FFFFFF"]};function Hf(e,t,n){const a=n?Wf[t][n]:void 0;le((()=>{const t="body"===e?document.body:e.current;t&&(Ns(t,{"--color-accent":a||"inherit","--color-accent-10o":a?`${a}1A`:"inherit","--color-accent-button-background":a||"inherit","--color-accent-button-background-hover":a?`${a}CC`:"inherit","--color-accent-button-text":"#FFFFFF"===a?"#000000":"inherit","--color-accent-button-text-hover":"#FFFFFF"===a?"#000000":"inherit"}),Cs(document.documentElement,"is-white-accent","#FFFFFF"===a))}),[e,a])}async function $f(e){const{mtwCardType:n,mtwCardBorderShineType:a}=e.metadata;if("radioactive"===a)return 13;if("silver"===n)return 14;if("gold"===n)return 15;if("platinum"===n||"black"===n)return 16;const o=Yo(e);if(o)try{return await(0,Uf.M1)({name:"offscreen-canvas:processNftImage",args:[o,1,2]},Math.round(e.index)%Uf.bP)}catch(e){return void(0,t.SJ)("getAccentColorIndexFromNft",e)}}qe("openMintCardModal",(e=>Ad(e,{state:Rn.Initial}))),qe("closeMintCardModal",(e=>({...e,currentMintCard:void 0}))),qe("startCardMinting",((e,t,n)=>{let{type:a}=n;return mt(e)?Ad(e=_d(e),{state:Rn.ConnectHardware}):Ad(e,{state:Rn.Password})})),qe("clearMintCardError",(e=>Ad(e,{error:void 0}))),qe("setCardBackgroundNft",((e,t,a)=>{let{nft:o}=a;n.bA?Sl("setCardBackgroundNft",{nft:o}):(e=Hl(e,{cardBackgroundNft:o}),ze(e))})),qe("clearCardBackgroundNft",(e=>{n.bA?Sl("clearCardBackgroundNft"):(e=Hl(e,{cardBackgroundNft:void 0}),ze(e))})),qe("installAccentColorFromNft",(async(e,t,n)=>{let{nft:a}=n;const o=await $f(a);e=Hl(e=Ve(),{accentColorNft:a,accentColorIndex:o}),ze(e)})),qe("clearAccentColorFromNft",(e=>Hl(e,{accentColorNft:void 0,accentColorIndex:void 0}))),qe("openDomainRenewalModal",(async(e,t,n)=>{var a;let{accountId:o,network:r,addresses:i}=n;if(o&&await Promise.all([Js(),xd(e,o,r)]),!await(0,l.fm)((()=>{var e;return Boolean(null===(e=st(Ve()))||void 0===e||null===(e=e.nfts)||void 0===e?void 0:e.byAddress)}),1e3,30))return;e=Ve();const{byAddress:s}=(null===(a=st(e))||void 0===a?void 0:a.nfts)||{};i=(i||[]).filter((e=>null==s?void 0:s[e])),i.length&&(e=Td(e,{state:Tn.Initial,addresses:i}),ze(e))})),qe("startDomainsRenewal",(e=>mt(e)?Td(e=_d(e),{state:Tn.ConnectHardware}):Td(e,{state:Tn.Password}))),qe("clearDomainsRenewalError",(e=>Td(e,{error:void 0}))),qe("cancelDomainsRenewal",(e=>({...e,currentDomainRenewal:Tl.currentDomainRenewal}))),qe("openDomainLinkingModal",((e,t,n)=>{let{address:a}=n;return Id(e,{state:In.Initial,address:a})})),qe("startDomainLinking",(e=>mt(e)?Id(e=_d(e),{state:In.ConnectHardware}):Id(e,{state:In.Password}))),qe("clearDomainLinkingError",(e=>Id(e,{error:void 0}))),qe("cancelDomainLinking",(e=>({...e,currentDomainLinking:Tl.currentDomainLinking}))),qe("setDomainLinkingWalletAddress",((e,t,n)=>{let{address:a}=n;return Id(e,{walletAddress:a})}));const Vf=e.UMQ?500:5e3,zf=(0,l.nF)((()=>x((()=>Xf()))),Vf,!1),Kf=()=>Xf(!0);let qf,jf,Yf=!1;function Gf(){var e;Yf&&(window.removeEventListener("blur",Kf),null===(e=qf)||void 0===e||e(),function(e){const t=Be.indexOf(e);-1!==t&&Be.splice(t,1)}(zf),Yf=!1)}const Qf=t=>{const n=new Set(Object.keys(e.lfO));if(t.currentAccountId){var a;const e=null===(a=t.byAccountId[t.currentAccountId])||void 0===a?void 0:a.currentTokenSlug;e&&n.add(e)}return Object.values(t.byAccountId).forEach((e=>{const{balances:t,activities:a,staking:o}=e;Object.keys((null==t?void 0:t.bySlug)??{}).forEach((e=>n.add(e))),Object.keys((null==a?void 0:a.byId)??{}).forEach((e=>{on(a.byId[e]).forEach((e=>n.add(e)))})),Object.keys((null==a?void 0:a.idsBySlug)??{}).forEach((e=>n.add(e))),Object.keys((null==o?void 0:o.stateById)??{}).forEach((e=>{n.add(o.stateById[e].tokenSlug)}))})),Array.from(n)};function Xf(t){var n;if(e.UuV||!Yf||!t&&B())return;const a=Ve(),o=(null===(n=a.accounts)||void 0===n?void 0:n.byId)||{},r={...Tl,...(0,c.Up)(a,["currentAccountId","stateVersion","restrictions","pushNotifications","isFullscreen","isManualLockActive","stakingDefault"]),accounts:{byId:o},byAccountId:Jf(a),settings:{...a.settings,byAccountId:(0,c.Up)(a.settings.byAccountId,Object.keys(o))}},i=Qf(r);r.tokenInfo={bySlug:(0,c._E)(a.tokenInfo.bySlug,i)};const s=JSON.stringify(r);localStorage.setItem(e.pge,s)}function Jf(t){return Object.entries(t.byAccountId).reduce(((n,a)=>{var o,r,i;let[s,l]=a;if(null===(o=t.accounts)||void 0===o||!o.byId[s])return n;n[s]=(0,c.Up)(l,["isBackupRequired","currentTokenSlug","currentTokenPeriod","savedAddresses","staking","activeContentTab","landscapeActionsActiveTabIndex","browserHistory","blacklistedNftAddresses","whitelistedNftAddresses","dappLastOpenedDatesByUrl","dapps"]),null!==(r=l.nfts)&&void 0!==r&&r.collectionTabs&&(n[s].nfts={collectionTabs:l.nfts.collectionTabs,wasTelegramGiftsAutoAdded:l.nfts.wasTelegramGiftsAutoAdded});const d=function(t,n){const{currentTokenSlug:a}=ct(t,n)??{},o=(0,c.JY)(Wt(t,n)??[],"slug").slice(0,30);return o.includes(e.Tu9.slug)||o.push(e.Tu9.slug),a&&!o.includes(a)&&o.push(a),o}(t,s);var u,m;return n[s].balances=(m=d,null!=(u=l.balances)&&u.bySlug&&m?{...u,bySlug:(0,c.Up)(u.bySlug,m)}:u),n[s].activities=function(e,t){const{idsBySlug:n,newestActivitiesBySlug:a,byId:o,idsMain:r}=e||{};if(!(t&&n&&o&&r))return;const i=Zf(r,o),s=(0,c.LG)((0,c._E)(n,t),(e=>Zf(e,o))),l=a?(0,c.Up)(a,t):void 0,d=Object.values(s).concat(i).flat();return{byId:(0,c.Up)(o,d),idsMain:i,idsBySlug:s,newestActivitiesBySlug:l}}(l.activities,d),n[s].staking=function(e){let{stakingId:t,stateById:n}=e??{};var a;n&&!Ge(n)&&(n=(0,c.lk)(n,Kd),t&&t in n||(t=null===(a=Object.values(n)[0])||void 0===a?void 0:a.id));return{...e,stateById:n,stakingId:t}}(l.staking),n[s].stakingHistory=null!==(i=l.stakingHistory)&&void 0!==i&&i.length?l.stakingHistory.slice(0,30):void 0,n}),{})}function Zf(e,t){const n=[];let a=0;return e.filter((e=>function(e,t){const n=t[e];return n&&!an(e)&&!fn(n)}(e,t))).forEach((e=>{20!==a&&(t[e].shouldHide||(a+=1),n.push(e))})),n}n.bA||e.UuV||(qe("afterSignIn",(function(){Yf||(Yf=!0,We(zf),qf=(0,l.yu)(Kf,!0),window.addEventListener("blur",Kf),Kf())})),qe("afterSignOut",((t,n,a)=>{Jt(),null!=a&&a.shouldReset&&(jf=(0,c.Up)(t,["swapTokenInfo","tokenInfo","restrictions"]),Gf(),localStorage.removeItem(e.pge))})),qe("cancelCaching",Gf)),qe("init",((t,a)=>{const o=(0,c.mg)(Tl),r=function(t){if(e.UuV)return t;e.Oig&&console.time("global-state-cache-read");const a=localStorage.getItem(e.pge);let o=a?JSON.parse(a,sa.bk):void 0;if(e.Oig&&console.timeEnd("global-state-cache-read"),o)try{!function(t,a){if(t.settings={...a.settings,...t.settings},43!==t.stateVersion){var o;if(t.byAccountId||(t.accounts={byId:{[e.Kih]:{address:t.addresses.byAccountId[e.Kih],title:"Main Account"}}},delete t.addresses,t.byAccountId={},t.byAccountId[e.Kih]={isBackupRequired:Boolean(t.isBackupRequired),currentTokenSlug:t.currentTokenSlug,currentTokenPeriod:t.currentTokenPeriod},"balances"in t&&(t.byAccountId[e.Kih].balances=t.balances.byAccountId[e.Kih],delete t.balances),"transactions"in t&&(t.byAccountId[e.Kih].transactions=t.transactions,delete t.transactions),"nfts"in t&&(t.byAccountId[e.Kih].nfts=t.nfts,delete t.nfts),"savedAddresses"in t&&(t.byAccountId[e.Kih].savedAddresses=t.savedAddresses,delete t.savedAddresses),"backupWallet"in t&&delete t.backupWallet),t.currentAccountId&&t.byAccountId[t.currentAccountId]||!Object.keys(t.byAccountId).length||(t.currentAccountId=Object.keys(t.byAccountId)[0]),t.stateVersion||!t.accounts||Ge(t.accounts)||(t.stateVersion=1),1===t.stateVersion&&(t.stateVersion=2,null!==(o=t.tokenInfo)&&void 0!==o&&o.bySlug&&(t.tokenInfo.bySlug={toncoin:{...t.tokenInfo.bySlug.toncoin,decimals:e.Tu9.decimals}}),t.byAccountId&&Object.values(t.byAccountId).forEach((e=>{var t;null!==(t=e.balances)&&void 0!==t&&t.bySlug&&(e.balances.bySlug=(0,c.Up)(e.balances.bySlug,["toncoin"])),e.transactions&&delete e.transactions}))),2===t.stateVersion){t.stateVersion=3;const n="0",a=e.Kih;if(t.accounts&&n in t.accounts.byId&&(t.currentAccountId===n&&(t.currentAccountId=a),t.accounts.byId[a]=t.accounts.byId[n],delete t.accounts.byId[n],t.byAccountId[a]=t.byAccountId[n],delete t.byAccountId[n]),t.accounts)for(const e of Object.keys(t.accounts.byId)){const n=(0,Ye.zu)({...(0,Ye.cK)(e),network:"testnet"});t.accounts.byId[n]=(0,c.mg)(t.accounts.byId[e]),t.byAccountId[n]={}}}if(3===t.stateVersion&&(t.stateVersion=4,t.byAccountId))for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].transactions;if(4===t.stateVersion&&(t.stateVersion=5,t.staking={state:Pn.None}),5===t.stateVersion&&(t.stateVersion=6,t.byAccountId))for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].transactions;if(6===t.stateVersion&&(t.stateVersion=7,t.byAccountId))for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].transactions;if(7===t.stateVersion){if(t.byAccountId)for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].backupWallet;t.stateVersion=8}if(8===t.stateVersion&&(t.settings&&n.cp&&(t.settings.isDeeplinkHookEnabled=!0),t.stateVersion=9),9===t.stateVersion&&(i(),t.stateVersion=10),10===t.stateVersion&&(void 0===t.settings.areTokensWithNoBalanceHidden&&(t.settings.areTokensWithNoBalanceHidden=!0),t.stateVersion=11),11===t.stateVersion&&(i(),t.stateVersion=12),12===t.stateVersion){if(t.byAccountId)for(const e of Object.keys(t.byAccountId)){delete t.byAccountId[e].activities;const{balances:n}=t.byAccountId[e];n&&(n.bySlug=Object.entries(n.bySlug).reduce(((e,t)=>{let[n,a]=t;return e[n]=BigInt(a),e}),{}))}t.stateVersion=13}if(13===t.stateVersion){const{areTokensWithNoPriceHidden:e,areTokensWithNoBalanceHidden:n}=t.settings;t.settings.areTokensWithNoCostHidden=Boolean(e||n),t.stateVersion=14}if(t.stateVersion>=14&&t.stateVersion<=17&&(i(),t.stateVersion=18),18===t.stateVersion||19===t.stateVersion){for(const e of Object.keys(t.byAccountId))t.byAccountId[e].currentTokenPeriod="1D";t.stateVersion=20}if(t.stateVersion>=20&&t.stateVersion<=22&&(i(),t.stateVersion=23),23===t.stateVersion&&("isSortByValueEnabled"in t.settings||(t.settings.isSortByValueEnabled=a.settings.isSortByValueEnabled),t.stateVersion=24),24===t.stateVersion){if(t.accounts){i();for(const e of Object.values(t.accounts.byId))e.addressByChain={ton:e.address},delete e.address}t.stateVersion=25}if(25===t.stateVersion){if(t.byAccountId)for(const e of Object.keys(t.byAccountId)){const n=t.byAccountId[e].savedAddresses;n&&!("length"in n)&&(t.byAccountId[e].savedAddresses=Object.keys(n).map((e=>({name:n[e],address:e,chain:"ton"}))))}t.stateVersion=26}if(26===t.stateVersion&&(i(),t.stateVersion=27),27===t.stateVersion&&(delete t.settings.dapps,t.stateVersion=28),28===t.stateVersion){const e=Object.keys(t.settings.byAccountId);for(const n of e){const e=t.settings.byAccountId[n].exceptionSlugs;t.settings.areTokensWithNoCostHidden?t.settings.byAccountId[n].alwaysShownSlugs=e:t.settings.byAccountId[n].alwaysHiddenSlugs=e}t.stateVersion=29}if(29===t.stateVersion&&(t.currentTransfer.tokenSlug=e.Tu9.slug,t.stateVersion=30),30===t.stateVersion&&(i(),t.stateVersion=31),31===t.stateVersion&&(t.settings.autolockValue&&"never"!==t.settings.autolockValue&&(t.settings.isAppLockEnabled=!0),t.stateVersion=32),t.stateVersion>=32&&t.stateVersion<=35&&(i(),t.stateVersion=36),36===t.stateVersion){for(const e of Object.values((null===(r=t.accounts)||void 0===r?void 0:r.byId)??{})){var r;e.type=e.isHardware?"hardware":"mnemonic",delete e.isHardware}t.stateVersion=37}if(37===t.stateVersion){for(const e of Object.values(t.tokenInfo.bySlug))e.price||(e.price=0),e.percentChange24h||(e.percentChange24h=0),e.priceUsd||(e.priceUsd=0),e.quote&&delete e.quote;t.stateVersion=38}if(t.stateVersion>=38&&t.stateVersion<=41&&(i(),t.stateVersion=42),41===t.stateVersion){for(const e of Object.keys(t.byAccountId)){const n=t.byAccountId[e];n.dappLastOpenedDatesByOrigin&&(n.dappLastOpenedDatesByUrl=n.dappLastOpenedDatesByOrigin,delete n.dappLastOpenedDatesByOrigin)}t.stateVersion=42}42===t.stateVersion&&(i(),t.stateVersion=43)}function i(){if(t.byAccountId)for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].activities}}(o,t),function(e){if(!e.currentAccountId)return;const{byId:t,newestActivitiesBySlug:n}=e.byAccountId[e.currentAccountId].activities||{};t&&Object.values(t).forEach((e=>{"transaction"===e.kind&&e.isIncoming&&Qt(e)})),n&&Object.values(n).forEach((e=>{"transaction"===e.kind&&e.isIncoming&&Qt(e)}))}(o)}catch(e){console.error(e),o=void 0}return{...t,...jf,...o}}(o);return n.bA?{...o,settings:{...o.settings,theme:r.settings.theme}}:n.Fe?(a.initLedgerPage(),{...o,settings:{...o.settings,theme:r.settings.theme}}):(function(e){return Boolean(e.currentAccountId)}(r)&&a.afterSignIn(),r)})),BigInt.prototype.toJSON=function(){return`${sa.tH}${this.toString()}`};let eh=!1;async function th(){await new Promise((e=>{const t=[];let n=performance.now();(0,d.i0)((()=>{const a=performance.now();if(t.push(a-n),n=a,10===t.length){const n=t.sort()[Math.floor(t.length/2)];return e(Math.round(1e3/n)),!1}return!0}),l.IJ)}))<=35&&function(){eh=!0;const e=document.createElement("div");e.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 100%; overflow: hidden;";const t=document.createElement("div"),n=1.5*window.screen.height;t.style.cssText=`width: 0; height: ${n}px; transform: translateX(100%); transition: transform 100ms;`,t.innerHTML="&nbsp;",e.appendChild(t),document.body.appendChild(e),requestAnimationFrame((()=>{t.addEventListener("transitionend",(()=>{e.remove()})),t.style.transform=""}))}()}let nh=function(e){return e.DEEPLINK="deeplink",e.UPDATE_ERROR="update-error",e.UPDATE_DOWNLOADED="update-downloaded",e}({});const ah=function(){let e,t=!1;const a=function(n){var a;t=!0,null===(a=e)||void 0===a||a.call(this,{...n,preventScroll:!0})},o=()=>{oh(n.Ni&&t),t=!1};return{install(){e||(e=HTMLElement.prototype.focus,HTMLElement.prototype.focus=a,window.addEventListener("focusin",o))},uninstall(){e&&(HTMLElement.prototype.focus=e,e=void 0,window.removeEventListener("focusin",o))}}}();function oh(e){const t=document.activeElement;if(!t)return;const n=t.dataset.focusScrollPosition??"nearest";(0,k.YS)((()=>{t.scrollIntoView({block:n,behavior:e?"instant":"auto"})}))}const rh=n.Fe||n.bA||n.cp||e.tKX,ih=String(Date.now()+Math.random());let sh;rh||localStorage.setItem(e.tOu,ih);const ch=window.setInterval((()=>{!rh&&sh&&localStorage.getItem(e.tOu)!==ih&&(sh(),clearInterval(ch))}),2e3);var lh=i(37448);const dh=(0,Sa.F3)("Filesystem",{web:()=>i.e(956).then(i.bind(i,69956)).then((e=>new e.FilesystemWeb))}),uh=(0,Sa.F3)("Share",{web:()=>i.e(104).then(i.bind(i,78104)).then((e=>new e.ShareWeb))});async function mh(e,t){const n={url:e,title:t};await ph(n)||await fh(n)||(await al(e),Ke().showNotification({message:yr("Link was copied!"),icon:"icon-link"}))}async function ph(t){if(!e.UMQ)return!1;try{return await uh.share(t),!0}catch(e){if(e instanceof Error&&"Share canceled"===e.message)return!0;if(e instanceof Error&&"Can't share while sharing is in progress"===e.message)return!1;throw e}}async function fh(e){if(!n.TF||!navigator.share)return!1;try{return await navigator.share(e),!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return!0;if(e instanceof Error&&"NotAllowedError"===e.name)return!1;throw e}}function hh(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=be(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);return t||null!=e?e:n}const gh={button:"zVKWQb4E",item:"p6wqAx5G",wide:"r6y8uqO8",interactive:"Q9ntFVQX",label:"D1GD_LrJ",light:"soVchDDr",inherit:"wFCZ8RVE",disabled:"pvIBCUiV",dangerous:"pGdKfZ0g",buttonIcon:"N6o0srlb",item_selected:"RsC78CT6",itemSelected:"RsC78CT6",item_with_icon:"U_181tTH",itemWithIcon:"U_181tTH",itemIcon:"Y6vHSLLj",itemMainIcon:"j8oqwmMI",itemOverlayIcon:"Kyq0Mbfk",fontIcon:"YG4KjBia",itemName:"Mj3kpKk7",itemDescription:"SGTt7OqT",delimiter:"MtXTN7mi",delimiterAfter:"K5zqNd8W",dropdownButtonWrapper:"M88J3eDx",spinner:"O6oZGmyS"},vh=fe((function(e){let{item:t,shouldUseSelectedName:n,shouldTranslate:a,prefix:o,suffix:r,className:i,iconClassName:s,iconOverlayClassName:c,fontIconClassName:l,itemClassName:d,itemDescriptionClassName:u,onClick:m}=e;const p=Er(),f=n?t.selectedName??t.name:t.name,h=kr(t.isDisabled&&gh.disabled,t.isDangerous&&gh.dangerous,i);return ge.createElement("button",{type:"button",className:h,disabled:t.isDisabled,onClick:m&&(e=>m(e,t.value))},o,t.icon&&ge.createElement("span",{className:kr("icon",gh.itemIcon,s)},ge.createElement("img",{src:t.icon,alt:"",className:gh.itemMainIcon}),t.overlayIcon&&ge.createElement("img",{src:t.overlayIcon,alt:"",className:kr("icon",gh.itemOverlayIcon,c)})),t.fontIcon&&ge.createElement("i",{className:kr(`icon icon-${t.fontIcon}`,gh.fontIcon,l),"aria-hidden":!0}),ge.createElement("span",{className:kr(gh.itemName,d)},a?p(f):f,!!t.description&&ge.createElement("span",{className:kr(gh.itemDescription,u)},a&&"string"==typeof t.description?p(t.description):t.description)),r)}));function wh(e){return Pr({onEsc:()=>{e()}})}const yh={wrapper:"VydD7Rve",inPortal:"vcuzKHhA",bubble:"mY0hTIiL",top:"FsyRNnQH",bottom:"tkKrx8OR",left:"MvEERemq",right:"y6xJQNRF",backdrop:"gc2eH8vQ",menu:"gtd29jbF",suggestion:"BYQgxGEv",dropdown:"IxGdkmhI"},bh=16,Eh={width:0,left:0,height:0,top:0,right:0,bottom:0};function kh(e,t,n){let{anchor:a,positionX:o="left",positionY:r="top",transformOriginX:i,transformOriginY:s,style:c,bubbleStyle:l}=n;const d=e.current,u=t.current;let m=c;a&&!c&&(m=`left: ${a.x}px; top: ${a.y}px`),m&&(d.style.cssText=m),l&&(u.style.cssText=l),o&&(ks(u,yh.left),ks(u,yh.right),Es(u,yh[o])),r&&(ks(u,yh.top),ks(u,yh.bottom),Es(u,yh[r])),Ns(u,{transformOrigin:[i?`${i}px`:o,s?`${s}px`:r].join(" ")})}const Ch=200,Nh=e=>{let{children:t,isOpen:n,id:a,menuRef:o,className:r,bubbleClassName:i,type:s="menu",autoClose:c=!1,shouldSkipTransition:l,noBackdrop:d=!1,withPortal:u,noCloseOnBackdrop:m=!1,shouldCleanup:p,onCloseAnimationEnd:f,onClose:h,onMouseEnter:g,onMouseLeave:v,...w}=e;const y=me();let b=me();o&&(b=o),function(e,t,n,a){const o=Oo(a);le((()=>{if(!e)return;const a=o.current;!function(e){return"getRootElement"in e}(a)?kh(t,n,a):(0,k.gm)((()=>{const e=function(e){let{anchor:t,getRootElement:n,getMenuElement:a,getTriggerElement:o,getLayout:r,withMaxHeight:i}=e;const s=(null==r?void 0:r())||{},{triggerRect:c,rootRect:l,menuDimensions:d}=function(e){let{getTriggerElement:t,getRootElement:n,getMenuElement:a,layout:o,anchor:r}=e;const i=null==t?void 0:t(),s=n(),c=a(),{extraMarginTop:l=0,menuElMinWidth:d=0}=o,u=i?i.getBoundingClientRect():{...Eh,left:r.x,top:r.y,right:r.x,bottom:r.y},m=s?s.getBoundingClientRect():Eh;let p;if(m.height-=Ra().safeAreaBottom,c){const e=parseInt(getComputedStyle(c).marginTop,10)+l,{offsetWidth:t,offsetHeight:n}=c;p={width:Math.max(t,d),height:n+e,marginTop:e}}else p={width:0,height:0,marginTop:0};return{triggerRect:u,rootRect:m,menuDimensions:p}}({getTriggerElement:o,getRootElement:n,getMenuElement:a,layout:s,anchor:t}),{positionX:u,x:m}=function(e,t,n,a){let o,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"right",i=e.x;return"right"===r?i-n>=t.left+bh?(o="right",i-=3):(o="left",i+=3):i+n<=t.right-bh?(o="left",i+=3):(o="right",i-=3),i+=a,{positionX:o,x:i}}(t,l,d.width,s.deltaX||0,s.preferredPositionX),{positionY:p,y:f}=function(e,t,n,a,o){const{topShiftY:r=0,extraTopPadding:i=0,isDense:s=!1,doNotCoverTrigger:c=!1,preferredPositionY:l}=o;let d,u=e.y;if(c){const e=t.bottom+6+a<=n.bottom,o=t.top-6-a>=n.top;e&&"bottom"!==l?(d="top",u=t.bottom+6):o?(d="bottom",u=t.top-6):(d="bottom",u=n.top+n.height)}else{const e=u+r,o=e+t.height+a<n.height+n.top,c=u-t.height-a>=n.top+i;"bottom"===l&&c||!s&&!o?(d="bottom",c||(u=n.top+n.height)):(d="top",u=e)}return{positionY:d,y:u}}(t,c,l,d.height,s),h=function(e,t,n,a,o,r){const{shouldAvoidNegativePosition:i=!1,withPortal:s=!1,isDense:c=!1,menuElMinWidth:l=0,centerHorizontally:d=!1}=r;let{x:u,y:m}=e;if(d)u=n.left+(n.width-o.width)/2,u=Nr(u,a.left+bh,a.right-o.width-bh),s||(m-=n.top);else{const e=Math.min(u-n.left,a.width-o.width-bh);"left"===t?u=s||i?Math.max(bh,e):e:u-=n.left,s?u+=n.left:m-=n.top}c&&(u=Math.min(u,a.width-o.width-bh),m=Math.min(m,a.height-o.height-bh)),s&&!d&&(u="left"===t?Math.min(u,a.width-o.width-bh):Math.max(u,bh+o.width));const p=l?Math.max(0,(l-(o.width-l))/2):0;return u-p<0&&i&&(u=p+bh),{x:u,y:m}}({x:m,y:f},u,c,l,d,s),g=function(e,t,n,a,o,r){const i=r?{x:a.left,y:a.top}:{x:0,y:0},s=e.x+i.x-a.left-t.x,c=e.y+i.y-a.top-t.y-o.marginTop;return{x:"left"===n.positionX?s:o.width+s,y:"bottom"===n.positionY?o.height+c:c}}(t,h,{positionX:u,positionY:p},c,d,s.withPortal||!1),v=`left: ${h.x}px; top: ${h.y}px; --menu-width: ${d.width}px;`;let w;return i&&(w=`max-height: ${l.height-12-d.marginTop}px;`),{positionX:u,positionY:p,transformOriginX:g.x,transformOriginY:g.y,style:v,bubbleStyle:w}}(a);return()=>{kh(t,n,e)}}))}),[e,t,n,o])}(n,y,b,w),Ui({isActive:Boolean(n&&h),onBack:h,shouldBeReplaced:!0});const{shouldRender:E}=Ls({isOpen:n,ref:b,onCloseAnimationEnd:f,noMountTransition:l,noCloseTransition:l,withShouldRender:!0});ce((()=>n&&h?wh(h):void 0),[n,h]),ci((e=>{let[t]=e;(n||!n&&!0===t)&&_(Ch)}),[n]),function(e,t,n){ce((()=>{const a=e=>{const a=t.current,o=e.target;a&&o&&(a.contains(e.target)&&!o.classList.contains(yh.backdrop)||(e.preventDefault(),e.stopPropagation(),n&&n()))};return e&&n&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}}),[e,t,n])}(n&&!d,y,m?void 0:h);const C=kr(yh.bubble,i,"menu-bubble",yh[s]);if(p&&!E)return;const N=ge.createElement("div",{ref:y,id:a,className:kr(yh.wrapper,r,u&&yh.inPortal),onMouseEnter:g,onMouseLeave:n?v:void 0},n&&!d&&ge.createElement("div",{className:yh.backdrop,onClick:Co}),ge.createElement("div",{ref:b,className:C,onClick:c?h:void 0},t));return u?ge.createElement(Us,null,N):N};function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sh.apply(null,arguments)}const Ah=fe((function(e){let{isOpen:t,ref:n,selectedValue:a,items:o,withPortal:r,menuAnchor:i,menuPositionX:s,menuPositionY:c,shouldTranslateOptions:l,className:d,bubbleClassName:u,buttonClassName:m,iconClassName:p,fontIconClassName:f,itemDescriptionClassName:h,shouldCleanup:g,onSelect:v,onClose:w,getTriggerElement:y,getRootElement:b,getMenuElement:E,getLayout:k,onCloseAnimationEnd:C}=e,N=me();n&&(N=n);const S=i&&y&&b&&E?{anchor:i,getTriggerElement:y,getRootElement:b,getMenuElement:E,getLayout:k}:i&&b&&E?{anchor:i,getRootElement:b,getMenuElement:E,getLayout:k,positionX:s,positionY:c}:{anchor:i,positionX:s,positionY:c},A=Po(((e,t)=>{e.stopPropagation(),null==v||v(t,e),w()}));return ge.createElement(Nh,Sh({menuRef:N,isOpen:t,type:"dropdown",withPortal:r,className:d,bubbleClassName:u,shouldCleanup:g,onClose:w,onCloseAnimationEnd:C},S),o.map(((e,t)=>{const n=kr(gh.item,(e.icon||e.fontIcon)&&gh.item_with_icon,e.withDelimiter&&t>0&&gh.delimiter,e.withDelimiterAfter&&gh.delimiterAfter,a===e.value&&gh.item_selected,m,"capture-scroll");return ge.createElement(vh,{key:e.value,item:e,shouldTranslate:l,className:n,iconClassName:p,fontIconClassName:f,itemClassName:"menuItemName",itemDescriptionClassName:h,onClick:A})})))})),Th=fe((function(e){let{title:t,className:n,withNotch:a,closeClassName:o,menuItems:r,onClose:i,onBackButtonClick:s,onMenuItemClick:c}=e;const l=Er(),d=me(),u=me(),[m,p]=ie(),f=Boolean(null==r?void 0:r.length),h=Boolean(m),g=Po((()=>u.current)),v=Po((()=>document.body)),w=Po((()=>d.current)),y=Po((()=>({withPortal:!0}))),b=Po((()=>p(void 0))),E=Po((()=>{if(h)b();else{const{right:e,y:t,height:n}=u.current.getBoundingClientRect();p({x:e,y:t+n})}}));return ge.createElement("div",{className:kr(Ws.header,"with-notch-on-scroll",a&&"is-scrolled",!s&&Ws.header_wideContent,n,h&&"is-menu-open")},s&&ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:s,className:Ws.header_back},ge.createElement("i",{className:kr(Ws.header_backIcon,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),void 0!==t&&ge.createElement("div",{className:kr(Ws.title,Ws.singleTitle)},t),f&&ge.createElement(Rs,{ref:u,isSimple:!0,className:kr(Ws.menuButton,o),ariaLabel:l("Menu"),onClick:E},ge.createElement("i",{className:kr(Ws.menuIcon,"icon-menu-dots"),"aria-hidden":!0})),i&&ge.createElement(Rs,{isRound:!0,className:kr(Ws.closeButton,o),ariaLabel:l("Close"),onClick:i},ge.createElement("i",{className:kr(Ws.closeIcon,"icon-close"),"aria-hidden":!0})),f&&ge.createElement(Ah,{isOpen:h,ref:d,items:r,withPortal:!0,shouldTranslateOptions:!0,menuPositionX:"right",menuAnchor:m,getTriggerElement:g,getRootElement:v,getMenuElement:w,getLayout:y,onSelect:c,onClose:b}))})),Ih={"tonscan.org":"TON Explorer","multisend.mytonwallet.io":"Multi-Send","localhost:4323":"Multi-Send"},Bh=[{value:"reload",name:"Reload",fontIcon:"menu-reload"},{value:"openInBrowser",name:"Open in Browser",fontIcon:"menu-globe"},{value:"copyUrl",name:"Copy Link",fontIcon:"menu-copy"},{value:"close",name:"Close",fontIcon:"menu-close",withDelimiter:!0}],_h=fe(je((e=>{const{currentBrowserOptions:t}=e;return{url:null==t?void 0:t.url,title:null==t?void 0:t.title}}))((function(t){let{url:n,title:a}=t;const{closeBrowser:o,showNotification:r}=Ke(),i=Er(),s=me(),{setupDappBridge:c}=function(t){const n=me(),a=Po((a=>{var o;null===(o=n.current)||void 0===o||o.call(n);const r=a.target;n.current=(0,To.kB)(Lo(t),new URL(t).origin,r.contentWindow,e.hUJ)}));return ce((()=>{if(t)return()=>{var e;null===(e=n.current)||void 0===e||e.call(n)}}),[t]),{setupDappBridge:a}}(n),l=de((()=>n&&new URL(n).host),[n]),d=hh(a||l&&(Ih[l]||l)),u=Po((e=>{if(n)switch(e){case"reload":s.current&&(s.current.src=s.current.src);break;case"openInBrowser":ec(n,{isExternal:!0});break;case"copyUrl":al(n),r({message:i("URL was copied!"),icon:"icon-copy"});break;case"share":mh(n,d);break;case"close":o()}}));return ge.createElement(Ys,{isOpen:Boolean(n),dialogClassName:"sszvWMpD",onClose:o},ge.createElement(Th,{title:d,menuItems:Bh,onMenuItemClick:u,className:"ndvLaNkq"}),ge.createElement("iframe",{ref:s,title:d,src:n,className:"qm6h4mWP",allow:"web-share; clipboard-write",onLoad:c}))})));function xh(e,t){let{rootRef:n,throttleMs:a,throttleScheduler:o,debounceMs:r,shouldSkipFirst:i,margin:s,threshold:c,isDisabled:d}=e;const u=me(),m=me(),p=me(0),f=me();m.current=t;const h=Po((()=>{p.current++})),g=Po((()=>{p.current&&(p.current--,!p.current&&f.current&&(f.current(),f.current=void 0))}));Ep(h,g),ce((()=>{if(!d)return()=>{u.current&&(u.current.observer.disconnect(),u.current.callbacks.clear(),u.current=void 0)}}),[d]);const v=Po(((e,t)=>{u.current||function(){const e=new Map,t=new Map;let d;function h(){if(p.current)return void(f.current=d);const n=Array.from(t.values());n.forEach((t=>{const a=e.get(t.target);a&&a(t,n)})),m.current&&m.current(n),t.clear()}d="function"==typeof o?(0,l.nb)(o,h):a?(0,l.nF)(h,a,!i):r?(0,l.sg)(h,r,!i):h;const g=new IntersectionObserver((e=>{e.forEach((e=>{t.set(e.target,e)})),p.current?f.current=d:d()}),{root:null==n?void 0:n.current,rootMargin:s?`${s}px`:void 0,threshold:c});u.current={observer:g,callbacks:e}}();const d=u.current;return d.observer.observe(e),t&&d.callbacks.set(e,t),()=>{t&&d.callbacks.delete(e),d.observer.unobserve(e)}}));return{observe:v,freeze:h,unfreeze:g}}function Dh(e,t,n){const[a,o]=pe(!t);return function(e,t,n){const a=Po(n);ce((()=>t?t(e.current,a):void 0),[a,t,e])}(e,t,(e=>{o(e.isIntersecting),n&&n(e)})),a}let Lh;const Oh=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Po(e);ce((()=>{if(void 0===t)return;const e=setInterval(a,t);return n||a(),()=>clearInterval(e)}),[t,a,n])},Ph=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const a=Po(e);ce((()=>{if("number"==typeof t)return(0,l.Gf)(t,a)}),[t,a,...n])},Mh="T1ztMNGQ",Fh=i.p+"app-inactive.e835efd0bf0191aaa6ab.png",Rh=i.p+"app-inactive.70579bd9a710cd418aff.webp",Uh=function(){const t=Er(),n=Po((()=>{window.location.reload()}));return ge.createElement("div",{className:"cFGCnqcA"},ge.createElement("div",{className:"sRTywfr2"},ge.createElement("picture",{className:Mh},ge.createElement("source",{src:Rh}),ge.createElement("img",{src:Fh,alt:"",className:Mh})),ge.createElement("h3",{className:"UervEVFY"},t("Such error, many tabs")),ge.createElement("div",{className:"rO8yQetD"},Qo(t("$many_tabs_error_description",{app_name:e.C39}))),ge.createElement("div",{className:"u6bKEBnR"},ge.createElement(Rs,{isText:!0,className:"eymlW7_B",onClick:n},t("Reload App")))))};function Wh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const[t,n]=ie(!0),[a,o]=ie(!0);return{isAtBeginning:t,isAtEnd:a,isScrolled:!t,handleScroll:Po((t=>{const{scrollHeight:a,scrollTop:r,clientHeight:i}=t.target;n(r<e),o(a-r-i<e)}))}}const Hh={root:"YO7I0Ma0"},$h={"🥷":"1f977","🦄":"1f984","⚠️":"26a0"},Vh=new Set,zh=fe((function(e){let{from:t}=e;const n=t in $h?$h[t]:t,a=`./emoji/${n}.png`,[o,r]=Ru(Vh.has(a)),i=mp(o),s=Po((()=>{r(),Vh.add(a)}));return ge.createElement("img",{ref:i,src:a,alt:t,className:kr(Hh.root,Hh[`key-${n}`]),onLoad:s})})),Kh={wrapper:"T7fZ5IMk",slide:"syDfunZP",modalDialog:"xRqyv_rX",header:"aDfdss28",withTopSpace:"dtjdV8GY",nestedTransition:"jX5Ya3FK",transitionContainer:"yVzk5dwl",developerCloseButton:"yn74reot",onlyTextHeader:"CgjtBlIK",headerInsideModal:"eFeOVzRI",languageHeader:"ZrejUKsI",headerBack:"ehDj7x2p",isInsideModal:"Wccw6pgw",hidden:"yTnK4aVo",iconChevron:"Qea3kUMy",headerBackInContent:"zvnNb8eo",headerTitle:"aZVKC5O6",modalHeader:"vwHnpdwF",content:"rgMxxE39",content_noScroll:"lh0I5gIh",contentNoScroll:"lh0I5gIh",withBottomSpace:"cjfvEx15",contentInModal:"ug6WizbB",contentFullSize:"BpFwAWae",blockTitle:"dBOj5NnG",menuIcon:"M1WSmGuc",themeWrapper:"cfK5v5m1",blockAbout:"yuZIbS8n",theme:"N5nUfRHH",theme_active:"eTa03cXj",themeActive:"eTa03cXj",themeIcon:"tZRnZj9J",themeIcon_active:"eEiBESrS",themeIconActive:"eEiBESrS",themeImg:"H_nvpBU5",colorList:"ftMWz1de",colorButton:"OaFvanYP",colorButtonCurrent:"GthJhaus",iconLock:"n1s4Ycb6",iconLockInverted:"r9kXSmsP",subBlockAsButton:"ImElqofC",block:"wJjymc4L",text:"sU0zQDmb",settingsBlockWithDescription:"xosGoD5d",settingsBlock:"_0TWKZFz4",iconChevronRight:"RHurCQ9b",iconQuestion:"CLKLBCVt",item:"o1nQhJ_F",draggable:"k2juknci",item_red:"yYJCYbbd",itemRed:"yYJCYbbd",item_small:"cC1nd9dM",itemSmall:"cC1nd9dM",item_lang:"kIWs2Jxk",itemLang:"kIWs2Jxk",item_wallet_version:"tTZZHEdN",itemWalletVersion:"tTZZHEdN",item_token:"LMTs4OeN",itemToken:"LMTs4OeN",item_disabled:"F3nzrEuV",itemDisabled:"F3nzrEuV",itemAutoLock:"TAmUTusj",itemInfo:"S5Kk31wp",small:"gq4usdgr",version:"oGJ2X15D",languageMain:"cIO_6vYD",languageNative:"NGS7pE5c",wideTooltip:"xZy_xEHS",disconnectButton:"Wu3RiwSF",dapps:"eyE78PWW",changePasswordButton:"xBpPU4Jb",passwordFormContent:"KQuDNpn5",passwordFormContentInModal:"OzmF3O5t",sticker:"aMwtPBfB",blockDescription:"HuH8igQi",emptyList:"ThoQya6m",emptyListTitle:"lek7Y5aS",dapp:"xc0VaBDP",backButton:"QlOjly_V",logo:"LQ5MMcSf",stickerNativeBiometric:"nLxfZG3p",pinPadHeader:"tnqhb1Qi",pinPadHeaderMinified:"K1fiksuZ",pinPadTitle:"MxOcmI0_",title:"sDP2AWSj",titleLink:"r7iIIH6q",heading:"Sh2kuIH2",github:"dBqNllGm",telegram:"sggkOqTT",tokenSortIcon:"V7Nh7XEi",tokenTitle:"wkk1b7Dc",tokenDescription:"cv6gw8az",tokenAmount:"BekK0Dwp",dot:"Zfi1H_we",dotLarge:"LIr9yHMx",contentRelative:"EiFz4WrA",sortableContainer:"zmQzVO7l",modalDialogWeb:"E67Qdj_t",modalContent:"mjHzkDZB",deleteText:"d8sxNodF",languageInfo:"AXAMGE3T",tokenInfo:"ll1f03qi",stickerAndTitle:"upR_yI1c",sideTitle:"atPnEcVz",aboutFooterWrapper:"EYMlspWb",aboutFooterContent:"U1sbe5pk",blockWalletVersionText:"poUctQOF",walletVersionInfo:"spNULnGc",walletVersionInfoRight:"Ez0t7GFF",walletVersionTitle:"DbBBKMBg",walletVersionTokens:"DUzHgWKY",walletVersionAddress:"xPrZcrFZ",walletVersionAmount:"nvPRmXTF",blockWalletVersionReadMore:"g3U3zj6y",nftPrimaryCell:"zpLwMrPQ",nftName:"JHu8TtpB",nftCollection:"mbtZbU1u",nftImage:"pifBd9KV",nftButtonUnhide:"_o8QIssq",account:"TXe6O6ZF",accountDisabled:"vf82b5zy"},qh=fe((function(t){let{isActive:n,isInsideModal:a,theme:o,headerClassName:r,handleBackClick:i}=t;const s=Er();Ui({isActive:n,onBack:i});const{handleScroll:c,isScrolled:l}=Wh(),d="light"===gf(o)?Nf:Cf,u=s("$about_extension_link_text",{app_name:e.C39});return ge.createElement("div",{className:Kh.slide},a?ge.createElement(Th,{title:s("About %app_name%",{app_name:e.C39}),withNotch:l,onBackButtonClick:i,className:Kh.modalHeader}):ge.createElement("div",{className:kr(Kh.header,r,"with-notch-on-scroll",l&&"is-scrolled")},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:i,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,s("Back"))),ge.createElement("span",{className:Kh.headerTitle},s("About %app_name%",{app_name:e.C39}))),ge.createElement("div",{className:kr(Kh.content,a&&"custom-scroll",!a&&Kh.content_noScroll),onScroll:a?c:void 0},ge.createElement("img",{src:d,alt:s("Logo"),className:Kh.logo}),ge.createElement("h2",{className:Kh.title},e.C39," ",e.hl5," ",e.vOV,!e.TI6&&ge.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",className:Kh.titleLink,rel:"noreferrer"},"mytonwallet.io")),ge.createElement("div",{className:kr(Kh.blockAbout,!a&&"custom-scroll")},ge.createElement("p",{className:Kh.text},Qo(s("$about_description1"))),ge.createElement("p",{className:Kh.text},Qo(s("$about_description2"))),e.hL1?ge.createElement(ge.Fragment,null,ge.createElement("h3",{className:kr(Kh.text,Kh.heading)},ge.createElement(zh,{from:"🥷"})," ",s("What is TON Proxy?")),ge.createElement("p",{className:Kh.text},Qo(s("$about_extension_description1"))," ",ge.createElement("a",{href:"https://telegra.ph/TON-Sites-TON-WWW-and-TON-Proxy-09-29-2",target:"_blank",rel:"noopener noreferrer"},s("More info and demo."))),ge.createElement("h3",{className:kr(Kh.text,Kh.heading)},ge.createElement(zh,{from:"🦄"})," ",s("What is TON Magic?")),ge.createElement("p",{className:Kh.text},Qo(s("$about_extension_description2"))),ge.createElement("p",{className:Kh.text},s("$about_extension_description3")," ",ge.createElement("a",{href:"https://telegra.ph/Telegram--TON-11-10",target:"_blank",rel:"noopener noreferrer"},s("More info and demo.")))):ge.createElement(ge.Fragment,null,ge.createElement("h3",{className:kr(Kh.text,Kh.heading)},s("$about_proxy_magic_title",{ninja:ge.createElement(zh,{from:"🥷"}),unicorn:ge.createElement(zh,{from:"🦄"})})),ge.createElement("p",{className:Kh.text},s("$about_proxy_magic_description",{extension_link:ge.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",rel:"noreferrer"},Qo(u))}))),ge.createElement("h3",{className:kr(Kh.text,Kh.heading)},ge.createElement("i",{className:kr(Kh.github,"icon-github"),"aria-hidden":!0})," ",s("Is it open source?")),ge.createElement("p",{className:Kh.text},s("$about_wallet_github",{github_link:ge.createElement("a",{href:e.V3_,target:"_blank",rel:"noreferrer"},Qo(s("$about_github_link_text")))})),ge.createElement("h3",{className:Kh.heading},ge.createElement("i",{className:kr(Kh.telegram,"icon-telegram"),"aria-hidden":!0})," ",s("Is there a community?")),ge.createElement("p",{className:Kh.text},s("$about_wallet_community",{community_link:ge.createElement("a",{href:"ru"===s.code?"https://t.me/MyTonWalletRu":"https://t.me/MyTonWalletEn",target:"_blank",rel:"noreferrer"},Qo(s("$about_community_link_text")))}))),ge.createElement("div",{className:Kh.aboutFooterWrapper},ge.createElement("div",{className:Kh.aboutFooterContent},ge.createElement("a",{href:"https://mytonwallet.io/terms-of-use",target:"_blank",rel:"noreferrer",onClick:nc},s("Terms of Use")),ge.createElement("i",{className:Kh.dotLarge,"aria-hidden":!0}),ge.createElement("a",{href:"https://mytonwallet.io/privacy-policy",target:"_blank",rel:"noreferrer",onClick:nc},s("Privacy Policy"))))))})),jh={wrapper:"ULZ34zm7",transitionContainer:"IpdZLqJd",transitionSlide:"XE9A_oIT",container:"PaAMLiEx",container_scrollable:"Kl8WYoh1",containerScrollable:"Kl8WYoh1",container_password:"UbkFqyhU",containerPassword:"UbkFqyhU",containerAlignTop:"kjX3jz7x",containerFullSize:"TyvpW2dz",aboutHeader:"fW4ULVz8",logo:"ehC1Upu8",appName:"IDG3Q9do",title:"GWv6k9kV",title_afterSmallSticker:"A9um3wzK",titleAfterSmallSticker:"A9um3wzK",titleSmallMargin:"XUVoSlvz",infoBlock:"PxIcz2Ce",text:"ehvMomrX",informationCheckbox:"EnuqqZk3",informationCheckboxContent:"GFpWMNm5",info:"WrpQj6v4",info_push:"I7MJaI4h",infoPush:"I7MJaI4h",info__space:"D8smEaJr",infoSpace:"D8smEaJr",infoPull:"NnW2gTZ2",infoSmallFont:"NNleMmCd",counter:"BMrG2A2B",counterTitle:"IFpNJ6G4",counterDigit:"FvuWBVMK",small:"I1fhFmAn",sticker:"hkc_A2ok",viewModeSticker:"lD3yvgO7",stickerAndTitle:"I_XB4JzC",backupNotice:"jSFFHbPH",backupNoticeButtons:"kUt_RfrB",modalSticker:"oxNcdksx",form:"VKREIrDv",formWidgets:"Vj7_u12z",passwordForm:"Stc9sPH6",errors:"vozeQrSV",passwordRules:"usE91GiK",passwordRule:"zwUB1a_J",valid:"tAmeBNo9",error:"B8vH7CYQ",buttons:"ODle5ROH",buttons__inner:"oNN6ymiQ",buttonsInner:"oNN6ymiQ",footerButton:"sarw89g5",btn:"SWvNin2D",btn_push:"W1k0H_HF",btnPush:"W1k0H_HF",btn_text:"qoCa264k",btnText:"qoCa264k",btn_about:"hc6SmKii",btnAbout:"hc6SmKii",btn_wide:"nfn0Ol3p",btnWide:"nfn0Ol3p",btn_mini:"Q2imCrap",btnMini:"Q2imCrap",btn_single:"uEEAE1sZ",btnSingle:"uEEAE1sZ",btnHalfWidth:"X7zz6SZl",modalDialog:"fGexmyHI",privateKey:"q7ZIxYSc",importingContent:"NH8rGjmE",footerError:"BZGziOTc",importButtonsBlock:"NM17kdjV",importButtonsBlockSimple:"PPE4xSFG",importText:"MHwkgrIZ",importButtons:"dYD_CpfV",biometricsStep:"t3qgjBKg",warning:"bs9tLaLO",biometricsError:"Es3mlsbs",stepTransition:"POUbGjea",passwordFormContainer:"t9A5nUYe",header:"iowmPhKV",headerTitle:"x58Cmt9r",pinPadHeader:"yHcMeGVS",headerBack:"ZzxVO58v",headerBackBlock:"NVF8z8CV",iconChevron:"vP8i059j",biometricsIcon:"ss3uFaAC",biometricsTitle:"VTH_ATCk",biometricsSubtitle:"C3vZhdz7",actionsSection:"Lfkf9AW5",importModalContent:"vb2ESy1T",disclaimerBackupDialog:"ZjhuaYXI"},Yh=fe((function(e){let{isActive:t,isLoading:n,error:a,method:o}=e;const{resetAuth:r,cleanAuthError:i,addAccount:s}=Ke(),c=Er(),l="createAccount"!==o,d=Po((e=>{s({method:l?"importMnemonic":"createAccount",password:e,isAuthFlow:!0})}));return ge.createElement("div",{className:kr(jh.container,jh.container_scrollable,"custom-scroll")},ge.createElement(ff,{isActive:t,isLoading:n,error:a,containerClassName:jh.passwordForm,submitLabel:c("Send"),cancelLabel:c("Back"),onSubmit:d,onCancel:r,onUpdate:i},ge.createElement("div",{className:jh.title},c("Enter your password"))))})),Gh={suggestions:"wSbrkEKB",bottom:"YGdWEJ33",top:"jKY8_1nT",suggestion:"MtG_CWxm",active:"kdLCV21p"},Qh=fe((function(e){let{position:t="bottom",suggestions:n,activeIndex:a,isInModal:o,onSelect:r}=e;const i=Er(),s=e=>{e.preventDefault();const t=e.target.innerText.trim();r(t)};return n.length?ge.createElement("ul",{className:kr(Gh.suggestions,Gh[t],o&&Gh.embedded)},n.map(((e,t)=>ge.createElement("li",{key:e,role:"button",tabIndex:0,className:kr(Gh.suggestion,t===a&&Gh.active),onMouseDown:s},e)))):ge.createElement("div",{className:Gh.suggestions},ge.createElement("li",{className:Gh.suggestion},i("No suggestions, you're on your own!")))})),Xh={wrapper:"fZW_3WXP",wrapper_focus:"sqh1ynr8",wrapperFocus:"sqh1ynr8",wrapper_error:"z4J8kfq3",wrapperError:"z4J8kfq3",input:"L1vlW70a",label:"Qg48sdUG"},Jh=fe((function(t){let{id:n,nextId:o,labelText:r,className:i,value:s="",isInModal:c,suggestionsPosition:l,inputArg:d,onInput:u,onEnter:m}=t;const[p,f,h]=Ru(),[g,v]=ie(!1),[w,y]=ie([]),[b,E]=ie(0),[C,N]=ie(!1),[S,A]=ie([]),T=C&&s&&w.length>0;ce((()=>{(0,a.p)("getMnemonicWordList").then((e=>A(e??[])))}),[]),ce((()=>{const t=!s||C&&w.length>0||function(t,n){return t.length===e.PcM||n.includes(t)}(s,S);v(!t)}),[C,w.length,s,S]);const I=e=>{const t=S.filter((t=>t.toLowerCase().startsWith(e.toLowerCase()))).slice(0,7);u(e,d),y(t),E(0),N(!0)},B=Po((e=>{if(!s)return;m&&!C&&m();const t=w[b];t&&(u(t,d),y([t]),E(0),N(!1),C&&e.preventDefault(),o&&(0,k.YS)((()=>{(0,k.YS)((()=>{const e=document.getElementById(o);null==e||e.focus(),null==e||e.select()}))})))}));ce((()=>p?Pr({onEnter:B,onTab:e=>{e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||B(e)},onUp:()=>{b>0&&E(b-1)},onDown:()=>{b<w.length-1&&E(b+1)}}):void 0));const _=Po((e=>{u(e,d),N(!1),E(0),y([]),o&&(0,k.YS)((()=>{(0,k.YS)((()=>{const e=document.getElementById(o);null==e||e.focus(),null==e||e.select()}))}))}));return ge.createElement("div",{className:kr(Xh.wrapper,i,p&&Xh.wrapper_focus,g&&Xh.wrapper_error)},T&&ge.createElement(Qh,{suggestions:w,activeIndex:b,position:l,isInModal:c,onSelect:_}),ge.createElement("label",{className:Xh.label,htmlFor:n},r,"."),ge.createElement("input",{id:n,className:kr(Xh.input,""!==s&&Xh.touched),type:"text",autoCapitalize:"none",autoComplete:"off",autoCorrect:!1,spellCheck:!1,onChange:e=>{const t=e.target.value;I(t)},onFocus:e=>{I(e.target.value),f()},onBlur:e=>{e.target.blur(),h(),requestAnimationFrame((()=>{N(!1),y([])}))},onPaste:e=>{const t=e.clipboardData.getData("text");t&&I(t)},value:s,tabIndex:0,"data-focus-scroll-position":"top"===l?"end":"start"}))})),Zh="L6u18JBd",eg="NvN6uNIF",tg="u7rnL9q6",ng="o4FCVeIa",ag="jCCt2XRK",og="pfd8fIrT",rg=fe((function(t){var n;let{isActive:a,isInModal:o,checkIndexes:r,mnemonic:i,descriptionClassName:s,formClassName:l,errorClassName:d,onSubmit:u}=t;const m=Er(),[p,f]=ie({}),[h,g]=ie(!1),v=Po((e=>{e.preventDefault();const t=i&&(null==r?void 0:r.map((e=>i[e])));t&&(0,c.k)(t,Object.values(p))?u():g(!0)}));ce((()=>{a&&(f({}),g(!1))}),[a]);const w=Po(((e,t)=>{f({...p,[t]:null==e?void 0:e.toLowerCase()})}));return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:s},Qo(m("$mnemonic_check_words_list",null==r||null===(n=r.map((e=>e+1)))||void 0===n?void 0:n.join(", ")))),ge.createElement("form",{className:l,onSubmit:v,id:"check_mnemonic_form"},r.map(((t,n)=>ge.createElement(Jh,{key:t,id:`check-mnemonic-${n}`,nextId:n+1<e.ow1?`check-mnemonic-${n+1}`:void 0,labelText:`${t+1}`,value:p[t],isInModal:o,suggestionsPosition:n<=1?"bottom":"top",inputArg:t,className:"_YK5KiZw",onInput:w})))),h&&ge.createElement("div",{className:d},Qo(m("$mnemonic_check_error"))))})),ig=fe((function(t){let{isActive:n,checkIndexes:a,mnemonic:o}=t;const{closeCheckWordsPage:r}=Ke(),i=Po((()=>{r({isBackupCreated:!0})})),s=Er();return ge.createElement(ge.Fragment,null,ge.createElement(Lp,{tgsUrl:rp.bill,previewUrl:rp.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:Zh}),ge.createElement("p",{className:kr(ng,og)},Qo(s("$check_words_description"))),ge.createElement(rg,{descriptionClassName:kr(ng,og),formClassName:"ftYLMV0R",isActive:n,mnemonic:o,checkIndexes:a,errorClassName:"WeqRS7VQ",onSubmit:i}),ge.createElement("div",{className:eg},ge.createElement(Rs,{isPrimary:!0,forFormId:"check_mnemonic_form",className:tg},s("Continue"))))})),sg=fe((e=>{let{isActive:t,mnemonic:n,checkIndexes:a}=e;const{openMnemonicPage:o}=Ke(),r=Er();return Ui({isActive:t,onBack:o}),ge.createElement("div",{className:jh.wrapper},ge.createElement("div",{className:kr(jh.container,"custom-scroll")},ge.createElement("div",{className:jh.header},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:o,className:jh.headerBackBlock},ge.createElement("i",{className:kr(jh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back"))),ge.createElement("span",{className:jh.headerTitle},r("Let's Check!"))),ge.createElement(ig,{isActive:t,mnemonic:n,checkIndexes:a})))})),cg=Ba.Z2,lg=fe((function(e){let{isActive:t,biometricsStep:n,error:a,isLoading:o}=e;const{afterCreateBiometrics:r,resetAuth:i,cancelCreateBiometrics:s}=Ke();Ph(r,t?cg:void 0,[t]);const c=Er(),l=Boolean(n),d=Boolean(a&&!l),u=hh(a,!0);return Ui({isActive:t,onBack:i}),ge.createElement("div",{className:kr(jh.container,jh.container_scrollable,"custom-scroll")},ge.createElement(Lp,{play:t,tgsUrl:rp.guard,previewUrl:rp.guardPreview,noLoop:!1,nonInteractive:!0,className:jh.sticker}),ge.createElement("div",{className:jh.title},c("Turn On Biometrics")),l&&ge.createElement("div",{className:jh.biometricsStep},c(1===n?"Step 1 of 2. Registration":"Step 2 of 2. Verification")),d&&ge.createElement("div",{className:kr(jh.biometricsError)},ge.createElement("div",null,c(u||"Unknown error")),ge.createElement("div",null,c("Please try to confirm your biometrics again"))),ge.createElement("div",{className:jh.buttons},ge.createElement("div",{className:jh.buttons__inner},ge.createElement(Rs,{isDisabled:Boolean(n)||o,className:kr(jh.btn,jh.btnHalfWidth),onClick:s},c("Cancel")),d&&ge.createElement(Rs,{isPrimary:!0,className:kr(jh.btn,jh.btnHalfWidth),isDisabled:Boolean(n)||o,onClick:r},c("Try Again")))))})),dg=fe(je((e=>({pin:e.auth.password})))((t=>{let{isActive:n,method:a,pin:o}=t;const{confirmPin:r,cancelConfirmPin:i}=Ke(),s=Er(),[c,d]=ie(""),[u,m]=ie(""),[p,f]=ie(!1),h="createAccount"!==a,g=Po((()=>{i({isImporting:h})}));Ui({isActive:n,onBack:g}),ce((()=>{n&&(d(""),m(""),f(!1))}),[n]);const v=Po((e=>{d(e),m("")})),w=Po((async e=>{e===o?(f(!0),await(0,l.v7)(1500),r({isImporting:h})):m(s("Codes don't match"))}));return ge.createElement("div",{className:kr(jh.container,jh.containerFullSize)},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:g,className:jh.headerBack},ge.createElement("i",{className:kr(jh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,s("Back"))),ge.createElement("div",{className:jh.pinPadHeader},ge.createElement(Lp,{play:n,tgsUrl:rp.guard,previewUrl:rp.guardPreview,noLoop:!1,nonInteractive:!0}),ge.createElement("div",{className:jh.title},s(h?"Wallet is imported!":"Wallet is ready!"))),ge.createElement(cf,{isActive:n,title:p?s("Code set successfully"):u||s("Enter your code again"),type:p?"success":u?"error":void 0,length:e.NEx,value:c,onChange:v,onSubmit:w}))}))),ug=fe((function(t){let{isActive:n}=t;const{skipCheckMnemonic:a,openAuthBackupWalletModal:o,resetAuth:r}=Ke(),i=Er();Ui({isActive:n,onBack:r});const s=!e.p8S;return ge.createElement("div",{className:jh.wrapper},ge.createElement("div",{className:kr(jh.container,"custom-scroll")},ge.createElement("div",{className:jh.header},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:r,className:jh.headerBackBlock},ge.createElement("i",{className:kr(jh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("span",{className:jh.headerTitle}," ")),ge.createElement(Lp,{play:n,tgsUrl:rp.snitch,previewUrl:rp.snitchPreview,noLoop:!1,nonInteractive:!0,className:jh.sticker}),ge.createElement("div",{className:jh.title},i("Create Backup")),ge.createElement("div",{className:jh.info},ge.createElement("p",{className:jh.info__space},Qo(i("$auth_backup_description1"))),ge.createElement("p",null,Qo(i("$auth_backup_description2"))),ge.createElement("p",null,Qo(i("$auth_backup_description3")))),ge.createElement("div",{className:jh.buttons},ge.createElement(Rs,{isPrimary:!0,className:kr(jh.btn,jh.btn_wide,!s&&jh.btn_single),onClick:o},i("$back_up_auth")),s&&ge.createElement(Rs,{isDestructive:!0,isText:!0,className:kr(jh.btn,jh.btn_push),onClick:a},i("Later")))))})),mg=fe((e=>{let{isActive:t,method:n}=e;const{startCreatingBiometrics:a,resetAuth:o,skipCreateBiometrics:r}=Ke(),i=Er(),s="createAccount"!==n;return Ui({isActive:t,onBack:o}),ge.createElement("div",{className:kr(jh.container,jh.container_scrollable,"custom-scroll")},ge.createElement(Lp,{play:t,tgsUrl:rp.happy,previewUrl:rp.happyPreview,noLoop:!1,nonInteractive:!0,className:jh.sticker}),ge.createElement("div",{className:jh.title},i("Congratulations!")),ge.createElement("p",{className:jh.info},ge.createElement("b",null,i(s?"The wallet is imported":"The wallet is ready"),".")),ge.createElement("p",{className:jh.info},i("Create a password or use biometric authentication to protect it.")),ge.createElement("div",{className:jh.buttons},ge.createElement(Rs,{isPrimary:!0,className:jh.btn,onClick:a},i("Connect Biometrics")),ge.createElement(Rs,{isText:!0,className:kr(jh.btn,jh.btn_text),onClick:r},i("Use Password"))))})),pg=i.p+"settings_biometrics.507638446829e8e0d552.svg",fg=i.p+"settings_face-id.9114cd96723fdb063bc4.svg",hg=fe((e=>{let{isActive:t,isLoading:n}=e;const{afterCreateNativeBiometrics:a,skipCreateNativeBiometrics:o,resetAuth:r}=Ke(),i=Er(),s=qc(),c=jc();return Ui({isActive:t,onBack:r}),ge.createElement("div",{className:jh.container},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:r,className:jh.headerBack},ge.createElement("i",{className:kr(jh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("img",{src:s?fg:pg,alt:"",className:jh.biometricsIcon}),ge.createElement("div",{className:jh.biometricsTitle},i(s?"Use Face ID":c?"Use Touch ID":"Use Biometrics")),ge.createElement("div",{className:jh.biometricsSubtitle},i("You can connect your biometric data for more convenience")),ge.createElement("div",{className:jh.buttons},ge.createElement(Rs,{isPrimary:!0,className:jh.btn,isLoading:n,onClick:n?void 0:a},i(s?"Connect Face ID":c?"Connect Touch ID":"Connect Biometrics")),ge.createElement(Rs,{isText:!0,isDisabled:n,className:kr(jh.btn,jh.btn_text),onClick:o},i("Not Now"))))})),gg=/[`!@#$%^&*()_+\-=\]{};':"\\|,.<>?~]/,vg=fe((function(t){let{isActive:a,isLoading:o,formId:r,onCancel:i,onSubmit:s,containerClassName:c}=t;const l=Er(),d=n.pz||n.Ni,u=me(),[m,p]=ie(!1),[f,h]=ie(""),[g,v]=ie(""),[w,y,b]=Ru(!1),[E,k,C]=Ru(!1),[N,S]=ie(!1),[A,T]=ie(!1),[I,B,_]=Ru(!1),x=a&&f.length>0&&g.length>0&&!N,D=N&&!w,L=(e=>{let{firstPassword:t="",secondPassword:n="",requiredMinLength:a=8,requiredLength:o,isOnlyNumbers:r}=e;const[i,s]=ie(!1),[c,l]=ie(!1),[d,u]=ie(!1),[m,p]=ie(!1),[f,h]=ie(!1),[g,v]=ie(!1);return ce((()=>{const e=Boolean(!o&&t.length<a||o&&t.length!==o);s(e),u(!r&&t.toLowerCase()===t),p(!r&&t.toUpperCase()===t),l(!/\d/.test(t)),v(Boolean(t&&t!==n)),h(!r&&!gg.test(t))}),[t,n,a,r,o]),{invalidLength:i,noNumber:c,noUpperCase:d,noLowerCase:m,noEqual:g,noSpecialChar:f}})({firstPassword:f,secondPassword:g,isOnlyNumbers:d,requiredLength:d?e.NEx:void 0});ip(u,!a),ce((()=>{if(T(!1),""===f||!a||w)return void S(!1);const{noEqual:e,invalidLength:t}=L;I&&!m||!e||""===g?(!e||""===g||I&&!m)&&S(!1):(S(!0),T(!0)),d&&t&&!m&&S(!0)}),[a,f,g,L,I,w,m,d]);const O=Po((e=>{h(e),m&&p(!1)})),P=Po((e=>{v(e),m&&p(!1)})),M=Po((e=>{if(Co(e),!x)return;if(f!==g)return p(!0),S(!0),void T(!0);const t=Object.values(L).find((e=>e));d||!t||E?(E&&C(),s(f,d)):k()}));return ge.createElement(ge.Fragment,null,ge.createElement("form",{id:r,className:kr(jh.form,c),onSubmit:M},ge.createElement("div",{className:jh.formWidgets},ge.createElement(Pp,{ref:u,type:"password",isRequired:!0,id:"first-password",inputMode:d?"numeric":void 0,hasError:D,placeholder:l("Enter your password..."),value:f,autoComplete:"new-password",onInput:O,onFocus:y,onBlur:b,className:jh.input,maxLength:d?e.NEx:void 0}),ge.createElement(Pp,{type:"password",isRequired:!0,id:"second-password",inputMode:d?"numeric":void 0,placeholder:l("...and repeat it"),hasError:A,value:g,autoComplete:"new-password",onInput:P,onFocus:B,onBlur:_,className:jh.input,maxLength:d?e.NEx:void 0})),function(){if(A)return ge.createElement("div",{className:kr(jh.errors,jh.error)},l("Passwords must be equal."));const{invalidLength:t,noUpperCase:n,noLowerCase:a,noNumber:o,noSpecialChar:r}=L;return d?ge.createElement("div",{className:jh.passwordRules},ge.createElement("span",{className:wg(D,t||o)},l("Password must contain %length% digits.",{length:e.NEx}))):ge.createElement("div",{className:jh.passwordRules},l("To protect your wallet as much as possible, use a password with"),ge.createElement("span",{className:wg(D,t)}," ",l("$auth_password_rule_8chars"),","),ge.createElement("span",{className:wg(D,a)}," ",l("$auth_password_rule_one_small_char"),","),ge.createElement("span",{className:wg(D,n)}," ",l("$auth_password_rule_one_capital_char"),","),ge.createElement("span",{className:wg(D,o)}," ",l("$auth_password_rule_one_digit"),","),ge.createElement("span",{className:wg(D,r)}," ",l("$auth_password_rule_one_special_char")),".")}(),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:i,className:Ws.button,isDisabled:o},l("Cancel")),ge.createElement(Rs,{isSubmit:!0,isPrimary:!0,isDisabled:A||""===f,isLoading:o,className:Ws.button},l("Continue")))),ge.createElement(Ys,{isOpen:E,isCompact:!0,onClose:C,title:l("Insecure Password")},ge.createElement("p",{className:Ws.text},l("Your have entered an insecure password, which can be easily guessed by scammers.")),ge.createElement("p",{className:Ws.text},l("Continue or change password to something more secure?")),ge.createElement("div",{className:kr(Ws.buttons,Ws.buttonsNoExtraSpace)},ge.createElement(Rs,{isPrimary:!0,onClick:C,className:Ws.button},l("Change")),ge.createElement(Rs,{forFormId:r,isSubmit:!0,isDestructive:!0,className:Ws.button},l("Continue")))))}));function wg(e,t){return kr(jh.passwordRule,t?e?jh.invalid:void 0:jh.valid)}const yg=fe((e=>{let{isActive:t,method:a,isLoading:o}=e;const{afterCreatePassword:r,resetAuth:i}=Ke(),s=Er(),c="createAccount"!==a,l=function(e){switch(e){case"createAccount":return"auth_create_password";case"importMnemonic":return"auth_import_mnemonic_password";case"importHardwareWallet":return"auth_import_hardware_password"}}(a),d=!(n.uh||Kc());Ui({isActive:t,onBack:i});const u=Po(((e,t)=>{r({password:e,isPasswordNumeric:t})}));return ge.createElement("div",{className:kr(jh.container,jh.container_scrollable,"custom-scroll")},ge.createElement(Lp,{play:t,tgsUrl:rp.guard,previewUrl:rp.guardPreview,noLoop:!1,nonInteractive:!0,className:jh.sticker}),ge.createElement("div",{className:kr(jh.title,!d&&jh.titleSmallMargin)},s(d?"Congratulations!":"Create Password")),d&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:jh.info},ge.createElement("b",null,s(c?"The wallet is imported":"The wallet is ready"),".")),ge.createElement("p",{className:jh.info},s("Create a password to protect it."))),ge.createElement(vg,{isActive:t,isLoading:o,formId:l,onCancel:i,onSubmit:u}))})),bg=fe((t=>{let{isActive:n,method:a}=t;const{createPin:o,resetAuth:r}=Ke(),i=Er(),[s,c]=ie(""),d="createAccount"!==a;ce((()=>{n&&c("")}),[n]),Ui({isActive:n,onBack:r});const u=Po((async e=>{await(0,l.v7)(750),o({pin:e,isImporting:d})}));return ge.createElement("div",{className:kr(jh.container,jh.containerFullSize)},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:r,className:jh.headerBack},ge.createElement("i",{className:kr(jh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("div",{className:jh.pinPadHeader},ge.createElement(Lp,{play:n,tgsUrl:rp.guard,previewUrl:rp.guardPreview,noLoop:!1,nonInteractive:!0}),ge.createElement("div",{className:jh.title},i(d?"Wallet is imported!":"Wallet is ready!"))),ge.createElement(cf,{isActive:n,title:i("Create a code to protect it"),length:e.NEx,value:s,onChange:c,onSubmit:u}))})),Eg=Ba.Z2,kg=fe((e=>{let{isActive:t}=e;const n=Er(),[a,o]=Ru(),[r,i]=Ru(),[s,c]=Ru();Ph(o,t?700:void 0),Ph(i,t?700+Eg:void 0),Ph(c,t?700+2*Eg:void 0);const l=mp(a),d=mp(r),u=mp(s);return ge.createElement("div",{className:kr(jh.container,"custom-scroll")},ge.createElement(Lp,{play:t,tgsUrl:rp.hello,previewUrl:rp.helloPreview,nonInteractive:!0,noLoop:!1}),ge.createElement("div",{className:jh.title},n("Creating Wallet...")),ge.createElement("div",{className:jh.counter},ge.createElement("p",{className:jh.counterTitle},n("On the count of three...")),ge.createElement("b",{ref:l,className:kr(jh.counterDigit,"rounded-font")},"1"),ge.createElement("b",{ref:d,className:kr(jh.counterDigit,"rounded-font")},"2"),ge.createElement("b",{ref:u,className:kr(jh.counterDigit,"rounded-font")},"3")))})),Cg=fe((function(t){let{isOpen:n,onSkip:a,onClose:o}=t;const{openAuthBackupWalletModal:r}=Ke(),i=Po((()=>{o(),r()})),s=Er(),c=!e.p8S;return ge.createElement(Ys,{isOpen:n,onClose:o,forceBottomSheet:!0,nativeBottomSheetKey:"backup-warning",dialogClassName:jh.disclaimerBackupDialog},ge.createElement("p",{className:jh.backupNotice},Qo(s("$auth_backup_warning_notice"))),ge.createElement("div",{className:jh.backupNoticeButtons},ge.createElement(Rs,{isPrimary:!0,className:kr(jh.btn,jh.btn_wide,!c&&jh.btn_single),onClick:i},s("Back Up Now")),c&&ge.createElement(Rs,{isDestructive:!0,className:kr(jh.btn,jh.btn_mini),onClick:a},s("Later"))))})),Ng=fe((t=>{let{isActive:n,isImport:a}=t;const{skipCheckMnemonic:o,confirmDisclaimer:r,cancelDisclaimer:i}=Ke(),s=Er(),[c,l,d]=Ru(!1);Ui({isActive:n,onBack:i});const u=Po((e=>{e?(l(),a&&window.setTimeout(r,350)):d()}));hi("backup-warning",l);const m=Po((()=>{u(!1)})),p=Po((()=>{o(),m()}));return ge.createElement("div",{className:jh.wrapper},ge.createElement("div",{className:kr(jh.container,jh.container_scrollable,"custom-scroll")},ge.createElement("div",{className:jh.stickerAndTitle},ge.createElement(Lp,{play:n,tgsUrl:rp.snitch,previewUrl:rp.snitchPreview,noLoop:!1,nonInteractive:!0,size:e.lWW,className:jh.sticker}),ge.createElement("div",{className:jh.title},s("Use Responsibly"))),ge.createElement("div",{className:jh.infoBlock},ge.createElement("p",{className:jh.text},Qo(s("$auth_responsibly_description1",{app_name:e.C39}))),ge.createElement("p",{className:jh.text},Qo(s("$auth_responsibly_description2"))),ge.createElement("p",{className:jh.text},Qo(s("$auth_responsibly_description3",{app_name:e.C39}))),ge.createElement("p",{className:jh.text},Qo(s("$auth_responsibly_description4")))),ge.createElement(cp,{id:"information-confirmed",checked:c,isDisabled:a&&c,className:jh.informationCheckbox,contentClassName:jh.informationCheckboxContent,onChange:u},s("I have read and accept this information")),!a&&ge.createElement(Cg,{isOpen:c,onClose:m,onSkip:p})))})),Sg=[...Array(e.xA_)].map(((e,t)=>({id:t,label:`${t+1}`}))),Ag=e.PcM,Tg=fe(je((e=>({error:e.auth.error,isLoading:e.auth.isLoading})))((t=>{let{isActive:n,isLoading:o,error:r}=t;const{afterImportMnemonic:i,resetAuth:s,cleanAuthError:l}=Ke(),d=Er(),[u,m]=ie({}),{isPortrait:p}=ii(),f=Po((t=>{var n;(e.Yyb.includes(t.length)||rl(t))&&(requestAnimationFrame((()=>{m(t)})),null!==(n=document.activeElement)&&void 0!==n&&n.id.startsWith("import-mnemonic-")&&document.activeElement.blur())})),h=Po((e=>{var t;const n=Ig(e);if(1===n.length&&null!==(t=document.activeElement)&&void 0!==t&&t.id.startsWith("import-mnemonic-")){document.activeElement.value=n[0];const e=new Event("input");document.activeElement.dispatchEvent(e)}else f(n)}));((e,t)=>{ce((()=>{if(e)return document.addEventListener("paste",n,!1),()=>{document.removeEventListener("paste",n,!1)};function n(e){if(!e.clipboardData)return;const n=e.clipboardData.getData("text").substring(0,4096);n&&(e.preventDefault(),t(n))}}),[e,t])})(Boolean(n),h);const g=de((()=>{const t=(0,c.oE)(Object.values(u));return!e.Yyb.includes(t.length)&&!rl(t)||!!r}),[u,r]),v=Po(((t,n)=>{l();const a=Ig(t);e.Yyb.includes(a.length)?f(a):m({...u,[n]:a[0].toLowerCase()})})),w=Po((()=>{setTimeout((()=>{s()}),250)})),y=Po((async()=>{if(g)return;const e=(0,c.oE)(Object.values(u));(12!==e.length||await(0,a.p)("validateMnemonic",e))&&i({mnemonic:e})}));return Ui({isActive:n,onBack:w}),ce((()=>g||o?void 0:Pr({onEnter:{handler:y,noStopPropagation:!0}})),[y,o,g,u]),ge.createElement("div",{className:kr(jh.container,jh.container_scrollable,"custom-scroll")},ge.createElement(Lp,{play:n,size:e.jzp,tgsUrl:rp.snitch,previewUrl:rp.snitchPreview,nonInteractive:!0,noLoop:!1,className:jh.sticker}),ge.createElement("div",{className:kr(jh.title,jh.title_afterSmallSticker)},d("Enter Secret Words")),ge.createElement("div",{className:kr(jh.info,jh.infoSmallFont,jh.infoPull)},Qo(d(e.iAh?"$auth_import_mnemonic_description":"$auth_import_24_mnemonic_description"))),ge.createElement("div",{className:jh.importingContent},Sg.map(((t,n)=>{let{id:a,label:o}=t;return ge.createElement(Jh,{key:a,id:`import-mnemonic-${a}`,nextId:a+1<e.xA_?`import-mnemonic-${a+1}`:void 0,labelText:o,value:u[a],suggestionsPosition:Bg(a,p),inputArg:a,onInput:v,onEnter:n===e.xA_-1?y:void 0})}))),ge.createElement("div",{className:jh.buttons},r&&ge.createElement("div",{className:jh.footerError},d(r)),ge.createElement("div",{className:jh.buttons__inner},ge.createElement(Rs,{onClick:w,className:jh.footerButton},d("Cancel")),ge.createElement(Rs,{isPrimary:!0,isDisabled:g,isLoading:o,className:jh.footerButton,onClick:y},d("Continue")))))})));function Ig(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/(?:\r\n)+|[\r\n\s;,\t]+/g," ").trim().split(" ").map((e=>e.slice(0,Ag)))}function Bg(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e>5&&e<8||e>13&&e<16||e>21?"top":void 0}const _g=fe((function(e){let{isActive:t,isLoading:n,onCancel:a,onClose:o}=e;const{importViewAccount:r}=Ke(),i=Er(),s=me(),[c,l]=ie(""),[d,u]=ie(!1);ip(s,!t),Ui({isActive:t,onBack:a});const m=Po((e=>{l(e),d&&u(!1)}));return ge.createElement("div",{className:Ws.transitionContentWrapper},ge.createElement(Th,{title:i("View Any Address"),onClose:o,onBackButtonClick:a}),ge.createElement("form",{action:"#",className:kr(Ws.transitionContent,"custom-scroll"),onSubmit:function(e){if(Co(e),d||n)return;const t=c.trim().split(/\s+/),a={};var o;t.reduce(((e,t)=>ma(t,"ton")?(a.ton=t,!0):ma(t,"tron")?(a.tron=t,!0):e),!1)?(r({addressByChain:a}),null===(o=s.current)||void 0===o||o.blur()):u(!0)}},ge.createElement(Lp,{play:t,tgsUrl:rp.bill,previewUrl:rp.billPreview,noLoop:!1,nonInteractive:!0,className:jh.viewModeSticker}),ge.createElement(Pp,{ref:s,value:c,hasError:d,placeholder:i("Wallet Address or Domain"),autoCapitalize:"none",autoComplete:"off",autoCorrect:!1,onInput:m}),ge.createElement("p",{className:jh.info},Qo(i("$import_view_account_note"))),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{isPrimary:!0,isSubmit:!0,className:Ws.buttonFullWidth,isLoading:n,isDisabled:d},i(d?"Invalid Address":"Continue")))))})),xg=fe((function(t){let{customStickerClassName:n,customButtonWrapperClassName:a,isFullSizeButton:o,isActive:r,isFirstCheckboxSelected:i,isSecondCheckboxSelected:s,isThirdCheckboxSelected:c,textFirst:l,textSecond:d,textThird:u,onFirstCheckboxClick:m,onSecondCheckboxClick:p,onThirdCheckboxClick:f,onSubmit:h}=t;const g=Er(),v=i&&s&&c,w=Po((()=>{v&&h()}));return ge.createElement(ge.Fragment,null,ge.createElement(Lp,{tgsUrl:rp.bill,previewUrl:rp.billPreview,size:e.lWW,play:r,nonInteractive:!0,noLoop:!1,className:n||Zh}),ge.createElement(cp,{checked:i,onChange:m},Qo(l)),ge.createElement(cp,{checked:s,onChange:p},Qo(d)),ge.createElement(cp,{checked:c,onChange:f},Qo(u)),ge.createElement("div",{className:a||eg},ge.createElement(Rs,{isPrimary:!0,isDisabled:!v,className:o?tg:void 0,onClick:w},g("Understood"))))})),Dg=fe((e=>{let{isActive:t}=e;const{openCreateBackUpPage:n,openMnemonicPage:a}=Ke(),[o,r]=ie(!1),[i,s]=ie(!1),[c,l]=ie(!1);Ui({isActive:t,onBack:n});const d=Er();return ge.createElement("div",{className:jh.wrapper},ge.createElement("div",{className:kr(jh.container,"custom-scroll")},ge.createElement("div",{className:jh.header},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:n,className:jh.headerBackBlock},ge.createElement("i",{className:kr(jh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,d("Back"))),ge.createElement("span",{className:jh.headerTitle},d("Safety Rules"))),ge.createElement(xg,{isActive:t,isFullSizeButton:!0,textFirst:d("$safety_rules_one"),textSecond:d("$safety_rules_two"),textThird:d("$safety_rules_three"),isFirstCheckboxSelected:o,onFirstCheckboxClick:r,isSecondCheckboxSelected:i,onSecondCheckboxClick:s,isThirdCheckboxSelected:c,onThirdCheckboxClick:l,onSubmit:a})))})),Lg=fe((function(e){let{mnemonic:t}=e;const n=Er();return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:kr(ng,og)},Qo(n("$mnemonic_list_description"))),ge.createElement("p",{className:kr(ag)},Qo(n("$mnemonic_warning"))),ge.createElement("ol",{className:"Yaqcau6G"},null==t?void 0:t.map(((e,t)=>ge.createElement("li",{key:t,className:"qdW2OhFc"},e)))))})),Og=fe((function(t){let{isActive:n,mnemonic:a,onSubmit:o,buttonText:r}=t;return ge.createElement(ge.Fragment,null,ge.createElement(Lp,{tgsUrl:rp.bill,previewUrl:rp.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:Zh}),ge.createElement(Lg,{mnemonic:a}),ge.createElement("div",{className:eg},ge.createElement(Rs,{isPrimary:!0,onClick:o,className:tg},r)))})),Pg=fe((e=>{let{isActive:t,mnemonic:n}=e;const{openAuthBackupWalletModal:a,openCheckWordsPage:o}=Ke(),r=Er();Ui({isActive:t,onBack:a});const i=(null==n?void 0:n.length)||0;return ge.createElement("div",{className:jh.wrapper},ge.createElement("div",{className:kr(jh.container,jh.containerAlignTop,"custom-scroll")},ge.createElement("div",{className:jh.header},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:a,className:jh.headerBackBlock},ge.createElement("i",{className:kr(jh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back"))),ge.createElement("span",{className:jh.headerTitle},r("%1$d Secret Words",i))),ge.createElement(Og,{isActive:t,mnemonic:n,onSubmit:o,buttonText:r("Let's Check")})))})),Mg=fe(je((e=>({hasAccounts:Boolean(e.currentAccountId),isLoading:e.auth.isLoading,theme:e.settings.theme})))((function(t){let{isActive:a,hasAccounts:o,isLoading:r,theme:i}=t;const{startCreatingWallet:s,startImportingWallet:c,openAbout:l,openHardwareWalletModal:d,resetAuth:u,openAuthImportWalletModal:m}=Ke(),p=Er(),f="light"===gf(i)?Nf:Cf,[h,g]=Ru(),v=mp(h);return ge.createElement("div",{className:kr(jh.container,"custom-scroll")},o&&ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:u,className:jh.headerBack},ge.createElement("i",{className:kr(jh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,p("Back"))),e.TI6?ge.createElement(Lp,{play:a,tgsUrl:rp.coreWalletLogo,previewUrl:rp.coreWalletLogoPreview,noLoop:!1,nonInteractive:!0}):ge.createElement("img",{ref:v,src:f,alt:e.C39,className:jh.logo,onLoad:g}),ge.createElement("div",{className:kr(jh.appName,"rounded-font")},e.C39),ge.createElement("div",{className:jh.info},Qo(p("$auth_intro"))),!e.TI6&&ge.createElement(Rs,{isText:!0,className:kr(jh.btn,jh.btn_about),onClick:l},p("More about %app_name%",{app_name:e.C39}),ge.createElement("i",{className:"icon-chevron-right","aria-hidden":!0})),ge.createElement("div",{className:kr(jh.importButtonsBlock,e.TI6&&jh.importButtonsBlockSimple)},ge.createElement(Rs,{isPrimary:!0,className:kr(jh.btn,!e.TI6&&jh.btn_single,!e.TI6&&jh.btn_wide),isLoading:r,onClick:r?void 0:s},p("Create Wallet")),e.TI6?ge.createElement(ge.Fragment,null,ge.createElement("span",{className:jh.importText},p("or import from")),ge.createElement("div",{className:jh.importButtons},ge.createElement(Rs,{className:kr(jh.btn,!n.sC&&jh.btn_single),onClick:r?void 0:c},p("Secret Words")),n.sC&&ge.createElement(Rs,{className:kr(jh.btn,jh.btn_mini),onClick:r?void 0:d},p("Ledger")))):ge.createElement(Rs,{className:kr(jh.btn,jh.btn_wide,jh.btn_single),onClick:r?void 0:m},p("Import Existing Wallet"))))}))),Fg=Object.keys(Cn).length/2,Rg=fe(je((e=>({...(0,c.Up)(e.auth,["state","biometricsStep","error","mnemonic","mnemonicCheckIndexes","isLoading","method"]),theme:e.settings.theme})))((e=>{let{state:t,biometricsStep:a,error:o,isLoading:r,mnemonic:i,mnemonicCheckIndexes:s,method:c,theme:l}=e;const{closeAbout:d,closeImportViewAccount:u}=Ke(),{isPortrait:m}=ii(),p=hh(t===Cn.ready?void 0:t,!0)??-1,[f,h]=ie(void 0),[g,v]=ie(p+1),w=Po((()=>{v(p+1),h(p===Cn.confirmPin?Cn.createPin:void 0)}));function y(e,t,n){switch(n){case Cn.none:return ge.createElement(Mg,{isActive:e});case Cn.createWallet:return ge.createElement(kg,{isActive:e});case Cn.checkPassword:return ge.createElement(Yh,{isActive:e,isLoading:r,method:"createAccount",error:o});case Cn.createPin:return ge.createElement(bg,{isActive:e,method:"createAccount"});case Cn.confirmPin:return ge.createElement(dg,{isActive:e,method:"createAccount"});case Cn.createBiometrics:return ge.createElement(mg,{isActive:e,method:"createAccount"});case Cn.confirmBiometrics:return ge.createElement(lg,{isActive:e,isLoading:r,error:o,biometricsStep:a});case Cn.createNativeBiometrics:return ge.createElement(hg,{isActive:e,isLoading:r});case Cn.createPassword:return ge.createElement(yg,{isActive:e,isLoading:r,method:"createAccount"});case Cn.createBackup:return ge.createElement(ug,{isActive:e});case Cn.disclaimerAndBackup:return ge.createElement(Ng,{key:"create",isActive:e});case Cn.importWallet:return ge.createElement(Tg,{isActive:e});case Cn.importWalletCreatePin:return ge.createElement(bg,{isActive:e,method:"importMnemonic"});case Cn.importWalletConfirmPin:return ge.createElement(dg,{isActive:e,method:"importMnemonic"});case Cn.importWalletCheckPassword:return ge.createElement(Yh,{isActive:e,isLoading:r,method:"importMnemonic",error:o});case Cn.disclaimer:return ge.createElement(Ng,{key:"import",isActive:e,isImport:!0});case Cn.importWalletCreateNativeBiometrics:return ge.createElement(hg,{isActive:e,isLoading:r});case Cn.importWalletCreatePassword:return ge.createElement(yg,{isActive:e,isLoading:r,method:c});case Cn.importWalletCreateBiometrics:return ge.createElement(mg,{isActive:e,method:c});case Cn.importWalletConfirmBiometrics:return ge.createElement(lg,{isActive:e,isLoading:r,error:o,biometricsStep:a});case Cn.about:return ge.createElement(qh,{isActive:e,theme:l,headerClassName:jh.aboutHeader,handleBackClick:d});case Cn.safetyRules:return ge.createElement(Dg,{isActive:e});case Cn.mnemonicPage:return ge.createElement(Pg,{isActive:e,mnemonic:i});case Cn.checkWords:return ge.createElement(sg,{isActive:e,mnemonic:i,checkIndexes:s});case Cn.importViewAccount:return ge.createElement(_g,{isActive:e,isLoading:r,onCancel:u})}}return ge.createElement(of,{name:m?n.Ni?"slideFade":"slideLayers":"semiFade",activeKey:p,renderCount:Fg,shouldCleanup:!0,className:jh.transitionContainer,slideClassName:jh.transitionSlide,prevKey:f,nextKey:g,onStop:w,shouldWrap:!0},y)}))),Ug={spinner:"o7Soo94L",inner:"fnzgQDjn",spin:"dPrfSpVS",white:"ZwvOHvLC"},Wg=fe((function(e){let{ref:t,color:n,className:a}=e;const o=Er(),r=kr(Ug.spinner,n&&Ug[n],a);return ge.createElement("div",{ref:t,className:r,"aria-label":o("Loading...")},ge.createElement("i",{className:kr(Ug.inner,"icon-spinner"),"aria-hidden":!0}))})),Hg={root:"h8WmgaJB",icon:"KW5fEe2q",rightItem:"yxdpwMGG",spinner:"_o9pbmfe"},$g=fe((function(e){let{icon:t,label:n,className:a,isLoading:o,onClick:r}=e;return ge.createElement("button",{type:"button",className:kr(Hg.root,a),onClick:r,disabled:o},ge.createElement("i",{className:kr(Hg.icon,`icon-${t}`),"aria-hidden":!0}),ge.createElement("span",{className:Hg.label},n),o?ge.createElement(Wg,{className:kr(Hg.rightItem,Hg.spinner)}):ge.createElement("i",{className:kr(Hg.rightItem,"icon-chevron-right"),"aria-hidden":!0}))})),Vg=fe(je((e=>({isOpen:e.auth.isImportModalOpen})))((function(t){let{isOpen:a}=t;const{startImportingWallet:o,startImportViewAccount:r,openHardwareWalletModal:i,closeAuthImportWalletModal:s}=Ke(),c=Er(),l=Po((()=>{s(),o()})),d=Po((()=>{s(),i()})),u=Po((()=>{s(),r()}));return ge.createElement(Ys,{isOpen:a,title:c("Import Wallet"),hasCloseButton:!0,forceBottomSheet:!0,nativeBottomSheetKey:"import-account",contentClassName:jh.importModalContent,onClose:s},ge.createElement("div",{className:jh.actionsSection},ge.createElement($g,{icon:"key",label:c(e.TI6?"24 Secret Words":"12/24 Secret Words"),onClick:l}),n.sC&&ge.createElement($g,{icon:"ledger-alt",label:c("Ledger"),onClick:d})),!e.TI6&&ge.createElement("div",{className:jh.actionsSection},ge.createElement($g,{icon:"wallet-view",label:c("View Any Address"),onClick:u})))})));function zg(){return n.Ni?"slideFadeAndroid":n.pz?"slideLayers":"slideFade"}function Kg(e,t){const n=hh(t?e:void 0,!0)??-1,[a,o]=ie(),r=Po((()=>{o(t?n+1:void 0)}));return ce((()=>{t&&setTimeout(r,300)}),[t,r]),{renderingKey:n,nextKey:a,updateNextKey:r}}function qg(t){const{result:n}=((e,t,n)=>{const[a,o]=ie(!1),[r,i]=ie(),[s,c]=ie(n);return ce((()=>{o(!0);let t=!1;return e().then((e=>{t||(o(!1),c(e))}),(e=>{t||(o(!1),i(e))})),()=>{t=!0}}),t),{isLoading:a,error:r,result:s}})((()=>t?async function(t){const n=await caches.open(e.F9m),a=await n.match(t);if(a){const e=await a.blob();return URL.createObjectURL(e)}const o=await fetch(t);if(!o.ok)throw new Error(`Image loading error: ${o.statusText}. URL: ${t}`);await n.put(t,o.clone());const r=await o.blob();return URL.createObjectURL(r)}(t):Promise.resolve(void 0)),[t]);return ce((()=>n?()=>{URL.revokeObjectURL(n)}:void 0),[n]),{imageUrl:n}}function jg(e){const{mtwCardType:t,mtwCardTextType:n,mtwCardBorderShineType:a}=(null==e?void 0:e.metadata)||{},o=!!t&&"standard"!==t,r="standard"!==t?void 0:"dark"===n?"MtwCard__darkText":"MtwCard__lightText";return{backgroundImageUrl:e?Yo(e):void 0,withTextGradient:o,classNames:kr(t&&`MtwCard__${t}`,r),borderShineType:a}}const Yg=function(e){let{isActive:t,accountId:n,addressByChain:a,accountType:o,title:r,cardBackgroundNft:i,canEditAccount:s,onClick:c,onEdit:l}=e;const d=Er(),u="hardware"===o,m="view"===o,p=Qe(a,1)?d("Multichain"):(0,qt.W)((0,Ye.LG)(a)??"","mnemonic"!==o?3:4,4),{backgroundImageUrl:f,withTextGradient:h,classNames:g}=jg(i),{imageUrl:v}=qg(f),w=kr("bdfebopt",t&&"bMmcsmZO",v&&"HF2p9CT1",v&&g);return ge.createElement("div",{className:w,"aria-label":d("Switch Account"),onClick:t?void 0:()=>c(n),style:up(v&&`--bg: url(${v})`)},r&&ge.createElement("span",{className:kr("MUMjgNQ5",h&&"gradientText")},r),ge.createElement("div",{className:kr("dhGETdr1",h&&"gradientText")},u&&ge.createElement("i",{className:"icon-ledger","aria-hidden":!0}),m&&ge.createElement("i",{className:"icon-eye-filled","aria-hidden":!0}),ge.createElement("span",null,p)),t&&s&&ge.createElement("div",{className:"FRX4SQTO",onClick:e=>{Co(e),l()}},ge.createElement("i",{className:"icon-pen","aria-hidden":!0})))},Gg={accounts:"DP7r4ob0",accounts_two:"aMoUTjsw",accountsTwo:"aMoUTjsw",account:"feJs1qiP",account_current:"LGBe77Zo",accountCurrent:"LGBe77Zo",account_disabled:"QT4AQhSL",accountDisabled:"QT4AQhSL",account_inactive:"JLVV6MK1",accountInactive:"JLVV6MK1",accounts_single:"xq8sJcx0",accountsSingle:"xq8sJcx0",customCard:"QrKEFAWF",accountName:"xRepCoTw",button_current:"CMlJY5eP",buttonCurrent:"CMlJY5eP",accountFooter:"aSHneDhG",icon:"FzVzsW0Z",accountAddress:"U1ocd7xK",accountCheckMark:"WoJjd6rF",accountCheckMark_active:"Xs5JWZXM",accountCheckMarkActive:"Xs5JWZXM"},Qg=fe((function(e){let{accountId:t,address:n,title:a,accountType:o,ariaLabel:r,isActive:i,isLoading:s,className:c,withCheckbox:l,cardBackgroundNft:d,onClick:u}=e;const{backgroundImageUrl:m,withTextGradient:p,classNames:f}=jg(d),{imageUrl:h}=qg(m),g="hardware"===o,v="view"===o,w=kr(c,Gg.account,h&&Gg.customCard,h&&f,i&&!l&&Gg.account_current,s&&Gg.account_disabled,!u&&Gg.account_inactive);return ge.createElement("div",{key:t,className:w,onClick:u,style:up(h&&`--bg: url(${h})`),"aria-label":r},a&&ge.createElement("span",{className:kr(Gg.accountName,p&&"gradientText")},a),ge.createElement("div",{className:kr(Gg.accountFooter,p&&"gradientText")},v&&ge.createElement("i",{className:kr("icon-eye-filled",Gg.icon),"aria-hidden":!0}),g&&ge.createElement("i",{className:kr("icon-ledger",Gg.icon),"aria-hidden":!0}),ge.createElement("span",{className:Gg.accountAddress},(0,qt.W)(n,g?3:4,4))),l&&ge.createElement("div",{className:kr(Gg.accountCheckMark,i&&Gg.accountCheckMark_active)}))})),Xg=fe((function(e){let{accountLength:t,labelText:n,children:a,className:o}=e;const r=kr(o,Gg.accounts,"custom-scroll",1===t&&Gg.accounts_single,2===t&&Gg.accounts_two);return ge.createElement(ge.Fragment,null,n&&ge.createElement("p",{className:Gg.label},n),ge.createElement("div",{className:r},a))})),Jg={modalDialog:"zdmLsynF",modalDialogInsideSettings:"kYjygKEY",slide:"a2oy8Zll",container:"eM1PpsST",containerStatic:"jHYtCW5T",content:"_3mWK1CH",iconBlockSlide:"WEcWgMzV",iconBlockSlideStatic:"VCK1YGjr",iconBlock:"KE3Egymz",mobile:"kpjonisY",ledgerIcon:"iuLLqpxI",textBlock:"bn1fb2en",textBlock_gap:"bBaOfZlx",textBlockGap:"bBaOfZlx",textBlock_success:"j8GYzR5R",textBlockSuccess:"j8GYzR5R",textBlock_small:"Rt2IdHAB",textBlockSmall:"Rt2IdHAB",textIcon:"SOw0Xtct",text:"GuAw_sFJ",text_failed:"XPczA9Ds",textFailed:"XPczA9Ds",text_connected:"YyHAVq6P",textConnected:"YyHAVq6P",text_success:"tTgIgIgG",textSuccess:"tTgIgIgG",actionBlock:"hiaAxVr_",actionBlock_single:"ApwM97qB",actionBlockSingle:"ApwM97qB",button:"LZNOcG4M",button_single:"Hm4XX1NN",buttonSingle:"Hm4XX1NN",accounts:"qG6SFrZs",accounts_two:"o_4z0gP4",accountsTwo:"o_4z0gP4",account:"_Vsrbub9",account_current:"uo8yhRNU",accountCurrent:"uo8yhRNU",addAccountContainer:"E5i9UUtD",addAccountIcon:"j5VZHMly",accountName:"V6_KYxce",accountFooter:"LXgNcuuY",accountCurrencyIcon:"g_b7EuV5",accountAddress:"pL4iTSDM",accountCheckMark:"mpVXcyoe",accountCheckMark_active:"lVx2a3if",accountCheckMarkActive:"lVx2a3if",sticker:"MfAU5ZEs",declinedLabel:"aWyFXa02",declinedLabelDetailed:"q1lhwUmL",dropdownBlock:"_2MGoq5H"};var Zg=function(e){return e[e.Waiting=0]="Waiting",e[e.Error=1]="Error",e}(Zg||{});const ev=fe((function(t){let{isActive:n,text:a,error:o,onClose:r,onTryAgain:i}=t;const s=Er(),[c,l]=ie(Zg.Waiting),[d,u]=ie(Zg.Error);function m(t,n,c){switch(c){case Zg.Waiting:return function(t){return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:s("Confirm via Ledger"),onClose:r}),ge.createElement("div",{className:Jg.container},ge.createElement(Lp,{size:e.igk,play:t,noLoop:!1,nonInteractive:!0,className:Jg.sticker,tgsUrl:rp.holdTon,previewUrl:rp.holdTonPreview}),ge.createElement("div",{className:kr(Jg.textBlock,Jg.textBlock_small)},ge.createElement("span",{className:Jg.text},a)),ge.createElement("div",{className:kr(Jg.actionBlock,Jg.actionBlock_single)},ge.createElement(Rs,{onClick:r,className:kr(Jg.button,Jg.button_single)},s("Cancel")))))}(t);case Zg.Error:return function(t){const n=o&&["$hardware_blind_sign_not_enabled","$hardware_blind_sign_not_enabled_internal"].includes(o),a=n?ge.createElement("span",null,Qo(s(o))):Qo(s(o));return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:s("Confirm via Ledger"),onClose:r}),ge.createElement("div",{className:Jg.container},ge.createElement(Lp,{size:e.igk,play:t,noLoop:!1,nonInteractive:!0,className:Jg.sticker,tgsUrl:rp.holdTon,previewUrl:rp.holdTonPreview}),ge.createElement("div",{className:kr(Jg.declinedLabel,n&&Jg.declinedLabelDetailed)},a),ge.createElement("div",{className:Jg.actionBlock},ge.createElement(Rs,{onClick:r,className:Jg.button},s("Cancel")),ge.createElement(Rs,{isPrimary:!0,onClick:i,className:Jg.button},s("Try Again")))))}(t)}}return Ui({isActive:n,onBack:r}),ce((()=>{o?(l(Zg.Error),u(Zg.Waiting)):(l(Zg.Waiting),u(Zg.Error))}),[o]),ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:kr(Ws.transitionSlide,Jg.slide),activeKey:c,nextKey:d},m)})),tv="caret",nv="right",av=fe((function(e){let{label:t,items:n,selectedValue:a,className:o,itemClassName:r,menuClassName:i,theme:s,arrow:c=tv,menuPositionX:l=nv,menuPositionY:d,disabled:u,shouldTranslateOptions:m,onChange:p,isLoading:f=!1,buttonPrefix:h}=e;const[g,v,w]=Ru(),y=n.length>1,b=Boolean(t),E=de((()=>{let e=void 0!==a&&n.find((e=>e.value===a));return e||={value:"",name:""},{...e,isDisabled:!b&&u}}),[n,a,b,u]),k=Po((e=>{e!==a&&(null==p||p(e))}));if(!n.length)return;const C=kr(o,y&&gh.interactive,b&&gh.wide,b&&u&&gh.disabled),N=kr(gh.button,y&&gh.interactive,y&&i,s&&gh[s],r),S=de((()=>y&&ge.createElement("i",{className:kr(gh.buttonIcon,"chevron"===c?"icon-chevron-down":"icon-caret-down"),"aria-hidden":!0})),[y,c]);return ge.createElement("div",{className:C,onClick:b&&!u&&y?v:void 0},t&&ge.createElement("span",{className:gh.label},t),f?ge.createElement(Wg,{className:gh.spinner}):ge.createElement(vh,{item:E,prefix:h,suffix:S,shouldTranslate:m,shouldUseSelectedName:!0,className:N,itemClassName:kr("itemName",r),onClick:!b&&y?v:void 0}),y&&ge.createElement(Ah,{isOpen:g&&!f,menuPositionX:l,menuPositionY:d,items:n,shouldTranslateOptions:m,selectedValue:a,buttonClassName:r,onSelect:k,onClose:w}))})),ov=i.p+"desktop.5b697d2d91cbfdc91f29.png",rv=i.p+"desktop-dark.aacce131e03bae83c744.png",iv=i.p+"ios.5d8a0178f3ed44e81862.png",sv=i.p+"ios-dark.0ba8808ed3906393a417.png",cv=i.p+"mobile-bluetooth.7fea27504891420bc158.png",lv=i.p+"mobile-bluetooth-dark.9a47bff03978eddfd080.png",dv=i.p+"mobile-usb.165003c19b688130909d.png",uv=i.p+"mobile-usb-dark.273f665b4cc76537f15b.png",mv={usb:"USB",bluetooth:"Bluetooth"},pv=fe(je((e=>{const{hardwareState:t,isLedgerConnected:n,isTonAppConnected:a,availableTransports:o,lastUsedTransport:r}=e.hardware;return{state:t,isLedgerConnected:n,isTonAppConnected:a,availableTransports:o,lastUsedTransport:r,currentTheme:e.settings.theme}}))((function(t){let{isActive:a,isStatic:o,state:r,isLedgerConnected:i,isTonAppConnected:s,availableTransports:c,lastUsedTransport:l,currentTheme:d,className:u,onConnected:m,onBackButtonClick:p,onCancel:f,onClose:h}=t;const{initializeHardwareWalletModal:g,initializeHardwareWalletConnection:v}=Ke(),w=Er(),{isPortrait:y}=ii(),[b,E]=ie(l),k=gf(d),C=!1===i,N=!1===s,S=r===On.ConnectedWithSingleWallet||r===On.ConnectedWithSeveralWallets,A=r===On.Connecting,T=r===On.WaitingForRemoteTab,I=w(S?"Ledger Connected!":"Connect Ledger"),B=!f,_=de((()=>(c||[]).map((e=>({value:e,name:mv[e]})))),[c]),{shouldRender:x,ref:D}=Ls({isOpen:Boolean(_.length>1&&b),withShouldRender:!0});Ui({isActive:a,onBack:f??h}),ce((()=>{b||(null!=c&&c.length?E(null==c?void 0:c[0]):n.ZH&&E("bluetooth"))}),[c,b]),ce((()=>{a&&g()}),[a]),ci((e=>{let[t]=e;l&&t!==l&&E(l)}),[l]);const L=Po((e=>{n.Fe||setTimeout((()=>{m(e)}),500)}));ce((()=>{S&&a&&L(r===On.ConnectedWithSingleWallet)}),[S,a,r,L]);const O=Po((()=>{const e=B?h:f;(0,Pf.rt)(),e()})),P=Po((()=>{b&&v({transport:b})}));function M(){const t="dark"===k,a={desktop:t?rv:ov,mobileUsb:t?uv:dv,ios:t?sv:iv,mobileBluetooth:t?lv:cv};return e.UMQ?n.pz?a.ios:"bluetooth"===b?a.mobileBluetooth:a.mobileUsb:n.Ni?a.mobileUsb:a.desktop}function F(t,n){return ge.createElement(ge.Fragment,null,o?ge.createElement("div",{className:Kh.header},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:t,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,w("Back"))),ge.createElement("span",{className:Kh.headerTitle},I)):ge.createElement(Th,{title:I,onBackButtonClick:p,onClose:p?void 0:t}),ge.createElement("div",{className:kr(Jg.container,o&&Jg.containerStatic,o&&"static-container")},ge.createElement(of,{activeKey:e.UMQ?"bluetooth"!==b?1:2:0,name:"semiFade",className:kr(Jg.iconBlock,y&&Jg.mobile),slideClassName:o?Jg.iconBlockSlideStatic:Jg.iconBlockSlide},ge.createElement(wf,{url:M(),imageClassName:Jg.ledgerIcon})),n))}function R(){return T?F(O,ge.createElement(ge.Fragment,null,ge.createElement("div",{className:kr(Jg.textBlock,Jg.textBlock_gap)},ge.createElement("span",{className:Jg.text},ge.createElement("i",{className:kr(Jg.textIcon,"icon-dot"),"aria-hidden":!0}),w("Switch to the newly opened tab to connect Ledger.")),ge.createElement("span",{className:Jg.text},ge.createElement("i",{className:kr(Jg.textIcon,"icon-dot"),"aria-hidden":!0}),w("Once connected, switch back to this window to proceed."))),ge.createElement("div",{className:kr(Jg.actionBlock,Jg.actionBlock_single)},ge.createElement(Rs,{className:kr(Jg.button,Jg.button_single),onClick:O},w(B?"Cancel":"Back"))))):F(h,ge.createElement(ge.Fragment,null,ge.createElement("div",{className:kr(Jg.textBlock,S&&Jg.textBlock_success)},ge.createElement("span",{className:kr(Jg.text,C&&Jg.text_failed,i&&Jg.text_connected,S&&Jg.text_success)},ge.createElement("i",{className:kr(Jg.textIcon,i?"icon-accept":"icon-dot"),"aria-hidden":!0}),w("Connect your Ledger")),ge.createElement("span",{className:kr(Jg.text,N&&Jg.text_failed,s&&Jg.text_connected,S&&Jg.text_success)},ge.createElement("i",{className:kr(Jg.textIcon,s?"icon-accept":"icon-dot"),"aria-hidden":!0}),w("Unlock it and open the TON App"))),x&&ge.createElement("div",{ref:D,className:Jg.dropdownBlock},ge.createElement(av,{label:w("Connection Type"),items:_,selectedValue:b,theme:"light",arrow:"chevron",disabled:A,className:kr(Jg.item,Jg.item_small),onChange:E})),function(){const e=r===On.Failed;return n.Fe&&S?ge.createElement("div",{className:kr(Jg.actionBlock,S&&Jg.actionBlock_single)},ge.createElement(Rs,{isDisabled:A,className:kr(Jg.button,S&&Jg.button_single),onClick:h},w("Continue"))):ge.createElement("div",{className:Jg.actionBlock},ge.createElement(Rs,{className:Jg.button,onClick:B?h:f},w(B?"Cancel":"Back")),ge.createElement(Rs,{isPrimary:!0,isLoading:A,isDisabled:A||S,className:Jg.button,onClick:P},w(e?"Try Again":"Continue")))}()))}return ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll",u),slideClassName:Ws.transitionSlide,activeKey:T?1:0},R)}))),fv=fe((function(e){let{className:t}=e;return ge.createElement("div",{className:kr("JOe_K6bB",t)})})),hv={container:"DL3GDV2h",tooltip:"pPTN8epJ",small:"S0YjnQBy",medium:"fisd9cYz",arrow:"mw4HrHNN",icon:"DsxlgjFS",fontIcon:"T3riE15T","color-warning":"G6MdAror",colorWarning:"G6MdAror"},gv=.6875*n.$,vv=2*n.$,wv=fe((e=>{let{message:t,emoji:a,size:o="medium",type:r="hint",iconClassName:i,tooltipClassName:s}=e;const[c,l,d]=Ru(),{shouldRender:u,ref:m}=Ls({isOpen:c,withShouldRender:!0}),p="warning"===r&&hv[`color-${r}`],f=me(),h=me(),g=me(),v=me(),w=ke(),y=Po((e=>{e.target.closest(`[data-tooltip-key="${w}"]`)||d()}));return ce((()=>{if(c)return document.addEventListener("touchstart",y),()=>{document.removeEventListener("touchstart",y)}}),[c,d,y]),ce((()=>{if(!f.current||!h.current)return;const{top:e,left:t,width:n}=f.current.getBoundingClientRect(),{width:a,height:o}=h.current.getBoundingClientRect(),r=(window.innerWidth-a)/2,i=t-r+n/2-gv/2,s=i<vv?vv-i:0,c=`top: ${e-o-gv}px;`,l=`left: ${r-s}px;`,d=`left: ${i+s}px;`,u=`top: ${o-gv/2-1}px;`;g.current=`${c} ${l}`,v.current=`${u} ${d}`}),[u]),ge.createElement(ge.Fragment,null,u&&ge.createElement(Us,null,ge.createElement("div",{ref:m,className:hv.container,onClick:Co,style:g.current},ge.createElement("div",{ref:h,className:kr(hv.tooltip,hv[o],p,s)},t),ge.createElement("div",{className:hv.arrow,style:v.current}))),function(){const e=kr(hv.icon,i,hv[o],p),t=n.TF?Co:void 0;return a?ge.createElement("span",{ref:f,className:e,"data-tooltip-key":w,onClick:t,onMouseEnter:l,onMouseLeave:d},ge.createElement(zh,{from:a})):ge.createElement("i",{ref:f,className:kr(e,hv.fontIcon,"warning"===r?"icon-exclamation":"icon-question"),"data-tooltip-key":w,onClick:t,onMouseEnter:l,onMouseLeave:d})}())})),yv="rtKXhN4A",bv="LUz47fCn",Ev="dqbsWkDq",kv="ut5A6NM6",Cv="ooIjdCk3",Nv="lvIWoC_b",Sv="TBS2qSdm",Av="URk9skQT",Tv="IpEvYlyO",Iv="mtQbMtDU",Bv="leFXfJnu",_v="iNOlk2G5",xv="TddQIzLn",Dv="Kgein0KH",Lv="by1Uv_HG",Ov="nBWVm1mf",Pv="_ogqtbzH",Mv="Uyz5mVM_",Fv="e3oGDhNq",Rv="tO1IUhnj",Uv="u2wkCYw7",Wv="z0IluCrP",Hv="JYgy9un6",$v="US9q0wug",Vv="A7lv8DFx",zv="fHoMTSia",Kv="if1jAISL",qv=fe((function(t){let{dapp:n,className:a,onDisconnect:o}=t;const{deleteDapp:r}=Ke(),i=Er(),{name:s,iconUrl:c,url:l,isUrlEnsured:d}=n||{},u=de((()=>l?new URL(l).host:void 0),[l]),m=Boolean(o&&l),p=Po((()=>{o(l)}));return ge.createElement("div",{className:kr("naRjGTN0",a)},c?ge.createElement("img",{src:c,alt:i("Logo"),className:Ev}):ge.createElement("div",{className:kr(Ev,"RGl7OFHd")},ge.createElement("i",{className:kr("Utxlqsar","icon-laptop"),"aria-hidden":!0})),ge.createElement("div",{className:"cL2nTyJm"},ge.createElement("span",{className:"IZ831cu4"},s),ge.createElement("span",{className:"ODsQl3Iq"},!d&&ge.createElement(wv,{message:ge.createElement(ge.Fragment,null,ge.createElement("b",null,i("Unverified Source")),ge.createElement("p",{className:"B9KF5fSL"},Qo(i("$reopen_in_iab",{browserButton:e.UMQ&&null!=l&&l.startsWith("http")?ge.createElement("button",{className:"Go1goEAT",onClick:function(){r({url:l,uniqueId:Gd(n)}),ec(l)}},i("MyTonWallet Browser")):ge.createElement("b",null,i("MyTonWallet Browser"))})))),type:"warning",size:"small",iconClassName:"rYesJSbN"}),u)),m&&ge.createElement(Rs,{isSmall:!0,isPrimary:!0,className:"Dpv9gVfh",onClick:p},i("Disconnect")))})),jv=fe((function(t){let{isActive:n,error:a,onSubmit:o,onCancel:r,onClose:i}=t;const{clearDappConnectRequestError:s}=Ke(),c=Er();return Ui({isActive:n,onBack:r}),ge.createElement(ge.Fragment,null,!Yc()&&ge.createElement(Th,{title:c("Enter Password"),onClose:i}),ge.createElement(ff,{isActive:n,error:a,withCloseButton:e.UMQ,submitLabel:c("Connect"),cancelLabel:c("Cancel"),onSubmit:o,onCancel:r,onUpdate:s}))})),Yv=fe(je((e=>{var t;const n=at(e),a=void 0!==(null===(t=e.dappConnectRequest)||void 0===t?void 0:t.state),{state:o,dapp:r,error:i,accountId:s,permissions:c,proof:l}=e.dappConnectRequest||{};return{state:o,hasConnectRequest:a,dapp:r,error:i,requiredPermissions:c,requiredProof:l,currentAccountId:s||e.currentAccountId,accounts:n,settingsByAccountId:e.settings.byAccountId}}))((function(e){let{state:t,hasConnectRequest:n,dapp:a,error:o,requiredPermissions:r,requiredProof:i,accounts:s,currentAccountId:c,settingsByAccountId:l}=e;const{submitDappConnectRequestConfirm:d,submitDappConnectRequestConfirmHardware:u,cancelDappConnectRequestConfirm:m,setDappConnectRequestState:p,resetHardwareWalletConnect:f}=Ke(),h=Er(),[g,v]=ie(c),[w,y,b]=Ru(!1),E=n,{renderingKey:k,nextKey:C}=Kg(t??0,E),N=de((()=>Object.entries(s||{})),[s]),S=void 0===a;ce((()=>{c&&v(c)}),[c]);const A=s&&Qe(s,1),T=Po((async()=>{b();const e=Xe(s[g].type),t="hardware"===s[g].type,{isPasswordRequired:n,isAddressRequired:a}=r||{};e||(!i||!t&&a&&!n?(d({accountId:g}),m()):t?(f(),p({state:Ln.ConnectHardware})):Xu()?d({accountId:g,password:await Ju()}):requestAnimationFrame((()=>{p({state:Ln.Password})})))})),I=Po((()=>{p({state:Ln.Info})})),B=Po((()=>{u({accountId:g})})),_=Po((e=>{d({accountId:g,password:e})}));function x(){return ge.createElement(Xg,{accountLength:N.length,labelText:h("Select wallet to use on this dapp")},N.map((e=>{let[t,{title:n,addressByChain:a,type:o}]=e;return function(e,t,n,a){const o=!Boolean(t.ton)||Xe(n)?void 0:()=>v(e),r=(0,Ye.LG)(t)??"",{cardBackgroundNft:i}=(null==l?void 0:l[e])||{};return ge.createElement(Qg,{key:e,accountId:e,address:r,title:a,ariaLabel:h("Switch Account"),accountType:n,isActive:e===g,isLoading:S,onClick:o,cardBackgroundNft:i})}(t,a,o,n)})))}function D(e,t,n){switch(n){case Ln.Info:return ge.createElement(of,{name:"semiFade",activeKey:S?0:1,slideClassName:$v},ge.createElement(Th,{title:h("Connect Dapp"),onClose:m}),S?ge.createElement("div",{className:kr(Ws.transitionContent,Vv)},ge.createElement("div",{className:kr("wOmNbpWs",bv)},ge.createElement(fv,{className:Fv}),ge.createElement("div",{className:"cAdLb2FM"},ge.createElement(fv,{className:Rv}),ge.createElement(fv,{className:Uv}))),ge.createElement("div",{className:"cWnAUfkt"},A&&x())):function(){const e=Boolean(g&&Xe(null==s?void 0:s[g].type));return ge.createElement("div",{className:kr(Ws.transitionContent,Vv)},ge.createElement(qv,{dapp:a,className:kr(bv,"AxygZABC")}),A&&x(),ge.createElement("div",{className:Nv},ge.createElement(Rs,{isPrimary:!0,isDisabled:e,className:Ws.buttonFullWidth,onClick:y},h("Connect"))))}());case Ln.Password:return ge.createElement(jv,{isActive:e,error:o,onSubmit:_,onCancel:I,onClose:m});case Ln.ConnectHardware:return ge.createElement(pv,{isActive:e,onConnected:B,onClose:I});case Ln.ConfirmHardware:return ge.createElement(ev,{isActive:e,text:h("Please confirm operation on your Ledger"),error:o,onTryAgain:B,onClose:I})}}return ge.createElement(ge.Fragment,null,ge.createElement(Ys,{isOpen:E,dialogClassName:yv,nativeBottomSheetKey:"dapp-connect",forceFullNative:k!==Ln.Info,onClose:m,onCloseAnimationEnd:m},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:k,nextKey:C},D)),ge.createElement(Ys,{isOpen:w,isCompact:!0,title:h("Dapp Permissions"),onClose:b},ge.createElement("div",{className:"d20jMAO6"},h("$dapp_can_view_balance",{dappname:ge.createElement("strong",null,null==a?void 0:a.name)})),ge.createElement("div",{className:"XvGbWtVh"},ge.createElement(Rs,{onClick:b,className:Sv},h("Cancel")),ge.createElement(Rs,{isPrimary:!0,onClick:T,className:Sv},h("Connect")))))}))),Gv=fe(je((e=>{const t=at(e);return{toncoinBalance:Ut(e),currentAccountId:e.currentAccountId,accounts:t}}))((function(t){var n;let{dapp:a,toncoinBalance:o,currentAccountId:r,accounts:i,customTokenBalance:s,customTokenSymbol:c,customTokenDecimals:l}=t;const d=void 0!==s?s:o,u=c||e.Tu9.symbol,m=void 0!==l?l:e.Tu9.decimals;return ge.createElement("div",{className:Lv},ge.createElement("div",{className:kv},ge.createElement("div",{className:Ov},null==i||null===(n=i[r])||void 0===n?void 0:n.title),ge.createElement("div",{className:Pv},nr((0,Lt.nI)(d,m),u))),ge.createElement(qv,{dapp:a,className:Mv}))}))),Qv=fe((function(e){let{rows:t}=e;return ge.createElement("div",{className:kr(Ws.transitionContent,Vv)},ge.createElement("div",{className:Lv},ge.createElement("div",{className:"YHLHftpe"},ge.createElement(fv,{className:kr(Rv,Wv)}),ge.createElement(fv,{className:kr(Uv,Hv)})),ge.createElement("div",{className:"VzwVb3o_"},ge.createElement(fv,{className:Fv}),ge.createElement("div",{className:"L8RwZKiN"},ge.createElement(fv,{className:kr(Rv,Wv)}),ge.createElement(fv,{className:kr(Uv,Hv)})))),null==t?void 0:t.map(Xv))}));function Xv(e){let{isLarge:t,hasFee:n}=e;return ge.createElement("div",{className:"XcidIimi"},ge.createElement(fv,{className:kr("oRChyGCN",t&&"q_gxYI6j")}),ge.createElement(fv,{className:kr("IVSbVRoG",t&&"qNqaxuw6")}),n&&ge.createElement(fv,{className:"lbFcqU2u"}))}const Jv=[{isLarge:!1,hasFee:!1}],Zv=fe(je((e=>(0,c.Up)(e.currentDappSignData,["dapp","isLoading","payloadToSign"])))((function(e){let{dapp:t,isLoading:n,payloadToSign:a}=e;const{closeDappSignData:o,submitDappSignDataConfirm:r}=Ke(),i=Er(),s=hh(a,!0),c=void 0===t;return ge.createElement(of,{name:"semiFade",activeKey:c?0:1,slideClassName:$v},ge.createElement(Th,{title:i("Sign Data"),onClose:o}),c?ge.createElement(Qv,{rows:Jv}):ge.createElement("div",{className:kr(Ws.transitionContent,Vv)},ge.createElement(Gv,{dapp:t}),function(){switch(null==s?void 0:s.type){case"text":{const{text:e}=s;return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Cv},i("Message")),ge.createElement("div",{className:kr(Tv,Bv)},e))}case"binary":{const{bytes:e}=s;return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Cv},i("Binary Data")),ge.createElement("div",{className:kr(Tv,Iv)},e),ge.createElement("div",{className:zv},i("The binary data content is unclear. Sign it only if you trust the service.")))}case"cell":{const{cell:e,schema:t}=s;return ge.createElement(ge.Fragment,null,!!t&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Cv},i("Cell Schema")),ge.createElement("div",{className:kr(Tv,Bv)},t)),ge.createElement("p",{className:Cv},i("Cell Data")),ge.createElement("div",{className:kr(Av,Tv,Iv)},e),ge.createElement("div",{className:zv},i("The binary data content is unclear. Sign it only if you trust the service.")))}}}(),ge.createElement("div",{className:kr(Ws.buttons,Kv)},ge.createElement(Rs,{className:Ws.button,onClick:o},i("Cancel")),ge.createElement(Rs,{isPrimary:!0,isSubmit:!0,isLoading:n,className:Ws.button,onClick:r},i("Sign")))))}))),ew={sticker:"BQ2dFF1C",amount:"ZK1jiZZ7",amount_purple:"A4q4bGl9",amountPurple:"A4q4bGl9",amount_green:"juLGV08g",amountGreen:"juLGV08g",amountSymbol:"pIw09HQw",amountFraction:"AxDVO85U",buttons:"VBRINuzy",buttonsAfterNft:"kg0TjtvC",button:"ONW_pS7t"},tw=fe((function(e){let{isActive:t,onClose:n,type:a="transfer"}=e;const o=Er();Ui({isActive:t,onBack:n}),ce((()=>t?Pr({onEnter:n}):void 0),[t,n]);const r=o("signData"===a?"Data Signed!":"Transaction Sent!");return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:r,onClose:n}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement(Lp,{play:t,noLoop:!1,nonInteractive:!0,className:ew.sticker,tgsUrl:rp.thumbUp,previewUrl:rp.thumbUpPreview}),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:n,isPrimary:!0},o("Close")))))})),nw=fe(je((e=>(0,c.Up)(e.currentDappSignData,["isLoading","state","error"])))((function(t){let{isLoading:n,state:a,error:o}=t;const{setDappSignDataScreen:r,submitDappSignDataPassword:i,clearDappSignDataError:s,closeDappSignData:c,cancelDappSignData:l}=Ke(),d=Er(),u=a!==An.None,{renderingKey:m,nextKey:p,updateNextKey:f}=Kg(a,u),h=Po((()=>{a===An.Password&&r({state:An.Initial})})),g=Po((e=>{i({password:e})})),v=Po((()=>{l(),f()}));function w(t,a,r){switch(r){case An.Initial:return ge.createElement(Zv,null);case An.Password:return function(t){return ge.createElement(ge.Fragment,null,!Yc()&&ge.createElement(Th,{title:d("Sign Data"),onClose:c}),ge.createElement(ff,{isActive:t,isLoading:n,error:o,withCloseButton:e.UMQ,submitLabel:d("Sign"),cancelLabel:d("Back"),onSubmit:g,onCancel:h,onUpdate:s}))}(t);case An.Complete:return ge.createElement(tw,{isActive:t,onClose:c,type:"signData"})}}return ge.createElement(Ys,{hasCloseButton:!0,isOpen:u,dialogClassName:yv,nativeBottomSheetKey:"dapp-sign-data",noBackdropClose:!0,forceFullNative:m===An.Password,onClose:c,onCloseAnimationEnd:v},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:m,nextKey:p},w))})));function aw(e,t,n){const a=function(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t),t|=0;return t}(n),o=1e4*Math.sin(a),r=o-Math.floor(o);return Math.floor(r*(t-e+1))+e}const ow=new Set(["jWBTC","oWBTC","BTC"]),rw=new Set(["jUSDT","oUSDT","USDT","jUSDC","oUSDC","USDC","USD₮"]),iw=new Set(["USD","RUB","EUR","CNY"]);function sw(t){return iw.has(t)?5:rw.has(t)?4:ow.has(t)?3:t===e.Tu9.symbol?2:1}function cw(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!(e&&t&&n&&a))return;let r,i=n.symbol,s=a.symbol;const c=new Ot.z(e),l=new Ot.z(t);if(c.eq(0)||l.eq(0))return;const d=sw(i);if(sw(s)<d){i=a.symbol,s=n.symbol;const e=c.div(t),l=o&&e.gte(1e3);r=tr(e.toNumber(),l?0:4)}else{const t=l.div(e),n=o&&t.gte(1e3);r=tr(t.toNumber(),n?0:4)}return{firstCurrencySymbol:i,secondCurrencySymbol:s,price:r}}const lw=i.p+"chain_avalanche.f5a22f3024a79c2a9f7e.svg",dw=i.p+"chain_bitcoin.f45ee04748fc010b73f0.svg",uw=i.p+"chain_bitcoincash.e58775a726a28f67a7ab.svg",mw=i.p+"chain_bnb.01e2f3e1ea67de53c558.svg",pw={avalanche:lw,bitcoin:dw,bitcoin_cash:uw,binance_smart_chain:mw,binance_dex:mw,cardano:i.p+"chain_cardano.687768b5a8564f340656.svg",cosmos:i.p+"chain_cosmos.a7db04679752fce24427.svg",dash:i.p+"chain_dash.cda178d1c80b14b84c65.svg",doge:i.p+"chain_doge.299dffe46d1d20ecb64e.svg",eos:i.p+"chain_eos.5d77746a1d3fe4f879d9.svg",ethereum:i.p+"chain_ethereum.3af0d0aca7d489e97c88.svg",ethereum_classic:i.p+"chain_ethereumclassic.7a2a50f776866f7dc57f.svg",internet_computer:i.p+"chain_internetcomputer.a779e5a83feca271c1b5.svg",iota:i.p+"chain_iota.74e7a3ff559ca5be6171.svg",litecoin:i.p+"chain_litecoin.200bd2979f34cbf91fee.svg",monero:i.p+"chain_monero.80470738ce04482ad225.svg",polkadot:i.p+"chain_polkadot.ce8946cba8f597bc6435.svg",ripple:i.p+"chain_ripple.d4675f4b4373f6c8fdf4.svg",solana:i.p+"chain_solana.3628ba06de78d3bc2018.svg",stellar:i.p+"chain_stellar.f7eb720521e4d55bb082.svg",ton:i.p+"chain_ton.65285e35dece81bdab6c.svg",tron:i.p+"chain_tron.78feaed45ec98c6779ca.svg",zcash:i.p+"chain_zcash.51dd09d4e46c4b2f1ace.svg"};function fw(e){return e?pw[e]??e:""}const hw=i.p+"coin_btc.887dcd8a09b641cd64fc.png",gw=i.p+"coin_my.0333e30adb78820c4490.svg",vw={ton:i.p+"coin_ton.3ad15a82e5688b967ed1.png",btc:hw,trx:i.p+"coin_trx.e9458515724ddbb167c8.svg",usdt:i.p+"coin_usdt.954394d1344db6c259d1.svg",my:gw},ww={wrapper:"XPeM0_U7",icon:"FoSSGfFn",large:"wjhynzvL","x-large":"CRkmFyTA",xLarge:"CRkmFyTA","x-small":"TGv989qd",xSmall:"TGv989qd",small:"Zb5vM0UM",middle:"d5dxI69w",fallbackIcon:"p13LUS2n",blockchainIcon:"CMIQ9vCY"},yw=fe((function(e){let{token:t,size:n,withChainIcon:a,className:o,iconClassName:r,children:i}=e;const{symbol:s,image:c,chain:l}=t,d=vw[s.toLowerCase()]||c,[u,m]=Ru(!1);return ge.createElement("div",{className:kr(ww.wrapper,o)},u?ge.createElement("div",{className:kr(ww.icon,n&&ww[n],r,ww.fallbackIcon)},t.symbol.slice(0,1)):ge.createElement("img",{src:d,alt:s,className:kr(ww.icon,n&&ww[n],r),draggable:!1,onError:m}),a&&l&&ge.createElement("img",{src:fw(l),alt:"",className:kr(ww.blockchainIcon,n&&ww[n]),draggable:!1}),i)})),bw=[6e-6,6e-6,1e-5*.06,3e-4*.06,6e-6,15e-5],Ew=.07,kw={lightTheme:"120, 121, 122",darkTheme:"240, 241, 242",cardLightText:"250, 250, 250",cardDarkText:"10, 10, 10",cardGoldText:"101, 73, 16",purple:"96, 107, 215",green:"43, 196, 105"};function Cw(e){return e[(0,Ia.yT)(0,e.length-1)]}const Nw=fe(je((e=>({theme:e.settings.theme})))((function(e){let{ref:t,cols:a,rows:o,cellSize:r,skin:i,className:s,theme:c}=e,l=me();t&&(l=t);const u=r*n.Lv,m=gf(c),p=kw[i??`${m}Theme`],f=me({opacityValues:[],steps:[],lastSpeedChangeAt:void 0,isRendered:!1}),h=Dh(l,Lh),g=fl,v=Bs((()=>h()&&!g()),[h,g]);return le((()=>{const e=f.current;if(e.isRendered&&!v())return;const t=l.current,n=t.getContext("2d"),r=a*u,i=o*u;let s,c=!1;t.width=r,t.height=i,e.lastSpeedChangeAt=void 0;const m={ctx:n,cols:a,rows:o,width:r,height:i,cellSizeDpr:u,color:p};return(0,d.iT)((()=>{if(c||e.isRendered&&!v())return!1;const t=performance.now();return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{ctx:a,cols:o,rows:r,cellSizeDpr:i,width:s,height:c,color:l}=e,d=performance.now(),u=!!t.lastSpeedChangeAt&&d-t.lastSpeedChangeAt>=3e3;!u&&t.lastSpeedChangeAt||(t.lastSpeedChangeAt=d),a.clearRect(0,0,s,c);for(let e=0;e<r;e++)for(let r=0;r<o;r++){t.steps[e]??=[],t.opacityValues[e]??=[],u?t.steps[e][r]=Cw(bw)*(t.steps[e][r]<0?-1:1):t.steps[e][r]??=Cw(bw);let o=t.opacityValues[e][r]??.18*Math.random()+Ew;o+=t.steps[e][r]*n,(o>.25||o<Ew)&&(t.steps[e][r]*=-1,o=Nr(o,Ew,.25)),t.opacityValues[e][r]=o,a.fillStyle=`rgba(${l}, ${o})`,a.fillRect(r*i,e*i,i,i),t.isRendered||=!0}}(m,e,s?t-s:0),s=t,!0}),k.RK),()=>{c=!0}}),[a,o,u,v,p]),ge.createElement("canvas",{ref:l,style:`width: ${r*a}px; height: ${r*o}px`,className:kr("_5lZqlhE",s)})}))),Sw={wrapper:"iXsFkRU7",center:"FEWWktrI",right:"FXNTlsIy",interactive:"O6dWAwYM",content:"GAvxZ7xR",spoiler:"ynSPM0hu",left:"DSH91Ntx",fixedWidth:"CBhjF9XS"},Aw=function(e){let{isActive:t,rows:n,cols:a,cellSize:o=0,align:r="left",maskSkin:i,shouldHoldSize:s,className:c,maskClassName:l,contentClassName:d,children:u}=e;const{setIsSensitiveDataHidden:m}=Ke(),{ref:p}=Ls({isOpen:!t,noMountTransition:!t,className:"slow"}),{shouldRender:f,ref:h}=Ls({isOpen:t,withShouldRender:!0,className:"slow"}),g=kr(Sw.wrapper,c,t&&Sw.interactive,Sw[r]),v=kr(Sw.spoiler,l,Sw[r]),w=up(`--spoiler-width: calc(${o*a}px + var(--sensitive-data-extra-width, 0px))`,`min-height: ${o*n}px`,(t||s)&&"min-width: var(--spoiler-width);"),y=kr(Sw.content,d,t&&Sw.fixedWidth);return ge.createElement("div",{style:w,className:g,onClick:t?function(e){Co(e),m({isHidden:!1})}:void 0},f&&ge.createElement(Nw,{ref:h,cols:a,rows:n,cellSize:o,skin:i,className:v}),ge.createElement("div",{ref:p,className:y},u))},Tw="voGmKods",Iw="JKuqFIMs",Bw="vPKs_EfD",_w="ithY1XA8",xw="MwNQsICc",Dw="pEdRQT_R",Lw="lp28p1if",Ow="O_xYgdgM",Pw="mNtPH759",Mw="koKI7xJv",Fw="PQ56yxoE",Rw="cPGOyB7W",Uw="fY8lBeMI",Ww="oLA5mzy7",Hw="X1ICSpcc",$w="r0qJPY3I",Vw=fe((function(t){let{isActive:n,color:a="Gray",appTheme:o}=t;const{shouldRender:r,ref:i}=Ls({isOpen:n,withShouldRender:!0});if(!r)return;const s=`iconClock${a}`;return ge.createElement("div",{ref:i,className:"hJkwVF68"},ge.createElement(Lp,{play:!0,size:e.wg4,nonInteractive:!0,noLoop:!1,forceOnHeavyAnimation:!0,tgsUrl:rp[o][s],previewUrl:rp[o].preview[s]}))})),zw=new Set(["new","waiting","confirming","exchanging","sending","hold"]),Kw=new Set(["failed","expired","refunded","overdue"]),qw=new Set(["expired","failed"]),jw=fe((function(t){let{ref:n,tokensBySlug:a,activity:o,isLast:r,isActive:i,appTheme:s,addressByChain:c,isSensitiveDataHidden:l,isFuture:d,onClick:u}=t;const m=Er(),{id:p,timestamp:f,status:h,from:g,to:v,cex:w}=o,y=de((()=>{if(g&&a)return Md(a,g)}),[g,a]),b=de((()=>{if(v&&a)return Md(a,v)}),[v,a]),E=Number(o.fromAmount),k=Number(o.toAmount),C="pending"===h||zw.has((null==w?void 0:w.status)??""),N=qw.has(h)||Kw.has((null==w?void 0:w.status)??""),S="hold"===(null==w?void 0:w.status),A=de((()=>aw(5,13,f.toString())),[f]),T=g===e.Tu9.slug,I=Rd({from:y,to:b,toAddress:null==w?void 0:w.payoutAddress,addressByChain:c});return ge.createElement(Rs,{ref:n,className:kr(Tw,r&&_w,i&&Bw,u&&Iw),onClick:u&&(()=>u(p)),isSimple:!0},function(){let e="ubpNbJEy",t="Green";return N?(e=$w,t="Red"):S&&(e=void 0,t="Gray"),ge.createElement("i",{className:kr("icon-swap",xw,e),"aria-hidden":!0},ge.createElement(Vw,{isActive:C,color:t,appTheme:s}),N&&ge.createElement("i",{className:kr("QEx5s5VW","icon-close-filled"),"aria-hidden":!0}))}(),ge.createElement("div",{className:Dw},ge.createElement("div",{className:kr(Pw,d&&Ow)},m(S||N||d?"$swap_action":C?"Swapping":"Swapped")),function(){const t=kr(N&&"zT_yLEe8",S&&"aPXkRlmy");return ge.createElement(Aw,{isActive:l,cols:A,rows:2,cellSize:8,align:"right",contentClassName:Rw},ge.createElement("span",{className:kr("i_ICee_w",t)},ar(Math.abs(E),(null==y?void 0:y.symbol)||e.Tu9.symbol,!0)),ge.createElement("i",{className:kr("O_3HTad8","icon-chevron-right",t),"aria-hidden":!0}),ge.createElement("span",{className:kr("mTZ6NzL2",t)},ar(Math.abs(k),(null==b?void 0:b.symbol)||e.Tu9.symbol,!0)),y&&ge.createElement(yw,{token:y,size:"x-small",className:Uw}),b&&ge.createElement(yw,{token:b,size:"x-small",className:Uw}))}()),ge.createElement("div",{className:Lw},function(){if(d)return ge.createElement("div",null);const t=(0,Ba.fU)(f);let n="";const a=null==w?void 0:w.status;return"expired"===a||"overdue"===a?n=m("Expired"):"refunded"===a?n=m("Refunded"):"hold"===a?n=m("On Hold"):"failed"===a||N?n=m("Failed"):"waiting"!==a||T||I?C&&(n=m("In Progress")):n=m("Waiting for Payment"),ge.createElement("div",{className:Mw},n&&ge.createElement("span",{className:Fw},n),n&&`${e.MS3}∙${e.MS3}`,t)}(),function(){const e=cw(o.fromAmount,o.toAmount,y,b);if(!e)return;const[t,n]=e.price.split(".");return ge.createElement("div",null,e.firstCurrencySymbol," ≈ ",ge.createElement("span",{className:Fw},t,ge.createElement("small",null,".",n," ",e.secondCurrencySymbol)))}()))}));function Yw(e){var t;let{address:n,chain:a,currentAccountId:o,accounts:r,savedAddresses:i}=e;if(!n)return;const s=r?Object.keys(r).find((e=>{var t;return e!==o&&(null===(t=r[e].addressByChain)||void 0===t?void 0:t[a])===n})):void 0;return s?r[s].title:null==i||null===(t=i.find((e=>e.address===n&&e.chain===a)))||void 0===t?void 0:t.name}const Gw=i.p+"scam.8fb66536b659fd1bbfc6.svg",Qw=new Set([void 0,"unstakeRequest","nftTrade","auctionBid","liquidityDeposit"]),Xw=fe((function(t){let{ref:n,tokensBySlug:a,transaction:o,isActive:r,annualYield:i,yieldType:s,savedAddresses:c,isLast:l,appTheme:d,withChainIcon:u,doesNftExist:m,isSensitiveDataHidden:p,isFuture:f,accounts:h,currentAccountId:g,baseCurrency:v,onClick:w}=t;const{openMediaViewer:y}=Ke(),b=Er(),{txId:E,amount:k,fromAddress:C,toAddress:N,timestamp:S,comment:A,encryptedComment:T,isIncoming:I,type:B,metadata:_,slug:x,nft:D,extra:L,isPending:O}=o,P=en.has(B),M=tn.has(B),F=null==a?void 0:a[x],{chain:R}=F||{},U=I?C:N,W=de((()=>{if(R)return Yw({address:U,chain:R,currentAccountId:g,accounts:h,savedAddresses:c})}),[h,U,R,g,c])||(null==_?void 0:_.name),H=de((()=>M?function(e){if(null!=e&&e.name){const t=(0,ua.u_)(e.name);if(t)return`.${t.zone.suffixes[0]}`}return"DNS"}(D):""),[M,D]),$=de((()=>aw(5,13,S.toString())),[S]),V=Jw(o,f),z=Zw(o,f);let K,q="Gray";"burn"===B?(K=$w,q="Red"):I?(K="Zw8K7_jM",q="Green"):"stake"===B?(K="eSMoqURj",q="PurpleWhite"):Qw.has(B)&&(K=Hw,q="Blue");const j=Po((e=>{e.stopPropagation(),y({mediaId:D.address,mediaType:Hn.Nft,txId:E})}));return ge.createElement(Rs,{ref:n,className:kr(Tw,l&&_w,r&&Bw,w&&Iw,"full"===V?"WHdvfTWr":"left"===V?"h_nAGYlh":void 0),onClick:w&&(()=>w(E)),isSimple:!0},function(){let e;return e=P?"icon-earn":"callContract"===B||"contractDeploy"===B?"icon-cog":M?kr("rounded-font","phy9vVLZ"):"mint"===B?"icon-magic-wand":"burn"===B?"icon-fire":"auctionBid"===B?"icon-auction-alt":"nftTrade"===B?I?"icon-tag":"icon-purchase":"liquidityDeposit"===B?"icon-can-in":"liquidityWithdraw"===B?"icon-can-out":I?"icon-receive-alt":"icon-send-alt",ge.createElement("i",{className:kr(xw,e,K),"aria-hidden":!0},M&&ge.createElement("span",{style:M?`font-size: ${100*Math.min(1,4/H.length)}%`:void 0},H),ge.createElement(Vw,{isActive:O,color:q,appTheme:d}))}(),ge.createElement("div",{className:Dw},ge.createElement("div",{className:kr(Pw,z&&"none"===V&&Ow)},sn(o,f?"future":"past",b),cn(o)&&ge.createElement("img",{src:Gw,alt:b("Scam"),className:"q57qlNaF"})),function(){const t=dn(o),n="noSign"===t;if("hide"!==t)return ge.createElement(Aw,{isActive:p,cols:$,rows:2,cellSize:8,align:"right",contentClassName:kr(Rw,K!==Hw&&K)},ar((0,Lt.nI)(n?(0,sa.wg)(k):k,(null==F?void 0:F.decimals)??e.I04),(null==F?void 0:F.symbol)||e.Tu9.symbol,n,void 0,!I),F&&ge.createElement(yw,{token:F,size:"x-small",className:Uw}))}()),ge.createElement("div",{className:Lw},function(){const t=[],n=`${e.MS3}∙${e.MS3}`;if(un(o).includes("list")){const a=(null==L?void 0:L.dex)&&e.S7e[L.dex],o=(null==L?void 0:L.marketplace)&&e.fSo[L.marketplace];t.push(n,b(a||o?"$transaction_on":I?"$transaction_from":"$transaction_to",{address:ge.createElement("span",{className:Fw},u&&Boolean(R)&&ge.createElement("i",{className:kr("cSKmXwko",`icon-chain-${R.toLowerCase()}`),"aria-label":R}),a||o||W||(0,qt.W)(U,e.bOf))}))}return pn(o)&&t.push(n,b("at %annual_yield%",{annual_yield:ge.createElement("span",{className:Fw},s," ",i,"%")})),f||t.push(n,(0,Ba.fU)(S)),ge.createElement("div",{className:Mw},t.slice(1))}(),function(){if("hide"!==dn(o)&&F)return ge.createElement(Aw,{isActive:p,cols:Math.round(3+($-5)/3),rows:2,cellSize:8,align:"right"},sr(k,v,F))}()),D&&ge.createElement("div",{className:kr(Ww,"e3BuV9xi",!m&&"ajtoDEwn","transaction-nft"),onClick:m?j:void 0,"data-nft-address":null==D?void 0:D.address,"data-tx-id":E},ge.createElement("img",{src:D.thumbnail,alt:D.name,className:"D2P00KCV"}),ge.createElement("div",{className:"q0pHgkH5"},ge.createElement("div",{className:"nyPEMK4u"},D.name),ge.createElement("div",{className:"Qpo6_7BK"},D.collectionName))),ln(o)&&function(){const e=kr(Ww,"HZlzXBrP",!I&&"pDncMEIU",K);return ge.createElement("div",{className:e},T&&ge.createElement("i",{className:kr("gBryI_V5","icon-lock"),"aria-hidden":!0}),T?ge.createElement("i",null,b("Encrypted Message")):A)}())}));function Jw(e,t){return(e.nft||ln(e))&&Zw(e,t)?function(e){return"hide"===dn(e)}(e)?"full":e.nft||e.isIncoming?"left":"none":"none"}function Zw(e,t){return t&&!un(e).includes("list")&&!pn(e)}function ey(e){let{activity:t,isLast:n,isActive:a,isSensitiveDataHidden:o,isFuture:r,withChainIcon:i,tokensBySlug:s,swapTokensBySlug:c,appTheme:l,nftsByAddress:d,currentAccountId:u,stakingStateBySlug:m,savedAddresses:p,accounts:f,baseCurrency:h,onClick:g}=e;var v;if("swap"===t.kind)return ge.createElement(jw,{activity:t,tokensBySlug:c,isLast:n,isActive:a,appTheme:l,addressByChain:null==f||null===(v=f[u])||void 0===v?void 0:v.addressByChain,isSensitiveDataHidden:o,isFuture:r,onClick:g});{const e=Boolean(t.nft&&(null==d?void 0:d[t.nft.address])),{annualYield:c,yieldType:v}=(null==m?void 0:m[t.slug])??{};return ge.createElement(Xw,{currentAccountId:u,transaction:t,tokensBySlug:s,isActive:a,annualYield:c,yieldType:v,isLast:n,savedAddresses:p,withChainIcon:i,appTheme:l,doesNftExist:e,isSensitiveDataHidden:o,isFuture:r,accounts:f,baseCurrency:h,onClick:g})}}function ty(e,t){return"swap"===e.kind?4:function(e,t){return 4+(e.nft?3.875:0)+(ln(e)?2.375:0)-("none"!==Jw(e,t)?1.25:0)}(e,t)}const ny=fe(je((e=>{const{dapp:t}=e.currentDappTransfer,n=at(e);return{currentAccount:null==n?void 0:n[e.currentAccountId],toncoinBalance:Ut(e),dapp:t}}))((function(t){let{currentAccount:n,toncoinBalance:a,dapp:o}=t;const{cancelDappTransfer:r,setDappTransferScreen:i}=Ke(),s=Er(),c=Po((()=>{i({state:Sn.Initial})}));return ge.createElement("div",{className:Ws.transitionContent},ge.createElement("div",{className:Lv},ge.createElement("div",{className:kv},ge.createElement("div",{className:Ov},null==n?void 0:n.title),ge.createElement("div",{className:Pv},nr((0,Lt.nI)(a),e.Tu9.symbol))),ge.createElement(qv,{dapp:o,className:Mv})),ge.createElement("div",{className:"LiakNgEl"},ge.createElement("span",null,Qo(s("$dapp_ledger_warning1"))),ge.createElement("span",null,Qo(s("$dapp_ledger_warning2")))),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{className:Ws.button,onClick:r},s("Cancel")),ge.createElement(Rs,{isPrimary:!0,isSubmit:!0,className:Ws.button,onClick:c},s("Agree"))))}))),ay="DZJAgO1_",oy="frL0b5SW",ry="l7Jv2Ysl",iy="cjX8maBi",sy="nfp5rpIc",cy="qBj00Hsz",ly=fe((function(t){let{nft:n,isStatic:a,withTonExplorer:o,withMediaViewer:r}=t;const{openMediaViewer:i}=Ke(),s=Er(),c=de((()=>s("Open on %ton_explorer_name%",{ton_explorer_name:$o("ton")}).join("")),[s]),l=e=>{e.stopPropagation(),ec(qo(n.address,Ve().settings.isTestnet))},d=Po((()=>{i({mediaId:n.address,mediaType:Hn.Nft})}));if(!n)return ge.createElement("div",{className:kr(ay,a&&oy)},ge.createElement(Lp,{play:!0,noLoop:!1,nonInteractive:!0,size:e.YO8,className:ry,tgsUrl:rp.wait,previewUrl:rp.waitPreview}),ge.createElement("div",{className:iy},ge.createElement("div",{className:sy},"NFT"),ge.createElement("div",{className:cy},s("Name and collection are not available. Please check back later."))));const u=n.name||(0,qt.W)(n.address);return ge.createElement("div",r?{role:"button",tabIndex:0,"aria-label":s("NFT"),className:kr(ay,"GU6t4snd",a&&oy),onClick:d}:{className:kr(ay,a&&oy)},ge.createElement(ge.Fragment,null,ge.createElement("img",{src:n.thumbnail,alt:u,className:ry}),ge.createElement("div",{className:iy},ge.createElement("div",{className:sy},u,o&&ge.createElement("i",{className:kr("DNxf1fb1","icon-tonexplorer-small"),onClick:l,title:c,"aria-label":c,role:"button",tabIndex:0})),ge.createElement("div",{className:cy},n.collectionName))))})),dy=350,uy="r5lsJ1c8",my=fe((function(e){let{isOpen:t,address:n,chain:a,onClose:o}=e;const{removeFromSavedAddress:r,showNotification:i}=Ke(),s=Er(),c=Po((()=>{r({address:n,chain:a}),i({message:s("Address removed from saved"),icon:"icon-trash"}),o()}));return ge.createElement(Ys,{title:s("Delete Saved Address"),isCompact:!0,isOpen:t,onClose:o},ge.createElement("p",{className:uy},s("Are you sure you want to remove this address from your saved ones?")),ge.createElement("p",{className:uy},s("You will be able to save it again via Transaction Info with this address.")),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:o,className:Ws.button},s("Cancel")),ge.createElement(Rs,{isDestructive:!0,onClick:c,className:Ws.button},s("Delete"))))})),py=fe((function(e){let{isMenuOpen:t,contentRef:n,contentClassName:a}=e;const{shouldRender:o,ref:r}=Ls({isOpen:t,withShouldRender:!0});if(le((()=>{n.current&&(Cs(n.current,"qhlMQSuq",o),Cs(n.current,"y0lYOYF9",o&&!t),a&&Cs(n.current,a,o))}),[a,n,t,o]),Os({className:"with-menu-backdrop",isActive:t}),o)return ge.createElement("div",{ref:r,className:kr("aLk6q3zd",t&&"LULg10Df")})})),fy={wrapper:"qrcsFk0p",button:"tQGrt_Qw",button_spoiler:"RpBIB1I4",buttonSpoiler:"RpBIB1I4",icon:"RdTchw5a",iconCaretDown:"DdQbhVKr",iconStar:"p87ao4no",iconShare:"GuQHudIr",nameInput:"lL2_LCB0",shortAddress:"hofQbGX_",scam:"nwdDECq8",revealSpoiler:"W5z38O2d",scamImage:"KBuV_80E",chainIcon:"xEGdgotG",meaningfulPart:"tKeqWu_9",menuIcon:"iyUEV5xt",dimmedPart:"NNrfqpvB",menu:"E31wd_4J",menuItem:"HbftB0iE"};function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},hy.apply(null,arguments)}const gy=3*n.$,vy=n.$,wy=fe(je((e=>{const t=st(e);return{savedAddresses:null==t?void 0:t.savedAddresses,isMultichainAccount:kt(e,e.currentAccountId),isTestnet:e.settings.isTestnet}}))((function(e){let{chain:t,address:a,addressName:o,addressUrl:r,isScam:i,isTransaction:s,text:c="",spoiler:l,spoilerRevealText:d,spoilerCallback:u,copyNotification:m,noSavedAddress:p,noExplorer:f,className:h,textClassName:g,savedAddresses:v,isTestnet:w,isMultichainAccount:y,noDimming:b,withShareInMenu:E}=e;const{showNotification:k,addSavedAddress:C}=Ke(),N=me(),S=me(),A=me(),T=Er(),[I,B,_]=Ru(),[x,D,L]=Ru(),[O,P]=ie(o),[M,,F]=Ru(Boolean(l)),R=de((()=>Boolean(a&&t&&(v||[]).find((e=>e.address===a&&e.chain===t)))),[a,t,v]);r=r??(t?Ko(t,a,w):void 0);const U=T(R?"Remove From Saved":"Save Address"),W=T("View on Explorer"),H=Boolean(!i&&!p&&a),$=Boolean(!f&&r);ce((()=>{I&&P("")}),[I]);const V=Po((()=>{O&&a&&t&&(C({address:a,chain:t,name:O}),k({message:T("Address was saved!"),icon:"icon-star"}),_())}));ce((()=>I?Pr({onEnter:V}):void 0),[V,I]),ip(N,!I);const z=Po((()=>{m&&(k({message:m,icon:"icon-copy"}),al(a||c))})),K=Po((()=>{mh(r,t?$o(t):void 0)})),q=Po((()=>{ec(r,{title:$o(t),subtitle:Ho(r)})})),{isActionsMenuOpen:j,menuAnchor:Y,menuPositionY:G,menuItems:Q,handleMenuShow:X,handleMenuItemSelect:J,closeActionsMenu:Z}=function(e,t){const[a,o]=ie("top"),[r,i]=ie(),s=Po((()=>i(void 0))),c=Boolean(r),l=de((()=>{const{isAddressAlreadySaved:e,isWalletAddress:a,isTransaction:o,withSavedAddresses:r,withExplorer:i,withShare:s}=t,c=[{name:r||a?"Copy Address":o?"Copy Transaction ID":"Copy",fontIcon:"copy",value:"copy"}];return r&&c.push({name:e?"Remove From Saved":"Save Address",fontIcon:e?"star-filled":"star",value:"addressBook"}),(o||s)&&c.push({name:"Share Link",fontIcon:n.pz?"share-ios":"share-android",value:"share"}),i&&c.push({name:"View on Explorer",fontIcon:"tonexplorer",value:"explorer"}),c}),[t]),d=Po((t=>{var n;null===(n=e[t])||void 0===n||n.call(e),s()})),u=Po((e=>{let t;if(Co(e),e.type.startsWith("touch")){const{changedTouches:n,touches:a}=e;t=a.length>0?a[0].clientX:n[0].clientX}else t=e.clientX;const{top:n,bottom:a}=e.currentTarget.getBoundingClientRect(),r=l.length*gy,s=Ra().height;a+r+-16+vy>=s?(o("bottom"),i({x:t,y:n})):(o("top"),i({x:t,y:a+-16}))}));return{isActionsMenuOpen:c,menuAnchor:r,menuPositionY:a,menuItems:l,handleMenuShow:u,handleMenuItemSelect:d,closeActionsMenu:s}}({copy:z,share:K,addressBook:R?D:B,explorer:q},{isAddressAlreadySaved:R,isWalletAddress:Boolean(a&&t&&p&&!s),isTransaction:s,withSavedAddresses:H,withExplorer:$,withShare:E}),ee=!l&&n.TF&&Q.length>1,te=Po((()=>document.body)),ne=Po((()=>A.current)),ae=Po((()=>({withPortal:!0,preferredPositionY:G}))),oe=function(e){let{onClick:t,onStart:n,onEnd:a,threshold:o=dy}=e;const r=me(!1),i=me(!1),s=me(void 0),c=ue((e=>{const t="button"in e&&0===e.button||"touches"in e&&e.touches.length>0;!i.current&&t&&(i.current=!0,s.current=window.setTimeout((()=>{null==n||n(),r.current=!0}),o))}),[n,o]),l=ue((e=>{i.current&&(r.current?null==a||a():null==t||t(e),r.current=!1,i.current=!1,window.clearTimeout(s.current))}),[a,t]);return ye((()=>()=>{window.clearTimeout(s.current)})),{onMouseDown:c,onMouseUp:l,onMouseLeave:l,onTouchStart:c,onTouchEnd:l,onTouchCancel:l}}({onClick:X,onStart:z}),re=Po((()=>{F(),null==u||u()}));function se(e){let n=e;if(!b&&!s&&e===a&&e.length>2*qt.V){const t=e.substring(0,qt.V),a=e.length-qt.V,o=e.substring(qt.V,a),r=e.substring(a);n=ge.createElement(ge.Fragment,null,ge.createElement("span",{className:fy.meaningfulPart},t),ge.createElement("span",{className:fy.dimmedPart},o),ge.createElement("span",{className:fy.meaningfulPart},r))}else!b&&s&&(n=ge.createElement("span",{className:fy.dimmedPart},e));return ge.createElement("span",{className:kr(fy.button,i&&fy.scam,g),tabIndex:0,role:"button",title:ee?void 0:T("Copy"),onClick:ee?void 0:z},i&&ge.createElement("img",{src:Gw,alt:T("Scam"),className:fy.scamImage}),y&&!s&&ge.createElement("i",{className:kr(fy.chainIcon,`icon-chain-${t}`),"aria-label":t}),n,Boolean(o)&&ge.createElement("span",{className:kr(fy.shortAddress,i&&fy.scam)},(0,qt.W)(a)),Boolean(m)&&!ee&&ge.createElement("i",{className:kr(fy.icon,"icon-copy"),"aria-hidden":!0}))}return ge.createElement(ge.Fragment,null,ge.createElement(py,{isMenuOpen:j&&ee,contentRef:S}),ge.createElement("div",hy({ref:S,className:kr(fy.wrapper,h)},ee&&!j&&{...oe,tabIndex:0,role:"button"},{onContextMenu:ee?Co:void 0}),function(){const e=o||a||c;if(!l)return se(e);const t=M||!e;return ge.createElement(of,{activeKey:t?1:0,name:"fade",className:fy.commentContainer},t?ge.createElement("span",{className:kr(fy.button,fy.button_spoiler,g)},ge.createElement("i",null,l)," ",ge.createElement("span",{onClick:re,tabIndex:0,role:"button",className:fy.revealSpoiler},d)):se(e))}(),function(){if(ee){const e=kr(fy.icon,fy.iconCaretDown,"icon-caret-down",i&&fy.scam);return ge.createElement(ge.Fragment,null,ge.createElement("i",{className:e,"aria-hidden":!0}),ge.createElement(Ah,{ref:A,withPortal:!0,shouldTranslateOptions:!0,isOpen:j,items:Q,menuPositionY:G,menuAnchor:Y,getLayout:ae,getMenuElement:ne,getRootElement:te,bubbleClassName:fy.menu,buttonClassName:fy.menuItem,fontIconClassName:fy.menuIcon,onSelect:J,onClose:Z}))}return ge.createElement(ge.Fragment,null,H&&ge.createElement("span",{className:fy.button,title:U,"aria-label":U,tabIndex:0,role:"button",onClick:R?D:B},ge.createElement("i",{className:kr(fy.icon,fy.iconStar,R?"icon-star-filled":"icon-star"),"aria-hidden":!0})),s&&ge.createElement("span",{className:fy.button,title:T("Share Link"),"aria-label":T("Share Link"),onClick:K},ge.createElement("i",{className:kr(fy.icon,fy.iconShare,"icon-link"),"aria-hidden":!0})),$&&ge.createElement("a",{href:r,className:fy.button,title:W,"aria-label":W,target:"_blank",rel:"noreferrer noopener",onClick:nc},ge.createElement("i",{className:kr(fy.icon,"icon-tonexplorer-small"),"aria-hidden":!0})))}()),a&&ge.createElement(ge.Fragment,null,ge.createElement(Ys,{title:T("Save Address"),isCompact:!0,isOpen:I,onClose:_},ge.createElement("p",null,T("You can save this address for quick access while sending.")),ge.createElement(Pp,{ref:N,placeholder:T("Name"),onInput:P,value:O,maxLength:255,className:fy.nameInput}),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:_,className:Ws.button},T("Cancel")),ge.createElement(Rs,{onClick:V,isPrimary:!0,isDisabled:!O,className:Ws.button},T("Save")))),ge.createElement(my,{isOpen:x,address:a,chain:t,onClose:L})))}))),yy=fe(je((e=>({tokensBySlug:e.tokenInfo.bySlug,baseCurrency:e.settings.baseCurrency})))((function(e){let{label:t,amountsBySlug:n,nftCount:a,tokensBySlug:o,baseCurrency:r}=e;const i=[];a&&i.push(ge.createElement("span",{className:_v},`${a} NFT${a>1?"s":""}`));for(const[e,t]of Object.entries(n)){i.length&&i.push(" + ");const n=o[e];i.push(ge.createElement("span",{className:_v},nr((0,Lt.nI)(t,(null==n?void 0:n.decimals)??0),(null==n?void 0:n.symbol)??"")))}if(!Ge(n)){const e=function(e,t){return Object.entries(e).reduce(((e,n)=>{let[a,o]=n;const r=t[a];return r?e+(0,Lt.CF)(o,r.decimals).toNumber()*r.price:e}),0)}(n,o);i.push(` (${nr(e,ir(r))})`)}return ge.createElement(ge.Fragment,null,ge.createElement("span",{className:Cv},t),ge.createElement("div",{className:Tv},i))}))),by=fe((function(e){let{transaction:t,tokensBySlug:n}=e;const a=Er(),o=me(),[r,i]=Ru(!1);ce((()=>{const e=o.current;e&&e.scrollWidth<=e.clientWidth&&i()}),[i]);const s=function(){const{payload:e,rawPayload:o}=t;if(e&&!Tt(e)&&!It(e))switch(e.type){case"comment":return e.comment;case"tokens:burn":{const{slug:t,amount:o}=e,r=n[t],i=(null==r?void 0:r.decimals)??At.fI,s=(null==r?void 0:r.symbol)??"";return a("$dapp_transfer_tokens_burn",{amount:nr((0,Lt.nI)(o,i),s,2)})}case"dns:change-record":{const{record:t}=e,n="unknown"!==t.type?t.type:t.key;return"wallet"===t.type&&t.value?a("$dapp_dns_set_wallet_payload",{address:t.value}):"wallet"!==t.type||t.value?t.value?a("$dapp_dns_change_record_payload",{category:n,value:t.value}):a("$dapp_dns_delete_record_payload",{category:n}):a("$dapp_dns_delete_wallet_payload")}case"token-bridge:pay-swap":return a("$dapp_token_bridge_pay_swap_payload",{swapId:e.swapId});case"liquid-staking:deposit":return a("$dapp_liquid_staking_deposit_payload");case"liquid-staking:vote":return a("$dapp_liquid_staking_vote_payload",{votingAddress:e.votingAddress,vote:e.vote});case"single-nominator:change-validator":return a("$dapp_single_nominator_change_validator_payload",{address:e.address});case"single-nominator:withdraw":return a("$dapp_single_nominator_withdraw_payload",{amount:(0,Lt.nI)(e.amount)});case"vesting:add-whitelist":return a("$dapp_vesting_add_whitelist_payload",{address:e.address});case"unknown":return o;default:return JSON.stringify(e,void 0,2).replace(`/"${sa.tH}/g`,'"')}}();if(s)return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Cv},function(){var e;switch(null===(e=t.payload)||void 0===e?void 0:e.type){case"comment":return a("Comment");case"unknown":return a("Payload");default:return a("Nested Transaction")}}()),ge.createElement("div",{ref:o,className:kr(Tv,r&&Iv)},s,!r&&ge.createElement("div",{className:"l7ty8x8l",onClick:i},a("View"))),t.isDangerous&&ge.createElement("div",{className:zv},Qo(a("$hardware_payload_warning"))))})),Ey=fe((function(e){let{transaction:t,tokensBySlug:n,isActive:a,onClose:o,onBack:r}=e;const i=Er();return Ui({isActive:a,onBack:r}),ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:i("Transaction Info"),onBackButtonClick:r,onClose:o}),ge.createElement("div",{className:kr(Ws.transitionContent,"yj9FIjaY")},t&&ge.createElement(ky,{transaction:t,tokensBySlug:n})))}));function ky(t){let{transaction:n,tokensBySlug:a}=t;const o=Er(),r=de((()=>({[e.Tu9.slug]:n.networkFee})),[n]);return ge.createElement(ge.Fragment,null,Tt(n.payload)&&ge.createElement(ly,{nft:n.payload.nft}),ge.createElement("p",{className:Cv},o("Receiving Address")),ge.createElement(wy,{chain:e.Tu9.chain,address:n.displayedToAddress,isScam:n.isScam,className:kr(Av,"NfKwqXNd"),copyNotification:o("Address was copied!")}),function(){if(Tt(n.payload)){if(0n===n.amount)return;return ge.createElement(yy,{label:o("Additional Amount Sent"),amountsBySlug:r})}const t={};return It(n.payload)&&(t[n.payload.slug]=n.payload.amount),t[e.Tu9.slug]=n.amount,0n===t[e.Tu9.slug]&&Qe(t,1)&&delete t[e.Tu9.slug],ge.createElement(yy,{label:o("Amount"),amountsBySlug:t})}(),ge.createElement(yy,{label:o("Fee"),amountsBySlug:r}),ge.createElement(by,{transaction:n,tokensBySlug:a}))}const Cy={exact:"",approximate:"~ ",lessThan:"< "},Ny={slug:"__stars__",symbol:e.xFF,decimals:0},Sy={slug:"__unknown__",symbol:"",decimals:0},Ay={[e.Tu9.slug]:"icon-chain-ton",[e.X7T.slug]:"icon-chain-tron"},Ty=fe((function(e){var t;let{terms:n,token:a,precision:o,shouldPreferIcons:r,termClassName:i,symbolClassName:s}=e;const c=(null===(t=zn(Gn(a.slug)))||void 0===t?void 0:t.nativeToken)??Sy,l=[Cy[o]];return function(e){const t=[];let n;for(const[a,o]of Object.entries(e)){if(void 0===o)continue;const e={tokenType:a,amount:o};n||=e,Number(o)&&t.push(e)}return 0===t.length&&t.push(n??{tokenType:"native",amount:0}),t}(n).forEach(((e,t)=>{let{tokenType:n,amount:o}=e;t>0&&l.push(" + ");const d="stars"===n?Ny:"native"===n?c:a,u=r?Ay[d.slug]:void 0;"bigint"==typeof o&&(o=(0,Lt.nI)(o,d.decimals));let m=u?ge.createElement("i",{className:kr(u,"hrsxYQfo"),"aria-label":d.symbol}):d.symbol;s&&(m=ge.createElement("span",{className:s},m)),l.push(ge.createElement("span",{className:kr("KQKXQCYl",i)},nr(o,"",void 0,!0),m))})),l})),Iy=fe((function(e){let{className:t,isStatic:n,terms:a,token:o,precision:r,keepDetailsButtonWithoutFee:i,onDetailsClick:s}=e;const c=Er();let l;return a&&o&&(l=c("exact"===r?"$fee_value_with_colon":"$fee_value",{fee:ge.createElement(Ty,{terms:a,token:o,precision:r})})),ge.createElement(By,{className:t,isStatic:n,onDetailsClick:l||i?s:void 0,transitionKey:l?1:0},l)}));function By(e){let{className:t,isStatic:n,onDetailsClick:a,children:o,transitionKey:r=0}=e;const i=Er();return ge.createElement(of,{name:"fade",activeKey:r+(a?65536:0),className:kr("fJgsdA7d",t,n&&"swvIvbGd")},o,Boolean(o)&&a&&" · ",a&&ge.createElement("span",{role:"button",tabIndex:0,className:"K7iB61lh",onClick:()=>a()},i("Details"),ge.createElement("i",{className:kr("icon-chevron-right","WDhuwtt6"),"aria-hidden":!0})))}const _y=[{isLarge:!1,hasFee:!1},{isLarge:!0,hasFee:!0}],xy=fe(je((e=>{var t,n,a;const{isLoading:o,dapp:r,transactions:i,emulation:s}=e.currentDappTransfer,c=e.currentAccountId,l=st(e),d=at(e),{amountsBySlug:u,isScam:m,isDangerous:p,nftCount:f}=xt(e);return{transactions:i,totalAmountsBySlug:u,emulation:s,isScam:m,isDangerous:p,nftCount:f,dapp:r,isLoading:o,tokensBySlug:e.tokenInfo.bySlug,swapTokensBySlug:null===(t=e.swapTokenInfo)||void 0===t?void 0:t.bySlug,theme:e.settings.theme,nftsByAddress:null==l||null===(n=l.nfts)||void 0===n?void 0:n.byAddress,currentAccountId:c,stakingStateBySlug:wa(e,c),savedAddresses:null==l?void 0:l.savedAddresses,accounts:d,insufficientTokens:Dt(e),balancesBySlug:null==l||null===(a=l.balances)||void 0===a?void 0:a.bySlug}}))((function(t){var n;let{transactions:a,totalAmountsBySlug:o,emulation:r,isScam:i,isDangerous:s,nftCount:c,dapp:l,isLoading:d,tokensBySlug:u,swapTokensBySlug:m,theme:p,nftsByAddress:f,currentAccountId:h,stakingStateBySlug:g,savedAddresses:v,accounts:w,insufficientTokens:y,balancesBySlug:b,onClose:E}=t;const{closeDappTransfer:k,showDappTransferTransaction:C,submitDappTransferConfirm:N}=Ke(),S=Er(),A=gf(p),T=hh(a,!0),I=de((()=>function(e,t){return e?e.map(((e,n)=>({...e,index:n,sortingCost:Dy(e,t)}))).sort(((e,t)=>t.sortingCost-e.sortingCost)):e}(T,u)),[T,u]),B=void 0===l,_=!y,x=de((()=>function(t,n,a){if(!t||!n||!a)return{balance:(null==n?void 0:n[e.Tu9.slug])??0n,symbol:e.Tu9.symbol,decimals:e.Tu9.decimals};const o=[],r=[];for(const[e,i]of Object.entries(t)){const t=n[e]??0n,s=a[e];if(!s)continue;const{symbol:c,decimals:l,priceUsd:d=0}=s;if(t<i){const n=i-t,a=(0,Lt.CF)(n,l).toNumber()*d;o.push({slug:e,insufficientUsdValue:a,balance:t,symbol:c,decimals:l})}else{const n=(0,Lt.CF)(i,l).toNumber()*d;r.push({slug:e,transactionUsdValue:n,balance:t,symbol:c,decimals:l})}}if(o.length>0){const e=o.reduce(((e,t)=>t.insufficientUsdValue>e.insufficientUsdValue?t:e));return{balance:e.balance,symbol:e.symbol,decimals:e.decimals}}if(r.length>0){const e=r.reduce(((e,t)=>t.transactionUsdValue>e.transactionUsdValue?t:e));return{balance:e.balance,symbol:e.symbol,decimals:e.decimals}}return{balance:n[e.Tu9.slug]??0n,symbol:e.Tu9.symbol,decimals:e.Tu9.decimals}}(o,b,u)),[o,b,u]);function D(t){const{payload:n}=t,a=[];if(Tt(n))a.push("1 NFT");else if(It(n)){const{slug:e,amount:t}=n,o=u[e];if(o){const{decimals:e,symbol:n}=o;a.push(nr((0,Lt.nI)(t,e),n))}}return a.push(nr((0,Lt.nI)(t.amount+t.networkFee),e.Tu9.symbol)),ge.createElement("div",{key:t.index,className:"qfq9TmLL",onClick:()=>C({transactionIdx:t.index})},t.isScam&&ge.createElement("img",{src:Gw,alt:S("Scam"),className:"gw394drP"}),ge.createElement("span",{className:kr("rqZIiXwE",t.isScam&&Dv)},a.join(" + "))," ",ge.createElement("span",{className:kr("p87NWFTH",t.isScam&&Dv)},S("$transaction_to",{address:(0,qt.W)(t.displayedToAddress)})),ge.createElement("i",{className:kr("gKLbD42t","icon-chevron-right"),"aria-hidden":!0}))}return ge.createElement(of,{name:"semiFade",activeKey:B?0:1,slideClassName:$v},ge.createElement(Th,{title:S(Tt(null==T||null===(n=T[0])||void 0===n?void 0:n.payload)?"Send NFT":"Send Transaction"),onClose:k}),B?ge.createElement(Qv,{rows:_y}):ge.createElement("div",{className:kr(Ws.transitionContent,Vv)},ge.createElement(Gv,{dapp:l,customTokenBalance:x.balance,customTokenSymbol:x.symbol,customTokenDecimals:x.decimals}),s&&ge.createElement("div",{className:kr("Jgu5kw0W",zv)},Qo(S("$hardware_payload_warning"))),function(){if(!T)return;const e=c>0||!Ge(o);return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Cv},S("$many_transactions",T.length,"i")),ge.createElement("div",{className:xv},null==I?void 0:I.map(D)),T.length>1&&e&&ge.createElement(yy,{label:S("Total Amount"),amountsBySlug:o,nftCount:c}))}(),function(){var t;if(null==r||null===(t=r.activities)||void 0===t||!t.length)return;const{activities:n,realFee:a}=r;return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Cv},S("Preview")," ",ge.createElement(wv,{message:Qo(S("$preview_not_guaranteed")),type:"warning",size:"small"})),ge.createElement("div",{className:kr(xv,"ZCewpbCA")},n.map(((e,t)=>ge.createElement(ey,{key:e.id,activity:e,isFuture:!0,isLast:t===n.length-1,tokensBySlug:u,swapTokensBySlug:m,appTheme:A,nftsByAddress:f,currentAccountId:h,stakingStateBySlug:g,savedAddresses:v,accounts:w})))),0n!==a&&ge.createElement(Iy,{terms:{native:a},token:e.Tu9,precision:"approximate",className:"ClQaAvrV"}))}(),ge.createElement("div",{className:Nv},!_&&ge.createElement("div",{className:"IHLQKILq"},S("Not Enough %symbol%",{symbol:y})),ge.createElement("div",{className:kr(Ws.buttons,Kv)},ge.createElement(Rs,{className:Ws.button,onClick:E},S("Cancel")),ge.createElement(Rs,{isPrimary:!0,isSubmit:!0,isLoading:d,isDisabled:i||!_,className:Ws.button,onClick:!i&&_?N:void 0},S("Send"))))))})));function Dy(t,n){const a=(0,Lt.CF)(t.amount+t.networkFee,e.Tu9.decimals).toNumber();let o=n[e.Tu9.slug].priceUsd*a;if(It(t.payload)){const{amount:e,slug:a}=t.payload,r=n[a];r&&(o+=r.priceUsd*(0,Lt.CF)(e,r.decimals).toNumber())}else Tt(t.payload)&&(o+=1e9);return o}const Ly=fe(je((e=>{const{isDangerous:t}=xt(e);return{currentDappTransfer:e.currentDappTransfer,tokensBySlug:e.tokenInfo.bySlug,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),isDangerous:t}}))((function(t){let{currentDappTransfer:{isLoading:n,viewTransactionOnIdx:a,state:o,transactions:r,emulation:i,error:s},tokensBySlug:c,isMediaViewerOpen:l,isDangerous:d}=t;const{setDappTransferScreen:u,clearDappTransferError:m,submitDappTransferPassword:p,submitDappTransferHardware:f,closeDappTransfer:h,cancelDappTransfer:g}=Ke(),v=Er(),w=o!==Sn.None,{renderingKey:y,nextKey:b,updateNextKey:E}=Kg(o,w),k=de((()=>function(e,t,n){let a=0;if(e&&(a+=3*e.length,e.length>1&&(a+=5.125)),t)for(const e of t)a+=ty(e,!0);return n&&(a+=4.6),a>=14.5}(r,null==i?void 0:i.activities,d)),[r,i,d]),C=Po((()=>{o!==Sn.Confirm&&o!==Sn.Password||u({state:Sn.Initial})})),N=Po((e=>{p({password:e})})),S=Po((()=>{f()})),A=Po((()=>{g(),E()}));function T(t,o,i){switch(i){case Sn.Initial:return ge.createElement(xy,{onClose:h});case Sn.WarningHardware:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:v("Send Transaction"),onClose:h}),ge.createElement(ny,null));case Sn.Confirm:return ge.createElement(Ey,{transaction:void 0!==a?null==r?void 0:r[a]:void 0,tokensBySlug:c,isActive:t,onBack:C,onClose:h});case Sn.Password:return function(t){return ge.createElement(ge.Fragment,null,!Yc()&&ge.createElement(Th,{title:v("Confirm Action"),onClose:h}),ge.createElement(ff,{isActive:t,isLoading:n,error:s,withCloseButton:e.UMQ,submitLabel:v("Send"),cancelLabel:v("Back"),onSubmit:N,onCancel:C,onUpdate:m}))}(t);case Sn.ConnectHardware:return ge.createElement(pv,{isActive:t,onConnected:S,onClose:h});case Sn.ConfirmHardware:return ge.createElement(ev,{text:v("Please confirm transaction on your Ledger"),error:s,onTryAgain:f,onClose:h});case Sn.Complete:return ge.createElement(tw,{isActive:t,onClose:h})}}return ge.createElement(Ys,{hasCloseButton:!0,isOpen:w&&!l,noBackdropClose:!0,dialogClassName:kr(yv,k&&"ow4XXlQr"),nativeBottomSheetKey:"dapp-transfer",forceFullNative:k||y===Sn.Password,onClose:h,onCloseAnimationEnd:A},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:y,nextKey:b,onStop:E},T))}))),Oy=(0,Sa.F3)("Dialog",{web:()=>i.e(564).then(i.bind(i,94564)).then((e=>new e.DialogWeb))}),Py=fe(je((e=>(0,c.Up)(e,["dialogs"])))((t=>{let{dialogs:n}=t;const{dismissDialog:a}=Ke(),o=Er(),[r,i,s]=Ru(),c=n[n.length-1],l=o((null==c?void 0:c.title)??"Something went wrong");if(ce((()=>{!e.UMQ||"string"!=typeof(null==c?void 0:c.message)||null!=c&&c.footerButtons?c?i():s():c&&Oy.alert({title:l,message:o(c.message)}).then((()=>{a()}))}),[n,o,c,i,l]),c)return ge.createElement(Ys,{isOpen:r,isCompact:!0,title:l,noBackdropClose:c.noBackdropClose,isInAppLock:c.isInAppLock,onClose:s,onCloseAnimationEnd:a},ge.createElement("div",null,"string"==typeof c.message?Qo(o(c.message,c.entities)):c.message),ge.createElement("div",{className:Ws.footerButtons},c.footerButtons,ge.createElement(Rs,{onClick:s},o("OK"))))}))),My=fe(je((e=>{const{isAppUpdateAvailable:t}=e;return{isAppUpdateAvailable:t}}))((function(t){let{isAppUpdateAvailable:n}=t;const a=Er(),[o,r]=ie(!1),[i,s]=ie(!1),[c,l]=Ru(!1);ce((()=>{var e,t,n;const a=null===(e=window.electron)||void 0===e?void 0:e.on(nh.UPDATE_ERROR,(()=>{r(!1)})),o=null===(t=window.electron)||void 0===t?void 0:t.on(nh.UPDATE_DOWNLOADED,(()=>{r(!0)}));return null===(n=window.electron)||void 0===n||n.getIsAutoUpdateEnabled().then(s),()=>{null==a||a(),null==o||o()}}),[]);const d=Po((async()=>{if(!c)if(i){var t;if(o)return l(),void await(null===(t=window.electron)||void 0===t?void 0:t.installUpdate());n&&window.location.reload()}else window.open(`${e.yq6}/get`,"_blank","noopener")})),{ref:u,shouldRender:m}=Ls({isOpen:o||n,withShouldRender:!0});return m?ge.createElement("div",{ref:u,className:kr("m3oYVPLL",c&&"Hz_3Tm4Q"),onClick:d},ge.createElement("div",{className:"cAAhDZj9"},ge.createElement("i",{className:kr("icon-update","O2khIMww")})),ge.createElement("div",{className:"vvQKF4lC"},a("Update %app_name%",{app_name:e.C39}))):null}))),Fy="o0YiMAP8",Ry="B1_vmNNd",Uy="F4gGoZNE",Wy="oUKLixL4",Hy="Pgysk0gP",$y=fe((function(t){let{children:a,withTitle:o}=t;const r=me();(e=>{const t=me(!1),a=me(window.screenX),o=me(window.screenY),r=me(0);ce((()=>{const i=e.current;if(!i||!n.cp||!n.MP)return;const s=e=>{r.current=0,t.current&&(e.preventDefault(),e.stopPropagation(),t.current=!1)},c=e=>{t.current&&(e.preventDefault(),e.stopPropagation())},l=e=>{1===e.buttons&&(r.current+=Math.sqrt((a.current-window.screenX)**2+(o.current-window.screenY)**2),a.current=window.screenX,o.current=window.screenY,!t.current&&r.current>5&&(t.current=!0))},d=e=>{var t;e.currentTarget===e.target&&(null===(t=window.electron)||void 0===t||t.handleDoubleClick())};return i.addEventListener("click",s),i.addEventListener("mousedown",c),i.addEventListener("mousemove",l),i.addEventListener("dblclick",d),()=>{i.removeEventListener("click",s),i.removeEventListener("mouseup",c),i.removeEventListener("mousemove",l),i.removeEventListener("dblclick",d)}}),[e])})(r);const i=Po((()=>{var e;null===(e=window.electron)||void 0===e||e.minimize()})),s=Po((async()=>{var e,t,n;await(null===(e=window.electron)||void 0===e?void 0:e.getIsMaximized())?null===(t=window.electron)||void 0===t||t.unmaximize():null===(n=window.electron)||void 0===n||n.maximize()})),c=Po((()=>{var e;null===(e=window.electron)||void 0===e||e.close()})),l=Po((()=>{var e;null===(e=window.electron)||void 0===e||e.handleDoubleClick()}));return n.H8?ge.createElement("div",{ref:r,className:Fy,onDoubleClick:l},ge.createElement("div",{className:Ry},Boolean(a)&&ge.createElement("div",{className:Wy},a),o&&ge.createElement("div",{className:Uy},e.C39)),ge.createElement("div",{className:"hKXvGlWy"},ge.createElement(My,null),ge.createElement("div",{className:Hy,onClick:i},ge.createElement("i",{className:"icon-windows-minimize"})),ge.createElement("div",{className:Hy,onClick:s},ge.createElement("i",{className:"icon-windows-maximize"})),ge.createElement("div",{className:Hy,onClick:c},ge.createElement("i",{className:"icon-windows-close"})))):ge.createElement("div",{ref:r,className:Fy,onDoubleClick:l},ge.createElement("div",{className:Ry},o&&ge.createElement("div",{className:Uy},e.C39),ge.createElement("div",{className:Wy},ge.createElement(My,null),a)))}));function Vy(e){const t=me(!1);return ce((()=>{n.pz&&!e&&t.current&&(ao(),t.current=!1)}),[e]),{disableSwipeToClose:Po((()=>{n.pz&&!t.current&&(no(),t.current=!0)})),enableSwipeToClose:Po((()=>{n.pz&&t.current&&(ao(),t.current=!1)}))}}function zy(e,n,a){let o=e;o.startsWith("http:")||o.startsWith("https:")||(o=`https://${o}`),function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uo;try{if(!e.match(Ro))return!1;const t=new URL(e);return n.has(t.protocol)}catch(e){return(0,t.SJ)("isValidUrl",e),!1}}(o)?Ke().addSiteToBrowserHistory({url:o}):o=`https://www.google.com/search?q=${encodeURIComponent(e)}`,ec(o,{isExternal:n,title:a,subtitle:Ho(o)})}const Ky=function(e){let{containerRef:t,isDisabled:n,shouldPreventDefault:a=!1,contentSelector:o}=e;ce((()=>{const e=t.current;if(!n&&e)return e.addEventListener("wheel",r,{passive:!a}),()=>{e.removeEventListener("wheel",r)};function r(t){if(!t.deltaX){const n=o?e.querySelector(o):e;if(!n)return;n.scrollLeft+=t.deltaY/4,a&&t.preventDefault()}}}),[t,o,n,a])};function qy(e){const t=me(),n=me();return n.current!==e&&(t.current=n.current),n.current=e,t.current}const jy="dNJuuV1f",Yy="yWoCn5kk",Gy="d8pMxoBU",Qy=fe((function(e){let{category:t,sites:n}=e;const{openSiteCategory:a}=Ke(),o=Er(),[r,i]=de((()=>n.length<=4?[n,[]]:[n.slice(0,3),n.slice(3,7)]),[n]);function s(){a({id:t.id})}return ge.createElement("div",{className:"MEbg8jIh"},ge.createElement("h3",{className:"P97rYp1K",role:"button",tabIndex:0,onClick:s},o(t.name)),ge.createElement("div",{className:kr("uC9KwIK7",i.length>0&&"db2WsIPg"),onClick:i.length>0?s:void 0},r.map((e=>ge.createElement("button",{key:`${e.url}-${e.name}`,type:"button",className:kr(jy,Gy),onClick:t=>{Co(t),ec(e.url,{isExternal:e.isExternal,title:e.name,subtitle:Ho(e.url)})}},ge.createElement(wf,{url:e.icon,alt:e.name,imageClassName:Yy})))),i.length>0&&ge.createElement("div",{className:kr("qqdPrxSH",Gy)},i.map((e=>ge.createElement(wf,{key:`${e.url}-${e.name}`,url:e.icon,alt:e.name,className:kr(jy,"rQOZaBwJ"),imageClassName:Yy}))))))})),Xy=[],Jy="B18NDC8N",Zy="ws8erUzz",eb=Ba.Z2,tb=[{name:"Fanzee Battles",manifestUrl:"https://battles-tg-app.fanz.ee/tc-manifest.json",originalUrl:"https://t.me/fanzeebattlesbot",replacementUrl:"https://t.me/battlescryptobot?start=myTonWallet"},{name:"Hamster Kombat",manifestUrl:"https://hamsterkombatgame.io/tonconnect-manifest.json",originalUrl:"https://hamsterkombatgame.io/",replacementUrl:"https://t.me/hamster_kombat_bot/start"},{name:"Dogs",manifestUrl:"https://cdn.onetime.dog/manifest.json",originalUrl:"https://onetime.dog",replacementUrl:"https://t.me/dogshouse_bot/join"},{name:"Earn",manifestUrl:"https://cdn.joincommunity.xyz/earn/manifest.json",originalUrl:"https://earncommunity.xyz",replacementUrl:"https://t.me/earn?startapp"}].reduce(((e,t)=>{let{originalUrl:n,replacementUrl:a}=t;return e[n]=a,e}),{}),nb=fe((function(e){let{iconUrl:t,name:n,url:a,mode:o,isExternal:r}=e;const{updateDappLastOpenedAt:i}=Ke(),s=Er(),c=Po((async()=>{await ec(tb[a]||a,{isExternal:r}),setTimeout((()=>{i({url:a})}),eb)}));return ge.createElement("button",{type:"button",className:kr("uOCr1XIF","pill"===o?"x3JEisHt":"in10zDBl"),onClick:c},function(){const e="pill"===o?Jy:Zy,n=de((()=>ge.createElement("div",{className:kr(Ev,"RGl7OFHd",e)},ge.createElement("i",{className:kr("JdTfrjba","icon-laptop"),"aria-hidden":!0}))),[e]);return ge.createElement(wf,{url:t,className:e,imageClassName:"ZwXhUWQR",alt:s("Icon"),fallback:n})}(),ge.createElement("span",{className:"mqKHkpx5"},n))})),ab={rootSlide:"ZqS6W7iF",slide:"FbWMWVID",list:"eHKjqPA4",landscapeList:"ajulW8PQ",suggestionsMenu:"AcA4Inhz",suggestions:"Rr_OedMn",suggestion:"goh_kbKG",suggestionIcon:"BHtFAOhh",suggestionAddress:"hX1s9Ru4",clearSuggestion:"k4u3y6_t",item:"gSQkL6Gj",trendingImage:"bIf54cAx",imageWrapperScalable:"jnZY0Ppv",trending:"dsHH5C4L",badge:"PI6bQC1A",imageWrapper:"oZIOx6b0",infoWrapper:"SmLsrv__",extended:"Qe5qRpIb",withBorder:"yvQQOHrd",badgeLabel:"vHZqxLRV",image:"RpIwnHrh",title:"ToW8q6Vp",description:"kd6qUnJ8",telegram:"Y4mdR7QN",emptyList:"OLtywBQ9",emptyListLoading:"i6uQ6HHm",searchWrapper:"VQJfovbk",searchContainer:"Wr0eK8xW",searchIcon:"DdYW9BBn",searchInput:"Gy204QbI",sectionHeader:"HElxzEtm",trendingSection:"bX0D8BEZ",trendingList:"bZc6NN6v"},ob=new Set(["https://checkin.mytonwallet.org"]),rb=fe(je((e=>{const{dapps:t=Xy}=st(e)||{},{dappLastOpenedDatesByUrl:n}=st(e)||{};return{dapps:t,dappLastOpenedDatesByUrl:n}}))((function(e){let{dapps:t,dappLastOpenedDatesByUrl:a}=e;const{openSettingsWithState:o,closeExplore:r}=Ke(),i=Er(),s=me(),c=de((()=>{const e=t.slice().filter((e=>!ob.has(e.url))).map((e=>({...e,lastOpenedAt:null==a?void 0:a[e.url]}))).sort(ib),n=new Set;return e.filter((e=>{let{url:t}=e;return!n.has(t)&&(n.add(t),!0)}))}),[a,t]),l=c.length>3?"tile":"pill",d="pill"===l,u=d?Jy:Zy,m=kr("nA5QFADu",d?"YTIqRcid":"y5gkmCay",!c.length&&"RcpQnS7j","dapps-feed");if(Ky({containerRef:s,isDisabled:n.TF||0===c.length,shouldPreventDefault:!0,contentSelector:".dapps-feed"}),c.length)return ge.createElement("div",{className:"_3Om0rcJ",ref:s},ge.createElement("h2",{className:ab.sectionHeader},i("Connected")),ge.createElement("div",{className:m},null==c?void 0:c.map((e=>function(e,t){const{iconUrl:n,name:a,url:o}=e,r=`dapp-${o}-${Gd(e)}`;return ge.createElement(nb,{key:r,iconUrl:n,name:a,url:o,mode:t,isExternal:!!e.sse})}(e,l))),!!c.length&&ge.createElement("div",{className:"kqZ8FwHA",role:"button",tabIndex:0,title:d?i("Settings"):void 0,"aria-label":d?i("Settings"):void 0,onClick:function(){r(void 0,{forceOnHeavyAnimation:!0}),o({state:Fn.Dapps},{forceOnHeavyAnimation:!0})}},ge.createElement("div",{className:kr("S5zvywKS",u)},ge.createElement("i",{className:"icon-params","aria-hidden":!0})),!d&&ge.createElement("span",{className:"CDOOWV_8"},i("Settings")))))})));function ib(e,t){const n=e.lastOpenedAt||0,a=t.lastOpenedAt||0;return n!==a?a-n:t.connectedAt-e.connectedAt}const sb=e=>{const{className:t,href:n,children:a,onClick:o,clickArg:r,isDestructive:i}=e,s=Po((e=>{if(!o)return e.stopPropagation(),void e.preventDefault();o(e,r)})),c=Po((e=>{if("Enter"===e.code||"Space"===e.code)return o?void o(e):(e.stopPropagation(),void e.preventDefault())})),l=kr("eMFKmXs8",t,i&&"C84vY_ER");return n?ge.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:l},a):ge.createElement("div",{role:"button",tabIndex:0,className:l,onClick:s,onKeyDown:c},a)},cb=fe((function(e){let{site:{url:t,icon:n,name:a,description:o,isExternal:r,extendedIcon:i,withBorder:s,badgeText:c},isTrending:l,isInList:d,className:u}=e;return ge.createElement("div",{className:kr(ab.item,i&&l&&ab.extended,l&&ab.trending,!d&&s&&ab.withBorder,u),tabIndex:0,role:"button",onClick:function(){Zc(),ec(t,{isExternal:r,title:a,subtitle:Ho(t)})}},ge.createElement(wf,{url:i&&l?i:n,className:kr(ab.imageWrapper,!l&&ab.imageWrapperScalable),imageClassName:kr(ab.image,l&&ab.trendingImage)}),ge.createElement("div",{className:ab.infoWrapper},ge.createElement("b",{className:ab.title},a,!l&&jo(t)&&ge.createElement("i",{className:kr(ab.telegram,"icon-telegram-filled"),"aria-hidden":!0}),d&&c&&ge.createElement("div",{className:ab.badgeLabel},c)),ge.createElement("div",{className:ab.description},o)),!d&&c&&ge.createElement("div",{className:ab.badge},c))})),lb=fe((function(e){var t,n;let{isSuggestionsVisible:a,searchSuggestions:o,searchValue:r,onSiteClick:i,onSiteClear:s,onClose:c}=e;const l=Er();return ge.createElement(Nh,{type:"suggestion",noBackdrop:!0,isOpen:Boolean(a&&!o.isEmpty),className:ab.suggestions,bubbleClassName:ab.suggestionsMenu,onClose:c},null==o||null===(t=o.history)||void 0===t?void 0:t.map((e=>ge.createElement(sb,{key:`history-${e}`,className:ab.suggestion,onClick:i,clickArg:e},ge.createElement("i",{className:kr(ab.suggestionIcon,r.length?"icon-search":"icon-globe"),"aria-hidden":!0}),ge.createElement("span",{className:ab.suggestionAddress},Ho(e)),ge.createElement("button",{className:ab.clearSuggestion,type:"button","aria-label":l("Clear"),title:l("Clear"),onMouseDown:t=>s(t,e),onClick:Co},ge.createElement("i",{className:"icon-close","aria-hidden":!0}))))),null==o||null===(n=o.sites)||void 0===n?void 0:n.map((e=>ge.createElement(cb,{key:`site-${e.url}-${e.name}`,className:ab.suggestion,site:e}))))})),db=fe(je((e=>{var t;return{categories:null===(t=e.exploreData)||void 0===t?void 0:t.categories}}))((function(e){let{id:t,withNotch:n,categories:a}=e;const{closeSiteCategory:o}=Ke(),r=Er(),{isPortrait:i}=ii(),s=de((()=>{var e;return null===(e=a||[])||void 0===e?void 0:e.find((e=>t===e.id))}),[a,t]);return ge.createElement("div",{className:kr("xWsj5_Wk",i&&"with-notch-on-scroll",n&&"is-scrolled")},ge.createElement(Rs,{className:"P2bhPLw0",isSimple:!0,isText:!0,onClick:o},ge.createElement("i",{className:kr("FmQAR1hK","icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back"))),ge.createElement("h3",{className:"kW1ssngj"},r((null==s?void 0:s.name)||"")))}))),ub=fe((function(e){let{isActive:t,categoryId:n,sites:a}=e;const{closeSiteCategory:o}=Ke(),{isPortrait:r}=ii();Ui({isActive:t,onBack:o});const{handleScroll:i,isScrolled:s}=Wh();return ge.createElement("div",{onScroll:r?i:void 0,className:kr("LxPuuiTJ","custom-scroll")},r&&ge.createElement(db,{id:n,withNotch:s}),ge.createElement("div",{className:"Eml6INN5"},a.map((e=>ge.createElement(cb,{key:`${e.url}-${e.name}`,site:e,isInList:!0})))))}));var mb=function(e){return e[e.main=0]="main",e[e.category=1]="category",e}(mb||{});const pb=fe(je((e=>{const{browserHistory:t,currentSiteCategoryId:a}=st(e)||{},{categories:o,sites:r}=e.exploreData||{};return{sites:r,categories:o,shouldRestrict:e.restrictions.isLimitedRegion&&(n.ZH||n.xy),browserHistory:t,currentSiteCategoryId:a}}))((function(t){let{isActive:a,categories:o,sites:r,shouldRestrict:i,browserHistory:s,currentSiteCategoryId:c}=t;const{loadExploreSites:l,getDapps:d,removeSiteFromBrowserHistory:u,openSiteCategory:m,closeSiteCategory:p}=Ke(),f=me(),h=me(void 0),g=me(),v=me(),w=Er(),{isLandscape:y,isPortrait:b}=ii(),[E,k]=ie(""),[C,N,S]=Ru(!1),[A,T,I]=Ru(!1),{renderingKey:B}=Kg(c||0,!!a),_=Oo(qy(B)),{disableSwipeToClose:x,enableSwipeToClose:D}=Vy(a),{handleScroll:L,isScrolled:O}=Wh();ce((()=>B?wh(p):void 0),[p,B]);const P=de((()=>function(e,t){if(e)return t?e.filter((e=>!e.canBeRestricted)):e}(r,i)),[r,i]),M=de((()=>function(e,t,n){const a=e.toLowerCase(),o=null==t?void 0:t.filter((e=>e.toLowerCase().includes(a))),r=a.length&&n?n.filter((e=>{let{url:t,name:n,description:o}=e;return t.toLowerCase().includes(a)||n.toLowerCase().includes(a)||o.toLowerCase().includes(a)})):void 0;return{history:o,sites:r,isEmpty:((null==o?void 0:o.length)||0)+((null==r?void 0:r.length)||0)===0}}(E,s,P)),[s,E,P]),{trendingSites:F,allSites:R}=de((()=>(P||[]).reduce(((e,t)=>(t.isFeatured&&e.trendingSites.push(t),e.allSites[t.categoryId]||(e.allSites[t.categoryId]=[]),e.allSites[t.categoryId].push(t),e)),{trendingSites:[],allSites:{}})),[P]);ce((()=>{if(n.TF&&null!=P&&P.length)return Kp(g.current,{onSwipeRightStart:()=>{p(),x()},onCancel:()=>{m({id:_.current}),D()}})}),[x,D,null==P?void 0:P.length,_]),Ky({containerRef:v,isDisabled:n.TF||0===F.length,shouldPreventDefault:!0,contentSelector:`.${ab.trendingList}`});const U=de((()=>null==o?void 0:o.filter((e=>{var t;return(null===(t=R[e.id])||void 0===t?void 0:t.length)>0}))),[o,R]);ce((()=>{a&&(d(),l({isLandscape:y}))}),[a,y]);const W=Po((()=>{M.isEmpty||(n.Ni?h.current=window.setTimeout(T,300):T())})),H=Po((()=>{A&&I(),window.clearTimeout(h.current)}));ci((e=>{let[t]=e;(t&&!C||M.isEmpty)&&H(),C&&!M.isEmpty&&W()}),[C,M.isEmpty]);const $=Po(((e,t)=>{Zc(),I();const n=(o=t,null==(a=r)?void 0:a.find((e=>{let{url:t}=e;return t===o})));var a,o;zy(t,null==n?void 0:n.isExternal,null==n?void 0:n.name)})),V=Po(((e,t)=>{Co(e),u({url:t})}));function z(e){k(e.target.value)}const K=Po((()=>{var e;null===(e=f.current)||void 0===e||e.blur()}));function q(e){Co(e),K(),E.length>0&&(zy(E),k(""))}function j(e,t,n){switch(n){case mb.main:return ge.createElement("div",{className:kr(ab.slide,"custom-scroll"),onScroll:b?L:void 0},ge.createElement("div",{className:kr(ab.searchWrapper,"with-notch-on-scroll",O&&"is-scrolled")},ge.createElement("form",{action:"#",onSubmit:q,className:ab.searchContainer,autoComplete:"off"},ge.createElement("i",{className:kr(ab.searchIcon,"icon-search"),"aria-hidden":!0}),ge.createElement("input",{name:"explore-search",className:ab.searchInput,placeholder:w("Search or enter address"),value:E,autoCorrect:!1,autoCapitalize:"none",spellCheck:!1,inputMode:"url",onChange:z,onFocus:N,onBlur:S})),ge.createElement(lb,{isSuggestionsVisible:A,searchSuggestions:M,searchValue:E,onSiteClick:$,onSiteClear:V,onClose:K})),ge.createElement(rb,null),Boolean(F.length)&&ge.createElement("div",{ref:v,className:ab.trendingSection},ge.createElement("h2",{className:ab.sectionHeader},w("Trending")),ge.createElement("div",{className:ab.trendingList},F.map((e=>ge.createElement(cb,{key:`${e.url}-${e.name}`,site:e,isTrending:!0}))))),Boolean(null==U?void 0:U.length)&&ge.createElement(ge.Fragment,null,ge.createElement("h2",{className:ab.sectionHeader},w("All Dapps")),ge.createElement("div",{className:kr(ab.list,y&&ab.landscapeList)},U.map((e=>ge.createElement(Qy,{key:e.id,category:e,sites:R[e.id]}))))));case mb.category:{const t=R[B];if(!t)return;return ge.createElement(ub,{key:B,isActive:e,categoryId:B,sites:t})}}}return void 0===P?ge.createElement("div",{className:kr(ab.emptyList,ab.emptyListLoading)},ge.createElement(Wg,null)):0===P.length?ge.createElement("div",{className:ab.emptyList},ge.createElement(Lp,{play:a,tgsUrl:rp.happy,previewUrl:rp.happyPreview,size:e.igk,className:ab.sticker,noLoop:!1,nonInteractive:!0}),ge.createElement("p",{className:ab.emptyListTitle},w("No partners yet"))):ge.createElement(of,{ref:g,name:zg(),activeKey:B?mb.category:mb.main,withSwipeControl:!0,className:ab.rootSlide},j)}))),fb=fe((function(e){let{isActive:t,isStatic:n,hardwareWallets:a,accounts:o,onBackButtonClick:r,onCancel:i,onClose:s}=e;const{afterSelectHardwareWallets:c,loadMoreHardwareWallets:l}=Ke(),d=Er(),[u,m]=ie([]),p=!i;Ui({isActive:t,onBack:i??s});const f=Po((e=>{u.includes(e)?m(u.filter((t=>t!==e))):m(u.concat([e]))})),h=Po((()=>{c({hardwareSelectedIndices:u}),s()})),g=de((()=>Object.values(o??[]).map((e=>{let{addressByChain:{ton:t}}=e;return t})).filter(Boolean)),[o]),v=Po((()=>{var e;const t=a??[],n=(null===(e=t[t.length-1])||void 0===e?void 0:e.index)??0;l({lastIndex:n})})),w=!u.length,y=u.length?d("%1$d Selected",u.length):d("Select Ledger Wallets");return ge.createElement(ge.Fragment,null,n?ge.createElement("div",{className:Kh.header},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:s,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,d("Back"))),ge.createElement("span",{className:Kh.headerTitle},y)):ge.createElement(Th,{title:y,onBackButtonClick:r,onClose:r?void 0:s}),ge.createElement("div",{className:kr(Jg.container,n&&Jg.containerStatic,n&&"static-container")},function(){const e=a??[],t=kr(Jg.accounts,1===e.length&&Jg.accounts_two,"custom-scroll");return ge.createElement("div",{className:t},e.map((e=>{let{address:t,balance:n,index:a}=e;return function(e,t,n,a){const o=a||u.includes(n);return ge.createElement("div",{key:e,className:kr(Jg.account,o&&Jg.account_current),onClick:a?void 0:()=>f(n)},ge.createElement("span",{className:Jg.accountName},ge.createElement("i",{className:kr(Jg.accountCurrencyIcon,"icon-ton"),"aria-hidden":!0}),nr((0,Lt.nI)(t),"",3)),ge.createElement("div",{className:Jg.accountFooter},ge.createElement("span",{className:Jg.accountAddress},(0,qt.W)(e,4,4))),ge.createElement("div",{className:kr(Jg.accountCheckMark,o&&Jg.accountCheckMark_active)}))}(t,n,a,g.includes(t))})),ge.createElement(Rs,{className:Jg.addAccountContainer,onClick:v},d("Add Wallet"),ge.createElement("i",{className:kr(Jg.addAccountIcon,"icon-plus"),"aria-hidden":!0})))}(),ge.createElement("div",{className:Jg.actionBlock},ge.createElement(Rs,{className:Jg.button,onClick:p?s:i},d(p?"Cancel":"Back")),ge.createElement(Rs,{isPrimary:!0,isDisabled:w,onClick:h,className:Jg.button},d("Add")))))}));var hb=function(e){return e[e.Password=0]="Password",e[e.Connect=1]="Connect",e[e.SelectWallets=2]="SelectWallets",e}(hb||{});const gb=fe(je((e=>{const t=at(e),{hardwareWallets:n}=e.hardware;return{accounts:t,hardwareWallets:n,areSettingsOpen:e.areSettingsOpen}}))((function(e){let{isOpen:t,noBackdropClose:n,onClose:a,hardwareWallets:o,accounts:r,areSettingsOpen:i}=e;const{afterSelectHardwareWallets:s}=Ke(),[c,l]=ie(hb.Connect),[d]=ie(hb.SelectWallets),u=Po((()=>{s({hardwareSelectedIndices:[o[0].index]}),a()})),m=Po((e=>{e?u():l(hb.SelectWallets)})),p=Po((()=>{l(hb.Connect)}));function f(e,t,n){switch(n){case hb.Connect:return ge.createElement(pv,{isActive:e,onConnected:m,onClose:a});case hb.SelectWallets:return ge.createElement(fb,{isActive:e,accounts:r,hardwareWallets:o,onClose:a})}}return ge.createElement(Ys,{isOpen:t,hasCloseButton:!0,onClose:a,onCloseAnimationEnd:p,dialogClassName:kr(Jg.modalDialog,i&&Jg.modalDialogInsideSettings),noBackdropClose:n},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:c,nextKey:d},f))})));function vb(e){const{rootMargin:t,threshold:n=[0],isDisabled:a,targetRef:o,cb:r}=e,[i,s]=ie(!0);return ce((()=>{if(a||!o.current)return;const e=new IntersectionObserver((e=>{const t=e[0];s(t.isIntersecting),null==r||r(t)}),{rootMargin:t,threshold:n});return e.observe(o.current),()=>{e.disconnect()}}),[t,n,a,o,r]),{isVisible:i}}const wb=document.querySelector('meta[name="viewport"]'),yb=(null==wb?void 0:wb.getAttribute("content"))||"",bb="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover",Eb={root:"o0ZmVyIN",purple:"DJCb7ytz",tokenIcon:"O2XO33Bj",chainIcon:"UKA4ZfVj",green:"IHTEYaZx",twoIcons:"UD000onR",nftIcon:"kRGDvyHS",stacked:"gdAuuzmF",image:"Q3m3aAJ1",text:"LrHNEZly",bold:"GQC2YXcS",nftTitle:"BAWd380W",address:"gWbbue48"},kb=fe((function(e){let{tokenIn:t,imageUrl:n,text:a,withChainIcon:o,tokenOut:r,secondText:i,color:s,className:l}=e;const d=Er(),u=kr(Eb.root,s&&Eb[s],r&&Eb.twoIcons,l),m=!!n,p=de((()=>(0,c.Am)(Array.isArray(n)?n:[n])),[n]);return ge.createElement("div",{className:u},t&&!m&&ge.createElement(yw,{token:t,withChainIcon:o,size:"small",className:Eb.tokenIcon}),m&&ge.createElement("div",{className:kr(Eb.nftIcon,Array.isArray(n)&&n.length>1&&Eb.stacked)},p.map((e=>ge.createElement("img",{src:e,alt:"",key:e,className:Eb.image}))),o&&(null==t?void 0:t.chain)&&ge.createElement("img",{src:fw(t.chain),alt:"",className:Eb.chainIcon,draggable:!1})),ge.createElement("span",{className:Eb.text},i?a?d("%amount% to %address%",{amount:ge.createElement("span",{className:kr(Eb.bold,m&&Eb.nftTitle)},a),address:ge.createElement("span",{className:kr(Eb.bold,Eb.address)},i)}):d("$transaction_to",{address:ge.createElement("span",{className:Eb.bold},i)}):ge.createElement("span",{className:Eb.bold},a)),r&&ge.createElement(yw,{token:r,withChainIcon:o,size:"small",className:Eb.tokenIcon}))}));let Cb=(0,n.v3)();function Nb(){const t=ve();return ye((()=>{e.UMQ&&!Cb&&Mu.isSupported().then((e=>{Cb=e.supported,t()}))})),Cb}const Sb="erx70q4_",Ab="Jag9KEHr",Tb="fVQ8S1pD",Ib="Pne6FnQc",Bb="eBKrZtom",_b="U6ZAbMe2",xb="pUMdj3j5",Db=fe((function(e){let{address:t,name:a,chain:o,isHardware:r,isSavedAddress:i,deleteLabel:s,onClick:c,onDeleteClick:l}=e;const d=()=>{c(t)},u=e=>{Co(e),l(t)};return ge.createElement("div",{tabIndex:-1,role:"button",onMouseDown:n.TF?void 0:d,onClick:n.TF?d:void 0,className:"WI13wV5I"},ge.createElement("span",{className:"ZEsl45OR"},ge.createElement("span",{className:"HLnOPUyB"},a||(0,qt.W)(t)),r&&ge.createElement("i",{className:kr("bdYXzf2H","icon-ledger"),"aria-hidden":!0})),i&&l&&ge.createElement("span",{className:"ozjjQpYQ"},ge.createElement("span",{tabIndex:-1,role:"button",className:"UWDrZutz",onMouseDown:u},s)),a&&ge.createElement("span",{className:"sDGTQ4jr"},o&&ge.createElement("i",{className:kr("g2vfXFiv",`icon-chain-${o}`),"aria-hidden":!0}),(0,qt.W)(t)),i&&l&&ge.createElement("span",{className:"rO6SGoH9",role:"button",tabIndex:-1,onMouseDown:u,onClick:Co,"aria-label":s},ge.createElement("i",{className:"icon-trash","aria-hidden":!0})))})),Lb=fe(je((e=>{const t=st(e);return{savedAddresses:null==t?void 0:t.savedAddresses,isMultichainAccount:kt(e,e.currentAccountId),accounts:at(e)}}))((function(t){let{isOpen:n,currentChain:a,currentAddress:o="",otherAccountIds:r,accounts:i,savedAddresses:s,isMultichainAccount:c,onAddressSelect:l,onSavedAddressDelete:d,onClose:u}=t;const m=Er(),p=de((()=>{if(s&&0!==s.length)return s.filter((e=>(!a||e.chain===a)&&Ob(e,o))).map((e=>ge.createElement(Db,{key:`saved-${e.address}-${e.chain}`,address:e.address,name:e.name,chain:c?e.chain:void 0,deleteLabel:m("Delete"),isSavedAddress:!0,onClick:l,onDeleteClick:d})))}),[o,c,a,m,l,d,s]),f=de((()=>{if(!r||0===r.length)return;const t=(null==s?void 0:s.map((e=>`${e.chain}:${e.address}`)))??[],n=new Set;return r.reduce(((o,r)=>{const s=i[r];return Object.keys(s.addressByChain).forEach((r=>{const i=s.addressByChain[r],l=`${r}:${i}`;!i||n.has(l)||a&&r!==a||!c&&r!==e.Tu9.chain||t.includes(`${r}:${i}`)||(n.add(l),o.push({name:s.title||(0,qt.W)(i),address:i,chain:r,isHardware:"hardware"===s.type}))})),o}),[]).filter((e=>Ob(e,o))).map((e=>{let{address:t,name:n,chain:a,isHardware:o}=e;return ge.createElement(Db,{key:`address-${t}-${a}`,address:t,name:n,chain:c?a:void 0,isHardware:o,onClick:l})}))}),[r,s,i,a,c,o,l]);if(Boolean((null==f?void 0:f.length)||(null==p?void 0:p.length)))return ge.createElement(Nh,{positionX:"right",type:"suggestion",noBackdrop:!0,bubbleClassName:"keyC_8Hs",isOpen:n,onClose:u},p,f)})));function Ob(e,t){const n=t.toLowerCase(),{address:a,name:o}=e;return a.toLowerCase().startsWith(n)||a.toLowerCase().endsWith(n)||o.toLowerCase().split(/\s+/).some((e=>e.startsWith(n)))}const Pb="vnQc1YiQ",Mb="input-clear-button",Fb=fe((function(e){let{ref:t,label:a,value:o,chain:r,isStatic:i,withQrScan:s,address:c,addressName:l,addressBookChain:d,accounts:u,currentAccountId:m,savedAddresses:p,validateAddress:f,error:h,onInput:g,onClose:v}=e;const{showNotification:w,requestOpenQrScanner:y}=Ke(),b=Er(),E=me(),[k,C]=ie(),[N,S]=ie(),[A,T,I]=Ru(),[B,_,x]=Ru(),[D,L]=ie(n.Et),O=Nb(),P=ke("address-"),M=r?ma(o,r):void 0,F=o.length>0&&!M?b("Incorrect address"):void 0,R=de((()=>u?Object.keys(u).filter((e=>e!==m)):[]),[m,u]),U=de((()=>R.length>0||p&&p.length>0),[R.length,p]),W=de((()=>r&&o?Yw({address:o,chain:r,currentAccountId:m,savedAddresses:p,accounts:u}):void 0),[u,r,m,p,o]),H=D&&!o,$=s&&O,V=$||H||!!o.length;ye((()=>()=>{E.current&&window.clearTimeout(E.current)}));const z=de((()=>{if(!c)return;const e=W||l,t=!e&&c.length>22?(0,qt.W)(c,11)||"":c;return ge.createElement(ge.Fragment,null,e&&ge.createElement("span",{className:"S1nUS2km"},e),ge.createElement("span",{className:kr("DdHkCftA",!e&&"m2Fe0uv6")},e?(0,qt.W)(c,4):t))}),[c,W,l]),K=Po((async()=>{try{const{type:e,text:t}=await ol();if("text/plain"===e){const e=t.trim();g(e,!0),j(e)}}catch(e){w({message:b("Error reading clipboard")}),L(!1)}})),q=Po((()=>{n.pz&&(0,n.v3)()?alert("Scanning is temporarily not available"):(y(),v())})),j=Po((e=>{f&&(e&&r&&ma(e,r)||!e)&&f({address:e})})),Y=Po((()=>{_(),U&&(n.Ni?E.current=window.setTimeout(T,300):T())})),G=Po((e=>{var t;if(x(),(null===(t=e.relatedTarget)||void 0===t?void 0:t.id)===Mb)return X(),void j(o);let n=o;(0,ua.iy)(o)&&o!==o.toLowerCase()?(n=o.toLowerCase().trim(),g(n)):o!==o.trim()&&(n=o.trim(),g(n)),requestAnimationFrame((()=>{X(),j(n)}))})),Q=Po((()=>{g(""),j()})),X=Po((()=>{U&&A&&(I(),E.current&&window.clearTimeout(E.current))})),J=Po((e=>{C(e),S(r),I()})),Z=Po((()=>{C(void 0),S(void 0)})),ee=Po((e=>{g(e,!0),I()}));return ge.createElement(ge.Fragment,null,ge.createElement(Pp,{id:P,ref:t,className:kr(i&&"Nrn6AoJg",V&&"K9Nd_zOE"),isRequired:!0,isStatic:i,label:a,placeholder:b("Wallet address or domain"),value:o,error:F||h,autoCorrect:!1,valueOverlay:F?void 0:z,onInput:g,onFocus:Y,onBlur:G},function(){const e=kr("L_5kIPIy",B&&"BJFtkvaJ");return ge.createElement(of,{className:"ayhHYxLn",activeKey:o.length?0:1,name:"fade"},o.length?ge.createElement("div",{className:e},ge.createElement(Rs,{isSimple:!0,id:Mb,className:kr(Pb,"tl4TUzu3"),onClick:Q,ariaLabel:b("Clear")},ge.createElement("i",{className:"icon-close-filled","aria-hidden":!0}))):ge.createElement("div",{className:e},$&&ge.createElement(Rs,{isSimple:!0,className:Pb,onClick:q,ariaLabel:b("Scan QR Code")},ge.createElement("i",{className:"icon-qr-scanner-alt","aria-hidden":!0})),H&&ge.createElement(Rs,{isSimple:!0,className:Pb,onClick:K,ariaLabel:b("Paste")},ge.createElement("i",{className:"icon-paste","aria-hidden":!0}))))}()),U&&ge.createElement(ge.Fragment,null,ge.createElement(Lb,{isOpen:A,currentChain:d,currentAddress:o,otherAccountIds:R,onAddressSelect:ee,onSavedAddressDelete:J,onClose:I}),ge.createElement(my,{isOpen:Boolean(k),address:k,chain:N,onClose:Z})))})),Rb="gRT6bZt3",Ub="BrPVwQU4",Wb="Ps7kqvix",Hb="Dnc6lzH5",$b="W2G5uyVG",Vb="hdNHgPt2",zb="jQftqhh0",Kb="uM1QBU1t",qb=new Set([In.Password,In.ConnectHardware,In.ConfirmHardware]),jb=fe(je((e=>{const{currentDomainLinking:t,mediaViewer:{mediaId:n}}=e,a=rt(e),o=st(e),{byAddress:r}=(null==o?void 0:o.nfts)||{},i=t.address?null==r?void 0:r[t.address]:void 0,s=i?ka(e,i):"";return{isMediaViewerOpen:Boolean(n),currentDomainLinking:t,byAddress:r,tonBalance:Ut(e),accounts:at(e),savedAddresses:null==o?void 0:o.savedAddresses,currentLinkedWalletAddress:s,currentTonAddress:null==a?void 0:a.addressByChain.ton}}))((function(t){let{currentDomainLinking:{address:n,state:a,error:o,isLoading:r,realFee:i,walletAddress:s="",walletAddressName:c="",resolvedWalletAddress:l,txId:d},isMediaViewerOpen:u,byAddress:m,tonBalance:p,accounts:f,savedAddresses:h,currentTonAddress:g,currentLinkedWalletAddress:v}=t;const{startDomainLinking:w,cancelDomainLinking:y,clearDomainLinkingError:b,submitDomainLinking:E,submitDomainLinkingHardware:k,checkDomainLinkingDraft:C,checkLinkingAddress:N,setDomainLinkingWalletAddress:S,showActivityInfo:A}=Ke(),T=Er(),I=a!==In.None&&!u,{renderingKey:B,nextKey:_}=Kg(a??0,I),x=n?null==m?void 0:m[n]:void 0,D=i?p<i:void 0,L=qb.has(B),O=de((()=>i?{native:i}:void 0),[i]),P=v?"Change Linked Wallet":"Link to Wallet",M=ma(s,"ton"),F=Po((e=>{S({address:e})})),R=M&&s!==v&&!D&&!r;xs((e=>{let[t]=e;!t&&I&&F(s||v||g)}),[I,v,s,g]),ce((()=>{I&&C({nft:x})}),[x,I]);const U=Po((e=>{R&&E({password:e})})),W=Po((()=>{R&&k()})),H=Po((()=>{y(),A({id:d})}));function $(t,n,a){switch(a){case In.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:T(P),onClose:y}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement("div",{className:Hb},ge.createElement(ly,{nft:x,withMediaViewer:!0}),ge.createElement(Fb,{withQrScan:!0,value:s,currentAccountId:"",addressBookChain:"ton",chain:"ton",accounts:f,savedAddresses:h,validateAddress:N,label:T(v?"Linked Wallet":"Wallet"),address:l||s,addressName:c,onInput:F,onClose:y})),ge.createElement(Iy,{terms:O,token:e.Tu9,precision:"exact"}),ge.createElement("div",{className:kr(Ws.buttons,$b)},ge.createElement(Rs,{isPrimary:!0,isDestructive:D,isDisabled:!R,isLoading:!i||r,className:Vb,onClick:w},T(D?"Insufficient Balance":"Link")))));case In.Password:return function(e){return ge.createElement(ge.Fragment,null,!Yc()&&ge.createElement(Th,{title:T("Confirm Linking"),onClose:y}),ge.createElement(ff,{isActive:e,error:o,isLoading:r,submitLabel:T("Confirm"),cancelLabel:T("Cancel"),onSubmit:U,onCancel:y,onUpdate:b,skipAuthScreen:!0},ge.createElement(kb,{imageUrl:null==x?void 0:x.thumbnail,text:(null==x?void 0:x.name)??"1 domain",className:Yc()?void 0:Wb})))}(t);case In.ConnectHardware:return ge.createElement(pv,{isActive:t,onConnected:W,onClose:y});case In.ConfirmHardware:return ge.createElement(ev,{text:T("Please confirm transaction on your Ledger"),error:o,onClose:y,onTryAgain:W});case In.Complete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:T("Domain has been linked!"),onClose:y}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement(Lp,{play:e,noLoop:!1,nonInteractive:!0,className:Ub,tgsUrl:rp.thumbUp,previewUrl:rp.thumbUpPreview}),ge.createElement(ly,{nft:x,withMediaViewer:!0}),!!d&&ge.createElement("div",{className:kr(zb,Kb)},ge.createElement(Rs,{onClick:H},T("Details"))),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{className:Vb,onClick:y,isPrimary:!0},T("Close")))))}(t)}}return ge.createElement(Ys,{isOpen:I,nativeBottomSheetKey:"link-domain",forceFullNative:L,dialogClassName:Rb,onClose:y},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:B,nextKey:_},$))}))),Yb=fe((function(e){let{nfts:t,isStatic:n,className:a}=e;const o=Er(),[r,,i]=Ru(!0),s=r&&t.length>11,c=de((()=>s?t.slice(0,10):t),[s,t]);return ge.createElement("div",{className:kr("OW45fd9i",n&&"h6wiRr_r","custom-scroll",a)},c.map((function(e){return ge.createElement("div",{key:e.address,className:"HmnTdlh8"},ge.createElement("img",{src:e.thumbnail,alt:e.name,className:"H3EA9Tak"}),ge.createElement("span",{className:"_gZbYTeY"},e.name||e.address))})),s&&ge.createElement("button",{type:"button",className:"T7bQHi3K",onClick:()=>i()},"+",o("%amount% NFTs",{amount:t.length-10})))})),Gb=new Set([Tn.Password,Tn.ConnectHardware,Tn.ConfirmHardware]),Qb=fe(je((e=>{var t;const{currentDomainRenewal:n,mediaViewer:{mediaId:a}}=e,{byAddress:o}=(null===(t=st(e))||void 0===t?void 0:t.nfts)||{};return{isMediaViewerOpen:Boolean(a),currentDomainRenewal:n,byAddress:o,tonBalance:Ut(e)}}))((function(t){let{currentDomainRenewal:{addresses:n,state:a,error:o,isLoading:r,realFee:i,txId:s},isMediaViewerOpen:c,byAddress:l,tonBalance:d}=t;const{startDomainsRenewal:u,cancelDomainsRenewal:m,clearDomainsRenewalError:p,submitDomainsRenewal:f,submitDomainsRenewalHardware:h,checkDomainsRenewalDraft:g,showActivityInfo:v}=Ke(),w=Er(),y=ve(),b=a!==Tn.None&&!c,{renderingKey:E,nextKey:k}=Kg(a??0,b),C=de((()=>(n||[]).map((e=>null==l?void 0:l[e])).filter(Boolean)),[n,l]),N=i?d<i:void 0,S=Gb.has(E),A=de((()=>i?{native:i}:void 0),[i]),T=Date.now()+Ba.UX,I=de((()=>C.map((e=>null==e?void 0:e.thumbnail)).filter(Boolean).slice(0,3)),[C]);Oh(y,b?Ba.pY:void 0,!0),ce((()=>{b&&g({nfts:C})}),[C,b]);const B=Po((e=>{f({password:e})})),_=Po((()=>{h()})),x=Po((()=>{m(),v({id:s})}));function D(t,a,c){switch(c){case Tn.Initial:return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:kr(Ws.header,Ws.header_wideContent)},ge.createElement("div",{className:kr(Ws.title,"cmL5TjIH")},ge.createElement("div",{className:"NtG0ddPE"},w(n&&n.length>1?"Renew Domains":"Renew Domain")),!!T&&ge.createElement("div",{className:"u4jvqiGf"},w("Until %date%",{date:[(0,Ba.TK)(w.code,T),(0,Ba.fU)(T)].join(", ")}))),ge.createElement(Rs,{isRound:!0,className:Ws.closeButton,ariaLabel:w("Close"),onClick:m},ge.createElement("i",{className:kr(Ws.closeIcon,"icon-close"),"aria-hidden":!0}))),ge.createElement("div",{className:Ws.transitionContent},ge.createElement("div",{className:Hb},1===C.length&&ge.createElement(ly,{nft:C[0],withMediaViewer:!0}),C.length>1&&ge.createElement(Yb,{nfts:C,className:"p6JeJnTy"})),ge.createElement(Iy,{terms:A,token:e.Tu9,precision:"exact"}),ge.createElement("div",{className:kr(Ws.buttons,$b)},ge.createElement(Rs,{isPrimary:!0,isDestructive:N,isDisabled:N,isLoading:!i||r,className:Vb,onClick:u},N?w("Insufficient Balance"):C.length>1?w("Renew All"):w("Renew")))));case Tn.Password:return function(e){var t,n;return ge.createElement(ge.Fragment,null,!Yc()&&ge.createElement(Th,{title:w("Confirm Renewing"),onClose:m}),ge.createElement(ff,{isActive:e,error:o,isLoading:r,submitLabel:w("Confirm"),cancelLabel:w("Cancel"),onSubmit:B,onCancel:m,onUpdate:p,skipAuthScreen:!0},ge.createElement(kb,{imageUrl:I,text:1===C.length&&Boolean(null===(t=C[0])||void 0===t?void 0:t.name)?null===(n=C[0])||void 0===n?void 0:n.name:w("$domains_amount %1$d",C.length,"i"),className:Yc()?void 0:Wb})))}(t);case Tn.ConnectHardware:return ge.createElement(pv,{isActive:t,onConnected:_,onClose:m});case Tn.ConfirmHardware:return ge.createElement(ev,{text:w("Please confirm transaction on your Ledger"),error:o,onClose:m,onTryAgain:_});case Tn.Complete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:C.length>1?w("Domains have been renewed!"):w("Domain has been renewed!"),onClose:m}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement(Lp,{play:e,noLoop:!1,nonInteractive:!0,className:Ub,tgsUrl:rp.thumbUp,previewUrl:rp.thumbUpPreview}),ge.createElement("div",{className:Hb},1===C.length&&ge.createElement(ly,{nft:C[0],withMediaViewer:!0}),C.length>1&&ge.createElement(Yb,{nfts:C}),1===C.length&&!!s&&ge.createElement("div",{className:kr(zb,Kb)},ge.createElement(Rs,{onClick:x},w("Details")))),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:m,isPrimary:!0},w("Close")))))}(t)}}return ge.createElement(Ys,{isOpen:b,nativeBottomSheetKey:"renew-domain",forceFullNative:S,dialogClassName:Rb,onClose:m},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:E,nextKey:k},D))})));function Xb(e,t,n,a){const o=`ton://transfer/${e}`,r=[];return t&&r.push(`amount=${t}`),n&&r.push(`text=${encodeURIComponent(n)}`),a&&r.push(`jetton=${encodeURIComponent(a)}`),0===r.length?o:`${o}?${r.join("&")}`}const Jb=fe((function(e){let{token:t,className:a,noChainIcon:o,onClick:r}=e;const{transitionRef:i}=function(e){const t=me();return le((()=>{if(!t.current||!e)return;const a=`${e.symbol.length*eE/n.$+Zb}rem`;Ns(t.current,{minWidth:a})}),[e]),{transitionRef:t}}(t),s=me(0);return Ee((()=>{s.current++}),[`${null==t?void 0:t.symbol}_${null==t?void 0:t.chain}`]),c=t,ge.createElement(of,{ref:i,name:"fade",activeKey:s.current,className:kr("ZSZY1phv",a),slideClassName:"vCCqOvOq"},ge.createElement("button",{type:"button",className:"XIxoy7tw",onClick:function(e){Co(e),r()}},c&&ge.createElement(yw,{token:c,withChainIcon:!o,size:"middle",className:"SS8KpgmL"}),ge.createElement("div",{className:"ISsYr_9r"},ge.createElement("span",null,null==c?void 0:c.symbol),ge.createElement("i",{className:kr("icon-chevron-right","D_7DrGaN"),"aria-hidden":!0}))));var c})),Zb=70/n.$,eE=10,tE={binance_smart_chain:"Binance Smart Chain",internet_computer:"Internet Computer",ethereum_classic:"Ethereum Classic",bitcoin_cash:"Bitcoin Cash",binance_dex:"Binance Dex",ton:"TON",bitcoin:"Bitcoin",ethereum:"Ethereum",solana:"Solana",tron:"TRON",stellar:"Stellar",doge:"DOGE",eos:"EOS",avalanche:"Avalanche",cardano:"Cardano",monero:"Monero",dash:"Dash",ripple:"Ripple",cosmos:"Cosmos",litecoin:"Litecoin",zcash:"Zcash",polkadot:"Polkadot",iota:"IOTA"};function nE(e){return e?tE[e]??e:""}const aE={tokenSelectInputWrapper:"oCuiJXQ_",tokenSelectSearchIcon:"zftr1vD0",tokenSelectSearchResetWrapper:"Ss4Pd7B2",tokenSelectSearchReset:"oDrN01CP",tokenSelectSearchResetIcon:"ok_5nHql",tokenSelectInput:"fDjHi6pe",tokenSelectContent:"LodBlyss",tokenGroupContainer:"MbjJDq0G",tokenGroupHeader:"RpUAt2yS",tokenGroupTitle:"WhzSaV_6",tokenGroupAdditionalTitle:"FdHSpaSV",tokenContainer:"eUkSUO8W",tokenContainerDisabled:"tHJSsGRH",tokenLogoContainer:"nsViIoST",logoContainer:"adBlSlrG",tokenLogoSkeleton:"cGf45x9B",tokenLogoSymbol:"PSK73bRe",tokenLogo:"xiUmZwCy",tokenLogoDisabled:"OwvlXRrn",tokenNetworkLogoSkeleton:"MO1xaZfl",nameContainer:"ZPTo397c",tokenPriceContainer:"qGxMTfbW",tokenName:"Wgp2h4bc",tokenAmount:"QWmp5WQP",tokenNetwork:"gBNLwjjP",tokenValue:"S1V0VVx3",tokenNameSkeleton:"GkqdgXVp",tokenValueSkeleton:"AhEbK2G0",tokenNotFound:"zp0dyh68",tokenNotFoundTitle:"R7aa_jfY",tokenNotFoundDesc:"XlzS0_qG",tokenTextDisabled:"lotwVvdo"};var oE=function(e){return e[e.Initial=0]="Initial",e[e.Search=1]="Search",e[e.Loading=2]="Loading",e[e.TokenByAddress=3]="TokenByAddress",e[e.Empty=4]="Empty",e}(oE||{});const rE=[],iE={},sE=fe(je((e=>{var t,n;const{baseCurrency:a,isSensitiveDataHidden:o}=e.settings,{isLoading:r,token:i}=e.settings.importToken??{},{tokenInSlug:s}=e.currentSwap??{},c=null===(t=e.swapPairs)||void 0===t?void 0:t.bySlug,l=function(e){var t;const n=null===(t=st(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(!n||!e.tokenInfo||!e.swapTokenInfo)return;const a=dt(e)??{},{areTokensWithNoCostHidden:o,isSortByValueEnabled:r}=e.settings;return ta(e.currentAccountId)(n,e.tokenInfo,e.swapTokenInfo,a,r,o)}(e),d=function(e){var t;const n=null===(t=st(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(n&&e.swapTokenInfo)return Zn(e.currentAccountId)(n,e.swapTokenInfo)}(e);return{baseCurrency:a,isLoading:r,token:i,pairsBySlug:c,tokenInSlug:s,userTokens:l,popularTokens:d,swapTokens:na(e),isMultichain:kt(e,e.currentAccountId),availableChains:null===(n=rt(e))||void 0===n?void 0:n.addressByChain,isSensitiveDataHidden:o}}))((function(t){let{token:n,userTokens:a=rE,swapTokens:o=rE,popularTokens:r=rE,header:i,shouldFilter:s,shouldUseSwapTokens:c,baseCurrency:l,tokenInSlug:d,pairsBySlug:u,isActive:m,isLoading:p,shouldHideMyTokens:f,shouldHideNotSupportedTokens:h=!1,isMultichain:g,availableChains:v=iE,selectedChain:w,isSensitiveDataHidden:y,onTokenSelect:b,onBack:E,onClose:k}=t;const{importToken:C,resetImportToken:N,openSettingsWithState:S}=Ke(),A=Er(),T=ir(l),I=me(),B=me();Ui({isActive:m,onBack:E}),ce((()=>{if(m)return Ur(),Wr}),[m]),ip(B,!m);const{handleScroll:_}=Wh(),[x,D]=ie(""),[L,O]=ie(!1),[P,M]=ie(oE.Initial),[F,R]=ie([]),U=ue((e=>function(e,t,n,a){return e.length&&n?e.map((e=>{var o;const r=null==a||null===(o=a[n])||void 0===o?void 0:o[e.slug],i=Boolean(t?r:r&&!r.isMultichain);return{...e,canSwap:i}})).sort(((e,t)=>Number(t.canSwap)-Number(e.canSwap))):[]}(e,g,d,u)),[u,d,g]),W=de((()=>lE(a,h,v,w)),[a,h,v,w]),H=de((()=>lE(o,h,v,w)),[o,h,v,w]),$=de((()=>lE(r,h,v,w)),[r,h,v,w]),{userTokensWithFilter:V,popularTokensWithFilter:z,swapTokensWithFilter:K}=de((()=>s?{userTokensWithFilter:U(W),popularTokensWithFilter:U($),swapTokensWithFilter:U(o)}:{userTokensWithFilter:W,popularTokensWithFilter:$,swapTokensWithFilter:o}),[U,$,s,o,W]),q=de((()=>{const t=c?K:H,n=x.toLowerCase(),a=n.trim();if(n.length&&!a.length)return[];const o=t.filter((e=>{let{name:t,symbol:n,keywords:o,isDisabled:r}=e;if(r)return!1;const i=t.toLowerCase().includes(a),s=n.toLowerCase().includes(a),c=null==o?void 0:o.some((e=>e.toLowerCase().includes(a)));return i||s||c}))??[],r=o.reduce(((t,n)=>{const o={tickerExactMatch:0,tickerMatchLength:0,nameMatchLength:0,specialOrder:0},r=n.symbol.toLowerCase(),i=n.name.toLowerCase();return r===a&&(o.tickerExactMatch=1),r.includes(a)&&(o.tickerMatchLength=a.length),i.includes(a)&&(o.nameMatchLength=a.length),n.slug===e.rUK&&(o.specialOrder=2),n.slug!==e.QSz&&n.slug!==e.vsz||(o.specialOrder=1),t[n.slug]=o,t}),{});return o.sort(((e,t)=>{const n=function(e,t){return e.specialOrder!==t.specialOrder?t.specialOrder-e.specialOrder:e.tickerExactMatch!==t.tickerExactMatch?t.tickerExactMatch-e.tickerExactMatch:e.tickerMatchLength!==t.tickerMatchLength?t.tickerMatchLength-e.tickerMatchLength:t.nameMatchLength-e.nameMatchLength}(r[e.slug],r[t.slug]);return 0!==n?n:Number(t.amount-e.amount)}))}),[H,c,x,K]),j=()=>{D("")};Ee((()=>{O(Boolean(x.length));const e=ma(x,"ton");let t=oE.Initial;p&&e?t=oE.Loading:n&&e?t=oE.TokenByAddress:x.length&&0!==q.length?t=oE.Search:0===q.length&&(t=oE.Empty),M(t),t!==oE.Initial&&R(q)}),[F.length,p,x,n,q]),ce((()=>{"ton"in v&&ma(x,"ton")?(C({address:x,isSwap:!0}),M(oE.Loading)):N()}),[x,v]),le((()=>{m&&I.current&&(I.current.scrollTop=0)}),[m]);const Y=Po((e=>{var t;null===(t=B.current)||void 0===t||t.blur(),b(e),j(),E()})),G=Po((()=>{k(),S({state:Fn.Assets})}));function Q(e){const t=Boolean(!s||e.canSwap),n=Boolean((g||c)&&!w),a=t?nE(e.chain):A("Unavailable"),o=0===e.price?A("No Price"):nr(e.price,T,void 0,!0);return ge.createElement(cE,{key:e.slug,isAvailable:t,isSensitiveDataHidden:y,withChainIcon:n,descriptionText:a,token:e,tokenPrice:o,onSelect:Y})}function X(e,t,n){return ge.createElement("div",{className:aE.tokenGroupContainer},ge.createElement("div",{className:aE.tokenGroupHeader},ge.createElement("span",{className:aE.tokenGroupTitle},t),n&&ge.createElement("span",{className:aE.tokenGroupAdditionalTitle,onClick:G},A("Settings"))),e.map(Q))}function J(){return ge.createElement("div",{className:kr(aE.tokenContainer,aE.tokenContainerDisabled)},ge.createElement("div",{className:aE.tokenLogoContainer},ge.createElement("div",{className:aE.logoContainer},ge.createElement("div",{className:aE.tokenLogoSkeleton}),ge.createElement("div",{className:aE.tokenNetworkLogoSkeleton})),ge.createElement("div",{className:aE.nameContainer},ge.createElement("span",{className:aE.tokenNameSkeleton}),ge.createElement("span",{className:aE.tokenValueSkeleton}))),ge.createElement("div",{className:aE.tokenPriceContainer},ge.createElement("span",{className:kr(aE.tokenNameSkeleton,aE.rotateSkeleton)}),ge.createElement("span",{className:aE.tokenValueSkeleton})))}function Z(e){return e?ge.createElement("div",{className:aE.tokenGroupContainer},Q(e)):ge.createElement(ge.Fragment,null,J(),J(),J(),J(),J())}function ee(t,a,o){switch(o){case oE.Initial:return ge.createElement(ge.Fragment,null,!f&&X(V,A("MY"),!0),X(z,A("POPULAR")));case oE.Loading:return Z();case oE.Search:return ge.createElement("div",{className:aE.tokenGroupContainer},F.map(Q));case oE.TokenByAddress:return Z(n);case oE.Empty:return ge.createElement("div",{className:aE.tokenNotFound},ge.createElement(Lp,{play:t,tgsUrl:rp.noData,previewUrl:rp.noDataPreview,size:e.lWW,noLoop:!1,nonInteractive:!0}),ge.createElement("span",{className:aE.tokenNotFoundTitle},A("Not Found")),ge.createElement("span",{className:aE.tokenNotFoundDesc},A("Try another keyword or address.")))}}return ge.createElement(ge.Fragment,null,i||ge.createElement(Th,{title:A("Select Token"),onBackButtonClick:E,onClose:k}),ge.createElement("div",{className:aE.tokenSelectInputWrapper},ge.createElement("i",{className:kr(aE.tokenSelectSearchIcon,"icon-search"),"aria-hidden":!0}),ge.createElement("input",{ref:B,name:"token-search-modal",className:aE.tokenSelectInput,onChange:e=>D(e.target.value),placeholder:A("Name or Address..."),value:x}),ge.createElement(of,{name:"fade",activeKey:L?0:1,className:aE.tokenSelectSearchResetWrapper},L&&ge.createElement("button",{type:"button",className:aE.tokenSelectSearchReset,"aria-label":A("Clear"),onClick:j},ge.createElement("i",{className:kr(aE.tokenSelectSearchResetIcon,"icon-close"),"aria-hidden":!0})))),ge.createElement("div",{ref:I,className:kr(aE.tokenSelectContent,"custom-scroll"),onScroll:_},ge.createElement(of,{name:"fade",activeKey:P},ee)))})));function cE(e){let{token:t,isAvailable:n,isSensitiveDataHidden:a,withChainIcon:o,descriptionText:r,tokenPrice:i,onSelect:s}=e;const c=n?()=>s(t):void 0,l=de((()=>aw(4,10,t.slug)),[t.slug]);return ge.createElement("div",{className:kr(aE.tokenContainer,!n&&aE.tokenContainerDisabled),onClick:c},ge.createElement("div",{className:aE.tokenLogoContainer},ge.createElement(yw,{token:t,withChainIcon:o,className:kr(aE.tokenLogo,!n&&aE.tokenLogoDisabled)}),ge.createElement("div",{className:aE.nameContainer},ge.createElement("span",{className:kr(aE.tokenName,!n&&aE.tokenTextDisabled)},t.name),ge.createElement("span",{className:kr(aE.tokenNetwork,!n&&aE.tokenTextDisabled)},r))),ge.createElement("div",{className:aE.tokenPriceContainer},ge.createElement(Aw,{isActive:a,cols:l,rows:2,cellSize:8,align:"right",className:kr(aE.tokenAmount,!n&&aE.tokenTextDisabled)},nr((0,Lt.nI)(t.amount,null==t?void 0:t.decimals),t.symbol)),ge.createElement("span",{className:kr(aE.tokenValue,!n&&aE.tokenTextDisabled)},i)))}function lE(e,t,n,a){return t||a?e.filter((e=>!(t&&!(e.chain in n)||a&&e.chain!==a))):e}function dE(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.I04,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t=uE(t),n=uE(n),a=uE(a),!t)return"";const i=t.includes("."),[s="0",c]=i?t.split("."):[t],l=r?s.replace(/\d(?=(\d{3})+($|\.))/g,`$&${e.MS3}`):s,d=i?`.${(c||"").substring(0,o)}`:"",u=a?`&thinsp;${a}`:"";return`${n}${l}${d||u?`<span class="${Op.fractional}">${d}${u}</span>`:""}`}function uE(e){const t=document.createElement("span");return t.textContent=e,t.innerHTML}const mE=function(e,t){const n=me(!1),a=me(document.createElement("div"));return{updateFontScale:Po((()=>{const o=e.current;(0,Cr.bo)((()=>{if(null==o||!o.offsetParent)return;let{clientWidth:e}=t?o.parentElement:o;if(t){const{paddingLeft:t,paddingRight:n}=getComputedStyle(o);e-=parseFloat(t)+parseFloat(n)}a.current.className=kr(o.className,"measure-hidden"),a.current.style.width=`${e}px`,a.current.innerHTML="",a.current.append(...o.cloneNode(!0).childNodes),document.body.appendChild(a.current);let r=1;for(;r>.25&&(a.current.style.setProperty("--font-size-scale",r.toString()),!(a.current.scrollWidth<=e));)r-=.05;n.current=r<1,document.body.removeChild(a.current),a.current.className="",o.style.setProperty("--font-size-scale",r.toString())}))})),isFontChangedRef:n}};function pE(e){return e?e.trim().replace(",",".").replace(/[^\d.]/g,"").replace(/^0+(?=([1-9]|0\.))/,"").replace(/^0+$/,"0")??"":""}const fE=fe((function(t){let{id:n,labelText:a,hasError:o,isLoading:r=!1,prefix:i="",suffix:s="",value:c,children:l,className:d,inputClassName:u,labelClassName:m,valueClassName:p,cornerClassName:f,onChange:h,onBlur:g,onFocus:v,onPressEnter:w,onInputClick:y,decimals:b=e.I04,disabled:E=!1,isStatic:k=!1,size:C="large"}=t;const N=me(),S=me(),A=Er(),[T,I,B]=Ru(!1),{updateFontScale:_,isFontChangedRef:x}=mE(N),D=me(""),L=Po((e=>{const t=N.current,n=dE(e,i,s,b);if(S.current.innerHTML=e?"":dE("0",i,s),n!==t.innerHTML){const e=document.activeElement===t?function(e,t,n){var a;const o=window.getSelection();if(!o||0===o.rangeCount)return;const r=o.getRangeAt(0);r.setStart(e,0);const i=r.toString().match(new RegExp(`(\\d+(?:[.,]\\d{0,${n}})?)`)),s=t+((null==i||null===(a=i[0])||void 0===a?void 0:a.length)||r.toString().length||0);return function(){try{const{node:t,position:n}=function(e,t){const n=NodeFilter.SHOW_TEXT,a=document.createTreeWalker(e,n,(e=>t>e.textContent.length?(t-=e.textContent.length,NodeFilter.FILTER_REJECT):NodeFilter.FILTER_ACCEPT)),o=a.nextNode()??a.currentNode;return{node:o,position:Math.min(t,o.textContent.length)}}(e,s);o.removeAllRanges();const a=new Range;a.setStart(t,n),a.setEnd(t,n),o.addRange(a)}catch(e){}}}(t,i.length,b):void 0;t.innerHTML=n,null==e||e()}(`${i}${e}${s}`.length>5||x.current)&&_()}));le((()=>{const e=pE(c);e&&D.current.startsWith(e)||(L(e),D.current=e)}),[D,c]),le((()=>{L(D.current)}),[i,s,b]);const O=Po((()=>{E||(I(),null==v||v())})),P=Po((()=>{E||(B(),null==g||g())})),M=kr(Op.input__wrapper,k&&Op.inputWrapperStatic,o&&Op.error,T&&Op.input__wrapper_hasFocus,u),F=kr(Op.input,"large"===C&&Op.large,p,E&&Op.disabled,r&&Op.isLoading,"rounded-font"),R=kr(Op.label,o&&Op.error,m),U=kr(f,T&&Op.swapCorner,o&&Op.swapCorner_error);return ge.createElement("div",{className:kr(Op.wrapper,d)},Boolean(a)&&ge.createElement("label",{className:R,htmlFor:n,id:`${n}Label`},a),ge.createElement("div",{className:M},ge.createElement("div",{className:Op.rich},ge.createElement("div",{ref:N,contentEditable:!E&&!r,id:n,role:"textbox","aria-required":!0,"aria-placeholder":A("Amount value"),"aria-labelledby":a?`${n}Label`:void 0,tabIndex:0,inputMode:"decimal",className:kr(F,Op.rich__value),onKeyDown:e=>{"Enter"===e.key&&(null==w||w(e))},onChange:function(e){const t=pE(e.currentTarget.textContent??void 0);var n;L(t),t!==D.current&&(D.current=t,h&&(n=t,!Number.isNaN(Number(n)))&&h(t))},onFocus:O,onBlur:P,onClick:y}),ge.createElement("div",{ref:S,className:kr(F,Op.rich__placeholder)})),l),f&&ge.createElement("div",{className:U}))}));function hE(e){const t=document.getElementById(e),n=window.getSelection();if(!t||!n)return;const a=document.createRange();a.selectNodeContents(t),a.collapse(!1),n.removeAllRanges(),n.addRange(a)}const gE={modalDialog:"pOo4Z_aH",iosModalDialog:"q6jp1iyp",contentWrapper:"jvZQQwjc",content:"SRNIOpBE",contentTitle:"GKe6CMiw",contentTitleQr:"FleNuH6I",contentTitleLedger:"uEJfLLFI",contentTitleLedgerStatic:"zolk8bhu",tabsInModal:"kxmoYeWl",receiveHeader:"k3MxFquM",receiveHeaderNoTabs:"RJOW3R8W",contentStatic:"CDl3KL71",tabs:"Bq7mtmdH",tabsOverlay:"dsNYuIgk",tab:"YpO46ybD",tabTon:"JKtWSSiZ",tabTron:"U6XprGM_",qrCode:"Bol24ap4",qrCodeStatic:"VkwtgLpL",qrCodeHidden:"yC4eGg0t",labelForInvoice:"ykqIpMy7",addressWrapper:"aUXplGt1",copyButtonStatic:"EbsE8cY6",tokenButton:"vgInBvx7",invoiceComment:"U6Z9qzVb",dottedLink:"xzGjTX1X",actionButtons:"QxrwhhFf",actionButton:"ARg65twE"};var vE=function(e){return e[e.Initial=0]="Initial",e[e.Selector=1]="Selector",e}(vE||{});const wE=fe(je((e=>{var t,n;const a=null===(t=it(e,e.currentAccountId))||void 0===t||null===(t=t.addressByChain)||void 0===t?void 0:t.ton,{invoiceTokenSlug:o}=st(e)||{};return{isOpen:e.isInvoiceModalOpen,tokenSlug:o,tokensBySlug:null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug,address:a}}))((function(t){let{address:n,tokenSlug:a,tokensBySlug:o,isOpen:r}=t;const{changeInvoiceToken:i,closeInvoiceModal:s}=Ke(),c=Er(),l=o&&a?o[a]:e.Tu9,[d,u,m]=Ru(!1),[p,f]=ie(void 0),[h,g]=ie(""),v=(null==l?void 0:l.decimals)??e.Tu9.decimals,w=p?(0,Lt.UH)(p,v):0n,y="tokenAddress"in l?null==l?void 0:l.tokenAddress:void 0,b=n?Xb(n,w,h,y):"",E=Po((e=>{i({tokenSlug:e.slug})}));function k(t,n,a){switch(a){case vE.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:c("Deposit Link"),onClose:s}),ge.createElement("div",{className:gE.content},ge.createElement("div",{className:gE.contentTitle},Qo(c("$receive_invoice_description"))),ge.createElement(fE,{key:"amount",id:"amount",value:p,labelText:c("Amount"),onChange:f},ge.createElement(Jb,{noChainIcon:!0,token:l,className:gE.tokenButton,onClick:u})),ge.createElement(Pp,{value:h,label:c("Comment"),placeholder:c("Optional"),wrapperClassName:gE.invoiceComment,onInput:g}),ge.createElement("p",{className:gE.labelForInvoice},c("Share this URL to receive %token%",{token:null==l?void 0:l.symbol})),ge.createElement(wy,{text:b,addressUrl:e.UMQ?b:void 0,noExplorer:!0,withShareInMenu:e.UMQ,copyNotification:c("Invoice link was copied!"),className:gE.invoiceLinkField})));case vE.Selector:return ge.createElement(sE,{isActive:t,shouldHideNotSupportedTokens:!0,selectedChain:"ton",onTokenSelect:E,onBack:m,onClose:s})}}return ge.createElement(Ys,{isOpen:r,dialogClassName:gE.modalDialog,nativeBottomSheetKey:"invoice",onClose:s,onCloseAnimationEnd:m},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:d?vE.Selector:vE.Initial,nextKey:d?vE.Initial:vE.Selector},k))}))),yE=new Map,bE=function(e){let{isActive:t,icon:n,title:a,menuItems:o,className:r,onClick:i,clickArg:s,onMenuItemClick:c,onActiveClick:l}=e;const d=me(),u=me(),[m,p]=ie(),f=Boolean(null==o?void 0:o.length),h=Boolean(m),g=Po((()=>u.current)),v=Po((()=>document.body)),w=Po((()=>d.current)),y=Po((()=>({withPortal:!0}))),b=Po((()=>p(void 0))),E=Po((()=>{if(!t||f)if(t)if(h)b();else{const{right:e,y:t,height:n}=u.current.getBoundingClientRect();p({x:e,y:t+n})}else i(s);else null==l||l()}));return ge.createElement("div",{className:kr("D6as8ltx",t&&"O4d43EtE",r,f&&"MiCetFPJ"),onClick:E},ge.createElement("span",{className:"vwr4su2y",ref:u},n&&ge.createElement("i",{className:kr(n,"EDDQtmOa"),"aria-hidden":!0}),a,f&&ge.createElement("i",{className:kr("icon-caret-down","UgBDhvZa"),"aria-hidden":!0})),f&&ge.createElement(Ah,{isOpen:h,ref:d,items:o,withPortal:!0,buttonClassName:"tUY9MzOP",menuPositionX:"right",menuAnchor:m,getTriggerElement:g,getRootElement:v,getMenuElement:w,getLayout:y,onSelect:c,onClose:b}))},EE=n.pz?450:n.Ni?400:300,kE="clip-path-container",CE=fe((function(e){let{tabs:t,activeTab:n,className:a,overlayClassName:o,onSwitchTab:r,onActiveTabClick:i}=e;const s=Er(),c=me(),{width:l}=zu(),u=kr("Jya4TQTw","no-scrollbar",a);return Ky({containerRef:c,shouldPreventDefault:!0}),function(e,t){ce((()=>{if(!t)return;const{scrollWidth:n,offsetWidth:a,scrollLeft:o}=t;if(n<=a)return;const r=t.childNodes[e];if(!r)return;const{offsetLeft:i,offsetWidth:s}=r,c=i-a/2+s/2;Math.abs(c-o)<16||function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;const a="rtl"===e.getAttribute("dir"),{scrollLeft:o,offsetWidth:r,scrollWidth:i,dataset:{scrollId:s}}=e;let c=t-o;if(c<0){const e=-o*(a?-1:1);c=Math.max(c,e)}else if(c>0){const e=i-(o+r);c=Math.min(c,e)}if(0===c)return Promise.resolve();s&&yE.has(s)&&yE.get(s)();const l=o+c;new Promise((t=>{(0,k.RK)((()=>{if(0===n)return e.scrollLeft=l,void t();let a=!1;const o=Math.random().toString();e.dataset.scrollId=o,yE.set(o,(()=>{a=!0})),e.style.scrollSnapType="none";const r=Date.now();(0,d.i0)((()=>{if(a)return!1;const i=Math.min((Date.now()-r)/n,1),s=c*(1-function(e){return 1-(1-e)**3.5}(i));return e.scrollLeft=Math.round(l-s),i>=1&&(e.style.scrollSnapType="",delete e.dataset.scrollId,yE.delete(o),t()),i<1}),k.RK)}))}))}(t,c,EE)}),[e,t])}(n,c.current),ce((()=>{var e;const t=null===(e=c.current)||void 0===e?void 0:e.querySelector(`.${kE}`),a=null==t?void 0:t.childNodes[n];if(t&&a){const e=function(e,t){const{paddingTop:n,paddingBottom:a}=getComputedStyle(e),{offsetLeft:o,offsetWidth:r}=e,i=o,s=Number(100-(o+r)/t.offsetWidth*100).toFixed(3),c=Number(i/t.offsetWidth*100).toFixed(3);return`inset(${parseInt(n)}px ${s}% ${parseInt(a)}px ${c}% round 1rem)`}(a,t);(0,k.RK)((()=>{t.style.clipPath=e}))}}),[n,t,s,c,l]),ge.createElement("div",{ref:c,className:u},t.map(((e,t)=>ge.createElement(bE,{key:e.title,title:e.title,isActive:t===n,className:null==e?void 0:e.className,menuItems:null==e?void 0:e.menuItems,onMenuItemClick:null==e?void 0:e.onMenuItemClick,onActiveClick:i,onClick:r,clickArg:e.id,icon:e.icon}))),ge.createElement("div",{className:kr("GMG3Qgat",o,kE),"aria-hidden":!0},t.map(((e,t)=>ge.createElement(bE,{key:e.title,title:e.title,isActive:t===n,className:kr(null==e?void 0:e.className,t===n&&"current-tab"),menuItems:null==e?void 0:e.menuItems,onActiveClick:i,onMenuItemClick:null==e?void 0:e.onMenuItemClick,onClick:r,clickArg:e.id,icon:e.icon})))))})),NE="eWsAO42f",SE="E2TFEkdV",AE="GUHQ1MCW",TE="wOo6dgfN",IE="Zc6rtbsT",BE="onRwV8fb",_E=fe(je((e=>{const{isSwapDisabled:t,isOnRampDisabled:n}=e.restrictions;return{isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n}}))((function(t){let{className:n,isStatic:a,isTestnet:o,isLedger:r,isSwapDisabled:i,isOnRampDisabled:s,onClose:c}=t;const{startSwap:l,openOnRampWidgetModal:d,openInvoiceModal:u,closeReceiveModal:m}=Ke(),p=Er(),f=!o&&!r&&!i,h=!o&&!s,g=Po((()=>{d({chain:"ton"}),null==c||c()})),v=Po((()=>{l({tokenInSlug:e.Czf,tokenOutSlug:e.Tu9.slug,amountIn:"100"}),null==c||c()})),w=Po((()=>{m(),u(),null==c||c()})),y=kr(NE,a&&SE,n);return ge.createElement("div",{className:y},h&&ge.createElement("div",{className:AE,onClick:g},ge.createElement("i",{className:kr(IE,"icon-card"),"aria-hidden":!0}),p("Buy with Card"),ge.createElement("i",{className:kr(BE,"icon-chevron-right"),"aria-hidden":!0})),f&&ge.createElement("div",{className:AE,onClick:v},ge.createElement("i",{className:kr(IE,"icon-crypto"),"aria-hidden":!0}),p("Buy with Crypto"),ge.createElement("i",{className:kr(BE,"icon-chevron-right"),"aria-hidden":!0})),ge.createElement("div",{className:AE,onClick:w},ge.createElement("i",{className:kr(IE,"icon-link"),"aria-hidden":!0}),p("Create Deposit Link"),ge.createElement("i",{className:kr(BE,"icon-chevron-right"),"aria-hidden":!0})))})));let xE;function DE(t){let{address:n,chain:a,isActive:o,hiddenClassName:r,hideLogo:s,withFormatTransferUrl:c}=t;const[l,d]=ie(!!xE),u=e.TI6?"./coreWallet/logo.svg":"./logo.svg",m=me();return ce((()=>{l||i.e(283).then(i.t.bind(i,97283,23)).then((e=>{let{default:t}=e;xE=new t({width:600,height:600,image:a?fw(a):u,margin:0,type:"canvas",dotsOptions:{type:"rounded"},cornersSquareOptions:{type:"extra-rounded"},imageOptions:{imageSize:.4,margin:8,crossOrigin:"anonymous"},qrOptions:{errorCorrectionLevel:"M"},data:Xb("")}),d(!0)}))}),[a,l,u]),le((()=>{var e;o&&l&&(m.current&&r&&ks(m.current,r),m.current&&(null===(e=xE)||void 0===e||e.append(m.current),xE._options.image=s?void 0:a?fw(a):u))}),[o,l,r,s,a,u]),ce((()=>{n&&o&&xE&&l&&xE.update({data:c?Xb(n):n})}),[n,o,l,c]),{qrCodeRef:m,isInitialized:l}}const LE=fe((function(e){let{isActive:t,isStatic:n,isLedger:a,address:o,onClose:r}=e;const{verifyHardwareAddress:i}=Ke(),s=Er(),{qrCodeRef:c,isInitialized:l}=DE({address:o,chain:"ton",isActive:t,hiddenClassName:gE.qrCodeHidden,withFormatTransferUrl:!0}),d=kr(gE.qrCode,n&&gE.qrCodeStatic,!l&&gE.qrCodeHidden);return ge.createElement("div",null,ge.createElement("div",{className:kr(gE.contentTitle,gE.contentTitleQr)},Qo(s("$receive_ton_description"))),ge.createElement("div",{className:d,ref:c}),ge.createElement(wy,{chain:"ton",address:o,className:n?gE.copyButtonStatic:gE.addressWrapper,copyNotification:s("Your address was copied!"),noSavedAddress:!0,noDimming:!0}),a&&ge.createElement("div",{className:kr(gE.contentTitle,gE.contentTitleLedger,n&&gE.contentTitleLedgerStatic)},Qo(s("$ledger_verify_address"))," ",ge.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),e.stopPropagation(),i()},className:gE.dottedLink},s("Verify now"))),!n&&ge.createElement(_E,{isLedger:a,onClose:r}))})),OE=fe(je((e=>{const{isSwapDisabled:t,isOnRampDisabled:n,countryCode:a}=e.restrictions;return{isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n,countryCode:a}}))((function(t){let{className:n,isStatic:a,isTestnet:o,isLedger:r,isSwapDisabled:i,isOnRampDisabled:s,countryCode:c,onClose:l}=t;const{startSwap:d,openOnRampWidgetModal:u}=Ke(),m=Er(),p="RU"!==c,f=!o&&!r&&!i,h=!o&&!s&&(p||a),g=Boolean(f||h||a),v=Po((()=>{u({chain:"tron"}),null==l||l()})),w=Po((()=>{d({tokenInSlug:e.iX4,tokenOutSlug:e.X7T.slug,amountIn:"10"}),null==l||l()})),y=kr(NE,a&&SE,n);if(g)return ge.createElement("div",{className:y},h&&ge.createElement("div",{className:kr(AE,!p&&TE),onClick:p?v:void 0},ge.createElement("i",{className:kr(IE,"icon-card"),"aria-hidden":!0}),m("Buy with Card"),ge.createElement("i",{className:kr(BE,"icon-chevron-right"),"aria-hidden":!0})),f&&ge.createElement("div",{className:AE,onClick:w},ge.createElement("i",{className:kr(IE,"icon-crypto"),"aria-hidden":!0}),m("Buy with Crypto"),ge.createElement("i",{className:kr(BE,"icon-chevron-right"),"aria-hidden":!0})),a&&ge.createElement("div",{className:kr(AE,TE)},ge.createElement("i",{className:kr(IE,"icon-link"),"aria-hidden":!0}),m("Create Deposit Link"),ge.createElement("i",{className:kr(BE,"icon-chevron-right"),"aria-hidden":!0})))}))),PE=fe((function(e){let{isActive:t,isStatic:n,address:a,onClose:o}=e;const r=Er(),{qrCodeRef:i,isInitialized:s}=DE({address:a,chain:"tron",isActive:t,hiddenClassName:gE.qrCodeHidden,withFormatTransferUrl:!1}),c=kr(gE.qrCode,n&&gE.qrCodeStatic,!s&&gE.qrCodeHidden);return ge.createElement("div",null,ge.createElement("div",{className:kr(gE.contentTitle,gE.contentTitleQr)},Qo(r("$receive_tron_description"))),ge.createElement("div",{className:c,ref:i}),ge.createElement(wy,{chain:"tron",address:a,className:n?gE.copyButtonStatic:gE.addressWrapper,copyNotification:r("Your address was copied!"),noSavedAddress:!0,noDimming:!0}),!n&&ge.createElement(OE,{onClose:o}))})),ME=fe(je((e=>{const t=it(e,e.currentAccountId),{receiveModalChain:n}=st(e)||{};return{addressByChain:null==t?void 0:t.addressByChain,isLedger:Boolean(null==t?void 0:t.ledger),chain:n}}),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isOpen:t,addressByChain:n,chain:a,isStatic:o,isLedger:r,onClose:i}=e;const{setReceiveActiveTab:s}=Ke(),c=Er(),{isPortrait:l}=ii(),d=de((()=>{const e=[];return null!=n&&n.ton&&e.push({id:0,title:"TON",className:kr(gE.tab,gE.tabTon)}),null!=n&&n.tron&&e.push({id:1,title:"TRON",className:kr(gE.tab,gE.tabTron)}),e}),[null==n?void 0:n.ton,null==n?void 0:n.tron]),u=de((()=>a?"tron"===a?1:0:d.length?d[0].id:0),[a,d]),m=Po((e=>{s({chain:1===e?"tron":"ton"})}));function p(e,a,s){switch(s){case 0:return ge.createElement(LE,{isActive:t&&e,isStatic:o,isLedger:r,address:n.ton,onClose:i});case 1:return ge.createElement(PE,{isActive:t&&e,isStatic:o,address:n.tron,onClose:i})}}if(d.length)return ge.createElement(ge.Fragment,null,o&&function(){const e=d.find((e=>e.id===u));return 1===(null==e?void 0:e.id)?ge.createElement(OE,{isStatic:!0}):ge.createElement(_E,{isStatic:!0,isLedger:r})}(),d.length>1&&ge.createElement(CE,{tabs:d,activeTab:u,className:kr(gE.tabs,!o&&gE.tabsInModal),overlayClassName:gE.tabsOverlay,onSwitchTab:m}),ge.createElement(of,{key:`content_${c.code}`,activeKey:u,name:l?"slide":"slideFade",className:gE.contentWrapper,slideClassName:kr(gE.content,o&&gE.contentStatic,"custom-scroll"),shouldRestoreHeight:o},p))}))),FE=fe(je((e=>{const{isSwapDisabled:t,isOnRampDisabled:n}=e.restrictions,a=rt(e);return{isOpen:e.isReceiveModalOpen,isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n,isLedger:Boolean(null==a?void 0:a.ledger),isMultichainAccount:kt(e,e.currentAccountId)}}))((function(e){let{isOpen:t,isTestnet:a,isLedger:o,isSwapDisabled:r,isOnRampDisabled:i,isMultichainAccount:s}=e;const{closeReceiveModal:c}=Ke(),l=Er(),{isLandscape:d}=ii(),u=l((a||o||r)&&(a||i)?"Add":"Add / Buy");return ce((()=>{t&&d&&c()}),[d,t]),ge.createElement(Ys,{isOpen:t,dialogClassName:n.ZH?gE.iosModalDialog:gE.modalDialog,nativeBottomSheetKey:"receive",onClose:c},ge.createElement(Th,{title:u,className:kr(gE.receiveHeader,!s&&gE.receiveHeaderNoTabs),onClose:c}),ge.createElement(ME,{isOpen:t,onClose:c}))}))),RE=fe((function(t){let{isSensitiveDataHidden:n,playAnimation:a,amount:o=0n,tokenSymbol:r=e.Tu9.symbol,decimals:i=e.Tu9.decimals,noSign:s,color:c,firstButtonText:l,secondButtonText:d,onFirstButtonClick:u,onSecondButtonClick:m}=t;const p=(0,Lt.nI)(o,i),[f,h]=ar(p,"",s,i).split("."),g=de((()=>aw(5,13,r)),[r]);return ge.createElement(ge.Fragment,null,ge.createElement(Lp,{play:a,noLoop:!1,nonInteractive:!0,className:ew.sticker,tgsUrl:rp.thumbUp,previewUrl:rp.thumbUpPreview}),ge.createElement(Aw,{isActive:n,cols:g,rows:3,cellSize:18,align:"center",maskSkin:"green",className:kr(ew.amount,c&&ew[`amount_${c}`],"rounded-font")},f.trim().replace(" ","").replace("-","−"),h&&ge.createElement("span",{className:ew.amountFraction},".",h.trim()),ge.createElement("span",{className:ew.amountSymbol},r)),function(){if(l||d)return ge.createElement("div",{className:ew.buttons},l&&ge.createElement(Rs,{className:ew.button,onClick:u},l),d&&ge.createElement(Rs,{className:ew.button,onClick:m},d))}())}));function UE(t){const{baseCurrency:n,onAmountChange:a}=t,{isBaseCurrency:o,switchCurrency:r,...i}=function(t){let{baseCurrency:n,amount:a,token:o,isAmountReadonly:r,onAmountChange:i,onTokenChange:s}=t;const[c,l]=ie(!1),d=me(),u=me(),m=e.yR2[n].decimals,p=e=>{d.current=e,u.current=WE(e,null==o?void 0:o.price,m)},f=(e,t)=>{if(c&&!r){const n=HE(u.current,e,t);n!==VE(d.current)&&(d.current=n,i($E(n,t)))}else u.current=WE(d.current,e,m)};Ee((()=>{const e=(t=a,n=null==o?void 0:o.decimals,void 0===t?void 0:(0,Lt.nI)(t,n));var t,n;e!==VE(d.current)&&p(e)}),[a,null==o?void 0:o.decimals]),Ee((()=>{f(null==o?void 0:o.price,null==o?void 0:o.decimals)}),[null==o?void 0:o.price,null==o?void 0:o.decimals,m]);const h=Po((e=>{var t;e||=void 0,c?(t=e,d.current=HE(t,null==o?void 0:o.price,null==o?void 0:o.decimals),u.current=t):p(e),i($E(d.current,null==o?void 0:o.decimals))})),g=Po(((e,t)=>{null==s||s(e),t&&f(t.price,t.decimals)}));return{isBaseCurrency:c,isAmountReadonly:r,inputValue:c?u.current:d.current,alternativeValue:c?d.current:u.current,switchCurrency:l,onInputChange:h,onTokenChange:g}}(t),s=Po((e=>{void 0!==e&&(Zc(),r(!1),a(e,!0))})),c=Po((()=>{Zc(),r(!o)}));return{...i,isBaseCurrency:o,baseCurrency:n,onMaxAmountClick:s,onAlternativeAmountClick:c}}function WE(e,t,n){return e&&void 0!==t?(0,Ot.z)(e).mul(t).round(n).toString():void 0}function HE(e,t,n){return e&&t?(0,Ot.z)(e).div(t).round(n??At.fI).toString():void 0}function $E(e,t){return e?(0,Lt.UH)(e,t):void 0}function VE(e){if(!e)return;if(!e.includes("."))return e;let t=e.length;for(;"0"===e[t-1];)t--;return"."===e[t-1]&&t--,e.slice(0,t)}function zE(e){let{tokenBySlug:t,states:n,shouldUseNominators:a,selectedStakingId:o,isViewMode:r}=e;const i=de((()=>{if(!t||!n)return[];let e=function(e,t,n){const a=t.some((e=>"nominators"===e.type&&Kd(e))),o=t.some((e=>"liquid"===e.type&&Kd(e)));return n&&!o&&(t=t.filter((e=>"liquid"!==e.type))),n||a||(t=t.filter((e=>"nominators"!==e.type))),t.filter((t=>e[t.tokenSlug])).map((t=>({...e[t.tokenSlug],id:t.id})))}(t,n,a);return r&&(e=e.filter((e=>{let{id:t}=e;return t===o}))),e}),[t,n,a,r,o]);return[de((()=>i.find((e=>e.id===o))),[i,o]),i]}function KE(e,t){const n=me(0);return de((()=>{t||(n.current+=1)}),e),n.current}const qE=fe((function(e){let{maxAmount:t,token:n,isLoading:a,isSensitiveDataHidden:o,isAllMode:r,onAmountClick:i}=e;const s=Er(),c=a?s("Loading..."):n&&void 0!==t?o?`*** ${n.symbol}`:r?or(t,n.symbol,n.decimals):nr((0,Lt.nI)(t,n.decimals),n.symbol):"",l=KE([!c,null==n?void 0:n.symbol,a,o]);return ge.createElement(of,{name:"fade",activeKey:l,shouldCleanup:!0,className:"OEF25dXJ"},c&&ge.createElement("span",{className:"zfocSjTR"},s(r?"$all_balance":"$max_balance",{balance:ge.createElement("div",{role:"button",tabIndex:0,onClick:()=>i(t),className:"KwAXOVQ_"},c)})))})),jE={dropdown:"ZNn8fpqd",dropdown__prefix:"u0_9mbdz",dropdownPrefix:"u0_9mbdz",prefix:"yhhTwepY",purple:"fP_2Gh_l"},YE=[],GE=fe((function(e){let{selectedToken:t,allTokens:n=YE,isMultichainAccount:a,theme:o,isInMode:r,onChange:i}=e;const s=Er()("$in_currency",{currency:""}),c=de((()=>r&&ge.createElement("span",{className:jE.prefix},s)),[r,s]),l=de((()=>n.map((e=>function(e,t){return{value:QE(e),icon:vw[e.symbol.toLowerCase()]||e.image,overlayIcon:t?fw(e.chain):void 0,name:e.symbol}}(e,a)))),[n,a]),d=de((()=>n.reduce(((e,t)=>(e[QE(t)]=t,e)),{})),[n]),u=Po((e=>{const t=d[e];null==i||i(e,t)}));if(!l.length)return;const m=t&&"string"!=typeof t?QE(t):t;return ge.createElement(av,{items:l,selectedValue:m,buttonPrefix:c,className:jE.dropdown,menuClassName:o&&jE[o],onChange:u})}));function QE(e){return e.id??e.slug}const XE=fe((function(t){let{isBaseCurrency:n,inputValue:a,alternativeValue:o,baseCurrency:r,maxAmount:i,token:s,allTokens:c,isStatic:d,hasError:u,isMultichainAccount:m,isSensitiveDataHidden:p,isMaxAmountLoading:f,isMaxAmountAllMode:h,renderBottomRight:g,isAmountReadonly:v,labelText:w,onTokenChange:y,onPressEnter:b,onInputChange:E,onMaxAmountClick:k,onAlternativeAmountClick:C}=t;const N=Er(),S=n?0:1,{inputId:A,onInputFocus:T,onInputBlur:I,onClick:B}=function(e){const t=`${ke()}_${e}`,n=me(!1),a=me(),o=Po((()=>{var e;null===(e=a.current)||void 0===e||e.call(a),n.current=!0})),r=Po((()=>{var e;null===(e=a.current)||void 0===e||e.call(a),a.current=(0,l.Gf)(500,(()=>{n.current=!1}))}));return ce((()=>{n.current&&hE(t)}),[e]),{inputId:t,onInputFocus:o,onInputBlur:r,onClick:()=>{n.current&&hE(t)}}}(S),_=Po((()=>{k(i),B()}));return ge.createElement(of,{activeKey:S,name:"semiFade",shouldCleanup:!0,className:"u5uvgNoY",slideClassName:"OeHWkJFQ"},ge.createElement(qE,{maxAmount:v?void 0:i,token:s,isLoading:f,isAllMode:h,isSensitiveDataHidden:p,onAmountClick:_}),function(){let t,o;if(n){const{shortSymbol:n}=e.yR2[r];n?t=n:o=r}return ge.createElement(fE,{id:A,hasError:u,value:a,labelText:w??N("Amount"),decimals:n?e.yR2[r].decimals:null==s?void 0:s.decimals,className:"me9Fg5VF",isStatic:d,prefix:t,suffix:o,disabled:v,onChange:E,onPressEnter:b,onFocus:T,onBlur:I},ge.createElement(GE,{selectedToken:s,allTokens:c,isInMode:n,isMultichainAccount:m,onChange:y}))}(),ge.createElement("div",{className:"xPmDv9gI"},function(){const e=n?(null==s?void 0:s.symbol)??"":ir(r);return ge.createElement("button",{type:"button",className:"hx_H7UUP",onClick:()=>{C(),B()}},"≈ ",nr(o??0,e,void 0,!0),ge.createElement("i",{className:kr("Agk5w0hD","icon-switch"),"aria-hidden":!0}))}(),g("uMCMe6l_")))})),JE=(0,et.A)((e=>0===e?/^(\d+)/:new RegExp(`^(\\d+)([.,])?(\\d{1,${e}})?`))),ZE=fe((function(t){let{id:n,labelText:a,value:o,error:r,prefix:i,suffix:s,zeroValue:c,decimals:l=e.I04,className:d,isSensitiveData:u,isSensitiveDataHidden:m,sensitiveDataMaskSkin:p,isStatic:f,inputClassName:h,labelClassName:g,valueClassName:v,children:w}=t;const y=me(),b=me(""),{updateFontScale:E,isFontChangedRef:k}=mE(y,!0),C=Po((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=y.current,a=JE(l),o=e.match(a);if(null===o||o.length<4||""===o[0])return void(t||""===e?(b.current="",n.innerText=""):C(b.current,!0));const r=(null==o?void 0:o[0])||"";b.current=e,n.innerHTML=dE(e,i,s,l,!0),(r.length>5||k.current)&&E()}));le((()=>{o?C(o):c&&(y.current.textContent=c)}),[i,s,l,C,o,c]);const N=kr(Op.input__wrapper,f&&Op.inputWrapperStatic,h),S=kr(Op.rich__value,Op.input,Op.large,Op.disabled,r&&Op.error,"rounded-font",v),A=kr(Op.label,g);return ge.createElement("div",{className:kr(Op.wrapper,d)},r&&ge.createElement("label",{className:kr(Op.label,Op.label_error,Op.error),htmlFor:n},r),a&&ge.createElement("label",{className:A,htmlFor:n,id:`${n}Label`},a),ge.createElement("div",{className:N},u?ge.createElement(Aw,{isActive:m,cols:8,rows:3,cellSize:16,maskSkin:p,className:kr(Op.rich,Op.large),maskClassName:Op.mask},ge.createElement("div",{ref:y,id:n,className:S})):ge.createElement("div",{className:Op.rich},ge.createElement("div",{ref:y,id:n,className:S})),w))})),ek={modalDialog:"oJIiPolp",welcome:"TiFPq3C6",welcome_static:"Rv6oYnJ8",welcomeStatic:"Rv6oYnJ8",welcomeInformation:"Xg9cqUJJ",welcomeInformation_static:"o_nJd5KS",welcomeInformationStatic:"o_nJd5KS",stakingApy:"HKeaaGYy",textButton:"fole9hpS",sticker:"bPhlS4F_",sticker_static:"uaQ89610",stickerStatic:"uaQ89610",stakingSafeDialog:"zNAkvVGS",amountBottomRight:"VuUMtt0r",amountBottomRight_error:"XziKGimY",amountBottomRightError:"XziKGimY",amountBottomRight_slide:"D7jfmDqZ",amountBottomRightSlide:"D7jfmDqZ",animating:"idaRXWqT",from:"w5MTAdBs",to:"OH6m_v4W",balanceError:"XV91oi_1",historyTotalValue:"ps_1E9fe",stakingBalance:"ZzjyhAIi",balanceResultWrapper:"vtSKtwOl",balanceResultWrapper__slide:"ri2mpmSG",balanceResultWrapperSlide:"ri2mpmSG",balanceResultInput:"oiRjkkEM",balanceResultLabel:"h10QGypW",balanceStakedLabel:"DlWk_wtQ",balanceStakedResult:"Zvcxz1_r",balanceResult:"ANb8RM_U",stakingInfoModal:"WPEajhsz",stakingInfoModal_withHistory:"RmyjusO4",stakingInfoModalWithHistory:"RmyjusO4",stakingInfo:"jqjfDFur",stakingInfo_modal:"WPEajhsz",stakingInfoNoHistory:"JhvH7wqN",stakingInfoModalContent:"adkWFcPE",history:"vrPulHrK",historyList:"Y0yHbYn0",withBackground:"seOnXIX2",stakingInfoLoading:"FpmrUch0",stakingInfoLoadingAnimation:"HhFmzxoC",stakingInfoClose:"hUegI624",stakingInfoButtons:"p0aoyqxp",stakingInfoButtons_withMargin:"pa9mJcSA",stakingInfoButtonsWithMargin:"pa9mJcSA",stakingInfoButtons_adaptiveWidth:"KhWpHXOV",stakingInfoButtonsAdaptiveWidth:"KhWpHXOV",stakingInfoButton:"ANY2XY_3",checkEligibilityButton:"aM6EzHZ6",insufficientBalance:"rGOjgmuu",unstakeTime:"AQ56tknq",unstakeTime_purple:"LqS98rhM",unstakeTimePurple:"LqS98rhM",unstakeTimeIcon:"tyhEzoP5",history_static:"s2VvvIeZ",historyStatic:"s2VvvIeZ",historyTotal:"saWAKbAc",historyTitle:"Y0cCgJMS",historyList_static:"axMdO17j",historyListStatic:"axMdO17j",transactionBanner:"qrdHJFDS",unstakeInfoTransition:"dyqJuGUL",unstakeInfo:"m1LUZiWL"};function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tk.apply(null,arguments)}var nk=function(e){return e[e.Fee=0]="Fee",e[e.InsufficientBalance=1]="InsufficientBalance",e[e.InsufficientFee=2]="InsufficientFee",e[e.BelowMinimumAmount=3]="BelowMinimumAmount",e[e.ApiError=4]="ApiError",e}(nk||{});const ak=new Set([Pn.StakeInitial,Pn.None]),ok=(0,l.nF)((e=>e()),1500,!0),rk=fe(je((t=>{var n;const a=t.currentAccountId,o=st(t),r=Ft(t),i=t.tokenInfo.bySlug,{baseCurrency:s=e.wOb,isSensitiveDataHidden:c}=t.settings,{state:l,isLoading:d,error:u}=t.currentStaking,m=a?ga(t,a):void 0,p=ya(t,t.currentAccountId);return{isViewMode:St(t),isLoading:d&&ak.has(l),tokens:r,tokenBySlug:i,apiError:u,stakingState:p,states:m,shouldUseNominators:null==o||null===(n=o.staking)||void 0===n?void 0:n.shouldUseNominators,isSensitiveDataHidden:c,baseCurrency:s}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isActive:a,isStatic:o,isLoading:r,isViewMode:i,apiError:s,tokens:c,tokenBySlug:l,stakingState:d,states:u,shouldUseNominators:m,isSensitiveDataHidden:p,baseCurrency:f}=t;const{submitStakingInitial:h,fetchStakingFee:g,cancelStaking:v,changeCurrentStaking:w}=Ke(),y=Er(),[b,E,k]=Ru(),[C,N]=ie();let S=!1,A=!1,T=!1,I=!1;const{id:B,type:_,tokenSlug:x}=d??{},D=de((()=>{if(!x||!c||!l)return;let e=c.find((e=>{let{slug:t}=e;return t===x}));return!e&&x in l&&(e=Xn(l[x])),e}),[x,c,l]),{amount:L=0n,symbol:O,decimals:P=e.Tu9.decimals}=D??{};let{annualYield:M=0}=d??{},F=`${M}%`;if("jetton"===(null==d?void 0:d.type)&&C)M=function(e){let{tvl:t,dailyReward:n,decimals:a}=e;if(!t)return 0;const o=(0,Lt.CF)(n,a).div((0,Lt.CF)(t,a)).mul(365).mul(100).toFixed(2);return Number(o)}({tvl:d.tvl+C,dailyReward:d.dailyReward,decimals:P});else if("ethena"===(null==d?void 0:d.type)){const{annualYieldStandard:e,annualYieldVerified:t}=d;F=`${e}%–${t}%`}const R=qn(null==D?void 0:D.slug),U=de((()=>{if(!c||!D)return;if(R)return D;const e=Yn(D.chain).slug;return c.find((t=>{let{slug:n}=t;return n===e}))}),[c,D,R]),W=(null==U?void 0:U.amount)??0n,H=function(t){switch(t){case"nominators":return e.pLj;case"ethena":return e.WUE;default:return e.UAn}}(_),{gas:$,real:V}=Hd(null==d?void 0:d.type).stake,z=R&&C?C+$:$,K=2n*$,q=R&&L>=K,j=(()=>{let e=L;return R&&e&&(e-=q?K:$),(0,sa._O)(0n,e)})(),Y=Vd();void 0!==C&&(Number.isNaN(C)||C<0?S=!0:C<H?I=!0:!j||C>L?A=!0:(W<$||R&&z>L)&&(T=!0));const[G,Q]=zE({tokenBySlug:l,states:u,shouldUseNominators:m,selectedStakingId:B}),X=Po((()=>{const t=e.ePC[y.code]??e.ePC.en;ec(t,{title:y("Help Center"),subtitle:Ho(t)})}));ce((()=>{C&&ok((()=>{g({amount:C})}))}),[C,g]),Ee((()=>{if(n.bA&&b){let e;switch(null==d?void 0:d.type){case"jetton":e=[`${y("$safe_staking_description_jetton1").replace("%jvault_link%","JVault")}`,`${y("$safe_staking_description_jetton2")}`];break;case"ethena":e=[`1. ${y("$safe_staking_ethena_description1")}`,`2. ${y("$safe_staking_ethena_description2")}`,`3. ${y("$safe_staking_ethena_description3")}`];break;default:e=[`1. ${y("$safe_staking_description1")}`,`2. ${y("$safe_staking_description2")}`,`3. ${y("$safe_staking_description3")}`]}"ethena"===(null==d?void 0:d.type)?Oy.confirm({title:y(Y),message:e.join("\n\n").replace(/\*\*/g,""),okButtonTitle:y("Close"),cancelButtonTitle:y("Help Center")}).then((e=>{k(),e.value||X()})):Oy.alert({title:y(Y),message:e.join("\n\n").replace(/\*\*/g,"")}).then(k)}}),[b,y,d,Y]);const J=C&&j&&!i&&!S&&!I&&!T&&!A,Z=Po((e=>{Co(e),J&&(Zc(),h({amount:C}))})),ee=Po((()=>{ec(e.lsx)})),[te,ne]=de((()=>A?[y("Insufficient balance"),nk.InsufficientBalance]:T?[y("$insufficient_fee",{fee:nr((0,Lt.nI)($),(null==U?void 0:U.symbol)??"")}),nk.InsufficientFee]:I?[y("$min_value",{value:nr((0,Lt.nI)(H,P),O??"")}),nk.BelowMinimumAmount]:s?[y(s),nk.ApiError]:[void 0,nk.Fee]),[s,P,I,A,T,y,H,null==U?void 0:U.symbol,$,O]),ae=ue((e=>{let t=" ";return t=te?ge.createElement("span",{className:ek.balanceError},te):D?y("$fee_value",{fee:ge.createElement(Ty,{terms:{native:V},precision:"approximate",token:D})}):"",ge.createElement(of,{className:kr(ek.amountBottomRight,S&&ek.amountBottomRight_error,e),slideClassName:ek.amountBottomRight_slide,name:"semiFade",activeKey:ne},t)}),[te,ne,S,y,V,D]);const oe=Po((e=>{v(),w({stakingId:e,shouldReopenModal:!o})})),re=UE({amount:C,token:D,baseCurrency:f,onAmountChange:N,onTokenChange:oe});return ge.createElement("form",{className:o?void 0:Ws.transitionContent,onSubmit:Z},ge.createElement("div",{className:kr(ek.welcome,o&&ek.welcome_static)},ge.createElement(Lp,{size:o?e.lWW:e.jzp,play:a,noLoop:!1,nonInteractive:!0,className:kr(ek.sticker,o&&ek.sticker_static),tgsUrl:rp.wait,previewUrl:rp.waitPreview}),ge.createElement("div",{className:kr(ek.welcomeInformation,o&&ek.welcomeInformation_static)},ge.createElement("div",null,y("Earn from your tokens while holding them",{symbol:O})),ge.createElement("div",{className:ek.stakingApy},y("Est. %annual_yield%",{annual_yield:F})),"ethena"===_&&ge.createElement(Rs,{isText:!0,className:ek.textButton,onClick:ee},y("Check eligibility")),ge.createElement(Rs,{isText:!0,className:ek.textButton,onClick:E},y(Vd(_))))),ge.createElement(XE,tk({},re,{maxAmount:j,token:G,allTokens:Q,isStatic:o,hasError:S||A,isMaxAmountLoading:!G,isSensitiveDataHidden:p,renderBottomRight:ae,onPressEnter:Z})),function(){const t=(0,Lt.CF)(C??0,P);let n,a,r;if(re.isBaseCurrency){n=t.mul((null==D?void 0:D.price)??0);const{shortSymbol:o}=e.yR2[f];o?a=o:r=f}else n=t;const i=n.mul(M/100+1).toString();return ge.createElement(of,{activeKey:re.isBaseCurrency?0:1,name:"semiFade",className:ek.balanceResultWrapper,slideClassName:ek.balanceResultWrapper__slide,shouldCleanup:!0},ge.createElement(ZE,{labelText:y("Est. balance in a year"),zeroValue:"...",value:i,decimals:e.Vxu,prefix:a,suffix:r,isStatic:o,inputClassName:ek.balanceResultInput,labelClassName:ek.balanceResultLabel,valueClassName:ek.balanceResult}))}(),!i&&ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{isPrimary:!0,isSubmit:!0,isDisabled:!J,isLoading:r},y("$stake_asset",{symbol:null==D?void 0:D.symbol}))),function(){if(!n.bA)return ge.createElement(Ys,{isCompact:!0,isOpen:b,title:y(Y),onClose:k,dialogClassName:ek.stakingSafeDialog},!!d&&function(){switch(d.type){case"jetton":return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Ws.text},Qo(y("$safe_staking_description_jetton1",{jvault_link:ge.createElement("a",{href:e.dCY,target:"_blank",rel:"noreferrer"},ge.createElement("b",null,"JVault"))}))),ge.createElement("p",{className:Ws.text},Qo(y("$safe_staking_description_jetton2"))));case"ethena":return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Ws.text},Qo(y("$safe_staking_ethena_description1"))),ge.createElement("p",{className:Ws.text},Qo(y("$safe_staking_ethena_description2"))),ge.createElement("p",{className:Ws.text},Qo(y("$safe_staking_ethena_description3"))));default:return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Ws.text},Qo(y("$safe_staking_description1"))),ge.createElement("p",{className:Ws.text},Qo(y("$safe_staking_description2"))),ge.createElement("p",{className:Ws.text},Qo(y("$safe_staking_description3"))))}}(),ge.createElement("div",{className:Ws.buttons},"ethena"===d.type&&ge.createElement(Rs,{onClick:X},y("Help Center")),ge.createElement(Rs,{onClick:k},y("Close"))))}())}))),ik=new Set([Pn.StakeInitial,Pn.StakePassword,Pn.StakeConnectHardware,Pn.StakeConfirmHardware,Pn.StakeComplete]),sk=fe(je((e=>{const t=e.currentAccountId,n=kt(e,t),a=ya(e,t),o=e.tokenInfo.bySlug;return{...e.currentStaking,stakingState:a,tokenBySlug:o,isMultichainAccount:n}}))((function(t){let{state:n,stakingState:a,isLoading:o,amount:r,error:i,tokenBySlug:s,isMultichainAccount:c}=t;const{startStaking:l,setStakingScreen:d,cancelStaking:u,clearStakingError:m,submitStakingPassword:p,submitStakingHardware:f,openStakingInfo:h}=Ke(),{tokenSlug:g}=a??{},v=g&&s?s[g]:void 0,w=Er(),y=ik.has(n),[b,E]=ie(r),{renderingKey:k,nextKey:C,updateNextKey:N}=Kg(n,y),S=Po((()=>{n===Pn.StakePassword&&(m(),d({state:Pn.StakeInitial}))})),A=Po((()=>{E(r),f()})),T=Po((e=>{E(r),p({password:e})})),I=Po((()=>{u(),h()}));function B(t,n,a){switch(a){case Pn.StakeInitial:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:w("$stake_asset",{symbol:null==v?void 0:v.symbol}),onClose:u}),ge.createElement(rk,{isActive:t}));case Pn.StakePassword:return function(t){return ge.createElement(ge.Fragment,null,!Yc()&&ge.createElement(Th,{title:w("Confirm Staking"),onClose:u}),ge.createElement(ff,{isActive:t,isLoading:o,error:i,withCloseButton:e.UMQ,operationType:"staking",placeholder:"Confirm operation with your password",submitLabel:w("Confirm"),cancelLabel:w("Back"),onSubmit:T,onCancel:S,onUpdate:m,skipAuthScreen:!0},function(){if(v&&r)return ge.createElement(kb,{tokenIn:v,withChainIcon:c,color:"purple",text:nr((0,Lt.nI)(r,v.decimals),v.symbol),className:Yc()?void 0:ek.transactionBanner})}()))}(t);case Pn.StakeConnectHardware:return ge.createElement(pv,{isActive:t,onConnected:A,onClose:u});case Pn.StakeConfirmHardware:return ge.createElement(ev,{text:w("Please confirm operation on your Ledger"),error:i,onClose:u,onTryAgain:A});case Pn.StakeComplete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:w("Coins have been staked!"),onClose:u}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement(RE,{color:"purple",playAnimation:e,amount:b,decimals:null==v?void 0:v.decimals,tokenSymbol:null==v?void 0:v.symbol,noSign:!0,firstButtonText:w("View"),secondButtonText:w("Stake More"),onFirstButtonClick:I,onSecondButtonClick:l}),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:u,isPrimary:!0},w("Close")))))}(t)}}return ge.createElement(Ys,{isOpen:y,hasCloseButton:!0,noBackdropClose:!0,dialogClassName:ek.modalDialog,nativeBottomSheetKey:"stake",forceFullNative:k===Pn.StakePassword,onClose:u,onCloseAnimationEnd:N},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:k,nextKey:C,onStop:N},B))}))),ck=new Set([Pn.ClaimPassword,Pn.ClaimConfirmHardware,Pn.ClaimConnectHardware,Pn.ClaimComplete]),lk=fe(je((e=>{const t=e.currentAccountId,{addressByChain:n}=it(e,t)||{},a=mt(e),{state:o,isLoading:r,error:i}=(null==e?void 0:e.currentStaking)||{},s=t?ya(e,t):void 0,c=Ft(e);return{stakingState:"jetton"===(null==s?void 0:s.type)||"ethena"===(null==s?void 0:s.type)?s:void 0,isOpen:ck.has(o),state:o,tokens:c,isLoading:r,error:i,address:null==n?void 0:n.ton,isHardwareAccount:a,isMultichainAccount:kt(e,t),isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}))((function(t){let{stakingState:n,isOpen:a,tokens:o,isLoading:r,address:i,error:s,state:c=Pn.ClaimPassword,isHardwareAccount:l,isMultichainAccount:d,isSensitiveDataHidden:u}=t;const{submitStakingClaim:m,submitStakingClaimHardware:p,cancelStakingClaim:f,clearStakingError:h}=Ke(),{tokenSlug:g}=n??{},v=n&&"unclaimedRewards"in n?n.unclaimedRewards:(null==n?void 0:n.unstakeRequestAmount)??0n,w=Er(),y=de((()=>null==o?void 0:o.find((e=>{let{slug:t}=e;return t===g}))),[o,g]),b=de((()=>null==o?void 0:o.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[o]),E=(null==b?void 0:b.amount)??0n,{gas:k,real:C}=Hd(null==n?void 0:n.type).claim,N=E>k,{renderingKey:S,nextKey:A,updateNextKey:T}=Kg(c,Boolean(a)),I=c===Pn.ClaimComplete||!l&&!Yc(),B=I?w(c===Pn.ClaimComplete?"Coins have been unstaked!":"ethena"===(null==n?void 0:n.type)?"Confirm Unstaking":"Confirm Rewards Claim"):void 0,_=Po((e=>{N&&m({password:e})})),x=Po((()=>{N&&p()}));function D(t,n,o){switch(o){case Pn.ClaimConnectHardware:return ge.createElement(pv,{isActive:t,onConnected:x,onClose:f});case Pn.ClaimConfirmHardware:return ge.createElement(ev,{text:w("Please confirm transaction on your Ledger"),error:s,onClose:f,onTryAgain:x});case Pn.ClaimPassword:return ge.createElement(ff,{isActive:Boolean(a),isLoading:r,withCloseButton:!0,operationType:"claim",error:N?s:w("Insufficient Balance for Fee"),submitLabel:w("Confirm"),onSubmit:_,onCancel:f,onUpdate:h,skipAuthScreen:!0},function(){const t=kr("k75dvmdJ",!Yc()&&"F2nQ3VmO"),n=u?`*** ${y.symbol}`:nr((0,Lt.nI)(v,y.decimals),y.symbol,e.Vxu);return ge.createElement(ge.Fragment,null,ge.createElement(kb,{tokenIn:y,withChainIcon:d,text:n,className:Yc()?void 0:"yYT_DSGe",secondText:i&&(0,qt.W)(i)}),ge.createElement("div",{className:t},y&&Qo(w("$fee_value_bold",{fee:ge.createElement(Ty,{terms:{native:N?C:k},precision:N?"approximate":"lessThan",token:y})}))))}());case Pn.ClaimComplete:return ge.createElement("div",{className:Ws.transitionContent},ge.createElement(RE,{isSensitiveDataHidden:u,color:"green",playAnimation:t,amount:v,tokenSymbol:null==y?void 0:y.symbol,decimals:null==y?void 0:y.decimals,noSign:!0}),ge.createElement("div",{className:"zw06OBVe"},w("$unstake_information_instantly")),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:f,isPrimary:!0},w("Close"))))}}return ge.createElement(Ys,{isOpen:a,title:B,hasCloseButton:I,forceFullNative:!0,nativeBottomSheetKey:"staking-claim",contentClassName:"FYtlcmCw",onClose:f},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:S,nextKey:A,onStop:T},D))}))),dk=fe((function(e){let{tonToken:t,timestamp:n,profit:a,isSensitiveDataHidden:o}=e;const r=Er(),i=de((()=>aw(4,10,n.toString())),[n]);return ge.createElement("div",{className:"nq4YjGn3"},ge.createElement("i",{className:kr("jLdRlENh","icon-earn"),"aria-hidden":!0}),ge.createElement("div",{className:"nxAiUgO_"},ge.createElement("div",{className:"uDw7ob8E"},r("Earned")),ge.createElement("div",{className:"aJl0mknc"},(0,Ba.N5)(r,n),", ",(0,Ba.fU)(n))),ge.createElement(Aw,{isActive:o,cellSize:8,rows:2,cols:i,align:"right",className:"x2kd8DjZ"},ar(a,t.symbol)))})),uk=fe(je((t=>{var n;const a=t.currentAccountId,{settings:{theme:o,isSensitiveDataHidden:r},tokenInfo:{bySlug:i}}=t,s=st(t),c=a?ga(t,a):void 0,l=a?ya(t,a):void 0,d=a?ba(t,a):void 0,u=a?function(t,n){var a;const o=ct(t,n);return(ya(t,n).tokenSlug===e.Tu9.slug?null==o||null===(a=o.staking)||void 0===a?void 0:a.totalProfit:void 0)??0n}(t,a):0n;return{stakingState:l,states:c,totalProfit:u,stakingHistory:d,tokens:Ft(t),tokenBySlug:i,theme:o,shouldUseNominators:null==s||null===(n=s.staking)||void 0===n?void 0:n.shouldUseNominators,isSensitiveDataHidden:r,isViewMode:St(t)}}))((function(t){let{states:n,stakingState:a,isActive:o,isStatic:r,totalProfit:i,stakingHistory:s,tokens:c,tokenBySlug:l,theme:d,shouldUseNominators:u,isViewMode:m,isSensitiveDataHidden:p,onClose:f}=t;const{startStaking:h,startUnstaking:g,startStakingClaim:v,fetchStakingHistory:w,changeCurrentStaking:y}=Ke(),{id:b,tokenSlug:E,balance:k,annualYield:C=0,unstakeRequestAmount:N,type:S}=a??{},A=$d(a),T=a?"readyToClaim"===zd(a):void 0,I=de((()=>E?null==c?void 0:c.find((e=>{let{slug:t}=e;return E===t})):void 0),[E,c]),{decimals:B,symbol:_}=I??{},x=Er(),D=void 0===k,L=Boolean(null==s?void 0:s.length),{shouldRender:O,ref:P}=Ls({isOpen:D&&o,withShouldRender:!0}),M=de((()=>null==c?void 0:c.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[c]),F=ve(),{height:R}=zu(),U=gf(d),{shouldRender:W,ref:H}=Ls({isOpen:!p,withShouldRender:!0}),$="jetton"===(null==a?void 0:a.type)?a.unclaimedRewards:void 0;Oh(F,N?3e4:void 0),ce((()=>{o&&w()}),[w,o]);const V=Po((()=>{null==f||f(),h()})),z=Po((()=>{null==f||f(),g()})),K=Po((()=>{null==f||f(),v()}));let q="0",j="0";k&&(q=(0,Lt.CF)(k,B).round(e.Vxu).toString(),j=(0,Lt.CF)(k,B).mul(C/100+1).round(e.Vxu).toString());const Y=Po((()=>{ec(e.lsx)})),[G,Q]=zE({tokenBySlug:l,states:n,shouldUseNominators:u,selectedStakingId:b,isViewMode:m});function X(){let t;return A&&(t=x("nominators"===S?"$unstaking_when_receive":"$unstaking_when_receive_with_amount",{time:ge.createElement("strong",null,(0,Ba.YG)(x.code,A)),amount:ge.createElement("strong",null,nr((0,Lt.nI)(N??0n,B),_).replace(" "," "))})),ge.createElement("div",{className:kr(ek.unstakeTime,ek.unstakeTime_purple)},ge.createElement(Lp,{play:o,size:e.wg4,className:ek.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:rp[U].iconClockPurple,previewUrl:rp[U].preview.iconClockPurple}),ge.createElement("div",null,t))}const J=kr(ek.stakingInfo,!r&&ek.stakingInfo_modal,!L&&ek.stakingInfoNoHistory,r&&"staking-info"),Z=Po((e=>{null==f||f(),y({stakingId:e,shouldReopenModal:!r})})),ee=KE([r,b],!r);return ge.createElement(of,{name:"fade",activeKey:ee,shouldCleanup:!0,className:ek.stakingTransition,slideClassName:r?"staking-info":void 0},ge.createElement(ge.Fragment,null,ge.createElement("div",{className:J},!r&&ge.createElement(Th,{title:x("Staking"),closeClassName:ek.stakingInfoClose,onClose:f}),ge.createElement(ZE,{isSensitiveData:!0,isSensitiveDataHidden:p,sensitiveDataMaskSkin:"purple",labelText:x("Currently Staked"),zeroValue:"...",value:q,decimals:B,className:ek.stakingBalance,labelClassName:ek.balanceStakedLabel,valueClassName:ek.balanceStakedResult},ge.createElement("div",{className:ek.stakingInfoLoading},O&&ge.createElement(Wg,{ref:P,className:ek.stakingInfoLoadingAnimation})),ge.createElement(GE,{selectedToken:G,allTokens:Q,theme:"purple",onChange:Z})),N&&N>0n&&"ethena"!==S?X():ge.createElement(ge.Fragment,null,ge.createElement(ZE,{isSensitiveData:!0,isSensitiveDataHidden:p,sensitiveDataMaskSkin:"purple",labelText:x("Est. balance in a year"),zeroValue:"...",value:j,decimals:B,suffix:_,labelClassName:ek.balanceStakedLabel,valueClassName:ek.balanceResult}),"ethena"===S&&!T&&!!N&&X(),!m&&ge.createElement("div",{className:kr(ek.stakingInfoButtons,"ethena"===S&&ek.stakingInfoButtonsAdaptiveWidth,!!$&&ek.stakingInfoButtonsWithMargin)},ge.createElement(Rs,{className:ek.stakingInfoButton,isPrimary:!0,isDisabled:D,onClick:V},x("Stake More")),("ethena"!==S||!T)&&ge.createElement(Rs,{className:ek.stakingInfoButton,isDisabled:D,onClick:z},x("ethena"===S?"Request Unstaking":"Unstake")),T&&ge.createElement(Rs,{className:ek.stakingInfoButton,isDisabled:D,onClick:K},x("Unstake %amount%",{amount:p?`*** ${_}`:nr((0,Lt.nI)(N,B),_,2)}))),!m&&"ethena"===S&&ge.createElement(Rs,{isText:!0,className:ek.checkEligibilityButton,onClick:Y},x("Check eligibility for max APY")),!!$&&function(){const e=(0,Lt.nI)($,B);return ge.createElement(ge.Fragment,null,ge.createElement(ZE,{isSensitiveData:!0,isSensitiveDataHidden:p,sensitiveDataMaskSkin:"purple",labelText:x("Accumulated Rewards"),zeroValue:"...",value:e,decimals:B,suffix:_,labelClassName:ek.balanceStakedLabel,valueClassName:ek.balanceResult}),!m&&ge.createElement("div",{className:ek.stakingInfoButtons},ge.createElement(Rs,{className:ek.stakingInfoButton,isDisabled:D,onClick:K},x("Claim"))))}())),L&&ge.createElement("div",{className:kr(ek.history,r&&ek.history_static)},W&&ge.createElement("div",{ref:H,className:ek.historyTotal},x("$total",{value:ge.createElement("span",{className:ek.historyTotalValue},nr((0,Lt.nI)(i),e.Tu9.symbol))})),ge.createElement("div",{className:ek.historyTitle},x("Earning History")),ge.createElement("div",{className:kr(ek.historyList,r&&ek.historyList_static,r&&"custom-scroll",!r&&R>=640&&"custom-scroll")},null==s?void 0:s.map((e=>ge.createElement(dk,{key:e.timestamp,profit:e.profit,timestamp:e.timestamp,tonToken:M,isSensitiveDataHidden:p})))))))}))),mk=fe(je((e=>{const t=e.currentAccountId,n=t?ba(e,t):void 0,a=t?ya(e,t):void 0;return{tokenSlug:null==a?void 0:a.tokenSlug,hasHistory:Boolean(null==n?void 0:n.length)}}))((function(t){let{isOpen:n,tokenSlug:a,hasHistory:o,onClose:r}=t;const{fetchStakingHistory:i}=Ke(),s=a!==e.Tu9.slug;return ce((()=>{n&&i()}),[i,n]),ge.createElement(Ys,{isOpen:n,contentClassName:kr(ek.stakingInfoModalContent,s&&ek.withBackground),nativeBottomSheetKey:"staking-info",onClose:r,forceFullNative:o},ge.createElement(uk,{isActive:n,onClose:r}))})));function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pk.apply(null,arguments)}const fk=new Set([Pn.UnstakeInitial,Pn.UnstakePassword,Pn.UnstakeConnectHardware,Pn.UnstakeConfirmHardware,Pn.UnstakeComplete]),hk=new Set([Pn.UnstakePassword,Pn.UnstakeConnectHardware,Pn.UnstakeConfirmHardware]),gk=fe(je((t=>{const n=t.currentAccountId,a=Ft(t),{baseCurrency:o=e.wOb,isSensitiveDataHidden:r}=t.settings,i=kt(t,n),s=ya(t,n),c="nominators"===(null==s?void 0:s.type);return{...t.currentStaking,tokens:a,baseCurrency:o,isNominators:c,theme:t.settings.theme,isMultichainAccount:i,stakingState:s,isSensitiveDataHidden:r,isViewMode:St(t)}}))((function(t){let{state:a,isViewMode:o,isLoading:r,error:i,tokens:s,baseCurrency:c,isNominators:l,isMultichainAccount:d,theme:u,amount:m,stakingState:p,isSensitiveDataHidden:f}=t;const{setStakingScreen:h,cancelStaking:g,clearStakingError:v,submitStakingInitial:w,submitStakingPassword:y,submitStakingHardware:b,fetchStakingHistory:E}=Ke(),{type:k,tokenSlug:C,balance:N}=p??{},S=Er(),A=fk.has(a),{gas:T,real:I}=Hd(null==p?void 0:p.type).stake,B=de((()=>null==s?void 0:s.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[s]),_=B&&B.amount>=T,x="liquid"===(null==p?void 0:p.type)?p.instantAvailable:void 0,D=de((()=>C?null==s?void 0:s.find((e=>{let{slug:t}=e;return t===C})):void 0),[C,s]);let L=!1,O=!1;const P=l,[M,F]=ie(P?N:void 0),[R,U]=ie(void 0),W=$d(p),H=p?qd(p,M):void 0,[$,V]=ie(W??Date.now()+e.NFS),z=ve(),K=gf(u),{renderingKey:q,nextKey:j,updateNextKey:Y}=Kg(a,A),G=!_||O||!M;ce((()=>{A&&(E(),F(P?N:void 0))}),[A,E,P,N]),Ee((()=>{W&&V(W)}),[W]),i===Ta.KL.InsufficientBalance&&(O=!0);const Q=Po((()=>{$<Date.now()&&E(),z()}));Oh(Q,3e4);const X=Po((()=>{a===Pn.UnstakePassword&&h({state:Pn.UnstakeInitial})})),J=Po((()=>{w({isUnstaking:!0,amount:M})})),Z=Po((e=>{U(m),y({password:e,isUnstaking:!0})})),ee=Po((()=>{U(m),b({isUnstaking:!0})}));void 0!==M&&(M<0?L=!0:(!N||M>N)&&(L=!0,O=!0));const te=UE({amount:M,token:D,baseCurrency:c,isAmountReadonly:P,onAmountChange:F}),ne=de((()=>D&&[D]),[D]),ae=ue((e=>{const t=O?0:_?x?2:3:1;let n=D?S("$fee_value",{fee:ge.createElement(Ty,{terms:{native:I},precision:"approximate",token:D})}):"";return D&&(O?n=ge.createElement("span",{className:ek.balanceError},S("Insufficient balance")):_?x&&(n=S("$unstake_up_to_information",{value:nr((0,Lt.nI)(x,D.decimals),D.symbol)})):n=ge.createElement("span",{className:ek.balanceError},S("$insufficient_fee",{fee:nr((0,Lt.CF)(T),(null==B?void 0:B.symbol)??"")}))),ge.createElement(of,{className:kr(ek.amountBottomRight,e),slideClassName:ek.amountBottomRight_slide,name:"semiFade",activeKey:t},n)}),[x,O,_,S,null==B?void 0:B.symbol,T,I,D]);function oe(){const t="ethena"===k?Qo(S("$unstaking_when_receive_ethena")):S("$unstaking_when_receive",{time:ge.createElement("strong",null,(0,Ba.YG)(S.code,$))});return ge.createElement("div",{className:kr(ek.unstakeTime)},ge.createElement(Lp,{play:A,size:e.wg4,className:ek.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:rp[K].iconClockGray,previewUrl:rp[K].preview.iconClockGray}),ge.createElement("div",null,t))}function re(t,a,s){switch(s){case Pn.UnstakeInitial:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:S("$unstake_asset",{symbol:null==D?void 0:D.symbol}),onClose:g}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement(XE,pk({},te,{labelText:S("Amount to unstake"),maxAmount:N,token:D,allTokens:ne,hasError:L,isMaxAmountLoading:void 0===N||!D,isMaxAmountAllMode:!0,isSensitiveDataHidden:f,renderBottomRight:ae})),function(){const e=!O&&M;return ge.createElement(of,{name:"fade",activeKey:e?H?2:1:0,className:ek.unstakeInfoTransition},e?H?oe():ge.createElement("div",{className:ek.unstakeInfo},S("$unstake_information_instantly")):void 0)}(),!o&&ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{isPrimary:!0,isLoading:r,isDisabled:G,onClick:J},S("Unstake")))));case Pn.UnstakePassword:return function(t){return ge.createElement(ge.Fragment,null,!Yc()&&ge.createElement(Th,{title:S("Confirm Unstaking"),onClose:g}),ge.createElement(ff,{isActive:t,isLoading:r,withCloseButton:e.UMQ,operationType:"unstaking",error:i,placeholder:"Confirm operation with your password",submitLabel:S("Confirm"),cancelLabel:S("Back"),onSubmit:Z,onCancel:X,onUpdate:v,skipAuthScreen:!0},function(){if(D&&M)return ge.createElement(kb,{tokenIn:D,withChainIcon:d,color:"green",text:nr((0,Lt.nI)(M,D.decimals),D.symbol),className:Yc()?void 0:ek.transactionBanner})}()))}(t);case Pn.UnstakeConnectHardware:return ge.createElement(pv,{isActive:t,onConnected:ee,onClose:g});case Pn.UnstakeConfirmHardware:return ge.createElement(ev,{text:S("Please confirm operation on your Ledger"),error:i,onClose:g,onTryAgain:ee});case Pn.UnstakeComplete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:(0,n.v3)()?S("Request is sent!"):S("ethena"===k?"Request for unstaking is sent!":"Coins have been unstaked!"),onClose:g}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement(RE,{color:"ethena"!==k?"green":void 0,playAnimation:e,amount:R,tokenSymbol:null==D?void 0:D.symbol,decimals:null==D?void 0:D.decimals,noSign:!0}),H&&oe(),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:g,isPrimary:!0},S("Close")))))}(t)}}return ge.createElement(Ys,{isOpen:A,hasCloseButton:!0,noBackdropClose:!0,dialogClassName:ek.modalDialog,nativeBottomSheetKey:"unstake",forceFullNative:hk.has(q),onClose:g,onCloseAnimationEnd:Y},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:q,nextKey:j,onStop:Y},re))}))),vk=fe(je((e=>({isAppUpdateAvailable:e.isAppUpdateAvailable,newAppVersion:e.latestAppVersion,isAppUpdateRequired:e.isAppUpdateRequired})))((function(t){let{isAppUpdateAvailable:a,newAppVersion:o,isAppUpdateRequired:r}=t;const i=Er(),{shouldRender:s,ref:c}=Ls({isOpen:e.VL7&&a||r,withShouldRender:!0});if(s)return ge.createElement("button",{ref:c,type:"button",className:"eU8arlH4",onClick:()=>{var t;n.u2?window.location.reload():ec((t=o,e.VL7?t?`${e.V3_}/releases/download/v${encodeURIComponent(t||"")}/${encodeURIComponent(e.C39)}.apk`:"https://github.com/mytonwallet-org/mytonwallet/releases/latest":n.xy?`${e.W1_}android-store`:n.ZH?`${e.W1_}ios`:n.iF?`${e.W1_}${n.pr?"edge-extension":"chrome-extension"}`:e.v5B?`${e.W1_}firefox-extension`:e.W1_),{isExternal:!0})}},ge.createElement("i",{className:kr("icon icon-download-filled","X9C5VDdJ"),"aria-hidden":!0}),i("Update %app_name%",{app_name:e.C39}))})));function wk(e,t){return e.reduce(((e,n)=>e+n.parts.reduce(((e,n)=>e+(t.includes(n.status)?n.amount:0)),0)),0).toString()}const yk="WYLJUay4",bk="af6G76Qu",Ek=fe(je((e=>{const t=st(e),{info:n,unfreezeRequestedIds:a}=(null==t?void 0:t.vesting)||{};return{isOpen:e.isVestingModalOpen,isViewMode:St(e),vesting:n,isUnfreezeRequested:Boolean(null==a?void 0:a.length),mycoin:Vt(e),theme:e.settings.theme}}))((function(t){let{isOpen:n,isViewMode:a,isUnfreezeRequested:o,vesting:r,mycoin:i,theme:s}=t;const{fetchStakingHistory:c,closeVestingModal:l,startClaimingVesting:d}=Ke(),u=Er(),m=ve(),p=de((()=>r?wk(r,["frozen","ready"]):"0"),[r]),f=de((()=>r?wk(r,["ready"]):"0"),[r]),h="0"===f,g=gf(s);Oh(m,o?3e4:void 0),ce((()=>{n&&c()}),[c,n]);const v=Po((()=>{d()}));if(i)return ge.createElement(Ys,{isOpen:n,contentClassName:"Z3AdvY3j",nativeBottomSheetKey:"vesting-info",forceFullNative:!0,onClose:l},ge.createElement(ge.Fragment,null,ge.createElement("div",{className:"nmSXdbkU"},ge.createElement(Th,{title:u("Vesting"),className:"UGaC6iSp",closeClassName:"gj76sp0s",onClose:l}),ge.createElement(ZE,{labelText:u("Vesting Balance"),zeroValue:"...",value:p||"0",decimals:e.Vxu,suffix:"MY",className:yk,labelClassName:bk,valueClassName:"W2jkzSKT"}),o?ge.createElement("div",{className:"nOY_rRWD"},ge.createElement(Lp,{play:n,size:e.wg4,className:"B_mbvdNt",nonInteractive:!0,noLoop:!1,tgsUrl:rp[g].iconClockBlue,previewUrl:rp[g].preview.iconClockBlue}),ge.createElement("div",null,u("You will receive your unfrozen coins in a few minutes."))):ge.createElement(ge.Fragment,null,ge.createElement(ZE,{labelText:u("Ready to Unfreeze"),zeroValue:"...",value:f,decimals:e.Vxu,suffix:"MY",className:yk,inputClassName:"laFaO54G",labelClassName:bk,valueClassName:"Da5SKOto"}),!a&&ge.createElement("div",{className:"TDJhFbKs"},ge.createElement(Rs,{className:"q0MWzlSV",isPrimary:!0,isDisabled:h,onClick:h?void 0:v},u("Unfreeze"))))),ge.createElement("div",{className:"qVDajNe7"},ge.createElement("div",{className:"mwrjA2Wq"},u("Vesting Schedule")),ge.createElement("div",{className:kr("Gvf3taGj","custom-scroll")},null==r?void 0:r.map((function(e){return ge.createElement("div",{key:e.id,className:"N60lIj1U"},ge.createElement("div",{className:"aLa4cQLd"},ge.createElement("div",{className:"RlCMRY3O"},e.title),ge.createElement("div",{className:"A2xAIJdW"},u("%volume% in %amount% parts",{volume:ge.createElement("b",null,nr(e.initialAmount,i.symbol,i.decimals)),amount:e.parts.length.toString()}))),e.parts.map((e=>{const t="frozen"===e.status?"icon-snow":"missed"===e.status?"icon-missed":"unfrozen"===e.status?"icon-check":"icon-fire",n="frozen"===e.status?"Frozen":"missed"===e.status?"Missed":"unfrozen"===e.status?"Unfrozen":"Ready to Unfreeze",r=!a&&!o&&"ready"===e.status,s="frozen"===e.status?e.time:"ready"===e.status?e.timeEnd:void 0;return ge.createElement("div",{key:e.id,role:r?"button":void 0,className:kr("tbB7hrjM",e.status,r&&"Fi06J8yl"),onClick:r?v:void 0},ge.createElement("i",{className:kr("Bc1llfyb",t,e.status),"aria-hidden":!0}),ge.createElement("div",{className:"SkSkSLJA"},u(n),Boolean(s)&&ge.createElement("div",{className:"F8H8tP5h"},u("until %date%",{date:ge.createElement(ge.Fragment,null,ge.createElement("span",{className:"_7RDFG6sc"},(0,Ba.TK)(u.code,s)),","," ",(0,Ba.fU)(s))}))),ge.createElement("div",{className:kr("oTZtwcWo",e.status)},nr(e.amount,i.symbol,i.decimals)))})))}))))))}))),kk=fe(je((e=>{const{addressByChain:t}=it(e,e.currentAccountId)||{},n=st(e),a=mt(e),{isConfirmRequested:o,info:r,isLoading:i,error:s,unfreezeState:c}=(null==n?void 0:n.vesting)||{};return{isOpen:o,vesting:r,tokens:Ft(e),isLoading:i,error:s,address:null==t?void 0:t.ton,state:c,mycoin:Vt(e),isHardwareAccount:a,isMultichainAccount:kt(e,e.currentAccountId)}}))((function(t){let{isOpen:n,vesting:a,tokens:o,isLoading:r,address:i,error:s,mycoin:c,state:l=Mn.Password,isHardwareAccount:d,isMultichainAccount:u}=t;const{submitClaimingVesting:m,submitClaimingVestingHardware:p,cancelClaimingVesting:f,clearVestingError:h}=Ke(),g=Er(),{amount:v}=de((()=>null==o?void 0:o.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[o])||{},w=(0,Lt.CF)(e.aEZ),y=!v||v<e.aEZ,{renderingKey:b,nextKey:E,updateNextKey:k}=Kg(l,Boolean(n)),C=!d&&!Yc(),N=de((()=>a?wk(a,["ready"]):"0"),[a]),S=Po((e=>{y||m({password:e})})),A=Po((()=>{y||p()}));if(c)return ge.createElement(Ys,{isOpen:n,title:C?g("Confirm Unfreezing"):void 0,hasCloseButton:C,forceFullNative:!0,nativeBottomSheetKey:"vesting-confirm",contentClassName:"TSf_GkYf",onClose:f},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:b,nextKey:E,onStop:k},T));function T(t,a,o){switch(o){case Mn.ConnectHardware:return ge.createElement(pv,{isActive:t,onConnected:A,onClose:f});case Mn.ConfirmHardware:return ge.createElement(ev,{text:g("Please confirm transaction on your Ledger"),error:s,onClose:f,onTryAgain:A});case Mn.Password:return ge.createElement(ff,{isActive:Boolean(n),isLoading:r,withCloseButton:!0,operationType:"unfreeze",error:y?g("Insufficient Balance for Fee"):s,submitLabel:g("Confirm"),onSubmit:S,onCancel:f,onUpdate:h},function(){const t=kr("V5IIeyTC",!Yc()&&"ZROURKjf");return ge.createElement(ge.Fragment,null,ge.createElement(kb,{tokenIn:c,withChainIcon:u,text:nr(N,c.symbol,c.decimals),className:Yc()?void 0:"pu3vP7ZP",secondText:i&&(0,qt.W)(i)}),ge.createElement("div",{className:t},Qo(g("$fee_value_bold",{fee:nr(w,e.Tu9.symbol)}))))}())}}}))),Ck=[{name:"Multisend",fontIcon:"menu-multisend",value:"multisend"}];function Nk(t){"multisend"===t&&(Zc(),ec(e.JDR,{title:yr("Multisend"),subtitle:Ho(e.JDR)}))}const Sk="Ehn5yB9o",Ak="ZXtTwJ2M",Tk="wvOK88A2",Ik="ow57IO0l";function Bk(){return Bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bk.apply(null,arguments)}const _k=fe((function(e){let{isOpen:t,onClose:n,title:a,...o}=e;const r=Er();return ge.createElement(Ys,{isOpen:t,onClose:n,isCompact:!0,title:a??r("Blockchain Fee Details"),contentClassName:"ejEBAbV8"},ge.createElement(xk,Bk({onClose:n},o)))}));function xk(e){let{onClose:t,fullFee:n,realFee:a,realFeePrecision:o="exact",excessFee:r,excessFeePrecision:i="exact",token:s,extraContent:c}=e;const l=s&&Gn(s.slug),d=l&&Vn(l).nativeToken,u=Er();return ge.createElement(ge.Fragment,null,ge.createElement("div",null,ge.createElement("div",{className:"SpaIcYmy"},ge.createElement("div",{className:kr(Sk,Ak)},u("Final Fee")),ge.createElement("div",{className:kr(Sk,Tk)},u("Excess"))),ge.createElement("div",{className:"f8dLAhsP"},ge.createElement("div",{className:kr(Ik,Ak)},a&&s&&ge.createElement(Ty,{terms:a,precision:o,token:s,shouldPreferIcons:!0})),ge.createElement("div",{className:kr(Ik,Tk)},void 0!==r&&s&&ge.createElement(Ty,{terms:{native:r},precision:i,token:s,shouldPreferIcons:!0})))),ge.createElement("div",{className:"Tbn84o8Q"},ge.createElement("div",null,Qo(u("$fee_details",{full_fee:n&&s&&ge.createElement("b",null,ge.createElement(Ty,{terms:n,precision:"exact",token:s})),excess_symbol:ge.createElement("b",null,null==d?void 0:d.symbol),chain_name:null==l?void 0:l.toUpperCase()}))),c),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{isPrimary:!0,className:Ws.button,onClick:t},u("Got It"))))}const Dk={modalDialog:"tGUq61Uw",scrollContent:"m5XAGki9",amountInput:"SZC58ifv",amountInputBuy:"uBBR78Gi",inputLabel:"EeV5B584",amountInputInner:"L752Cv1F",advancedSlippageContainer:"jiH3u0SA",content:"dQUuISOK",inputContainer:"IkAedzyb",advancedSlippageButton:"nnFruaI2",swapButtonWrapper:"eEwTqlEP",swapButtonWrapperStatic:"z1UgQ2yi",swapButton:"hrHymNJu",footerBlock:"yPmfwG9j",footerBlockStatic:"Edk19FlP",dot:"ru4rAllW",advancedBlock:"dx6Hf2xp",advancedRow:"QPeOMoOM",advancedDescription:"YzXjxATB",advancedTooltip:"QdMU2Tgb",advancedTooltipContainer:"VGq4FFXS",advancedValue:"JTLP1WRv",advancedSlippageError:"NW_aag3U",advancedSlippage:"K4rGLITC",advancedInput:"uWjxL_tL",advancedInputValue:"Y_KEhiFS",isEmpty:"lP4fP0kG",advancedError:"X2kTDRkO",advancedLink:"NlT_I8kT",advancedLinkIcon:"A0XDmIY2",advancedPlaceholder:"vvtzW7L0",footerButtonWrapper:"_5_NPQXE0",footerButton:"qzfAPYMD",footerButtonInner:"Ns4lxltP",swapArrowIcon:"Vzdj7mTH",changellyInfo:"gCMqbJwS",priceImpact:"nwwHhwFa",feeLine:"vz3aF88G",priceImpactSticker:"YaZn9OUh",priceImpactContent:"UUOZvXZT",priceImpactTitle:"sbyrAyQC",priceImpactArrow:"cEk2aQ7Z",priceImpactDescription:"olGNOU3k",swapCornerTop:"csDd7Ni1",swapCornerBottom:"xyxUxtsY",swapCornerStaticTop:"B7ECmlJ1",swapCornerStaticBottom:"WuHn_HeC",selectBlockchainBlock:"prVCHnG1",inputAddressWrapper:"DTAq0std",inputAddress:"b7EwDSEo",blockchainHintWrapper:"ywkeppF2",changellyDescription:"V7p8St7r",blockchainHintText:"CBP3_LjF",blockchainHintTextError:"t2EtyAQD",inputButton:"IpN3STYq",inputButtonShifted:"xDE5m07O",changellyInfoStatic:"EvrCvWOD",priceImpactStatic:"eoiWwJ0m",changellyInfoTitle:"fwJQ9lpO",changellyInfoDescription:"Y38OidS3",changellyIcon:"ieB34P8k",changellyInfoBlock:"aQOSkXKG",blockchainButtons:"pQ9YM0ta",changellyTextField:"cTKYWTLL",textFieldWrapperFullWidth:"VR4c3lOH",changellyImportantRed:"M_DwJtlB",arrowContainer:"abK4XtWe",arrowContainerInverted:"OSP7z62u",arrow:"ZktBDvds",arrowNew:"Z8CqJe5c",arrowOld:"G_2MIwOh",animateDisappear:"PpIbnc8v","arrow-disappear":"VKHzIRP6",arrowDisappear:"VKHzIRP6",animateAppear:"STVPF9rF","arrow-appear":"igBksUDT",arrowAppear:"igBksUDT",transactionBanner:"T1jLnRBM",changellyDescriptionBold:"Vbj5MEAN",qrCode:"MuLyFrfU",qrCodeHidden:"Fn7oQpnQ",textFieldLabel:"ak6Vmppj"},Lk=250+e.xB5,Ok=fe((function(e){let{tokenIn:t,tokenOut:n,amountIn:a,amountOut:o,swapType:r,isEstimating:i,isSending:s,isNotEnoughNative:c,nativeToken:l,dieselStatus:d,isPriceImpactError:u,canSubmit:m,errorType:p,limits:f}=e;const h=Er(),g=void 0!==p,v=s&&r===Dn.CrosschainToWallet,w=!m||v,y=i||v,b={[xn.UnexpectedError]:h("Unexpected Error"),[xn.InvalidPair]:h("Invalid Pair"),[xn.NotEnoughLiquidity]:h("Insufficient liquidity"),[xn.ChangellyMinSwap]:h("Minimum amount",{value:or((null==f?void 0:f.fromMin)??"0",(null==t?void 0:t.symbol)??"",null==t?void 0:t.decimals)}),[xn.ChangellyMaxSwap]:h("Maximum amount",{value:or((null==f?void 0:f.fromMax)??"0",(null==t?void 0:t.symbol)??"",null==t?void 0:t.decimals)}),[xn.NotEnoughForFee]:h("Not Enough %symbol%",{symbol:null==t?void 0:t.symbol}),[xn.TooSmallAmount]:h("$swap_too_small_amount")},E=Boolean(a||o);let k="$swap_from_to";E&&(g?k=b[p]:l&&(c&&"ton"===(null==t?void 0:t.chain)&&null!=t&&t.tokenAddress?"not-available"===d?k=h("Not Enough %symbol%",{symbol:"TON"}):"pending-previous"===d?k=h("Awaiting Previous Fee"):"not-authorized"===d&&(k=h("Authorize %token% Fee",{token:null==t?void 0:t.symbol})):c&&(k=h("Not Enough %symbol%",{symbol:null==l?void 0:l.symbol}))));const C=Array.isArray(k)?k.join(""):k,N=E&&!i&&(u||g||l&&c&&(!d||"not-available"===d||"pending-previous"===d)),S=me(0),A=function(e,t){const n=function(e,t,n){return $u((t=>{t(e())}),t,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}((()=>e()),[e],t,arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return Bs(n,[n,e],!0)}(Bs((()=>{const e="$swap_from_to"===C?h("$swap_from_to",{from:null==t?void 0:t.symbol,icon:ge.createElement("i",{className:kr("icon-chevron-right",Dk.swapArrowIcon),"aria-hidden":!0}),to:null==n?void 0:n.symbol}):C;return ge.createElement(of,{name:"semiFade",className:Dk.footerButtonWrapper,activeKey:S.current++},ge.createElement(Rs,{isPrimary:!0,isSubmit:!0,className:Dk.footerButton,isDisabled:w,isLoading:y,isDestructive:N},ge.createElement("span",{className:Dk.footerButtonInner},e)))}),[N,w,y,h,C,null==t?void 0:t.symbol,null==n?void 0:n.symbol]),Lk);return _s(A)})),Pk="mdHmid9q",Mk="y7MeqLtP",Fk="VF77TUMq",Rk="sRFnXBUF",Uk="e9qAwzfb",Wk=i.p+"dedust.76618cc56dfd6341f305.png",Hk=i.p+"stonfi.bf33a92c06cc67840d20.png",$k=/^\d{5,}([.,]|$)/,Vk=fe(je((e=>({currentSwap:e.currentSwap})))((function(t){let{tokenIn:n,tokenOut:a,isStatic:o,currentSwap:{amountOut:r,amountIn:i,estimates:s,currentDexLabel:c,bestRateDexLabel:l,inputSource:d,ourFeePercent:u=e.YDh}}=t;const{setSwapDex:m}=Ke(),p=Er(),[f,h,g]=Ru(!1),[v,w]=ie(c),y=hh(null!=s&&s.length?s:void 0,!0),b=hh(c,!0),E=hh(l,!0),k=Boolean(l&&l===v),C=k?p("Use Best Rate"):p("Switch to %dex_name%",{dex_name:v?e.S7e[v]:""}),{shouldRender:N,ref:S}=Ls({isOpen:!!(null!=s&&s.length&&a&&r&&i),withShouldRender:!0}),A=Po((()=>{v&&m({dexLabel:v}),g()})),{shouldRender:T,value:I}=de((()=>function(e){let{ourFeePercent:t,decimals:n,bestRateDexLabel:a,estimates:o,inputSource:r}=e;if(!o||o.length<2)return{shouldRender:!1,value:"0"};const i=o.find((e=>{let{dexLabel:t}=e;return t===a})),s=o.find((e=>{let{dexLabel:t}=e;return t!==a}));if(!s||!i)return{shouldRender:!1,value:"0"};const c=r===_n.In,l=c?"toAmount":"fromAmount",d=Number(i[l])/100*t,u=((0,Lt.UH)(i[l],n)-(0,Lt.UH)(s[l],n))*(c?1n:-1n);return{shouldRender:u-(0,Lt.UH)(d,n)>0n,value:(0,Lt.nI)(u,n)}}({ourFeePercent:u,decimals:d===_n.In?null==a?void 0:a.decimals:null==n?void 0:n.decimals,estimates:s,inputSource:d,bestRateDexLabel:E})),[E,s,d,u,null==n?void 0:n.decimals,null==a?void 0:a.decimals]),B=de((()=>{if(null!=y&&y.length&&!(y.length<2))return y.reduce(((t,o)=>{const{fromAmount:r,toAmount:i,dexLabel:s}=o,c=d===_n.In?i:r,l=d===_n.In?a:n;if($k.test(c)){const n=function(t,n){const a=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Tu9.decimals;const a=JE(n);return t.match(a)||void 0}(t,e.Vxu);if(!a)return;const[,o,r,i]=a,s=i||r?`.${(i||"").substring(0,e.Vxu)}`:"",c=o.replace(/\d(?=(\d{3})+($))/g,`$&${e.MS3}`);return ge.createElement(ge.Fragment,null,c,ge.createElement("span",{className:"jQ6cgMjD"},s," ",n.symbol))}(c,l);n&&(t[s]=n)}else t[s]=nr(c,l.symbol);return t}),{})}),[d,y,n,a]);if(!N||null==y||!y.length)return;const _=ge.createElement(ge.Fragment,null,E===b&&y.length>1&&ge.createElement("span",{className:"Er8PXP6e"},ge.createElement("span",{className:"IIv2eCYK"},p("Best Rate"))),p("via %dex_name%",{dex_name:ge.createElement("strong",null,e.S7e[b])}),y.length>1&&ge.createElement("i",{className:kr("icon-chevron-right","jDHaQfBV"),"aria-hidden":!0}));return 1===y.length?ge.createElement("div",{ref:S,className:Pk},ge.createElement("div",{className:Mk},ge.createElement("span",{className:kr("M5luQatq",o&&Fk)},_))):ge.createElement("div",{ref:S,className:Pk},ge.createElement("div",{className:Mk},ge.createElement("button",{type:"button",className:kr("bmtS8v9y",o&&Fk),onClick:function(){f?g():(w(c),h())}},_),ge.createElement(Ys,{isOpen:f,isCompact:!0,title:p("Built-in DEX Aggregator"),onClose:g},ge.createElement("div",{className:"NlzL4Voz"},y.map((t=>function(t){const o=cw(t.fromAmount,t.toAmount,n,a);return ge.createElement("div",{key:t.dexLabel,tabIndex:0,role:"button",className:kr("lL1VFeQA",E===t.dexLabel&&"AC6eCyuu",v===t.dexLabel&&"_F70O58C"),onClick:()=>{w(t.dexLabel)}},ge.createElement("div",{className:"YT_HY2ps"},ge.createElement("img",{src:"dedust"===t.dexLabel?Wk:Hk,alt:e.S7e[t.dexLabel],className:"V0Td82aA"}),e.S7e[t.dexLabel]),ge.createElement("div",{className:"J5iGiLKz"},null==B?void 0:B[t.dexLabel]),ge.createElement("div",{className:"JAHr4SCc"},o?ge.createElement(ge.Fragment,null,o.firstCurrencySymbol," ≈ ",o.price," ",o.secondCurrencySymbol):void 0),t.dexLabel===E&&ge.createElement("span",{className:"gq26TBf_"},p("Best")))}(t)))),ge.createElement("p",{className:kr(Rk,!k&&Uk)},Qo(p("$swap_dex_chooser_rate_title"))),T&&(d===_n.Out?ge.createElement("p",{className:kr(Rk,!k&&Uk)},Qo(p("You will spend %amount% **less**.",{amount:ge.createElement("strong",null,nr(I,n.symbol))}))):ge.createElement("p",{className:kr(Rk,!k&&Uk)},Qo(p("You will receive %amount% **more**.",{amount:ge.createElement("strong",null,nr(I,a.symbol))})))),ge.createElement("div",{className:kr(Ws.buttons,"IfkI_jwY")},ge.createElement(of,{activeKey:k?0:1,name:"semiFade",slideClassName:"i8eq5QM3"},ge.createElement(Rs,{isPrimary:!0,className:kr(Ws.buttonFullWidth,k&&"MevYjouy"),onClick:A},C))))))})));function zk(){return zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zk.apply(null,arguments)}const Kk=[.5,1,2,5,10],qk=fe(je((e=>{var t;const{tokenInSlug:n,amountIn:a,amountOut:o,networkFee:r,realNetworkFee:i,slippage:s,priceImpact:c,amountOutMin:l,ourFee:d,ourFeePercent:u,dieselStatus:m,dieselFee:p}=e.currentSwap,f=n?null===(t=zn(Gn(n)))||void 0===t?void 0:t.nativeToken:void 0,h=f?Rt(e,f.slug):void 0;return{amountIn:a,amountOut:o,networkFee:r,realNetworkFee:i,swapType:ra(e),tokenIn:aa(e),tokenOut:oa(e),slippage:s,priceImpact:c,amountOutMin:l,ourFee:d,ourFeePercent:u,dieselStatus:m,dieselFee:p,nativeTokenInBalance:h}}))((function(t){let{onClose:n,amountIn:a,amountOut:o,swapType:r,tokenIn:i,tokenOut:s,slippage:c,priceImpact:l,networkFee:d,realNetworkFee:u,amountOutMin:m,ourFee:p,ourFeePercent:f=e.YDh,dieselStatus:h,dieselFee:g,nativeTokenInBalance:v,showFullNetworkFee:w,onNetworkFeeClick:y}=t;const{setSlippage:b}=Ke(),E=Er(),k=r===Dn.OnChain,[C,N]=ie(c),S=(l??0)>=5,A=void 0===C?"Slippage not specified":C>50?"Slippage too high":"",T=Po((()=>{b({slippage:C}),n()})),I=Po((e=>{const t=e?Number(e):void 0;N(t)})),B=de((()=>eu({swapType:r,tokenInSlug:null==i?void 0:i.slug,networkFee:d,realNetworkFee:u,ourFee:p,dieselStatus:h,dieselFee:g,nativeTokenInBalance:v})),[r,i,d,u,p,h,g,v]);return ge.createElement(ge.Fragment,null,k&&ge.createElement("div",{className:Dk.advancedInput},function(){const e=Kk.map(((e,t)=>ge.createElement("div",{key:e,className:Dk.advancedSlippageButton},ge.createElement("div",{role:"button",tabIndex:0,onClick:()=>N(e),className:Dk.balanceLink},e,"%"),t+1!==Kk.length&&ge.createElement("i",{className:Dk.dot,"aria-hidden":!0}))));return ge.createElement("div",{className:Dk.advancedSlippageContainer},ge.createElement("span",{className:Dk.advancedSlippage},e))}(),ge.createElement(fE,{labelText:ge.createElement(ge.Fragment,null,E("Slippage"),ge.createElement(Gk,{isError:Boolean(A)},ge.createElement("span",null,E("$swap_slippage_tooltip1")),ge.createElement("span",null,E("$swap_slippage_tooltip2")))),labelClassName:Dk.slippageLabel,value:null==C?void 0:C.toString(),hasError:Boolean(A),decimals:2,suffix:"%",size:"normal",onChange:I}),ge.createElement("div",{className:Dk.advancedSlippageError},ge.createElement("span",null,E(A)))),ge.createElement("div",{className:Dk.advancedBlock},function(){const e=cw(a,o,i,s,!0);return ge.createElement("div",{className:Dk.advancedRow},ge.createElement("span",{className:Dk.advancedDescription},E("Exchange Rate")),ge.createElement("span",{className:Dk.advancedValue},e?`${e.firstCurrencySymbol} ≈ ${e.price} ${e.secondCurrencySymbol}`:ge.createElement(Yk,null)))}(),function(){const e=w?B.fullFee:B.realFee;let t=e&&i&&ge.createElement(Ty,{terms:e.networkTerms,precision:e.precision,token:i});return t&&y&&(t=ge.createElement("span",{role:"button",tabIndex:0,className:Dk.advancedLink,onClick:()=>y()},ge.createElement("span",null,t),ge.createElement("i",{className:kr("icon-chevron-right",Dk.advancedLinkIcon),"aria-hidden":!0}))),ge.createElement("div",{className:Dk.advancedRow},ge.createElement("span",{className:Dk.advancedDescription},E("Blockchain Fee")),ge.createElement("span",{className:Dk.advancedValue},t||ge.createElement(Yk,null)))}(),B.shouldShowOurFee&&ge.createElement("div",{className:Dk.advancedRow},ge.createElement("span",{className:Dk.advancedDescription},E("Aggregator Fee"),ge.createElement(Gk,null,ge.createElement("span",null,Qo(E("$swap_aggregator_fee_tooltip",{percent:`${f}%`}))))),ge.createElement("span",{className:Dk.advancedValue},void 0!==p?nr(p,(null==i?void 0:i.symbol)??"",void 0,!0):ge.createElement(Yk,null))),r===Dn.OnChain&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Dk.advancedRow},ge.createElement("span",{className:kr(Dk.advancedDescription,S&&Dk.advancedError)},E("Price Impact"),ge.createElement(Gk,{isError:Boolean(S)},ge.createElement("span",null,E("$swap_price_impact_tooltip1")),ge.createElement("span",null,E("$swap_price_impact_tooltip2")))),ge.createElement("span",{className:kr(Dk.advancedValue,S&&Dk.advancedError)},void 0!==l?`${l}%`:ge.createElement(Yk,null))),ge.createElement("div",{className:Dk.advancedRow},ge.createElement("span",{className:Dk.advancedDescription},E("Minimum Received"),ge.createElement(Gk,null,ge.createElement("span",null,E("$swap_minimum_received_tooltip1")),ge.createElement("span",null,E("$swap_minimum_received_tooltip2")))),ge.createElement("span",{className:Dk.advancedValue},void 0!==m&&s?nr(m,s.symbol):ge.createElement(Yk,null))))),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{className:Ws.button,onClick:n},E("Close")),k&&ge.createElement(Rs,{isPrimary:!0,isDisabled:Boolean(A),className:Ws.button,onClick:T},E("Save"))))})));function jk(e){let{isOpen:t,onClose:n,...a}=e;const o=Er();return ge.createElement(Ys,{isOpen:t,onClose:n,isCompact:!0,title:o("Swap Details")},ge.createElement(qk,zk({onClose:n},a)))}function Yk(){const e=Er();return ge.createElement("span",{className:Dk.advancedPlaceholder},e("No Data"))}function Gk(e){let{children:t,isError:n}=e;return ge.createElement(ge.Fragment,null," ",ge.createElement(wv,{message:t,size:"small",iconClassName:kr(Dk.advancedTooltip,n&&Dk.advancedError),tooltipClassName:Dk.advancedTooltipContainer}))}const Qk=fe(je((e=>{var t;const n=rt(e);return{currentSwap:e.currentSwap,tokens:na(e),addressByChain:null==n?void 0:n.addressByChain,isMultichainAccount:kt(e,e.currentAccountId),swapType:ra(e),isSensitiveDataHidden:e.settings.isSensitiveDataHidden,pairsBySlug:null===(t=e.swapPairs)||void 0===t?void 0:t.bySlug}}),((e,t,n)=>n(e.currentAccountId)))((function(t){var n,a,o,r,i,s;let{currentSwap:{tokenInSlug:c,tokenOutSlug:l,amountIn:d,amountOut:u,errorType:m,isEstimating:p,networkFee:f,realNetworkFee:h,priceImpact:g=0,inputSource:v,limits:w,isLoading:y,dieselStatus:b,ourFee:E,ourFeePercent:k,dieselFee:C},addressByChain:N,tokens:S,isActive:A,isStatic:T,isMultichainAccount:I,swapType:B,isSensitiveDataHidden:_,pairsBySlug:x}=t;const{setDefaultSwapParams:D,setSwapAmountIn:L,setSwapAmountOut:O,switchSwapTokens:P,estimateSwap:M,setSwapScreen:F,setSwapCexAddress:R,authorizeDiesel:U,showNotification:W}=Ke(),H=Er(),$=me(),V=me(),z=c??e.Tu9.slug,K=l??e.rKC,q=de((()=>null==S?void 0:S.find((e=>e.slug===z))),[z,S]),j=de((()=>null==S?void 0:S.find((e=>e.slug===K))),[K,S]),Y=I||"ton"===(null==q?void 0:q.chain)?null===(n=zn(null==q?void 0:q.chain))||void 0===n?void 0:n.nativeToken.slug:void 0,G=de((()=>null==S?void 0:S.find((e=>e.slug===Y))),[Y,S]),Q=(null==G?void 0:G.amount)??0n,X=d&&q?(0,Lt.UH)(d,q.decimals):void 0,J=u&&j?(0,Lt.UH)(u,j.decimals):void 0,Z=(null==q?void 0:q.amount)??0n,ee=de((()=>eu({swapType:B,tokenInSlug:c,networkFee:f,realNetworkFee:h,ourFee:E,dieselStatus:b,dieselFee:C,nativeTokenInBalance:Q})),[B,c,f,h,E,b,C,Q]),te=tu({swapType:B,tokenInBalance:Z,tokenIn:q,fullNetworkFee:null===(a=ee.fullFee)||void 0===a?void 0:a.networkTerms,ourFeePercent:k}),ne=function(e){var t;const{swapType:n,amountIn:a,tokenInBalance:o,nativeTokenInBalance:r,tokenIn:i,fullNetworkFee:s}=e;if(n===Dn.CrosschainToWallet)return!0;if(void 0===a||!i||void 0===o||void 0===r||!s)return;const c=null===(t=zn(Gn(i.slug)))||void 0===t?void 0:t.nativeToken;if(!c)return;const l=tu(e);if(void 0===l)return;const d=(0,Lt.UH)(a,i.decimals),u=(0,Lt.UH)(s.native??"0",c.decimals);return d<=l&&u<=r}({swapType:B,tokenInBalance:Z,tokenIn:q,fullNetworkFee:null===(o=ee.fullFee)||void 0===o?void 0:o.networkTerms,ourFeePercent:k,amountIn:d,nativeTokenInBalance:Q}),ae=void 0!==f&&G?(0,Lt.UH)(f,G.decimals):0n,oe=Q>=ae,re=ee.isGasless&&"not-authorized"===b,se=re||(X??0n)>0n&&(J??0n)>0n&&ne&&(!ee.isGasless||"available"===b||"stars-fee"===b)&&!p&&void 0===m,le=void 0!==X&&void 0!==te&&X>te,ue=(X??0n)<=0n&&v===_n.In?"":null==u?void 0:u.toString(),pe=!1===ne&&!(void 0!==Z&&void 0!==X&&X>Z)&&"not-authorized"!==b&&"pending-previous"!==b,fe=g>=5,he=B===Dn.CrosschainFromWallet||B===Dn.CrosschainToWallet,[ve,we]=function(e,t,n,a,o,r){var i;const s=e||(null==t||null===(i=t[n])||void 0===i||null===(i=i[a])||void 0===i?void 0:i.isReverseProhibited);return[s,de((()=>s?()=>{Zc(),o({message:r("$swap_reverse_prohibited")})}:void 0),[s,r,o])]}(he,x,z,K,W,H),ye=Po((()=>{(A&&!wl()||p)&&M()})),be=Vu(L,[L],500,!0),Ee=Vu(O,[O],500,!0),[ke,Ce,Ne,Se]=function(e){var t;const n="exact"!==(null===(t=e.realFee)||void 0===t?void 0:t.precision),[a,o]=ie();return[a,Po((()=>o("settings"))),de((()=>n?()=>o("feeDetails"):void 0),[n]),Po((()=>o(void 0)))]}(ee);ce((()=>{c||l||D()}),[c,l]),ce((()=>{p&&ye();const e=setInterval(ye,1e3);return()=>clearInterval(e)}),[p]);const Ae=Po((e=>{be({amount:e||void 0})})),Te=Po((()=>{F({state:Bn.SelectTokenFrom})})),Ie=Po((()=>{F({state:Bn.SelectTokenTo})})),Be=Po((e=>{Ee({amount:e||void 0})})),_e=Po((()=>{if(void 0===te)return;Zc();const e=(0,Lt.nI)(te,q.decimals);L({amount:e,isMaxAmount:!0})})),xe=Po((e=>{if(Co(e),se)if(re)U();else{if(Zc(),he)return R({toAddress:""}),void(B===Dn.CrosschainToWallet?F({state:Bn.Password}):I&&N[q.chain]&&N[j.chain]?(R({toAddress:N[j.chain]}),F({state:Bn.Password})):F({state:Bn.Blockchain}));F({state:Bn.Password})}})),De=Po((()=>{Zc(),P()}));return ge.createElement(ge.Fragment,null,ge.createElement("form",{className:T?void 0:Ws.transitionContent,onSubmit:xe},ge.createElement("div",{className:Dk.content},ge.createElement("div",{ref:$,className:Dk.inputContainer},ge.createElement(qE,{maxAmount:te,token:q,isSensitiveDataHidden:_,onAmountClick:_e}),ge.createElement(fE,{id:"swap-sell",labelText:H("You sell"),className:Dk.amountInput,hasError:le,value:null==d?void 0:d.toString(),isLoading:p&&v===_n.Out,onChange:Ae,onPressEnter:xe,decimals:null==q?void 0:q.decimals,labelClassName:Dk.inputLabel,inputClassName:Dk.amountInputInner,cornerClassName:kr(Dk.swapCornerTop,T&&Dk.swapCornerStaticTop),isStatic:T},ge.createElement(Jb,{token:q,onClick:Te}))),ge.createElement("div",{className:kr(Dk.swapButtonWrapper,T&&Dk.swapButtonWrapperStatic)},ge.createElement(Xk,{onClick:De})),ge.createElement("div",{ref:V,className:Dk.inputContainer},ge.createElement(fE,{id:"swap-buy",labelText:H("You buy"),className:Dk.amountInputBuy,value:ue,isLoading:p&&v===_n.In,disabled:ve,onChange:Be,onPressEnter:xe,onInputClick:we,decimals:null==j?void 0:j.decimals,labelClassName:Dk.inputLabel,inputClassName:Dk.amountInputInner,cornerClassName:kr(Dk.swapCornerBottom,T&&Dk.swapCornerStaticBottom),isStatic:T},ge.createElement(Jb,{token:j,onClick:Ie})))),ge.createElement(Vk,{tokenIn:q,tokenOut:j,isStatic:T}),ge.createElement("div",{className:kr(Dk.footerBlock,T&&Dk.footerBlockStatic)},function(){let e,t="exact";if(d&&u||(d||u)&&m){const n=pe?ee.fullFee:void 0;n&&({terms:e,precision:t}=n)}return ge.createElement(Iy,{isStatic:T,terms:e,token:q,precision:t,keepDetailsButtonWithoutFee:!0,onDetailsClick:Ce,className:Dk.feeLine})}(),function(){if(g&&fe&&!he)return ge.createElement("div",{className:kr(Dk.priceImpact,T&&Dk.priceImpactStatic),onClick:Ce},ge.createElement(Lp,{play:A,tgsUrl:rp.run,previewUrl:rp.runPreview,noLoop:!1,nonInteractive:!0,size:e.YO8,className:Dk.priceImpactSticker}),ge.createElement("div",{className:Dk.priceImpactContent},ge.createElement("span",{className:Dk.priceImpactTitle},H("The exchange rate is below market value!",{value:`${g}%`}),ge.createElement("i",{className:kr(Dk.priceImpactArrow,"icon-chevron-right"),"aria-hidden":!0})),ge.createElement("span",{className:Dk.priceImpactDescription},H("We do not recommend to perform an exchange, try to specify a lower amount."))))}(),function(){if(he)return ge.createElement("div",{className:kr(Dk.changellyInfo,T&&Dk.changellyInfoStatic)},ge.createElement("span",{className:Dk.changellyInfoTitle},ge.createElement("i",{className:kr("icon-changelly",Dk.changellyIcon),"aria-hidden":!0}),H("Cross-chain exchange provided by Changelly")),ge.createElement("span",{className:Dk.changellyInfoDescription},H("$swap_changelly_agreement_message",{terms:ge.createElement("a",{href:e.Kq_,target:"_blank",rel:"noreferrer"},H("$swap_changelly_terms_of_use")),policy:ge.createElement("a",{href:e.kuw,target:"_blank",rel:"noreferrer"},H("$swap_changelly_privacy_policy")),kyc:ge.createElement("a",{href:e.BZS,target:"_blank",rel:"noreferrer"},"Changelly AML/KYC")})))}(),ge.createElement(Ok,{tokenIn:q,tokenOut:j,amountIn:d,amountOut:u,swapType:B,isEstimating:p,isNotEnoughNative:!oe,nativeToken:G,dieselStatus:b,isSending:y,isPriceImpactError:fe,canSubmit:se,errorType:m,limits:w}))),ge.createElement(jk,{isOpen:"settings"===ke,onClose:Se,onNetworkFeeClick:Ne,showFullNetworkFee:pe}),ge.createElement(_k,{isOpen:"feeDetails"===ke,onClose:Se,fullFee:null===(r=ee.fullFee)||void 0===r?void 0:r.networkTerms,realFee:null===(i=ee.realFee)||void 0===i?void 0:i.networkTerms,realFeePrecision:null===(s=ee.realFee)||void 0===s?void 0:s.precision,excessFee:ee.excessFee,excessFeePrecision:"approximate",token:q}))})));function Xk(t){let{onClick:n}=t;const a=Ve().settings.animationLevel===e.zP3,[o,r,i]=Ru(!1),s=Po((()=>{a&&(r(),window.setTimeout((()=>{i()}),350)),null==n||n()}));function c(e){return ge.createElement("div",{className:kr(Dk.arrowContainer,e&&Dk.arrowContainerInverted)},ge.createElement("div",{className:Dk.arrow},ge.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})),ge.createElement("div",{className:kr(Dk.arrowOld,o&&Dk.animateDisappear)},ge.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})),ge.createElement("div",{className:kr(Dk.arrowNew,o&&Dk.animateAppear)},ge.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})))}return ge.createElement("div",{className:Dk.swapButton,onClick:s},c(),c(!0))}function Jk(e,t){const n=new TextDecoder("utf-8"),a=(new TextEncoder).encode(e).slice(0,t);return n.decode(a).replace(/\uFFFD/g,"")}const Zk=[{value:"raw",name:"Comment or Memo"},{value:"encrypted",name:"Encrypted Message"}],eC=fe((function(e){let{comment:t,shouldEncrypt:n,binPayload:a,stateInit:o,chain:r,isStatic:i,isCommentRequired:s,isEncryptedCommentSupported:c,onCommentChange:l}=e;const{setTransferShouldEncrypt:d}=Ke(),u=Er(),m=Po((e=>{d({shouldEncrypt:"encrypted"===e})})),p=de((()=>c?Zk:Zk.slice(0,1)),[c]);return a||o?ge.createElement(ge.Fragment,null,a&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Sb},u("Signing Data")),ge.createElement(wy,{text:a,copyNotification:u("Data was copied!"),className:Tb})),o&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Sb},u("Contract Initialization Data")),ge.createElement(wy,{text:o,copyNotification:u("Data was copied!"),className:Tb})),ge.createElement("div",{className:xb},Qo(u("$signature_warning")))):ge.createElement(Pp,{wrapperClassName:Bb,className:i?"RJsBtjCe":void 0,label:ge.createElement(av,{items:p,selectedValue:Zk[n?1:0].value,theme:"inherit",disabled:"tron"===r,menuPositionX:"left",shouldTranslateOptions:!0,onChange:m}),placeholder:u(s?"Required":"Optional"),value:t,isMultiline:!0,isDisabled:"tron"===r,onInput:l,isRequired:s})}));function tC(){return tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tC.apply(null,arguments)}const nC=new Set([Sn.Initial,Sn.None]),aC=Ba.Z2,oC=(0,l.sg)((e=>e()),500,!1),rC=fe(je((t=>{const{toAddress:n,resolvedAddress:a,toAddressName:o,amount:r,comment:i,shouldEncrypt:s,fee:c,realFee:l,tokenSlug:d,isLoading:u,state:m,nfts:p,binPayload:f,isMemoRequired:h,diesel:g,stateInit:v,shouldShowScamWarning:w}=t.currentTransfer,y=mt(t),b=st(t),{baseCurrency:E=e.wOb,isSensitiveDataHidden:k}=t.settings,C=nC.has(m);return{toAddress:n,resolvedAddress:a,toAddressName:o,amount:r,comment:i,shouldEncrypt:s,fee:c,realFee:l,nfts:p,tokenSlug:d,binPayload:f,stateInit:v,tokens:Ft(t),savedAddresses:null==b?void 0:b.savedAddresses,isEncryptedCommentSupported:!(y||null!=p&&p.length||h),isMemoRequired:h,isActive:C,isLoading:u&&C,baseCurrency:E,currentAccountId:t.currentAccountId,accounts:at(t),nativeTokenBalance:Rt(t,Yn(Gn(d)).slug),diesel:g,isDieselAuthorizationStarted:null==b?void 0:b.isDieselAuthorizationStarted,isMultichainAccount:kt(t,t.currentAccountId),isSensitiveDataHidden:k,shouldShowScamWarning:w}}),((e,t,n)=>n(e.currentAccountId)))((function(t){var n,a,o,r,i;let{isStatic:s,slideClassName:c,tokenSlug:l,toAddress:d="",resolvedAddress:u,toAddressName:m="",amount:p,comment:f="",shouldEncrypt:h,tokens:g,fee:v,realFee:w,savedAddresses:y,accounts:b,nativeTokenBalance:E,currentAccountId:k,isEncryptedCommentSupported:C,isMemoRequired:N,isActive:S,isLoading:A,baseCurrency:T,nfts:I,binPayload:B,stateInit:_,diesel:x,isDieselAuthorizationStarted:D,isMultichainAccount:L,isSensitiveDataHidden:O,shouldShowScamWarning:P}=t;const{submitTransferInitial:M,fetchTransferFee:F,fetchNftFee:R,changeTransferToken:U,setTransferAmount:W,setTransferToAddress:H,setTransferComment:$,setTransferShouldEncrypt:V,cancelTransfer:z,showDialog:K,authorizeDiesel:q,fetchTransferDieselState:j,checkTransferAddress:Y,dismissTransferScamWarning:G}=Ke(),Q=Boolean(null==I?void 0:I.length);Q&&(l=e.Tu9.slug,p=void 0);const X=Er(),J=de((()=>null==g?void 0:g.find((e=>e.slug===l))),[l,g]),{amount:Z,symbol:ee,chain:te}=J||{},ne=me(!1),ae=l===e.Tu9.slug,oe=te?ma(d,te):void 0,re="ton"===te,ie=KE(null!=I&&I.length?I:[l]),se=e.$lq[X.code]||e.$lq.en,le=Po(((e,t)=>{t&&(ne.current=!0),H({toAddress:e})})),pe=!(d||f||B||h||(Q?s:void 0!==p)),fe=de((()=>ca({fee:v,realFee:w,diesel:x,tokenSlug:l})),[v,w,x,l]),he=function(e){let{tokenBalance:t,nativeTokenBalance:n,transferAmount:a,fullFee:o,canTransferFullBalance:r}=e;if(void 0===a||void 0===t||void 0===n||!o)return;const i=a===t&&r,s=(o.token??0n)+(i?0n:a),c=o.native??0n;return s<=t&&c<=n}({tokenBalance:Z,nativeTokenBalance:E,transferAmount:Q?0n:p,fullFee:null===(n=fe.fullFee)||void 0===n?void 0:n.terms,canTransferFullBalance:fe.canTransferFullBalance}),ve=!Q&&!p,we=la({tokenBalance:Z,tokenSlug:l,fullFee:null===(a=fe.fullFee)||void 0===a?void 0:a.terms,canTransferFullBalance:fe.canTransferFullBalance}),ye="not-authorized"===(null==x?void 0:x.status),be=ye&&D?aC:void 0,Ee=Po((()=>{j({tokenSlug:l})}));Oh(Ee,be),ce((()=>{ae&&Z&&p&&v&&p<Z&&v<Z&&p+v>=Z&&W({amount:Z-v})}),[ae,p,Z,v]),ce((()=>{if(ve||!oe)return;const e=()=>{Q?R({toAddress:d,comment:f,nfts:I??[]}):F({tokenSlug:l,toAddress:d,comment:f,shouldEncrypt:h,binPayload:B,stateInit:_})};ne.current?(ne.current=!1,e()):oC(e)}),[ve,B,f,h,oe,Q,I,_,d,l]),ce((()=>{Qn(J)&&K({title:X("Warning!"),message:X("$service_token_transfer_warning"),noBackdropClose:!0})}),[X,J]);const ke=Po((e=>{U({tokenSlug:e})})),Ce=Po((()=>{s?z({shouldReset:!0}):(le(""),Y({address:""}),W({amount:void 0}),$({comment:void 0}),V({shouldEncrypt:!1}))})),Ne=Po((()=>{ne.current=!0})),Se=Po((e=>{$({comment:Jk(e,5e3)})})),Ae=!Q&&void 0!==Z&&void 0!==p&&p>Z,Te=!1===he&&!Ae&&"not-authorized"!==(null==x?void 0:x.status)&&"pending-previous"!==(null==x?void 0:x.status),Ie=!Q&&void 0!==p&&(void 0!==we&&p>we||Te),Be=Boolean(d)&&N,_e=ye||Boolean(oe&&!ve&&!Ie&&he&&!(Be&&!f)&&(!fe.isGasless||"available"===(null==x?void 0:x.status)||"stars-fee"===(null==x?void 0:x.status))&&!(Q&&(null==I||!I.length))),xe=Po((e=>{Co(e),ye?q():_e&&(Zc(),M({tokenSlug:l,amount:p??0n,toAddress:d,comment:f,binPayload:B,shouldEncrypt:h,nfts:I,withDiesel:fe.isGasless,isGaslessWithStars:"stars-fee"===(null==x?void 0:x.status),stateInit:_}))})),[De,Le,Oe]=function(e){var t;const n="exact"!==(null===(t=e.realFee)||void 0===t?void 0:t.precision),[a,o,r]=Ru(!1);return[a,n?o:void 0,r]}(fe),Pe=de((()=>(g??[]).filter((e=>function(e,t){return"lp_token"!==e.type||e.amount>0&&!e.isDisabled||e.slug===t}(e,l)))),[g,l]),Me=UE({amount:p,token:J,baseCurrency:T,onAmountChange:(e,t)=>{S&&(void 0!==e&&e<0||(t&&(ne.current=!0),W({amount:e})))},onTokenChange:ke}),Fe=ue((e=>{let t=0,n=" ";return p&&(Ae?(t=1,n=ge.createElement("span",{className:Ab},X("Insufficient balance"))):Te&&(t=2,n=ge.createElement("span",{className:Ab},X("Insufficient fee")))),ge.createElement(of,{className:e,name:"fade",activeKey:t},n)}),[p,Te,Ae,X]);return ge.createElement(ge.Fragment,null,ge.createElement("form",{className:s?void 0:Ws.transitionContent,onSubmit:xe,onPaste:Ne},ge.createElement(of,{activeKey:ie,name:"semiFade",direction:s&&!re?"inverse":void 0,shouldCleanup:!0,slideClassName:kr("TEJfM3gl",s&&"mfCYg0_s",c)},1===(null==I?void 0:I.length)&&ge.createElement(ly,{nft:I[0],isStatic:s,withMediaViewer:!0}),Boolean(null==I?void 0:I.length)&&I.length>1&&ge.createElement(Yb,{nfts:I,isStatic:s}),ge.createElement(Fb,{label:X("Recipient Address"),value:d,chain:te,addressBookChain:Q?"ton":void 0,currentAccountId:k,accounts:b,savedAddresses:y,validateAddress:Y,isStatic:s,withQrScan:!0,address:u||d,addressName:m,onInput:le,onClose:z}),!Q&&ge.createElement(XE,tC({},Me,{maxAmount:we,token:J,allTokens:Pe,isStatic:s,hasError:Ie,isMultichainAccount:L,isMaxAmountLoading:void 0===we,isSensitiveDataHidden:O,renderBottomRight:Fe,onPressEnter:xe})),re&&ge.createElement(eC,{comment:f,shouldEncrypt:h,binPayload:B,stateInit:_,chain:te,isStatic:s,isCommentRequired:Be,isEncryptedCommentSupported:C,onCommentChange:Se}),ge.createElement("div",{className:kr("yVExFE73",s&&"ton"!==te&&"NGWUkuR3")},function(){let e,t="exact";if(!ve){const n=Te?fe.fullFee:fe.realFee;n&&({terms:e,precision:t}=n)}return ge.createElement(Iy,{isStatic:s,terms:e,token:J,precision:t,onDetailsClick:Le})}(),ge.createElement("div",{className:"oMCN3Z8P"},ge.createElement(Rs,{isDisabled:pe||A,className:_b,onClick:Ce},X("Clear")),ge.createElement(Rs,{isPrimary:!0,isSubmit:!0,isDisabled:!_e,isLoading:A,className:_b},"not-authorized"===(null==x?void 0:x.status)?X("Authorize %token% Fee",{token:ee}):"pending-previous"===(null==x?void 0:x.status)?X("Awaiting Previous Fee"):X("$send_token_symbol",Q?"NFT":ee||"TON")))))),ge.createElement(_k,{isOpen:De,onClose:Oe,fullFee:null===(o=fe.fullFee)||void 0===o?void 0:o.terms,realFee:null===(r=fe.realFee)||void 0===r?void 0:r.terms,realFeePrecision:null===(i=fe.realFee)||void 0===i?void 0:i.precision,excessFee:fe.excessFee,excessFeePrecision:"approximate",token:J}),ge.createElement(Ys,{isOpen:P,isCompact:!0,title:X("Warning!"),noBackdropClose:!0,onClose:G},ge.createElement("div",null,X("$seed_phrase_scam_warning",{help_center_link:ge.createElement("a",{href:se,target:"_blank",rel:"noreferrer"},ge.createElement("b",null,X("$help_center_prepositional")))})),ge.createElement("div",{className:Ws.footerButtons},ge.createElement(Rs,{onClick:G},X("OK")))))}))),iC=e=>{let{elementRef:t,isMenuDisabled:a,shouldDisableOnLink:o,shouldDisableOnLongTap:r,shouldDisablePropagation:i}=e;const[s,c]=ie(!1),[l,d]=ie(void 0),[u,m]=ie(void 0),p=Po((e=>{a||2!==e.button||(0,k.RK)((()=>{Es(e.target,"no-selection")}))})),f=Po((e=>{(0,k.RK)((()=>{ks(e.target,"no-selection")})),a||o&&e.target.matches("a[href]")||(Co(e),l||(c(!0),d({x:e.clientX,y:e.clientY}),m(e.target),Zc()))})),h=Po((()=>{c(!1)})),g=Po((()=>{d(void 0)})),v=Po((e=>{s&&Co(e)}));return ce((()=>{if(a||!n.TF||r)return;const e=t.current;if(!e)return;let s;const u=()=>{s&&(clearTimeout(s),s=void 0)},m=e=>{u(),v(e)},p=e=>{a||(i&&e.stopPropagation(),u(),s=window.setTimeout((()=>(e=>{u();const{clientX:t,clientY:a,target:r}=e.touches[0];l||o&&r.matches("a[href]")||(document.addEventListener("touchend",(e=>{n.pz&&n._7&&setTimeout((()=>{document.removeEventListener("mousedown",Co,{capture:!0}),document.removeEventListener("click",Co,{capture:!0})}),100),Co(e)}),{once:!0,capture:!0}),n._7&&n.pz&&(document.addEventListener("mousedown",Co,{once:!0,capture:!0}),document.addEventListener("click",Co,{once:!0,capture:!0})),c(!0),d({x:t,y:a}),Zc())})(e)),200))};return e.addEventListener("touchstart",p,{passive:!0}),e.addEventListener("touchcancel",u,!0),e.addEventListener("touchend",u,!0),e.addEventListener("touchmove",m,!0),()=>{u(),e.removeEventListener("touchstart",p),e.removeEventListener("touchcancel",u,!0),e.removeEventListener("touchend",u,!0),e.removeEventListener("touchmove",m,!0)}}),[l,a,r,t,o,i]),{isContextMenuOpen:s,contextMenuAnchor:l,contextMenuTarget:u,handleBeforeContextMenu:p,handleContextMenu:f,handleContextMenuClose:h,handleContextMenuHide:g}};function sC(e){let{items:t,rootRef:n,onItemClick:a,children:o,menuClassName:r,menuPositionY:i="bottom"}=e;const s=me(),c=me(),{isPortrait:l}=ii(),d=Po((()=>s.current)),u=Po((()=>(null==n?void 0:n.current)??document.body)),m=Po((()=>c.current)),p=Po((()=>({withPortal:!0,doNotCoverTrigger:!0,centerHorizontally:!0}))),{isContextMenuOpen:f,contextMenuAnchor:h,handleBeforeContextMenu:g,handleContextMenu:v,handleContextMenuClose:w,handleContextMenuHide:y}=iC({elementRef:s,shouldDisablePropagation:!0}),b=Po((e=>{a(e)}));return ge.createElement(ge.Fragment,null,l&&ge.createElement(py,{isMenuOpen:f,contentRef:s,contentClassName:r}),o({ref:s,onMouseDown:g,onContextMenu:v},f),!!h&&ge.createElement(Ah,{ref:c,withPortal:!0,shouldTranslateOptions:!0,isOpen:f,items:t,menuPositionY:i,menuAnchor:h,bubbleClassName:r,getTriggerElement:d,getRootElement:u,getMenuElement:m,getLayout:p,onSelect:b,onClose:w,onCloseAnimationEnd:y}))}const cC={container:"oiB1R7GB",tabs:"Sue0UN3j",notAllTabs:"QLxHVfeT",tab:"qUqbpDN6",active:"PSKCyspY",tab_purple:"Hw7rCAOU",tabPurple:"Hw7rCAOU",tab_purpleText:"Y4BNELoX",tabPurpleText:"Y4BNELoX",tabDelimiter:"CLfyAuI6",withContextMenu:"xFC2ES5I",tabDecoration:"SSnDTAfy",tabIcon:"nIk_Y_3d",tabText:"IfCQ498V",contentHeader:"LzaI7YWC",firstActive:"G0Sd_POg",contentHeaderInner:"rWtZ588N",lastActive:"Y80L38VI",contentBg:"ibE61V3n",contentFooter:"WvrNEDxt",contentSlideStaked:"F0M6K6CS","tab-0":"NmGloXOI",tab0:"NmGloXOI","tab-1":"S7XD0emA",tab1:"S7XD0emA",slideContent:"bTsglo_e",transitionContent:"YJuoqMiV",slideContentAddBuy:"QO6jMpRA",spinner:"KCsGLTLM",menu:"Q6q8HQcu"};function lC(){return lC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lC.apply(null,arguments)}const dC=[Un.Receive,Un.Transfer,Un.Swap,Un.Stake],uC={inactive:"Earn",active:"Earning",unstakeRequested:"$unstaking_short",readyToClaim:"$unstaking_short"},mC=fe(je((e=>{var t;const n=ct(e,e.currentAccountId)??{},{isOnRampDisabled:a}=e.restrictions;return{activeTabIndex:null==n?void 0:n.landscapeActionsActiveTabIndex,isTestnet:e.settings.isTestnet,isSwapDisabled:ia(e),isStakingDisabled:Ea(e),isOnRampDisabled:a,accentColorIndex:null===(t=dt(e))||void 0===t?void 0:t.accentColorIndex}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{containerRef:a,stakingStatus:o,isLedger:r,theme:i,activeTabIndex:s=e.Dde,isTestnet:c,isSwapDisabled:l,isOnRampDisabled:d,isStakingDisabled:u,accentColorIndex:m}=t;const{setLandscapeActionsActiveTabIndex:p}=Ke(),f=Er(),h=s===Un.Stake&&"inactive"!==o,g=`transfer_slide_${ke()}`,{renderedBgHelpers:v,transitionRef:w}=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=me(),r=me(),i=me(),s=me(),c=Po((function(){var n,c;let l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const d=`.${e}.${nf}`,u=a?" .staking-info":"",m=`${d} .${t}.${af}, ${d} .${t}.${nf}`,p=`.${e}.${af}${u}, ${d}${u}`,f=((null===(n=o.current)||void 0===n?void 0:n.querySelector(m))||(null===(c=o.current)||void 0===c?void 0:c.querySelector(p))).getBoundingClientRect(),h=!s.current||l;s.current!==f.height&&r.current&&(0,k.RK)((()=>{if(!r.current||!i.current)return;const e=r.current.style,t=i.current.style;h&&(e.transition="none",t.transition="none"),e.transform=`scaleY(calc(${f.height} / 100))`,t.transform=`translateY(${Math.floor(f.height)}px)`,h&&(0,k.RK)((()=>{r.current&&i.current&&(r.current.style.transition="",i.current.style.transition="")})),s.current=f.height}))}));ce((()=>{c(!0);const e=new ResizeObserver((e=>{e.length&&c()}));return o.current&&e.observe(o.current),()=>{e.disconnect()}}),[c]);return{renderedBgHelpers:de((()=>ge.createElement(ge.Fragment,null,ge.createElement("div",{ref:r,className:kr(cC.contentBg,n)}),ge.createElement("div",{ref:i,className:kr(cC.contentFooter,n)}))),[n]),transitionRef:o}}(cC.slideContent,g,h?cC.contentSlideStaked:void 0,h),y=!c&&!d,b=l||u,E=u&&l&&s===Un.Transfer||u&&!l&&s===Un.Swap||!u&&s===Un.Stake,[C,N,S]=Ru(),[A,T,I]=Ru(),[B,_,x]=Ru(),[D,L,O]=Ru(),P=gf(i),M=rp[P],F=m?Wf[P][m]:void 0,R=me(0);function U(e){switch(s){case Un.Receive:return ge.createElement("div",{className:kr(cC.slideContent,cC.slideContentAddBuy)},ge.createElement(ME,{isOpen:e,isStatic:!0}));case Un.Transfer:return ge.createElement("div",{className:kr(cC.slideContent,cC.slideContentTransfer)},ge.createElement(rC,{isStatic:!0,slideClassName:g}));case Un.Swap:return ge.createElement("div",{className:cC.slideContent},ge.createElement(Qk,{isStatic:!0,isActive:e}));case Un.Stake:return ge.createElement("div",{className:cC.slideContent},ge.createElement("inactive"===o?rk:uk,{isStatic:!0,isActive:e}));default:return}}function W(e,t){n.TF&&t(),p({index:e},{forceOnHeavyAnimation:!0})}return Ee((()=>{R.current++}),[F]),ce((()=>{(l&&s===Un.Swap||u&&s===Un.Stake)&&p({index:Un.Transfer})}),[s,c,r,l,u]),ge.createElement("div",{className:cC.container},ge.createElement("div",{className:kr(cC.tabs,b&&cC.notAllTabs)},ge.createElement("div",{className:kr(cC.tab,s===Un.Receive&&cC.active),onMouseEnter:n.TF?void 0:N,onContextMenu:Co,onClick:()=>{W(Un.Receive,N)}},ge.createElement(Lp,{play:C,size:e.lk4,speed:2,className:cC.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:M.iconAdd,iconPreviewClass:"icon-action-add",onEnded:S}),ge.createElement("span",{className:cC.tabText},f(!l||y?"Add / Buy":"Add")),ge.createElement("span",{className:cC.tabDecoration,"aria-hidden":!0})),ge.createElement(sC,{items:Ck,rootRef:a,menuClassName:cC.menu,onItemClick:Nk},(t=>{let{ref:a,...o}=t;return ge.createElement("div",lC({},o,{ref:a,className:kr(cC.tab,s===Un.Transfer&&cC.active,cC.withContextMenu),onMouseEnter:n.TF?void 0:T,onClick:()=>{W(Un.Transfer,T)}}),ge.createElement(Lp,{play:A,size:e.lk4,speed:2,className:cC.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:M.iconSend,iconPreviewClass:"icon-action-send",onEnded:I}),ge.createElement("span",{className:cC.tabText},f("Send")),ge.createElement("span",{className:cC.tabDecoration,"aria-hidden":!0}),ge.createElement("span",{className:cC.tabDelimiter,"aria-hidden":!0}))})),!l&&ge.createElement("div",{className:kr(cC.tab,s===Un.Swap&&cC.active),onMouseEnter:n.TF?void 0:_,onContextMenu:Co,onClick:()=>{W(Un.Swap,_)}},ge.createElement(Lp,{play:B,size:e.lk4,speed:2,className:cC.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:M.iconSwap,iconPreviewClass:"icon-action-swap",onEnded:x}),ge.createElement("span",{className:cC.tabText},f("Swap")),ge.createElement("span",{className:cC.tabDecoration,"aria-hidden":!0}),ge.createElement("span",{className:cC.tabDelimiter,"aria-hidden":!0})),!u&&ge.createElement("div",{className:kr(cC.tab,s===Un.Stake&&cC.active,h&&cC.tab_purple,"inactive"!==o&&cC.tab_purpleText),onMouseEnter:n.TF?void 0:L,onContextMenu:Co,onClick:()=>{W(Un.Stake,L)}},ge.createElement(Lp,{play:D,size:e.lk4,speed:2,className:cC.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:M["inactive"!==o?"iconEarnPurple":"iconEarn"],iconPreviewClass:kr("icon-action-earn","inactive"!==o&&cC.tab_purpleText),onEnded:O}),ge.createElement("span",{className:cC.tabText},f(uC[o])),ge.createElement("span",{className:cC.tabDecoration,"aria-hidden":!0}),ge.createElement("span",{className:cC.tabDelimiter,"aria-hidden":!0}))),ge.createElement("div",{className:kr(cC.contentHeader,s===Un.Receive&&cC.firstActive,E&&cC.lastActive)},ge.createElement("div",{className:kr(cC.contentHeaderInner,h&&cC.contentSlideStaked)})),v,ge.createElement(of,{ref:w,name:"slideFade",activeKey:s,renderCount:dC.length,className:kr(cC.transitionContent,"static-container")},U))}))),pC="f9uDJdvE",fC="iQddp8Ac";function hC(){return hC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},hC.apply(null,arguments)}const gC=fe((function(t){let{isTestnet:n,stakingStatus:a,isStakingDisabled:o,isSwapDisabled:r,isOnRampDisabled:i,containerRef:s,onEarnClick:c}=t;const{startTransfer:l,startSwap:d,openReceiveModal:u}=Ke(),m=Er(),p=!n&&!i,f=e.TI6?"Receive":!r||p?"Add / Buy":"Add",h=Po((()=>{Zc(),d()})),g=Po((()=>{Zc(),l({isPortrait:!0})})),v=Po((()=>{Zc(),u()})),w=Po((()=>{Zc(),c()}));return ge.createElement("div",{className:"oAYeit4x"},ge.createElement("div",{className:"Xw7VtigI"},ge.createElement(Rs,{isSimple:!0,className:pC,onClick:v},ge.createElement("i",{className:kr(fC,"icon-action-add"),"aria-hidden":!0}),m(f)),ge.createElement(sC,{rootRef:s,items:Ck,menuClassName:"kJbEm897",onItemClick:Nk},((e,t)=>ge.createElement(Rs,hC({},e,{isSimple:!0,className:kr(pC,t&&"s05GLla1"),onClick:g,ref:e.ref}),ge.createElement("i",{className:kr(fC,"icon-action-send"),"aria-hidden":!0}),m("Send")))),!r&&ge.createElement(Rs,{isSimple:!0,className:pC,onClick:h},ge.createElement("i",{className:kr(fC,"icon-action-swap"),"aria-hidden":!0}),m("Swap")),!o&&ge.createElement(Rs,{isSimple:!0,className:kr(pC,"inactive"!==a&&"DSist0sY"),onClick:w},ge.createElement("i",{className:kr(fC,"icon-action-earn"),"aria-hidden":!0}),m(uC[a]))))}));function vC(e,t){return e=(0,Ot.z)(e),t=(0,Ot.z)(t),e.minus(e.div(t.plus(1)))}function wC(t,n){const a=(0,c.dU)(n??[],"tokenSlug"),o=t.reduce(((t,n)=>{if(e.Svl.has(n.slug))return t;const o=a[n.slug];if(o){const e=(0,Lt.CF)(jd(o),n.decimals);t=t.plus(e.mul(n.price))}return t.plus(n.totalValue)}),(0,Ot.z)(0)),[r,i]=tr(o).split("."),s=t.reduce(((e,t)=>e.plus(vC(t.totalValue,t.change24h))),(0,Ot.z)(0)).round(4).toNumber(),l=Ar(o?s/(o.toNumber()-s)*100:0,2),d=s>0?"up":s<0?"down":void 0;return{primaryValue:o.toString(),primaryWholePart:r,primaryFractionPart:i,changePrefix:d,changePercent:l,changeValue:s}}function yC(e){const[t,n]=ie(!1);return Oh((()=>{var t;const a=null===(t=st(Ve()))||void 0===t?void 0:t[e];if(!a)return void n(!1);const o=Date.now()-a;n(o>2e3)}),1e3,!1),t}const bC=fe((function(e){let{className:t,noAnimation:n}=e;const a=ke("transparentMask-");return ge.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",className:t},ge.createElement("mask",{id:a},ge.createElement("rect",{width:"32",height:"32",fill:"black"}),ge.createElement("circle",{cx:"16",cy:"16",r:"16",fill:"white"}),ge.createElement("path",{d:"M17.375 8.87438C17.375 8.11563 16.7594 7.5 16 7.5C15.2406 7.5 14.625 8.11563 14.625 8.87438V16.0006C14.625 16.76 15.2406 17.375 16 17.375C16.7594 17.375 17.375 16.76 17.375 16.0006V8.87438Z",fill:"black"},!n&&ge.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"2s",repeatCount:"indefinite"})),ge.createElement("path",{d:"M17.375 11.985C17.375 11.2337 16.7594 10.625 16 10.625C15.2406 10.625 14.625 11.2337 14.625 11.985V16.015C14.625 16.7662 15.2406 17.375 16 17.375C16.7594 17.375 17.375 16.7662 17.375 16.015V11.985Z",fill:"black"},!n&&ge.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"12s",repeatCount:"indefinite"}))),ge.createElement("rect",{className:"avkqxacs",width:"32",height:"32",mask:`url(#${a})`}))})),EC=fe(je((t=>{const n=st(t),{config:a}=st(t)||{},o=t.settings.animationLevel;return{hasCardsInfo:Boolean(null==a?void 0:a.cardsInfo),isCardMinting:null==n?void 0:n.isCardMinting,noAnimation:o===e.dnp}}))((function(e){let{isCardMinting:t,hasCardsInfo:n,noAnimation:a}=e;const{openMintCardModal:o}=Ke(),r=Er(),{shouldRender:i,ref:s}=Ls({isOpen:n||t,withShouldRender:!0});if(i)return ge.createElement("button",{ref:s,type:"button",className:"XUXxtxF8","aria-label":r("Mint Cards"),title:r("Mint Cards"),onClick:()=>o()},ge.createElement("i",{className:t?"icon-magic-wand-loading":"icon-magic-wand","aria-hidden":!0}),t&&ge.createElement(bC,{className:"uN651IGD",noAnimation:a}))})));let kC=0;const CC=(0,l.Fe)((()=>{kC=0})),NC=fe((t=>{let{text:n,isDisabled:a}=t;const o=Ve().settings.animationLevel,{isRtl:r}=Er(),i=be(n),s=ve(),c=!(!(!a&&o===e.zP3&&void 0!==i&&i!==n)||kC>=10||(0===kC&&CC(),kC++,0)),l=de((()=>c?function(e,t){const n=[],a=e.length,o=(null==t?void 0:t.length)??0;for(let r=0;r<=a;r++){const i=a-r,s=o-r;t&&s>=0&&e[i]!==t[s]?n.unshift(ge.createElement("div",{className:"o6dPPa5S"},ge.createElement("div",{className:"wT7hwE_a"},e[i]??""),ge.createElement("div",{className:"pSP5fUMh"},t[s]),ge.createElement("div",{className:"FtEeojTc"},e[i]??""))):n.unshift(ge.createElement("span",null,e[i]??""))}return n}(n,i):n),[c,i,n]);return ce((()=>{if(!c)return;const e=window.setTimeout((()=>{s()}),200);return()=>{window.clearTimeout(e)}}),[c,n]),ge.createElement("span",{className:kr(!a&&"UizaBW8F"),dir:r?"rtl":void 0},l)})),SC={containerWrapper:"wKxh3a3S",isLoading:"iGGNu8pc",center:"JhiFICIH",container:"DeiKNEF2",backstage:"Z0VKHxKs",tokenCard:"lPzc1tFZ",containerInner:"CJuAKeNp",balanceSlide:"_S0PhahZ",balanceTransition:"Q_lPdCwD",currencySymbol:"l0dhdAHZ",primaryValue:"_jSits6S",primaryFractionPart:"L4sI_b_K",iconCaret:"S_WiTJlv",iconCaretSmall:"AyZvbJo1",iconCaretFraction:"UPrAgVuY",currencySwitcher:"JRDSCLUm",currencySwitcherMenu:"ouGIASNp",addressContainer:"Hscx8f3y",icon:"Z4odaM4f",addressLabel:"bU030X2g",address:"xtFe1Hpt",menuItem:"DYEcCh8V",menuIcon:"reCfAfE0",menuItemName:"XG4JwTZX",menuFontIcon:"SR492iSb",menuExplorerIcon:"F5fuBEwJ",addressMenuBubble:"eqrUlhby",domainText:"FeL3tHeI",addressText:"W__Ag4Sn",separator:"x_DIVHjK",explorerButton:"a6nY4qXV",changeSpoiler:"u3xBtJOM",blurred:"VWmNqmzU",change:"p0ADnah2",changePrefix:"cuZcbnpx",chainIcon:"m2FMwrjB",multichainIcon:"f7vAJ3qA",tokenInfo:"bGU6MKkV",tokenLogo:"KjXvLECZ",tokenInfoHeader:"JX6roGM_",tokenInfoSubheader:"RxOFnjoX",tokenAmount:"eIbQBxJS",tokenName:"BnrECUAN",tokenValue:"FJv4OzYN",tokenChange:"GGm5XDND",tokenChangeSensitiveData:"f4V9saRa",tokenChangeSpoiler:"_12taTXqz",tokenTitle:"RmC9TfSK",tokenHistoryPrice:"_4dlU8cE",tokenCurrentPrice:"gV90_PgX",tokenPriceDate:"iPGWJEAe",apy:"NuM0o0NU",interactive:"qQdmiqxi",tokenExplorerButton:"OG4bpDUn",chart:"lKplVEJ6",chartImg:"RidGreTo",backButton:"rzhYg9wP",periodChooser:"fJhqjFVE",periodChooserHidden:"xPL1t22b",periodItem:"il0Zz8yE",periodItem_active:"fcYKEjig",periodItemActive:"fcYKEjig",periodInput:"PIahT0n2",loadingDotsContainer:"iRUbIPAX",cardCustomBackground:"A2ptDHpn",visible:"aEg2wczx",black:"ah_6og0J",platinum:"nnklDXWY",gold:"c4y77fMq",silver:"M9_HMKD7",borderShine_down:"VoOVf4tq",borderShineDown:"VoOVf4tq",borderShine_left:"dWc8MTsx",borderShineLeft:"dWc8MTsx",borderShine_up:"k8VOGUyt",borderShineUp:"k8VOGUyt",borderShine_right:"tqABUy73",borderShineRight:"tqABUy73"},AC=i.p+"multichain_account.18e8f6e7ee28b26527ba.svg",TC=fe(je((e=>{const{type:t,addressByChain:n,domainByChain:a}=it(e,e.currentAccountId)||{};return{addressByChain:n,domainByChain:a,isTestnet:e.settings.isTestnet,accountType:t}}))((function(e){let{addressByChain:t,domainByChain:a,isTestnet:o,accountType:r,withTextGradient:i}=e;const{showNotification:s}=Ke(),c=Er(),{isPortrait:l}=ii(),d=me(),u=me(),[m,p]=ie(),f=Boolean(m),h=de((()=>Object.keys(t||{})),[t]),g="hardware"===r,v="view"===r,w=c("View on Explorer"),y=de((()=>{const e=h[0]&&(null==a?void 0:a[h[0]]);if(!(h.length<2)||e)return h.map((e=>({value:t[e],address:(0,qt.W)(t[e],null!=a&&a[e]?4:void 0),...(null==a?void 0:a[e])&&{domain:a[e]},icon:fw(e),fontIcon:"copy",chain:e,label:c("View address on %ton_explorer_name%",{ton_explorer_name:$o(e)}).join("")})))}),[t,a,h,c]),b=()=>{const{left:e,width:t,bottom:n}=d.current.getBoundingClientRect();p({x:e+t/2,y:n})},E=()=>{p(void 0)},k=Po((e=>{s({message:c("Address was copied!"),icon:"icon-copy"}),al(e)})),C=Po(((e,t)=>{k(t),E()})),N=Po(((e,t)=>{s({message:c("Domain was copied!"),icon:"icon-copy"}),al(t),E()})),S=Po(((e,t,n)=>{ec(Ko(t,n,o)),E()})),A=me(),T=Po((()=>{A.current&&clearTimeout(A.current),b()})),I=Po((()=>{A.current=window.setTimeout(E,150)})),B=Po((()=>d.current)),_=Po((()=>document.body)),x=Po((()=>u.current)),D=Po((()=>({withPortal:!0,centerHorizontally:l,preferredPositionX:"left",doNotCoverTrigger:l})));if(y){const e=h[0],t=null==a?void 0:a[e],o=1===h.length&&t?t:c("Multichain");return ge.createElement("div",{ref:d,className:SC.addressContainer},v&&ge.createElement("span",{className:SC.addressLabel},ge.createElement("i",{className:kr(SC.icon,"icon-eye-filled"),"aria-hidden":!0}),c("$view_mode")),g&&ge.createElement("i",{className:kr(SC.icon,"icon-ledger"),"aria-hidden":!0}),ge.createElement("button",{type:"button",className:kr(SC.address,i&&"gradientText"),onMouseEnter:n.TF?void 0:T,onMouseLeave:n.TF?void 0:I,onClick:b},h.length>1?ge.createElement("img",{src:AC,alt:"",className:SC.multichainIcon}):ge.createElement("img",{src:fw(e),alt:"",className:SC.chainIcon}),ge.createElement("span",{className:kr(SC.itemName,"itemName")},o),ge.createElement("i",{className:kr(SC.icon,"icon-caret-down"),"aria-hidden":!0})),ge.createElement(Nh,{menuRef:u,isOpen:f,type:"dropdown",withPortal:!0,getTriggerElement:B,getRootElement:_,getMenuElement:x,getLayout:D,anchor:m,bubbleClassName:SC.addressMenuBubble,noBackdrop:!n.TF,onMouseEnter:n.TF?void 0:T,onMouseLeave:n.TF?void 0:I,onClose:E},y.map(((e,t)=>{const n=kr(gh.item,t>0&&gh.separator,SC.menuItem);return ge.createElement("div",{key:e.value,className:n},y.length>1&&ge.createElement("img",{src:e.icon,alt:"",className:kr("icon",gh.itemIcon,SC.menuIcon)}),ge.createElement("span",{className:kr(gh.itemName,SC.menuItemName)},e.domain&&ge.createElement(ge.Fragment,null,ge.createElement("span",{tabIndex:0,role:"button",className:SC.domainText,onClick:t=>N(t,e.domain)},e.domain),ge.createElement("span",{className:SC.separator},"·")),ge.createElement("span",{tabIndex:0,role:"button",onClick:t=>C(t,e.value),className:e.domain&&SC.addressText},e.address),ge.createElement("i",{className:kr(`icon icon-${e.fontIcon}`,gh.fontIcon,SC.menuFontIcon),"aria-hidden":!0,onClick:t=>C(t,e.value)})),ge.createElement("i",{tabIndex:0,role:"button",className:kr(gh.close,"icon icon-tonexplorer-small",SC.menuExplorerIcon),"aria-label":e.label,onClick:t=>S(t,e.chain,e.value)}))}))))}const L=h[0];if(!L)return;const O=t[L],P=(null==a?void 0:a[L])||(0,qt.W)(O);return ge.createElement("div",{className:SC.addressContainer},v&&ge.createElement("span",{className:SC.addressLabel},ge.createElement("i",{className:kr(SC.icon,"icon-eye-filled"),"aria-hidden":!0}),c("$view_mode")),g&&ge.createElement("i",{className:kr(SC.icon,"icon-ledger"),"aria-hidden":!0}),ge.createElement("button",{type:"button",className:kr(SC.address,i&&"gradientText"),"aria-label":c("Copy wallet address"),onClick:()=>k(O)},ge.createElement("img",{src:fw(L),alt:"",className:SC.chainIcon}),P,ge.createElement("i",{className:kr(SC.icon,"icon-copy"),"aria-hidden":!0})),ge.createElement("a",{href:Ko(L,O,o),className:SC.explorerButton,title:w,"aria-label":w,target:"_blank",rel:"noreferrer noopener",onClick:nc},ge.createElement("i",{className:kr(SC.icon,"icon-tonexplorer-small"),"aria-hidden":!0})))}))),IC=fe(je((e=>({currentCurrency:e.settings.baseCurrency})))((function(t){let{isOpen:n,currentCurrency:a,excludedCurrency:o,menuPositionX:r,onClose:i,onChange:s}=t;const{changeBaseCurrency:c}=Ke(),l=de((()=>Object.entries(e.yR2).filter((e=>{let[t]=e;return t!==o})).map((e=>{let[t,{name:n}]=e;return{value:t,name:n}}))),[o]),d=Po((e=>{i(),e!==a&&(c({currency:e}),null==s||s(e))}));return ge.createElement(Ah,{isOpen:n,items:l,shouldTranslateOptions:!0,selectedValue:a,menuPositionX:r,className:SC.currencySwitcherMenu,onClose:i,onSelect:d})}))),BC={root:"UUXTSSNb",sticky:"GydVN6zu",image:"GnuUYTcY",borderShine_down:"eZtdmQCz",borderShineDown:"eZtdmQCz",borderShine_left:"u_5j0LEw",borderShineLeft:"u_5j0LEw",borderShine_up:"DBu8v2wg",borderShineUp:"DBu8v2wg",borderShine_right:"iOyJF5OB",borderShineRight:"iOyJF5OB",borderShine_radioactive:"omctwMWw",borderShineRadioactive:"omctwMWw",shadow:"rm7OVuVh"},_C=fe((function(e){var t;let{isSticky:n,nft:a,noShowAnimation:o,shouldHide:r,onLoad:i,onTransitionEnd:s}=e;const{imageUrl:c}=qg(a?Yo(a):void 0),[l,d]=Ru(),u=mp(o||l&&!r),{borderShineType:m,withTextGradient:p,classNames:f}=jg(a),h=kr(BC.root,n&&BC.sticky,f,m&&BC[`borderShine_${m}`],l&&!r&&BC.loaded,r&&BC.hide),g="standard"===(null===(t=a.metadata)||void 0===t?void 0:t.mtwCardType);return ge.createElement("div",{ref:u,className:h,onTransitionEnd:s},c&&ge.createElement("img",{src:c,alt:a.name,className:BC.image,onLoad:function(){d(),null==i||i(p,f)}}),g&&ge.createElement("div",{className:BC.shadow}))})),xC=fe((function(e){let{isSticky:t,nft:n,onCardChange:a}=e;const o=me(void 0),r=ve();xs((e=>{let[t,r]=e;(null==n?void 0:n.address)!==r&&(o.current=t),n||a(!1,void 0)}),[n,null==n?void 0:n.address]);const i=o.current,s=me(!0),c=n&&s.current;s.current=!1;const l=Po((()=>{o.current=void 0,r()}));return ge.createElement("div",{teactFastList:!0},i&&ge.createElement(_C,{key:i.address,isSticky:t,nft:i,shouldHide:!n,onTransitionEnd:l}),n&&ge.createElement(_C,{key:n.address,isSticky:t,nft:n,noShowAnimation:c,onLoad:a,onTransitionEnd:l}))})),DC={green:[80,135,51],orange:[173,84,54],pink:[154,60,144],purple:[104,48,149],red:[156,52,75],sea:[43,116,123],tegro:[3,93,229],blue:[47,108,173]},LC={[e.Tu9.slug]:"blue",[e.X7T.slug]:"red",[e.rUK]:"sea",[e.QSz]:"sea",[e.vsz]:"sea",[e.Bqy]:"green"};const OC=fe((function(e){let{width:t,height:n,prices:a,selectedIndex:o,className:r,imgClassName:i,onSelectIndex:s,isUpdating:c}=e;const l=Er(),d=de((()=>{const e=a.map((e=>{let[,t]=e;return t})),t=Math.min(...e),n=Math.max(...e);return{width:a.length-1,height:Math.max(1e-9,n-t),min:t}}),[a]),u=de((()=>{const e=t/d.width,o=n/d.height;return a.map(((t,n)=>{let[,a]=t;return{x:n*e+3,y:(a-d.min)*o+3}}))}),[d.height,d.min,d.width,n,t,a]);function m(e){const t=u.length-1,n=e<0?0:e>t?t:e,a=u[n],o=.9999,r=n/t,i=u[0],s=u[t].x-i.x,c=u[t].y-i.y;return{x:o*a.x+(1-o)*(i.x+r*s),y:o*a.y+(1-o)*(i.y+r*c)}}function p(e){const t=m(e),n=m(e-1),a=m(e-2);return`C ${(2*a.x+n.x)/3} ${(2*a.y+n.y)/3} ${(a.x+2*n.x)/3} ${(a.y+2*n.y)/3} ${(a.x+4*n.x+t.x)/6} ${(a.y+4*n.y+t.y)/6}`}function f(e){const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),{clientX:a}="touches"in e?e.touches[0]:e,o=a-t-n/u.length/2,r=Math.max(0,Math.min(Math.round(u.length*(o/n)),u.length-1));s(r)}function h(){s(-1),ao()}return ge.createElement("div",{className:r,onMouseMove:f,onMouseLeave:h,onTouchStart:function(e){f(e),no()},onTouchMove:f,onTouchEnd:h,onTouchCancel:h},ge.createElement(of,{activeKey:c?1:0,name:"semiFade",shouldCleanup:!0},ge.createElement("img",{src:function(){const e=u[o]||u[u.length-1];return`data:image/svg+xml;utf8,<svg viewBox="0 0 ${t+6} ${n+6}" height="${n+6}" width="${t+6}"\n        xmlns="http://www.w3.org/2000/svg" style="transform: scale(1,-1)">\n        <g fill="none" stroke="white">\n          <path stroke-linejoin="round" stroke-width="1.5" d="${function(){let e=u.reduce(((e,t,n)=>{const a=p(n);return 0===n?`M ${t.x} ${t.y} `:`${e} ${a} `}),"");return e+=p(u.length),e+=`L ${(t=u[u.length-1]).x} ${t.y}`,e;var t}()}" style="stroke-linecap: round" />\n          <circle r="2.5" fill="white" cx="${e.x}" cy="${e.y}" />\n        </g>\n      </svg>`}(),className:kr(i,c&&"glare-image"),alt:l("Currency History")})))})),PC=e.Kfi.map((e=>({value:e,name:"ALL"===e?"All":e}))),MC=fe(je((e=>{const t=st(e);return{currentPeriod:null==t?void 0:t.currentTokenPeriod}}))((function(e){let{isOpen:t,currentPeriod:n,onClose:a,onChange:o}=e;const{setCurrentTokenPeriod:r}=Ke(),i=Po((e=>{a(),e!==n&&(Zc(),r({period:e}),null==o||o(e))}));return ge.createElement(Ah,{isOpen:t,onClose:a,items:PC,className:"Lfs6oB99",bubbleClassName:"EJsuJXfx",buttonClassName:"J7O_MmwF",selectedValue:n,menuPositionX:"right",onSelect:i})}))),FC=12e4,RC=5*Ba.Z2,UC=e.Kfi[0],WC=fe(je(((e,t)=>{var n;const a=t.token.slug,o=st(e),r=null===(n=e.tokenInfo.bySlug[a])||void 0===n?void 0:n.tokenAddress,i=ga(e,e.currentAccountId);return{isTestnet:e.settings.isTestnet,period:null==o?void 0:o.currentTokenPeriod,baseCurrency:e.settings.baseCurrency,historyPeriods:e.tokenPriceHistory.bySlug[t.token.slug],tokenAddress:r,stakingStates:i,isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}))((function(t){let{ref:a,isTestnet:o,token:r,classNames:i,period:s=UC,isUpdating:c,baseCurrency:l,historyPeriods:d,tokenAddress:u,stakingStates:m,isSensitiveDataHidden:p,onYieldClick:f,onClose:h}=t;const{loadPriceHistory:g}=Ke(),v=Er(),w=ve(),[y,b,E]=Ru(!1),[k,C,N]=Ru(!1),S=void 0===l||l===r.symbol,A=ir(S?e.wOb:l),[T,I]=ie(-1);Ee((e=>{let[t]=e;n.pz&&void 0!==t&&Zc()}),[T]);const{slug:B,symbol:_,amount:x,name:D,price:L,decimals:O}=r,{annualYield:P,yieldType:M,id:F}=de((()=>{if(!e.TI6)return null==m?void 0:m.reduce(((e,t)=>t.tokenSlug===B&&(!e||t.balance>e.balance)?t:e),void 0)}),[m,B])??{},R=Po((e=>{g({slug:B,period:e??s})})),U=Po((e=>{g({slug:B,period:s,currency:e})}));Oh(R,RC);const W=null==d?void 0:d[s],H=null!=W&&W.length?1e3*W[W.length-1][0]:void 0,$=null!=W&&W.length?W[W.length-1][1]:L,V=null==W?void 0:W[T],z=(null==V?void 0:V[1])??(S?$:void 0)??L,K=p?L:z,q=!H||Date.now()-H>FC,j=V?(0,Ba.mf)(v.code,1e3*V[0],!0,!0):q&&H?(0,Ba.mf)(v.code,H,!0,!1):v("Now");Ph(w,q?void 0:FC,[H]);const Y=de((()=>{var e;return null==W||null===(e=W.find((e=>{let[,t]=e;return Boolean(t)})))||void 0===e?void 0:e[1]}),[W]),G=(0,Lt.CF)(x,O).mul(z),Q=G.toString(),X=Y&&z?z-Y:0,J=Y&&K?vC(G,Y&&K?K/Y-1:0).toNumber():0,Z=void 0===X?X:X>0?"↑":X<0?"↓":0,ee=J?Math.abs(Pt(J,4)):0,te=X?Math.abs(Pt(X/Y*100,2)):0,ne=Boolean(void 0!==X),ae=null!=W&&W.length?new Date(1e3*W[0][0]):void 0,oe=Boolean(r.cmcSlug||u),re=!(null!=W&&W.length)&&0===r.priceUsd,se=de((()=>function(e){let t="blue",n=1/0;if(!e)return t;if(LC[e.slug])return LC[e.slug];if(!e.color)return t;const a=vp(e.color);return Object.entries(DC).forEach((e=>{let[o,r]=e;const i=function(e,t){const[n,a,o]=wp(e),[r,i,s]=wp(t),c=Math.sqrt(a*a+o*o),l=c-Math.sqrt(i*i+s*s),d=a-i,u=o-s,m=(n-r)/1,p=l/(1+.045*c),f=Math.sqrt(d*d+u*u-l*l)/(1+.015*c);return Math.sqrt(m*m+p*p+f*f)}(a,r);i<n&&(n=i,t=o)})),n>35?"blue":t}(r)),[r]);return ge.createElement("div",{ref:a,className:kr(SC.container,SC.tokenCard,i,se,"token-card")},ge.createElement("div",{className:SC.tokenInfo},ge.createElement(Rs,{className:SC.backButton,isSimple:!0,onClick:h,ariaLabel:v("Back")},ge.createElement("i",{className:"icon-chevron-left","aria-hidden":!0})),ge.createElement(yw,{token:r,size:"x-large",className:SC.tokenLogo}),ge.createElement("div",{className:SC.tokenInfoHeader},ge.createElement("b",{className:SC.tokenAmount},ge.createElement(Aw,{isActive:p,maskSkin:"cardLightText",cols:10,rows:2,cellSize:8},nr((0,Lt.nI)(x,r.decimals),_))),ne&&ge.createElement("div",{className:SC.tokenValue},ge.createElement(Aw,{isActive:p,maskSkin:"cardLightText",align:"right",cols:10,rows:2,cellSize:8},ge.createElement("div",{className:SC.currencySwitcher,role:"button",tabIndex:0,onClick:b},"≈ ",nr(Q,A,void 0,!0),ge.createElement("i",{className:kr("icon","icon-caret-down",SC.iconCaretSmall),"aria-hidden":!0})),ge.createElement(IC,{isOpen:y,menuPositionX:"right",excludedCurrency:r.symbol,onClose:E,onChange:U})))),ge.createElement("div",{className:SC.tokenInfoSubheader},ge.createElement("span",{className:SC.tokenTitle},ge.createElement("span",{className:SC.tokenName},D),M&&ge.createElement("span",{className:kr(SC.apy,f&&SC.interactive),onClick:f?()=>f(F):void 0},M," ",Pt(P??0,2),"%")),ne&&Boolean(ee)&&ge.createElement("div",{className:SC.tokenChange},Z," ",Math.abs(te),"% ·",ge.createElement(Aw,{isActive:p,align:"right",maskSkin:"cardLightText",cols:6,rows:2,cellSize:8,className:SC.tokenChangeSensitiveData,maskClassName:SC.tokenChangeSpoiler},nr(Math.abs(ee),A))))),ge.createElement(of,{activeKey:W?W.length?e.Kfi.indexOf(s)+1:-1:0,name:"fade"},W?null!=W&&W.length?ge.createElement(ge.Fragment,null,ge.createElement(OC,{className:SC.chart,imgClassName:SC.chartImg,width:300,height:64,prices:W,selectedIndex:T,onSelectIndex:I,isUpdating:c}),ge.createElement("div",{className:SC.tokenHistoryPrice},nr(W[0][1],A,2,!0),ge.createElement("div",{className:SC.tokenPriceDate},(0,Ba.mf)(v.code,ae)))):void 0:ge.createElement("div",{className:kr(SC.isLoading)},ge.createElement(Wg,{color:"white",className:SC.center}))),ge.createElement("span",{className:kr(SC.periodChooser,re&&SC.periodChooserHidden),role:"button",tabIndex:0,onClick:C},"ALL"===s?"All":s,ge.createElement("i",{className:kr("icon","icon-caret-down",SC.iconCaretSmall),"aria-hidden":!0}),ge.createElement(MC,{isOpen:k,onChange:R,onClose:N})),ge.createElement("div",{className:SC.tokenCurrentPrice},nr(z,A,-1===T?2:4,!0),ge.createElement("div",{className:SC.tokenPriceDate},j,oe&&function(){const e=function(e,t,n,a){if(t||n)return n?function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Wo[e].explorer.replace("{base}",Vo(e,t))}(e,a).replace("{address}",n):`https://coinmarketcap.com/currencies/${t}/`}(r.chain,r.cmcSlug,u,o);if(!e)return;const t=v("Open on %ton_explorer_name%",{ton_explorer_name:$o(r.chain)}).join("");return ge.createElement(ge.Fragment,null," · ",ge.createElement("a",{href:e,title:t,"aria-label":t,target:"_blank",rel:"noreferrer",className:SC.tokenExplorerButton,onClick:nc},ge.createElement("i",{className:"icon-tonexplorer-small","aria-hidden":!0})))}())))}))),HC=fe(je((e=>{const t=st(e),n=ga(e,e.currentAccountId),{cardBackgroundNft:a}=dt(e)||{};return{isViewMode:St(e),tokens:Ft(e),currentTokenSlug:null==t?void 0:t.currentTokenSlug,baseCurrency:e.settings.baseCurrency,stakingStates:n,cardNft:a,isSensitiveDataHidden:e.settings.isSensitiveDataHidden,isNftBuyingDisabled:e.restrictions.isNftBuyingDisabled}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{ref:a,tokens:o,currentTokenSlug:r,onTokenCardClose:i,onYieldClick:s,baseCurrency:c,stakingStates:l,isSensitiveDataHidden:d,isNftBuyingDisabled:u,cardNft:m,isViewMode:p}=t;const f=me(),h=ir(c),[g,v]=ie(void 0),[w,y]=ie(!1),{isPortrait:b}=ii(),{width:E}=zu(),k=yC("balanceUpdateStartedAt"),{updateFontScale:C}=mE(f),N=b?E:0,[S,A,T]=Ru(!1),I=hh(de((()=>o?o.find((e=>e.slug===r)):void 0),[r,o]),!0),{shouldRender:B,ref:_}=Ls({isOpen:Boolean(r),noMountTransition:!0,withShouldRender:!0}),x=function(e){const{mtwCardType:t,mtwCardTextType:n}=(null==e?void 0:e.metadata)||{};return"gold"===t?"cardGoldText":"silver"===t||"dark"===n?"cardDarkText":"cardLightText"}(m),D=Po(((e,t)=>{v(t),y(e)})),L=de((()=>o?wC(o,l):void 0),[o,l]);Ui({isActive:Boolean(r),onBack:i}),ce((()=>B?wh(i):void 0),[B,i]);const{primaryValue:O,primaryWholePart:P,primaryFractionPart:M,changePrefix:F,changePercent:R,changeValue:U}=L||{};return le((()=>{void 0!==O&&C()}),[M,O,P,h,C,N]),ge.createElement("div",{ref:a,className:SC.containerWrapper},ge.createElement(of,{activeKey:k?1:0,name:"fade",shouldCleanup:!0,className:SC.loadingDotsContainer},k?ge.createElement(Ms,{isActive:!0,isDoubled:!0}):void 0),ge.createElement("div",{className:kr(SC.container,r&&SC.backstage,g)},ge.createElement(xC,{nft:m,onCardChange:D}),ge.createElement("div",{className:kr(SC.containerInner,g)},L?function(){const e=kr("icon","icon-caret-down",M||h.length>1?SC.iconCaretFraction:SC.iconCaret),t=!k||n.Yw||n.pz;return ge.createElement(ge.Fragment,null,ge.createElement(of,{ref:f,activeKey:k&&!d?1:0,name:"fade",shouldCleanup:!0,className:SC.balanceTransition,slideClassName:SC.balanceSlide},ge.createElement(Aw,{isActive:d,maskSkin:x,rows:4,cols:14,cellSize:13,align:"center",maskClassName:SC.blurred},ge.createElement("div",{className:kr(SC.primaryValue,"rounded-font")},ge.createElement("span",{className:kr(SC.currencySwitcher,k&&"glare-text",!k&&w&&"gradientText"),role:"button",tabIndex:0,onClick:d?void 0:A},1===h.length&&ge.createElement("span",{className:SC.currencySymbol},h),ge.createElement(NC,{isDisabled:t,text:P??""}),M&&ge.createElement("span",{className:SC.primaryFractionPart},ge.createElement(NC,{isDisabled:t,text:`.${M}`})),h.length>1&&ge.createElement("span",{className:SC.primaryFractionPart}," ",h),ge.createElement("i",{className:e,"aria-hidden":!0}))))),ge.createElement(IC,{isOpen:S,menuPositionX:"right",onClose:T}),"0"!==O&&ge.createElement(Aw,{isActive:d,maskSkin:x,rows:2,cols:11,align:"center",cellSize:14,className:SC.changeSpoiler,maskClassName:SC.blurred},ge.createElement("div",{className:kr(SC.change,"rounded-font")},!!F&&ge.createElement(ge.Fragment,null,ge.createElement("i",{className:kr(SC.changePrefix,"up"===F?"icon-arrow-up":"icon-arrow-down"),"aria-hidden":!0}),ge.createElement(NC,{text:`${Math.abs(R)}%`})," · "),ge.createElement(NC,{text:nr(Math.abs(U),h)}))))}():ge.createElement("div",{className:kr(SC.isLoading)},ge.createElement(Wg,{color:"white",className:SC.center})),ge.createElement(TC,{withTextGradient:w}),!e.TI6&&!u&&!p&&ge.createElement(EC,null))),B&&ge.createElement(WC,{token:I,ref:_,isUpdating:k,onYieldClick:p?void 0:s,onClose:i}))})));function $C(e,t){if(!e)return null;const n=function(e){return e?".app-slide-content":".custom-scroll"}(t);return t?e.closest(n):e.matches(n)?e:e.querySelector(n)}function VC(e,t){return e&&t?".app-slide-content":void 0}const zC=fe((function(e){let{isOpen:t,selectedNftsToHide:n}=e;const{addNftsToBlacklist:a,closeNftCollection:o,closeHideNftModal:r}=Ke(),i=Er(),s=Po((()=>{a({addresses:n.addresses}),null!=n&&n.isCollection&&o(),r()}));return ge.createElement(Ys,{isOpen:t,isCompact:!0,onClose:r,title:i("Hide NFTs")},ge.createElement("p",{className:Ws.text},null!=n&&n.isCollection?i("Are you sure you want to hide this NFT collection containing %number% NFTs?",{number:null==n?void 0:n.addresses.length}):i("Are you sure you want to hide these %number% NFTs?",{number:null==n?void 0:n.addresses.length})),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:r,className:Ws.button},i("Cancel")),ge.createElement(Rs,{isDestructive:!0,onClick:s,className:Ws.button},i("Hide"))))}));function KC(e,t,n,a){const{length:o}=e,r=a?e.indexOf(a):0,i=t===$n.Forwards?r:r+1||o,s=Math.max(0,i-n),c=i+n-1,l=e.slice(Math.max(0,s),c+1);let d,u;switch(t){case $n.Forwards:d=i>=0,u=s>=0;break;case $n.Backwards:d=i<o,u=c<=o-1}return{newViewportIds:l,areSomeLocal:d,areAllLocal:u,newIsOnTop:l[0]===e[0]}}const qC=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const l=me();if(!l.current&&t&&!a){const{newViewportIds:e,newIsOnTop:n}=KC(t,$n.Forwards,o,t[0]);l.current={viewportIds:e,isOnTop:n}}const d=ve(),u=qy(r),m=Po((()=>{if(null==t||!t.length)return;const{newViewportIds:e,newIsOnTop:n}=KC(t,$n.Forwards,o,t[0]);l.current={viewportIds:e,isOnTop:n}}));Ee((()=>{(r!==u||s&&!i)&&m()}),[i,u,r,s]);const p=be(t),f=be(a);if(!t||a||t===p&&a===f)t||(l.current=void 0);else{const{viewportIds:e,isOnTop:n}=l.current??{},{newViewportIds:a,newIsOnTop:r}=function(e,t,n,a){if(n)return a=Math.max(a,((null==t?void 0:t.length)??0)-1),KC(e,$n.Backwards,a,e[0]);let o=null==t?void 0:t[Math.round(t.length/2)];return o&&!e.includes(o)&&(o=e[0]),KC(e,$n.Forwards,a,o)}(t,e,n,o);e&&(0,c.k)(e,a)||(l.current={viewportIds:a,isOnTop:r})}const h=Po((n=>{let{direction:a}=n;if(!i)return;const{viewportIds:r}=l.current||{},s=r?a===$n.Backwards?r[r.length-1]:r[0]:void 0;if(!t)return void(e&&e({offsetId:s}));const{newViewportIds:u,areSomeLocal:m,areAllLocal:p,newIsOnTop:f}=KC(t,a,o,s);!m||r&&(0,c.k)(r,u)||(l.current={viewportIds:u,isOnTop:f},d()),!p&&e&&e({offsetId:s})}));return a?[t]:[null===(n=l.current)||void 0===n?void 0:n.viewportIds,h,m]},jC=(e,t,n)=>{const a=me();return le((()=>{const n=a.current;return a.current=t,e(n||[])}),t,n)},YC=".ListItem",GC=20,QC=800,XC=e=>{let{ref:t,style:a,className:o,items:r,itemSelector:i=YC,preloadBackwards:s=GC,sensitiveArea:c=QC,withAbsolutePositioning:d,maxHeight:u,noScrollRestore:m=!1,noScrollRestoreOnTop:p=!1,noFastList:f,cacheBuster:h,beforeChildren:g,scrollContainerClosest:v,children:w,onLoadMore:y,onScroll:b,onWheel:E,onClick:C,onKeyDown:N,onDragOver:S,onDragLeave:A}=e,T=me();t&&(T=t);const I=me({}),[B,_]=de((()=>y?[(0,l.sg)((()=>{y({direction:$n.Backwards})}),Ba.Z2,!0,!1),(0,l.sg)((()=>{y({direction:$n.Forwards})}),Ba.Z2,!0,!1)]:[]),[y,r]);ce((()=>{if(!B)return;if(s>0&&(!r||r.length<s))return void B();const e=v?T.current.closest(v):T.current,{scrollHeight:t,clientHeight:n}=e;n&&t<=n&&B()}),[r,B,s,v]),jC((e=>{let[t]=e;const a=v?T.current.closest(v):T.current,o=I.current,r=a.querySelectorAll(i);o.listItemElements=r,null!=t&&t.length&&(0,k.gm)((()=>{let e;if(o.currentAnchor&&Array.from(r).includes(o.currentAnchor)){const{scrollTop:t}=a,n=o.currentAnchor.getBoundingClientRect().top;e=t+(n-o.currentAnchorTop)}else{const e=r[0];e&&(o.currentAnchor=e,o.currentAnchorTop=e.getBoundingClientRect().top)}if(d||m)return;const{scrollTop:t}=a;return p&&0===t?void 0:()=>{((e,t)=>{n.pz&&(e.style.overflow="hidden"),void 0!==t&&(e.scrollTop=t),n.pz&&(e.style.overflow="")})(a,e),o.isScrollTopJustUpdated=!0}}))}),[r,i,m,p,h,d,v]);const x=Po((e=>{if(_&&B){const{isScrollTopJustUpdated:e,currentAnchor:t,currentAnchorTop:n}=I.current,a=I.current.listItemElements;if(e)return void(I.current.isScrollTopJustUpdated=!1);const o=a.length,r=v?T.current.closest(v):T.current,{scrollTop:i,scrollHeight:s,offsetHeight:l}=r,d=i<=(o?a[0].offsetTop:0)+c,u=(o?a[o-1].offsetTop+a[o-1].offsetHeight:s)-(i+l)<=c;let m=!1;if(d){const e=a[0];if(e){const a=e.getBoundingClientRect().top,o=null!=t&&t.offsetParent&&t!==e?t.getBoundingClientRect().top:a;t&&void 0!==n&&o>n&&(I.current.currentAnchor=e,I.current.currentAnchorTop=a,m=!0,_())}}if(u){const e=a[o-1];if(e){const a=e.getBoundingClientRect().top,o=null!=t&&t.offsetParent&&t!==e?t.getBoundingClientRect().top:a;t&&void 0!==n&&o<n&&(I.current.currentAnchor=e,I.current.currentAnchorTop=a,m=!0,B())}}if(!m)if(null!=t&&t.offsetParent)I.current.currentAnchorTop=t.getBoundingClientRect().top;else{const e=a[0];e&&(I.current.currentAnchor=e,I.current.currentAnchorTop=e.getBoundingClientRect().top)}}b&&b(e)}));return le((()=>{if(!v)return;const e=T.current.closest(v);if(!e)return;const t=e=>x(e);return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[x,v]),ge.createElement("div",{ref:T,className:o,onScroll:x,onWheel:E,teactFastList:!f&&!d,onKeyDown:N,onDragOver:S,onDragLeave:A,onClick:C,style:a},g,d&&null!=r&&r.length?ge.createElement("div",{teactFastList:!f,style:up("position: relative",n.Ni&&void 0!==u&&`height: ${u}`)},w):w)},JC="qI7nEtyA",ZC="t2U79mme",eN="a2p7XeQH",tN="xJCALuqk";function nN(e){setTimeout((()=>{(0,k.RK)((()=>{e.classList.remove(eN,tN),e.style.opacity="",e.style.transform=""}))}),250)}const aN=function(e){let{topOffset:t,withAnimation:n,children:a}=e;const{ref:o}=function(e,t){const n=me();return jC((a=>{let[o]=a;const r=n.current;e&&r&&(void 0===o?(function(e){e.style.opacity="0",(0,k.RK)((()=>{e.classList.add(eN),e.style.opacity="1"}))}(r),nN(r)):t!==o&&(function(e,t){e.style.transform=`translate3d(0, ${-t}rem, 0)`,(0,k.RK)((()=>{e.classList.add(tN),e.style.transform=""}))}(r,t-o),nN(r)))}),[t,e]),{ref:n}}(n,t);return ge.createElement("div",{ref:o,style:`top: ${t}rem`,className:kr("ListItem","ebD9lZA7")},a)},oN={container:"k3PjQTgC",panel:"ZX_ET6v1",emptyList:"y3OrMGkQ",text:"W7PJUQAi",header:"vhx2gdHr",description:"iQxbUd1C"},rN=fe((function(t){let{isActive:n,isMutlichainAccount:a,mode:o}=t;const r=Er();return ge.createElement("div",{className:kr(oN.container,oN[o])},ge.createElement(Lp,{play:n,tgsUrl:rp.hello,previewUrl:rp.helloPreview,nonInteractive:!0,noLoop:!1,size:"emptyList"===o?e.igk:e.jzp}),ge.createElement("div",{className:oN.text},ge.createElement("p",{className:oN.header},r(a?"You have just created a new multichain wallet":"You have just created a new wallet")),ge.createElement("p",{className:oN.description},r(a?"Now you can transfer tokens from your TON and TRON wallets.":"You can now transfer your tokens from another wallet or exchange."))))})),iN=Ba.Z2,sN=2.625*n.$,cN="date:",lN=Object.freeze([]),dN=Object.freeze({}),uN=fe(je((e=>{var t;const n=e.currentAccountId,a=st(e),o=dt(e),r=function(e,t){var n;const{isFirstTransactionsLoaded:a}=(null===(n=ct(e,t))||void 0===n?void 0:n.activities)??{},{addressByChain:o}=it(e,t)??{};return!(!a||!o)&&Object.keys(o).every((e=>a[e]))}(e,e.currentAccountId),i=function(e,t){var n;const{activities:a}=st(e)??{};return(null==a||null===(n=a.idsMain)||void 0===n||!n.length)&&t}(e,r),s=null==a?void 0:a.currentTokenSlug,c=n?wa(e,n):void 0,{idsBySlug:l,byId:d,isMainHistoryEndReached:u,isHistoryEndReachedBySlug:m,idsMain:p}=(null==a?void 0:a.activities)??{},{byAddress:f}=(null==a?void 0:a.nfts)||{},h=tt(e);return{isMultichainAccount:kt(e,e.currentAccountId),currentAccountId:e.currentAccountId,slug:s,byId:d,isNewWallet:i,idsBySlug:l,idsMain:p,tokensBySlug:e.tokenInfo.bySlug,swapTokensBySlug:null===(t=e.swapTokenInfo)||void 0===t?void 0:t.bySlug,areTinyTransfersHidden:e.settings.areTinyTransfersHidden,savedAddresses:null==a?void 0:a.savedAddresses,isMainHistoryEndReached:u,isHistoryEndReachedBySlug:m,currentActivityId:null==a?void 0:a.currentActivityId,alwaysShownSlugs:null==o?void 0:o.alwaysShownSlugs,theme:e.settings.theme,baseCurrency:e.settings.baseCurrency,isFirstTransactionsLoaded:r,stakingStateBySlug:c,isSensitiveDataHidden:e.settings.isSensitiveDataHidden,nftsByAddress:f,accounts:h}}),((t,n,a)=>{let{totalTokensAmount:o}=n;const r=st(t),i=o<=(si()?e.nj6:e.hUs);return a(((null==r?void 0:r.activeContentTab)===Wn.Activity||(null==r?void 0:r.activeContentTab)===Wn.Assets&&i)&&t.currentAccountId)}))((function(t){let{isActive:a,currentAccountId:o,isNewWallet:r,isMultichainAccount:i,slug:s,idsBySlug:l,idsMain:d,byId:u,tokensBySlug:m,swapTokensBySlug:p,areTinyTransfersHidden:f,currentActivityId:h,savedAddresses:g,isMainHistoryEndReached:v,isHistoryEndReachedBySlug:w,alwaysShownSlugs:y,theme:b,baseCurrency:E,isFirstTransactionsLoaded:k,isSensitiveDataHidden:C,stakingStateBySlug:N,nftsByAddress:S,accounts:A}=t;const{fetchTokenTransactions:T,fetchAllTransactions:I,showActivityInfo:B}=Ke(),_=Er(),{isLandscape:x,isPortrait:D}=ii(),L=me(),O=yC("activitiesUpdateStartedAt"),P=gf(b),M=me(!1),F=de((()=>{let e;return u&&(e=s?(l??{})[s]??lN:d),e}),[u,s,l,d]),R=de((()=>{const e=function(e,t,n,a,o,r){return e&&t?e.filter((e=>{const i=null==t?void 0:t[e];return!!i&&(null==i||!i.shouldHide)&&("swap"===(null==i?void 0:i.kind)?!n||i.from===n||i.to===n:(null==i?void 0:i.slug)&&(!n||i.slug===n)&&(!o||n&&0===(null===(s=a[i.slug])||void 0===s?void 0:s.priceUsd)||!Od(i,a[i.slug])||(null==r?void 0:r.includes(i.slug)))&&!Xt(i));var s})):lN}(F,u,s,m,f,y);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=1/0;const a=[];for(const o of e){const e=(0,Ba.CS)(t[o].timestamp);e<n&&(n=e,a.push(`${cN}${e}`)),a.push(o)}return a}(e,u)}),[f,u,y,F,s,m]),U=R[0],W=de((()=>s?!(null==w||!w[s]):!!v),[w,v,s]),H=Po((()=>{s?T({slug:s,limit:60,shouldLoadWithBudget:!0}):I({limit:60,shouldLoadWithBudget:!0})})),$=$u(H,[H],iN,!0),[V,z,K]=qC($,R,void 0,30,s,a),q=function(e,t){const n=me();return n.current??={},xs((a=>{let[o=[],r={}]=a;const i=n.current,s=(0,c.oE)(o.map((e=>r[e]))),l=(0,c.oE)(e.map((e=>t[e]))),d=(0,c.V6)(hn(s,l));for(const{id:e}of l){const t=d[e];i[e]=(t&&i[t])??(0,we.A)()}const u=new Set(e);for(const e of Object.keys(i))u.has(e)||delete i[e]}),[e,t]),Po((e=>{var t;return(null===(t=n.current)||void 0===t?void 0:t[e])??e}))}(V??lN,u??dN),j=Boolean(a&&!M.current),Y=!R.length,G=de((()=>{const e={};let t=0;return R.forEach(((n,a)=>{const o=n.startsWith(cN)?2.125+(0===a?.5:0):ty(u[n]);e[n]={top:t,height:o},t+=o})),e}),[u,R]),Q=de((()=>{if(null==V||!V.length)return 0;const e=V[V.length-1],t=G[e];return t?t.top+t.height:0}),[G,V]);!function(e,t,a,o,r){jC((i=>{var s,c;let[l]=i;const d=$C(o.current,a);if(!(r.current&&d&&l&&e.length))return;const u=e[Math.floor(e.length/2)],m=null===(s=l[u])||void 0===s?void 0:s.top,p=null===(c=t[u])||void 0===c?void 0:c.top;void 0!==m&&void 0!==p&&m!==p&&(0,Cr.Uj)((()=>{d.scrollBy({top:(p-m)*n.$,behavior:"instant"})}))}),[t,e,o,r,a])}(V??lN,G,D,L,M),le((()=>{const e=L.current;e&&Ns(e,{height:x?"":`${Q}rem`})}),[x,Q]),ce((()=>{!W&&F&&Y&&$()}),[F,Y,W,$]),ce((()=>{a||x||(null==K||K(),M.current=!1)}),[a,x,K]);const X=Po((e=>{const t=e.target.scrollTop;M.current=t>=sN})),J=Po((e=>{B({id:e})}));if(o)return Y&&!k?ge.createElement("div",{className:kr(JC,"BUMeW3vl")},ge.createElement(Wg,null)):r?ge.createElement("div",{className:kr(x&&"HZCBxAlC")},ge.createElement(rN,{isActive:a,isMutlichainAccount:i,mode:x?"emptyList":"panel"})):W&&Y?ge.createElement("div",{className:JC},ge.createElement(Lp,{play:a,tgsUrl:rp.noData,previewUrl:rp.noDataPreview,size:e.igk,className:"L93gae4c",noLoop:!1,nonInteractive:!0}),ge.createElement("p",{className:"ddnxH_YM"},_("No Activity"))):ge.createElement(XC,{ref:L,className:kr("custom-scroll","fUr4n5dv"),scrollContainerClosest:VC(a,D),items:V,preloadBackwards:30,withAbsolutePositioning:!0,maxHeight:`${Q}rem`,onLoadMore:z,onScroll:X},function(){if(V)return V.map(((e,t)=>{var n;const a=(null===(n=G[e])||void 0===n?void 0:n.top)??0;let r;if(e.startsWith(cN))r=function(e,t){const n=(0,Ba.N5)(_,e),a=ge.createElement("div",{className:ZC},n);if(!t)return a;const o=ge.createElement("div",{className:kr(ZC,"vFLWFB14")},n,ge.createElement(Ms,{isActive:!0,isDoubled:!0,className:"Ig34AhI2"}));return ge.createElement(of,{name:"semiFade",activeKey:O?1:0,className:"ubrkPkql",slideClassName:"rHTS83Rc"},O?o:a)}(Number(e.slice(5)),e===U);else{const n=null==u?void 0:u[e];if(!n)return;const a=n.id===h,s=t===V.length-1||V[t+1].startsWith(cN);r=ge.createElement(ey,{activity:n,isLast:s,isActive:a,tokensBySlug:m,swapTokensBySlug:p,appTheme:P,isSensitiveDataHidden:C,nftsByAddress:S,currentAccountId:o,stakingStateBySlug:N,savedAddresses:g,withChainIcon:i,accounts:A,baseCurrency:E,onClick:J})}return ge.createElement(aN,{key:q(e),topOffset:a,withAnimation:j},r)}))}())}))),mN={container:"y_zyRtG4",button:"mDOHosrF",vestingIcon:"vKLHR9fe",percent:"JLnToFoo",readyToClaim:"T4MfMcFP",active:"gcp9pSal",iconArrow:"zzgzZR90",iconChevron:"WLJ2jON8",primaryCell:"MWjR4yCQ",secondaryCell:"zBTGbg76",subtitle:"v9EXZKHv",amountChange:"fvwKm83g",name:"IJaceq0j",name_text:"JMnoFXEt",nameText:"JMnoFXEt",secondaryValue:"yB7hzLme",secondaryValue_staked:"Fy56cR9i",secondaryValueStaked:"Fy56cR9i",change:"ka5acfM4",change_up:"VR0vGdiX",changeUp:"VR0vGdiX",change_down:"osD2vwqW",changeDown:"osD2vwqW",dot:"zJntRecr",label:"jN5w9AWO",apyLabel:"xWg00BgF",apyLabel_staked:"UeDUf_9U",apyLabelStaked:"UeDUf_9U",chainLabel:"B9HfGrEc",tokenIcon:"BcTpLjhN",secondaryValue_vesting:"rE0JGav4",secondaryValueVesting:"rE0JGav4",secondaryValue_vestingUnfreeze:"LHgVJV2I",secondaryValueVestingUnfreeze:"LHgVJV2I",wrapperVisible:"n7iUgDe0",menu:"ilWFIqJF"},pN=7*Ba.d_,fN="open-context-menu",hN=fe((function(t){let{ref:n,token:a,amount:o,stakingStatus:r,stakingState:i,vestingStatus:s,unfreezeEndDate:l,annualYield:d,isInvestorView:u,classNames:m,style:p,appTheme:f,isActive:h,baseCurrency:g,withChainIcon:v,withContextMenu:w,isSensitiveDataHidden:y,isStakingAvailable:b,isSwapDisabled:E,isViewMode:k,yieldType:C,onClick:N}=t;const{symbol:S,slug:A,amount:T,price:I,change24h:B,decimals:_}=a,x=Er(),{isPortrait:D}=ii();let L=me();const O=me(),P=Boolean(null==s?void 0:s.length),M=o??(0,Lt.nI)(T,_,!0),F=(0,Ot.z)(M).mul(I).toString(),R=B>0?mN.change_up:B<0?mN.change_down:void 0,U=Math.abs(Pt((W=Number(F))-W/(1+B),4));var W;const H=Math.abs(Pt(100*B,2)),$=!e.TI6&&void 0!==d,V=ir(g),z=Boolean(!P&&e.OZB[A]),K=null==i?void 0:i.id,q=function(t,n,a){return a?n.slug===e.wpN.slug?t("%token% Staking",{token:"Ethena"})[0]:t("%token% Staking",{token:n.name})[0]:n.name}(x,a,!!K),j=de((()=>aw(4,12,q)),[q]),Y=5+j%6;n&&(L=n);const{shouldRender:G,ref:Q}=Ls({isOpen:$,withShouldRender:!0}),X=Po((()=>{N(K??A)})),J=Po((()=>L.current)),Z=Po((()=>document.body)),ee=Po((()=>O.current)),te=Po((()=>({withPortal:!0,doNotCoverTrigger:D,topShiftY:D?void 0:4,preferredPositionX:"left"}))),{isContextMenuOpen:ne,isContextMenuShown:ae,contextMenuAnchor:oe,items:re,isBackdropRendered:ie,handleBeforeContextMenu:se,handleContextMenu:ce,handleContextMenuClose:le,handleContextMenuHide:ue,handleMenuItemSelect:pe}=function(t,n){const{openReceiveModal:a,startTransfer:o,startSwap:r,startStaking:i,openSettingsWithState:s,toggleTokenVisibility:l,setLandscapeActionsActiveTabIndex:d,setReceiveActiveTab:u,startUnstaking:m,startStakingClaim:p}=Ke(),{token:f,isPortrait:h,withContextMenu:g,isStakingAvailable:v,isSwapDisabled:w,isViewMode:y,stakingState:b}=n,{isContextMenuOpen:E,contextMenuAnchor:k,handleBeforeContextMenu:C,handleContextMenu:N,handleContextMenuClose:S,handleContextMenuHide:A}=iC({elementRef:t,isMenuDisabled:!g}),T=Qn(f),I=null==b?void 0:b.id,B=void 0!==k,_=b?"readyToClaim"===zd(b):void 0,x="jetton"===(null==b?void 0:b.type)?!!b.unclaimedRewards:void 0,D=de((()=>{const e=[!I&&{name:"Hide",fontIcon:"eye-closed",value:"hide"},{name:"Manage Tokens",fontIcon:"menu-params",withDelimiter:!(y&&I),value:"settings"}];if(y)return(0,c.oE)(e);const t=I?[("ethena"!==(null==b?void 0:b.type)||!_)&&{name:"ethena"===(null==b?void 0:b.type)?"Request Unstaking":"Unstake",fontIcon:"menu-send",value:"unstake"},{name:"Stake More",fontIcon:"menu-receive",value:"stakeMore"},(_||x)&&{name:"Claim Rewards",fontIcon:"menu-gem",value:"claimRewards"}]:[!T&&{name:"Add / Buy",fontIcon:"menu-plus",value:"add"},{name:"Send",fontIcon:"menu-send",value:"send"},!w&&{name:"Swap",fontIcon:"menu-swap",value:"swap"},v&&{name:"Stake",fontIcon:"menu-percent",value:"stake"}];return(0,c.oE)(t.concat(e))}),[_,x,v,w,y,I,null==b?void 0:b.type,T]),L=Po((t=>{switch(Zc(),t){case"add":h?a({chain:f.chain}):(u({chain:f.chain}),d({index:Un.Receive}));break;case"send":o({isPortrait:h,tokenSlug:f.slug});break;case"swap":r({tokenInSlug:f.slug,tokenOutSlug:f.slug===e.JhS?e.rKC:e.JhS});break;case"stake":case"stakeMore":i({tokenSlug:f.slug});break;case"settings":s({state:Fn.Assets});break;case"hide":l({slug:f.slug,shouldShow:!1});break;case"unstake":m({stakingId:I});break;case"claimRewards":p({stakingId:I})}S()}));return{isContextMenuOpen:E,isContextMenuShown:B,contextMenuAnchor:k,items:D,isBackdropRendered:h&&E,handleBeforeContextMenu:C,handleContextMenu:N,handleContextMenuClose:S,handleContextMenuHide:A,handleMenuItemSelect:L}}(L,{token:a,isPortrait:D,withContextMenu:w,isStakingAvailable:b,isSwapDisabled:E,isViewMode:k,stakingState:i});function fe(){const e=kr(mN.label,mN.apyLabel,r&&mN.apyLabel_staked);return ge.createElement("span",{ref:Q,className:e},C," ",d,"%")}function he(){if(0!==B)return ge.createElement("i",{className:kr(mN.iconArrow,B>0?"icon-arrow-up":"icon-arrow-down"),"aria-hidden":!0})}function ve(){return"active"===r?ge.createElement("i",{className:kr("icon-percent",mN.percent),"aria-hidden":!0}):"readyToClaim"===r?ge.createElement("i",{className:kr("icon-check-alt",mN.readyToClaim),"aria-hidden":!0}):ge.createElement(Lp,{play:!0,size:e.wg4,className:mN.percent,nonInteractive:!0,noLoop:!1,tgsUrl:rp[f].iconClockPurple,previewUrl:rp[f].preview.iconClockPurple})}const we=kr(mN.button,h&&mN.active,ne&&fN);return ge.createElement("div",{className:kr(mN.container,m),style:p},ge.createElement(py,{isMenuOpen:ie,contentRef:L,contentClassName:mN.wrapperVisible}),u?ge.createElement(Rs,{ref:L,isSimple:!0,className:we,onMouseDown:se,onContextMenu:ce,onClick:X},ge.createElement(yw,{size:"large",token:a,withChainIcon:v,className:mN.tokenIcon},ge.createElement(ge.Fragment,null,r&&ve(),s&&ge.createElement("i",{className:kr("frozen"===s?"icon-snow":"icon-fire",mN.vestingIcon),"aria-hidden":!0}))),ge.createElement("div",{className:mN.primaryCell},ge.createElement("div",{className:mN.name},ge.createElement("span",{className:mN.nameText},q),G&&fe(),z&&ge.createElement("span",{className:kr(mN.label,mN.chainLabel)},e.OZB[A])),ge.createElement("div",{className:mN.subtitle},ge.createElement(Aw,{isActive:y,cols:Y,rows:2,cellSize:8},ge.createElement(NC,{text:nr(M,S)})),ge.createElement("i",{className:mN.dot,"aria-hidden":!0}),ge.createElement(NC,{text:nr(I,V,void 0,!0)}))),ge.createElement("div",{className:mN.secondaryCell},ge.createElement(Aw,{isActive:y,cols:j,rows:2,cellSize:8,align:"right",className:kr(mN.secondaryValue,r&&mN.secondaryValue_staked,P&&mN.secondaryValue_vesting,P&&"readyToUnfreeze"===s&&mN.secondaryValue_vestingUnfreeze)},ge.createElement(NC,{text:nr(F,V)})),l?ge.createElement("div",{className:kr(mN.change,l-Date.now()<pN&&mN.change_down)},x("Unfreeze")," ",x("until %date%",{date:`${(0,Ba.TK)(x.code,l)}`})):ge.createElement(Aw,{isActive:y,cols:Y,rows:2,cellSize:8,align:"right",className:kr(mN.change,R)},he(),ge.createElement(NC,{text:String(H)}),"%",ge.createElement("i",{className:mN.dot,"aria-hidden":!0}),ge.createElement(NC,{text:nr(U,V,void 0,!0)})))):function(){const t=(0,Ot.z)(M).mul(I),n=void 0!==d;return ge.createElement(Rs,{ref:L,isSimple:!0,className:we,onMouseDown:se,onContextMenu:ce,onClick:X},ge.createElement(yw,{token:a,size:"large",withChainIcon:v,className:mN.tokenIcon},ge.createElement(ge.Fragment,null,r&&ve(),s&&ge.createElement("i",{className:kr("frozen"===s?"icon-snow":"icon-fire",mN.vestingIcon),"aria-hidden":!0}))),ge.createElement("div",{className:mN.primaryCell},ge.createElement("div",{className:mN.name},ge.createElement("span",{className:mN.nameText},q),n&&fe(),z&&ge.createElement("span",{className:kr(mN.label,mN.chainLabel)},e.OZB[A])),ge.createElement("div",{className:mN.subtitle},ge.createElement(NC,{text:nr(I,V,void 0,!0)}),!r&&ge.createElement(ge.Fragment,null,ge.createElement("i",{className:mN.dot,"aria-hidden":!0}),l?ge.createElement("span",{className:l-Date.now()<pN&&mN.change_down},x("Unfreeze")," ",x("until %date%",{date:`${(0,Ba.TK)(x.code,l)}`})):ge.createElement("span",{className:R},he(),ge.createElement(NC,{text:String(H)}),"%")))),ge.createElement("div",{className:mN.secondaryCell},ge.createElement(Aw,{isActive:y,cols:j,rows:2,cellSize:8,align:"right",className:kr(mN.secondaryValue,r&&mN.secondaryValue_staked,P&&mN.secondaryValue_vesting,P&&"readyToUnfreeze"===s&&mN.secondaryValue_vestingUnfreeze)},ge.createElement(NC,{text:nr(M,S)})),ge.createElement(Aw,{isActive:y,cols:Y,rows:2,cellSize:8,align:"right",className:mN.subtitle},t.gt(0)?"≈":""," ",ge.createElement(NC,{text:nr(t,V,void 0,!0)}))))}(),w&&ae&&ge.createElement(Ah,{ref:O,withPortal:!0,shouldTranslateOptions:!0,isOpen:ne,items:re,menuAnchor:oe,bubbleClassName:mN.menu,fontIconClassName:mN.menuIcon,getTriggerElement:J,getRootElement:Z,getMenuElement:ee,getLayout:te,onSelect:pe,onClose:le,onCloseAnimationEnd:ue}))})),gN={wrapper:"EmokOdHM",wrapperLoading:"QP7e6eAO",emptyList:"XSZ9FBiN",emptyListSeparate:"SHa5wmx_",noTokens:"KNRqFMNX",noTokens_text:"XwRCmsa8",noTokensText:"XwRCmsa8",noTokens_header:"qDi9Fjks",noTokensHeader:"qDi9Fjks",noTokens_description:"Lxfq6_5v",noTokensDescription:"Lxfq6_5v",openSettingsButton:"L2IEb5c3"},vN=fe(je((e=>{var t;const n=e.currentAccountId,a=Ft(e),o=na(e),r=st(e),{isInvestorViewEnabled:i}=e.settings,s=ga(e,n),c=St(e);return{tokens:a,swapTokens:o,vesting:null==r||null===(t=r.vesting)||void 0===t?void 0:t.info,isInvestorViewEnabled:i,currentTokenSlug:null==r?void 0:r.currentTokenSlug,baseCurrency:e.settings.baseCurrency,mycoin:Vt(e),isMultichainAccount:kt(e,e.currentAccountId),isSensitiveDataHidden:e.settings.isSensitiveDataHidden,theme:e.settings.theme,states:s,isViewMode:c,isSwapDisabled:ia(e),isStakingDisabled:Ea(e)}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isActive:n,tokens:a,swapTokens:o,vesting:r,isInvestorViewEnabled:i,isSeparatePanel:s,currentTokenSlug:l,onTokenClick:d,onStakedTokenClick:u,baseCurrency:m,mycoin:p,isMultichainAccount:f,isSensitiveDataHidden:h,theme:g,states:v,isViewMode:w,isSwapDisabled:y,isStakingDisabled:b}=t;const E=Er(),{openSettingsWithState:k}=Ke(),C=me(),N=hh(a,!0),S=hh(p,!0),A=de((()=>{if(N&&S)return N.find((e=>{let{slug:t}=e;return t===S.slug}))}),[S,N]),{isLandscape:T,isPortrait:I}=ii(),B=gf(g),_=de((()=>e.TI6?[]:(null==v?void 0:v.filter(Kd))??[]),[v]),x=de((()=>_.reduce(((e,t)=>{const n=null==a?void 0:a.find((e=>{let{slug:n}=e;return n===t.tokenSlug}));return n&&(e[t.tokenSlug]={token:n,state:t}),e}),{})),[a,_]),D=de((()=>(0,c.dU)(o??[],"slug")),[o]),{shouldRender:L}=Ls({isOpen:Boolean(Object.keys(x).length),withShouldRender:!0}),{ref:O,shouldRender:P,amount:M,vestingStatus:F,unfreezeEndDate:R,onVestingTokenClick:U}=function(e){let{vesting:t,userMycoin:n,isDisabled:a}=e;const{loadMycoin:o,openVestingModal:r}=Ke(),i=!a&&Boolean(null==t?void 0:t.length),s=Boolean(n);ce((()=>{!s&&i&&o()}),[i,s]);const c=de((()=>{if(i)return wk(t,["frozen","ready"])}),[i,t]),l=de((()=>{if(i)for(const{parts:e}of t)for(const t of e)if("ready"===t.status)return new Date(t.timeEnd).getTime()}),[i,t]),{shouldRender:d,ref:u}=Ls({isOpen:Boolean(i&&s&&n&&"0"!==c),withShouldRender:!0});return{shouldRender:d,ref:u,amount:c,vestingStatus:l?"readyToUnfreeze":"frozen",unfreezeEndDate:l,onVestingTokenClick:Po((()=>{r()}))}}({vesting:r,userMycoin:A,isDisabled:e.TI6}),W=de((()=>null==N?void 0:N.filter((e=>{let{isDisabled:t}=e;return!t})).map((e=>{let{slug:t}=e;return t}))),[N]),[H,$]=qC(void 0,W,void 0,void 0,void 0,n,I),V=de((()=>{if(!H)return-1;let e=W.indexOf(H[0]);return L&&(e+=Object.keys(x).length),P&&e++,e}),[L,P,W,H,x]),z=de((()=>N?(0,c.dU)(N,"slug"):void 0),[N]),K=W&&W.length>30,q=de((()=>{if(K&&null!=H&&H.length&&!(V<0))return 4*(V+H.length)}),[V,null==H?void 0:H.length,K]);le((()=>{const e=C.current;e&&Ns(e,{height:q&&!T?`${q}rem`:""})}),[T,q]);const j=Po((()=>{k({state:Fn.Assets})})),Y=(0,c.dU)(v??[],"tokenSlug");return P||L||null!=W&&W.length?ge.createElement(XC,{ref:C,className:kr(gN.wrapper,s&&!N&&gN.wrapperLoading),scrollContainerClosest:VC(n,I),items:H,itemSelector:".token-list-item",withAbsolutePositioning:K,maxHeight:void 0===q?void 0:`${q}rem`,onLoadMore:$},!N&&ge.createElement("div",{key:"loading",className:s?gN.emptyListSeparate:gN.emptyList},ge.createElement(Wg,null)),P&&ge.createElement(hN,{ref:O,key:"vesting",token:A,vestingStatus:F,unfreezeEndDate:R,amount:M,isInvestorView:i,baseCurrency:m,appTheme:B,isSensitiveDataHidden:h,onClick:U}),L&&Object.values(x).map((e=>{let{state:t,token:n}=e;const{id:a,annualYield:o,yieldType:r}=t,s=zd(t),c=jd(t);return ge.createElement(hN,{key:`staking-${a}`,token:n,stakingStatus:s,annualYield:o,yieldType:r,amount:(0,Lt.nI)(c,n.decimals),isInvestorView:i,baseCurrency:m,appTheme:B,isSensitiveDataHidden:h,withContextMenu:!0,isViewMode:w,isSwapDisabled:y,stakingState:t,onClick:u})})),null==H?void 0:H.map(((e,t)=>function(e,t){const n=K?`position: absolute; top: ${4*(V+t)}rem`:void 0,{annualYield:a,yieldType:o}=!(e.slug in x)&&Y[e.slug]||{},r=Boolean(!b&&Y[e.slug]),s=Boolean(D[e.slug]);return ge.createElement(hN,{classNames:"token-list-item",style:n,key:e.slug,token:e,annualYield:a,yieldType:o,isInvestorView:i,isActive:e.slug===l,baseCurrency:m,withChainIcon:f,appTheme:B,isSensitiveDataHidden:h,withContextMenu:!0,isViewMode:w,isStakingAvailable:r,isSwapDisabled:y||!s,onClick:d})}(z[e],t)))):ge.createElement("div",{className:gN.noTokens},ge.createElement(Lp,{tgsUrl:rp.noData,previewUrl:rp.noDataPreview,size:e.jzp,nonInteractive:!0,noLoop:!1,className:gN.sticker}),ge.createElement("div",{className:gN.noTokensText},ge.createElement("span",{className:gN.noTokensHeader},E("No tokens yet")),ge.createElement("span",{className:gN.noTokensDescription},E("$no_tokens_description")),ge.createElement(Rs,{onClick:j,isPrimary:!0,isSmall:!0,className:gN.openSettingsButton},E("Add Tokens"))))}))),wN="aKYq5U9K",yN="_XXYEoWI",bN="bCLB_xx7",EN="ADFSqjjF",kN="L1JCMSY4",CN="vvSB5YmR",NN="X205Pp2C",SN="S3NdyNSK",AN="lRocmYkd",TN=fe(je((e=>{var t;const{byAddress:n,currentCollectionAddress:a,collectionTabs:o,dnsExpiration:r}=(null===(t=st(e))||void 0===t?void 0:t.nfts)||{};return{currentCollectionAddress:a,nfts:n,isTestnet:e.settings.isTestnet,isViewMode:St(e),collectionTabs:o,dnsExpiration:r}}),((e,t,n)=>{var a;const{currentCollectionAddress:o}=(null===(a=st(e))||void 0===a?void 0:a.nfts)||{};return n(o)}))((function(t){let{currentCollectionAddress:n,nfts:a,isTestnet:o,isViewMode:r,collectionTabs:i,dnsExpiration:s}=t;const{closeNftCollection:l,selectNfts:d,startTransfer:u,burnNfts:m,openHideNftModal:p,addCollectionTab:f,removeCollectionTab:h,openDomainRenewalModal:g}=Ke(),v=Er(),[w,y]=ie(),b=Boolean(w),E=me(),k=me(),C=n===e.X6R,N=de((()=>n&&a?Object.values(a).filter((e=>C&&e.isTelegramGift||e.collectionAddress===n)):[]),[n,C,a]),S=de((()=>{if(n!==e.nQN)return;const t=(0,ua.ZC)(N,void 0,s);return t?(0,Ba.GS)(t):void 0}),[N,n,s]),A=C?v("Telegram Gifts"):N[0].collectionName??v("Unnamed Collection"),T=de((()=>{const t=null==i?void 0:i.includes(n);return(0,c.oE)([!r&&{name:"Send All",value:"sendAll"},N[0].isOnFragment&&{name:"Fragment",value:"fragment",fontIcon:"external"},{name:"Getgems",value:"getgems",fontIcon:"external"},!C&&{name:$o("ton"),value:"tonExplorer",fontIcon:"external"},!r&&n===e.nQN&&{name:N.length>1?"Renew All":"Renew",value:"renew",description:S&&S<0?N.length>1?"$expired_many":"Expired":v("$expires_in %days%",{days:v("$in_days",S)},void 0,N.length)},!e.TI6&&{name:"Hide All",value:"hideAll"},!r&&{name:"Burn All",value:"burnAll",isDangerous:!0},{name:"Select All",value:"selectAll",withDelimiter:!0},{name:v(t?"Remove Tab":"Add Tab"),value:t?"removeTab":"addTab"}])}),[N,i,n,S,C,r,v]);Ui({isActive:!0,onBack:l}),ce((()=>wh(l)),[]);const I=Po((()=>E.current)),B=Po((()=>document.body)),_=Po((()=>k.current)),x=Po((()=>({withPortal:!0}))),D=Po((t=>{switch(t){case"sendAll":u({nfts:N.filter((e=>{let{isOnSale:t}=e;return!t})),isPortrait:si()});break;case"getgems":{const t=o?e.PKm:e.wln;ec(C?`${t}top-gifts`:`${t}collection/${n}`);break}case"tonExplorer":{const e=function(e,t){if(e)return`${Vo("ton",t)}nft/${e}`}(n,o);e&&ec(e);break}case"fragment":C?ec("https://fragment.com/gifts"):n===e.q5n[0]?ec("https://fragment.com/numbers"):n===e.q5n[1]?ec("https://fragment.com"):ec(`https://fragment.com/gifts/${A.toLowerCase().replace(/\W/g,"").replace(/s$/,"")}`);break;case"selectAll":d({addresses:N.filter((e=>{let{isOnSale:t}=e;return!t})).map((e=>{let{address:t}=e;return t}))});break;case"burnAll":m({nfts:N.filter((e=>{let{isOnSale:t}=e;return!t}))});break;case"hideAll":p({addresses:N.map((e=>e.address)),isCollection:!0});break;case"addTab":f({collectionAddress:n});break;case"removeTab":l(),h({collectionAddress:n});break;case"renew":g({addresses:N.map((e=>e.address))})}})),L=Po((()=>{const{right:e,bottom:t}=E.current.getBoundingClientRect();y({x:e,y:t})})),O=Po((()=>{y(void 0)}));return ge.createElement("div",{className:wN},ge.createElement(Rs,{isSimple:!0,isText:!0,ariaLabel:v("Back"),className:yN,onClick:l},ge.createElement("i",{className:kr(bN,"icon-chevron-left"),"aria-hidden":!0})),ge.createElement("div",{className:EN},ge.createElement("div",{className:kN},A),ge.createElement("div",{className:"hsn7RdaK"},N.length>1?v("%amount% NFTs",{amount:N.length}):v("1 NFT"))),ge.createElement(Rs,{isSimple:!0,ref:E,className:CN,onClick:L,ariaLabel:v("Open Menu")},ge.createElement("i",{className:"icon-menu-dots","aria-hidden":!0})),ge.createElement(Ah,{isOpen:b,ref:k,withPortal:!0,shouldTranslateOptions:!0,menuPositionX:"right",menuAnchor:w,getTriggerElement:I,getRootElement:B,getMenuElement:_,getLayout:x,buttonClassName:SN,bubbleClassName:NN,itemDescriptionClassName:AN,items:T,onSelect:D,onClose:O}))}))),IN=fe((function(e){let{id:t,name:n,value:a,isChecked:o,className:r,onChange:i}=e;return ge.createElement("div",{className:kr("OyHWXuOj",r,o&&"BCTrjQeD")},ge.createElement("input",{id:t,type:"radio",name:n,className:"visually-hidden",value:a,checked:o,onChange:i}))}));function BN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[n,a]=ie(e);return ce((()=>{if(e===n)return;const o=window.setTimeout((()=>{a(e)}),t);return()=>{window.clearTimeout(o)}}),[e,t,n]),n}const _N={name:"Cannot be sent",value:"send",description:"NFT is for sale",isDisabled:!0},xN={name:"Configure DNS",value:"tondns",fontIcon:"external"},DN={name:"Send",value:"send"},LN={name:"Fragment",value:"fragment",fontIcon:"external"},ON={name:"Getgems",value:"getgems",fontIcon:"external"},PN={name:$o("ton"),value:"tonExplorer",fontIcon:"external"},MN={name:"Collection",value:"collection"},FN={name:"Hide",value:"hide"},RN={name:"Renew",value:"renew"},UN={name:"Not Scam",value:"not_scam"},WN={name:"Unhide",value:"unhide"},HN={name:"Burn",value:"burn",isDangerous:!0},$N={name:"Select",value:"select",withDelimiter:!0},VN={name:"Install Card",value:"installCard"},zN={name:"Reset Card",value:"resetCard"},KN={name:"Apply Palette",value:"installAccentColor"},qN={name:"Reset Palette",value:"resetAccentColor"},jN={name:"Link to Wallet",value:"linkDomain"},YN={name:"Change Wallet",value:"linkDomain"};function GN(t){let{nft:n,isViewMode:a,dnsExpireInDays:o,linkedAddress:r,isNftBlacklisted:i,isNftWhitelisted:s,isNftInstalled:l,isNftAccentColorInstalled:d}=t;const{startTransfer:u,selectNfts:m,openNftCollection:p,burnNfts:f,addNftsToBlacklist:h,addNftsToWhitelist:g,closeMediaViewer:v,closeNftAttributesModal:w,openUnhideNftModal:y,setCardBackgroundNft:b,clearCardBackgroundNft:E,installAccentColorFromNft:k,clearAccentColorFromNft:C,openDomainRenewalModal:N,openDomainLinkingModal:S}=Ke(),A=Er();function T(){v(),w()}const I=Po(((t,a)=>{const{isTestnet:o}=Ve().settings,r=(null==a?void 0:a.shiftKey)||(null==a?void 0:a.ctrlKey)||(null==a?void 0:a.metaKey);switch(t){case"send":u({isPortrait:si(),nfts:[n]}),T();break;case"tonExplorer":ec(qo(n.address,o),{isExternal:r});break;case"getgems":{const t=o?e.PKm:e.wln;ec(n.collectionAddress?`${t}collection/${n.collectionAddress}/${n.address}`:`${t}nft/${n.address}`,{isExternal:r});break}case"tondns":ec(`https://dns.ton.org/#${(n.name||"").replace(/\.ton$/i,"")}`,{isExternal:r});break;case"installCard":b({nft:n}),k({nft:n});break;case"resetCard":E(),C();break;case"installAccentColor":k({nft:n});break;case"resetAccentColor":C();break;case"fragment":{let e;const{collectionName:t,name:a,metadata:{fragmentUrl:o}}=n;e=o||(null!=t&&t.toLowerCase().includes("numbers")?`https://fragment.com/number/${null==a?void 0:a.replace(/[^0-9]/g,"")}`:`https://fragment.com/username/${encodeURIComponent((null==a?void 0:a.substring(1))||"")}`),ec(e,{isExternal:r});break}case"collection":p({address:n.collectionAddress},{forceOnHeavyAnimation:!0}),T();break;case"hide":h({addresses:[n.address]}),T();break;case"not_scam":y({address:n.address,name:n.name});break;case"unhide":g({addresses:[n.address]}),T();break;case"burn":f({nfts:[n]}),T();break;case"select":m({addresses:[n.address]});break;case"renew":N({addresses:[n.address]});break;case"linkDomain":S({address:n.address})}}));return{menuItems:de((()=>{if(!n)return[];const{collectionAddress:t,isOnSale:u,isOnFragment:m,isScam:p}=n,f=(0,ua.bU)(n),h=!e.TI6&&n.collectionAddress===e.qL;return(0,c.oE)([!a&&(u?_N:DN),!a&&f&&!u&&void 0!==o&&{...RN,description:o<0?"Expired":A("$expires_in %days%",{days:A("$in_days",o)},void 0,1)},!a&&f&&!u&&(r?YN:jN),!e.TI6&&(!p&&!i||s)&&FN,!e.TI6&&p&&!s&&UN,!e.TI6&&!p&&i&&WN,...u||a?[]:[HN,$N],t&&MN,f&&!a&&xN,...h?[l?zN:VN]:[],...h?[d?qN:KN]:[],m&&LN,ON,PN])}),[n,a,o,A,r,i,s,l,d]),handleMenuItemSelect:I}}const QN=fe(je(((e,t)=>{let{nft:n}=t;const{blacklistedNftAddresses:a,whitelistedNftAddresses:o}=st(e)||{},{cardBackgroundNft:r,accentColorNft:i}=dt(e)||{},s=ka(e,n);return{blacklistedNftAddresses:a,whitelistedNftAddresses:o,cardBackgroundNft:r,accentColorNft:i,isViewMode:St(e),linkedAddress:s}}))((function(e){let{isViewMode:t,isContextMenuMode:n,nft:a,ref:o,dnsExpireInDays:r,linkedAddress:i,menuAnchor:s,blacklistedNftAddresses:c,whitelistedNftAddresses:l,cardBackgroundNft:d,accentColorNft:u,className:m,onOpen:p,onClose:f,onCloseAnimationEnd:h}=e;const g=de((()=>null==c?void 0:c.includes(a.address)),[a,c]),v=de((()=>null==l?void 0:l.includes(a.address)),[a,l]),w=BN(a&&a.address===(null==d?void 0:d.address),Ch),y=BN(a&&a.address===(null==u?void 0:u.address),Ch),{menuItems:b,handleMenuItemSelect:E}=GN({nft:a,isViewMode:t,dnsExpireInDays:r,linkedAddress:i,isNftBlacklisted:g,isNftWhitelisted:v,isNftInstalled:w,isNftAccentColorInstalled:y});let k=me();const C=me(),N=Boolean(s);o&&(k=o);const S=Po((()=>k.current)),A=Po((()=>document.body)),T=Po((()=>C.current)),I=Po((()=>({withPortal:!0,topShiftY:n?4:0,preferredPositionX:n?"left":"right"}))),B=Er();return ge.createElement(ge.Fragment,null,ge.createElement("button",{ref:k,type:"button",className:kr("Zwrm7aDb",m),"aria-label":B("NFT Menu"),onClick:e=>{Co(e),N?f():(Zc(),p())}},ge.createElement("i",{className:kr("lGtsxpv1","icon-menu-dots"),"aria-hidden":!0})),ge.createElement(Ah,{isOpen:N,ref:C,withPortal:!0,menuAnchor:s,menuPositionX:"right",getTriggerElement:n?void 0:S,getRootElement:A,getMenuElement:T,getLayout:I,items:b,shouldTranslateOptions:!0,className:n?"kuj1PIIl":"Pc0Y7YGI",bubbleClassName:"UhvMK8mg",buttonClassName:"AZjbQROQ",itemDescriptionClassName:"XbyfBxfu",shouldCleanup:!0,onClose:f,onCloseAnimationEnd:h,onSelect:E}))}))),XN="ITYna3lB",JN="P5UTNS9t",ZN="O3ePb4wF",eS="wvB9itFX",tS="xeApkBtH",nS=fe((function(t){let{nft:a,selectedAddresses:o,tonDnsExpiration:r,observeIntersection:i,isViewAccount:s}=t;const{selectNfts:c,clearNftSelection:l,openDomainRenewalModal:d,openNftAttributesModal:u}=Ke(),m=Er(),p=me(),{isLottie:f,shouldPlay:h,noLoop:g,markHover:v,unmarkHover:w}=function(e,t,a){var o;const r=Boolean(null===(o=e.metadata)||void 0===o?void 0:o.lottie),i=_s(Dh(t,r?a:void 0,void 0)),[s,c,l]=Ru();if(!r)return{isLottie:r};return{isLottie:r,shouldPlay:i||s,noLoop:!s,...!(n.pz||n.Ni)&&{markHover:c,unmarkHover:l}}}(a,p,i),[y,b]=ie(),E=!!o&&o.length>0,k=de((()=>null==o?void 0:o.includes(a.address)),[o,a.address]),C=Boolean(y),N=r?(0,Ba.GS)(r):void 0,S=void 0!==N&&N<=e.tI4,{shouldRender:A,ref:T}=Ls({isOpen:E&&a.isOnSale,withShouldRender:!0}),{isContextMenuOpen:I,contextMenuAnchor:B,handleBeforeContextMenu:_,handleContextMenu:x,handleContextMenuHide:D,handleContextMenuClose:L}=iC({elementRef:p}),O=kr("wdIabR9U",!E&&a.isOnSale&&"TcBQN9hf",C&&"AFzPXqVX",E&&a.isOnSale&&ZN);function P(e){Co(e),d({addresses:[a.address]})}const M=Po((()=>{b(B)})),F=Po((()=>{const{right:e,y:t}=p.current.getBoundingClientRect();b({x:e,y:t})})),R=Po((()=>{b(void 0),L()}));function U(){return ge.createElement("button",{type:"button",className:kr("VpqrQ0wB",s&&ZN),onClick:s?void 0:P},N<0?"Expired":m("$expires_in %days%",{days:m("$in_days",N)},void 0,1))}return Ee((()=>{I?M():R()}),[I]),ge.createElement("div",{key:a.address,ref:p,className:O,onMouseEnter:v,onMouseLeave:w,onClick:E&&a.isOnSale?void 0:function(){E?k?l({address:a.address}):c({addresses:[a.address]}):(Zc(),u({nft:a}))},onMouseDown:_,onContextMenu:x},E&&!a.isOnSale&&ge.createElement(IN,{isChecked:k,name:"nft",value:a.address,className:"VqbpRLGL"}),!E&&ge.createElement(QN,{nft:a,isContextMenuMode:Boolean(B),dnsExpireInDays:N,menuAnchor:y,onOpen:F,onClose:R,onCloseAnimationEnd:D}),f?ge.createElement("div",{className:eS},ge.createElement(Lp,{shouldStretch:!0,play:h,noLoop:g,tgsUrl:a.metadata.lottie,previewUrl:a.thumbnail,noPreviewTransition:!0,className:kr(JN,k&&tS)}),S&&U()):ge.createElement(wf,{url:a.thumbnail,className:eS,imageClassName:kr(JN,k&&tS)},S&&U()),A&&ge.createElement("div",{ref:T,className:"qtSm9QOQ"},m("For sale. Cannot be sent and burned")),ge.createElement("div",{className:"v0SE1VHL"},ge.createElement("b",{className:"KokxXqZI"},a.name||(0,qt.W)(a.address,4))),ge.createElement("div",{className:"_xEjK2pw"},a.collectionName))})),aS=fe(je((e=>{var t;const{orderedAddresses:n,byAddress:a,currentCollectionAddress:o,selectedAddresses:r,dnsExpiration:i}=(null===(t=st(e))||void 0===t?void 0:t.nfts)||{},{isNftBuyingDisabled:s}=e.restrictions,{blacklistedNftAddresses:c,whitelistedNftAddresses:l}=st(e)||{};return{orderedAddresses:n,selectedAddresses:r,byAddress:a,currentCollectionAddress:o,blacklistedNftAddresses:c,whitelistedNftAddresses:l,isNftBuyingDisabled:s,dnsExpiration:i,isViewAccount:St(e)}}),((e,t,n)=>{var a;const{currentCollectionAddress:o}=(null===(a=st(e))||void 0===a?void 0:a.nfts)||{};return n(`${e.currentAccountId}_${o||"all"}`)}))((function(t){let{isActive:n,orderedAddresses:a,selectedAddresses:o,byAddress:r,currentCollectionAddress:i,dnsExpiration:s,isNftBuyingDisabled:c,blacklistedNftAddresses:l,whitelistedNftAddresses:d,isViewAccount:u}=t;const{clearNftsSelection:m}=Ke(),p=Er(),f=me(),{isPortrait:h,isLandscape:g}=ii(),v=Boolean(null==o?void 0:o.length),[w,y]=ie(!1),b=VC(!0,h)||".nfts-container";ce(m,[m,n,i]),ce((()=>v?wh(m):void 0),[v]);const E=de((()=>{if(!a||!r)return;const t=new Set(l),n=new Set(d),o=a.reduce(((a,o)=>{const s=r[o];return!s||i&&s.collectionAddress!==i&&(i!==e.X6R||!s.isTelegramGift)||s.isHidden&&!n.has(s.address)||t.has(s.address)||a.push(s),a}),[]);return w?o:o.slice(0,50)}),[r,i,a,l,d,w]),k=Po((()=>{var e;const t=null===(e=f.current)||void 0===e?void 0:e.closest(b);if(!t||w)return;const{scrollTop:n,scrollHeight:a,clientHeight:o}=t;a-n-o<=800&&y(!0)}));le((()=>{var e;if(!b||null==E||!E.length)return;const t=null===(e=f.current)||void 0===e?void 0:e.closest(b);return t?(t.addEventListener("scroll",k),()=>{t.removeEventListener("scroll",k)}):void 0}),[null==E?void 0:E.length,b]);const{observe:C}=xh({throttleMs:200,isDisabled:!(null!=E&&E.length)});return void 0===E?ge.createElement("div",{className:kr(XN,"AmFNUCBn")},ge.createElement(Wg,null)):0===E.length?ge.createElement("div",{className:XN},ge.createElement(Lp,{play:n,tgsUrl:rp.happy,previewUrl:rp.happyPreview,size:h?e.jzp:e.igk,className:"e1KDXttI",noLoop:!1,nonInteractive:!0}),ge.createElement("div",{className:"VvA3zcqe"},ge.createElement("p",{className:"dfDaqpor"},p("No NFTs yet")),!c&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:"T93VHAYd"},Qo(p("$nft_explore_offer"),h?["simple_markdown"]:void 0)),ge.createElement("button",{type:"button",className:"MQHqPBS8",onClick:function(t){Co(t),ec(e.FgL,{title:e.Ia6,subtitle:Ho(e.FgL)})}},p("Open %nft_marketplace%",{nft_marketplace:e.Ia6}))))):ge.createElement(of,{ref:f,name:"fade",activeKey:E.length,shouldCleanup:!0,slideClassName:kr("dpiMguJa",g&&"UaTzvOas")},E.map((e=>ge.createElement(nS,{key:e.address,nft:e,selectedAddresses:o,tonDnsExpiration:(0,ua.Cz)(e,s),isViewAccount:u,observeIntersection:C}))))}))),oS=fe(je((e=>{var t;const{selectedAddresses:n,byAddress:a,currentCollectionAddress:o,dnsExpiration:r}=(null===(t=st(e))||void 0===t?void 0:t.nfts)||{};return{selectedAddresses:n,byAddress:a,currentCollectionAddress:o,dnsExpiration:r,isViewMode:St(e)}}))((function(t){let{isViewMode:n,selectedAddresses:a,byAddress:o,dnsExpiration:r,currentCollectionAddress:i}=t;const{selectAllNfts:s,clearNftsSelection:l,startTransfer:d,burnNfts:u,openHideNftModal:m,openDomainRenewalModal:p}=Ke(),f=Er(),h=(null==a?void 0:a.length)??1,g=Boolean(null==a?void 0:a.length),v=de((()=>!(null==a||!a.length)&&a.every((e=>(0,ua.bU)(null==o?void 0:o[e])))),[o,a]),w=de((()=>{if(!v)return;const e=(0,ua.ZC)(a??[],o,r);return e?(0,Ba.GS)(e):void 0}),[v,r,a,o]),y=((null==a?void 0:a.length)??0)>1;Ui({isActive:g,onBack:l}),ce((()=>g?wh(l):void 0),[g]);const b=de((()=>(0,c.oE)([!n&&{name:"Send",value:"send"},!n&&v&&{name:y?"Renew All":"Renew",value:"renew",description:w&&w<0?y?"$expired_many":"Expired":f("$expires_in %days%",{days:f("$in_days",w)},void 0,(null==a?void 0:a.length)??1)},!e.TI6&&{name:"Hide",value:"hide"},!n&&{name:"Burn",value:"burn",isDangerous:!0},{name:"Select All",value:"select-all",withDelimiter:!0}])),[v,w,n,f,null==a?void 0:a.length,y]),E=Po((()=>{const e=a.map((e=>o[e]))??[];l(),d({isPortrait:si(),nfts:e})})),k=Po((()=>{const e=a.map((e=>o[e]))??[];l(),u({nfts:e})})),C=Po((()=>{l(),m({addresses:a,isCollection:!1})})),[N,S]=ie(),A=Boolean(N),T=me(),I=me(),B=Po((()=>{const{right:e,bottom:t}=T.current.getBoundingClientRect();S({x:e,y:t})})),_=Po((()=>{S(void 0)})),x=Po((()=>T.current)),D=Po((()=>document.body)),L=Po((()=>I.current)),O=Po((()=>({withPortal:!0}))),P=Po((e=>{switch(e){case"send":E();break;case"hide":C();break;case"burn":k();break;case"select-all":s({collectionAddress:i});break;case"renew":p({addresses:a})}}));return ge.createElement("div",{className:wN},ge.createElement(Rs,{isSimple:!0,isText:!0,ariaLabel:f("Back"),className:yN,onClick:l},ge.createElement("i",{className:kr(bN,"icon-chevron-left"),"aria-hidden":!0})),ge.createElement("div",{className:EN},ge.createElement("div",{className:kN},h>1?f("%amount% NFTs Selected",{amount:h}):f("1 NFT Selected"))),ge.createElement("div",null,ge.createElement(Rs,{isSimple:!0,ref:T,className:CN,onClick:B,ariaLabel:f("Open Menu")},ge.createElement("i",{className:"icon-menu-dots","aria-hidden":!0})),ge.createElement(Ah,{isOpen:A,ref:I,withPortal:!0,shouldTranslateOptions:!0,menuPositionX:"right",menuAnchor:N,getTriggerElement:x,getRootElement:D,getMenuElement:L,getLayout:O,buttonClassName:SN,bubbleClassName:NN,itemDescriptionClassName:AN,items:b,onSelect:P,onClose:_})))}))),rS="Sd0JpmLp",iS=Object.values(Wn).length/2;let sS=0;const cS=fe(je((e=>{var t;const n=e.currentAccountId,{activeContentTab:a,blacklistedNftAddresses:o,whitelistedNftAddresses:r,selectedNftsToHide:i,vesting:s,nfts:{byAddress:c,currentCollectionAddress:l,selectedAddresses:d,collectionTabs:u}={},currentSiteCategoryId:m}=st(e)??{},p=Ft(e),f=ht(e.currentAccountId)(p),h=Boolean(null==s||null===(t=s.info)||void 0===t?void 0:t.length),g=n?ga(e,n):void 0,v=function(e){const t=rt(e);return Boolean(null==t?void 0:t.addressByChain.ton)}(e);return{nfts:c,currentCollectionAddress:l,selectedAddresses:d,tokensCount:f,activeContentTab:a,blacklistedNftAddresses:o,whitelistedNftAddresses:r,selectedNftsToHide:i,states:g,hasVesting:h,currentSiteCategoryId:m,isFullscreen:e.isFullscreen,doesSupportNft:v,collectionTabs:u}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{activeContentTab:a,tokensCount:o,nfts:r,currentCollectionAddress:i,selectedAddresses:s,onStakedTokenClick:l,blacklistedNftAddresses:d,whitelistedNftAddresses:u,selectedNftsToHide:m,states:p,hasVesting:f,isFullscreen:h,currentSiteCategoryId:g,doesSupportNft:v,collectionTabs:w}=t;const{selectToken:y,showTokenActivity:b,setActiveContentTab:E,openNftCollection:C,closeNftCollection:N,openSettingsWithState:S}=Ke(),A=Er(),{isPortrait:T}=ii(),I=me(),B=Boolean(null==s?void 0:s.length),_=de((()=>(null==p?void 0:p.filter(Kd).length)??0),[p]);Ee((()=>{i?sS+=1:sS=0}),[i]);const x=Po((e=>{"hidden_nfts"===e?S({state:Fn.HiddenNfts}):C({address:e},{forceOnHeavyAnimation:!0})})),D=de((()=>{const t=new Set(d),n=new Set(u);let a=!1;const o=Object.values(r??{}).reduce(((e,o)=>(!o.collectionAddress||o.isHidden&&!n.has(o.address)||t.has(o.address)||(e[o.collectionAddress]||(e[o.collectionAddress]={value:o.collectionAddress,name:o.collectionName||A("Unnamed collection")}),!a&&o.isTelegramGift&&(a=!0)),e)),{}),i=Object.values(o);return i.sort(((e,t)=>e.name.localeCompare(t.name))),a&&i.unshift({value:e.X6R,name:A("Telegram Gifts"),fontIcon:"gift",withDelimiterAfter:!0}),i}),[A,r,d,u]),L=de((()=>{if(e.TI6)return!1;const t=new Set(d);return Object.values(r??{}).some((e=>t.has(e.address)||e.isHidden))}),[d,r]),O=me(),P=o+(f?1:0)+_,M=P<=(T?e.nj6:e.hUs),[F,R]=de((()=>{const t=(0,c.oE)([!M&&{id:Wn.Assets,title:A("Assets"),className:rS},{id:Wn.Activity,title:A("Activity"),className:rS},!T&&!e.TI6&&{id:Wn.Explore,title:A("Explore"),className:rS},v&&{id:Wn.Nft,title:A("Collectibles"),className:rS,menuItems:L?[...D,{name:A("Hidden NFTs"),value:"hidden_nfts",withDelimiter:!0}]:D,onMenuItemClick:x}]);return[t.length,t.concat((null==w?void 0:w.map(((t,n)=>{const a=D.find((e=>e.value===t));if(a)return{id:iS+n,title:a.name,className:rS,collectionAddress:t,icon:t===e.X6R?"icon-gift":void 0}})).filter(Boolean))??[])]}),[w,v,T,A,D,L,M]),U=de((()=>{const e=R.findIndex((e=>e.id===a));return-1===e?Wn.Assets:e}),[R,a]),W=de((()=>{if(!i||R[U].id===Wn.Nft)return U;const e=(null==w?void 0:w.indexOf(i))??-1;return-1===e?U:F+e}),[U,w,i,F,R]);ye((()=>{void 0===a&&E({tab:Wn.Assets})}));const H=Po((e=>{const t=R.findIndex((t=>{let{id:n}=t;return n===e}));if(t>=F){const e=w[t-F];C({address:e},{forceOnHeavyAnimation:!0})}else y({slug:void 0},{forceOnHeavyAnimation:!0}),E({tab:e})})),$=Po((()=>{const e=$C(O.current,T);null==e||e.scrollTo(0,0)}));Ui({isActive:0!==U,onBack:()=>H(Wn.Assets)});const V=e.UMQ?zc():e.tKX?Xa().safeAreaInset.top+Xa().contentSafeAreaInset.top:Ra().safeAreaTop,z=n.XS-V-1,K=Po((e=>{(0,k.RK)((()=>{e.target.classList.toggle("dFLD_EZz",e.intersectionRatio<1)}))}));vb({isDisabled:!T,targetRef:I,rootMargin:`${z}px 0px 0px 0px`,threshold:[1],cb:K}),ce((()=>{if(n.TF)return Dr(O.current,{includedClosestSelector:".swipe-container",excludedClosestSelector:".dapps-feed",onSwipe:(e,t)=>{var n;if(t===Tr.Up||t===Tr.Down||null!==(n=e.target)&&void 0!==n&&n.closest(`.${fN}`))return!1;if(t===Tr.Left){const e=R[Math.min(R.length-1,U+1)];return H(e.id),!0}if(t===Tr.Right){if(g)return!1;if(i)N();else{const e=R[Math.max(0,U-1)];H(e.id)}return!0}return!1},selectorToPreventScroll:".custom-scroll"})}),[R,H,U,i,g]);const q=Po((e=>{b({slug:e})})),j=kr("wmmKI_Q8",n.TF&&"swipe-container",T?"joLgqn25":"xwYhKvej");function Y(e){if(0===U&&M)return ge.createElement(uN,{isActive:e,totalTokensAmount:P});if(i&&R[U].id!==Wn.Nft)return ge.createElement(aS,{key:`custom:${i}`,isActive:e});switch(R[U].id){case Wn.Assets:return ge.createElement(vN,{isActive:e,onTokenClick:q,onStakedTokenClick:l});case Wn.Activity:return ge.createElement(uN,{isActive:e,totalTokensAmount:P});case Wn.Explore:return ge.createElement(pb,{isActive:e});case Wn.Nft:return ge.createElement(of,{activeKey:sS,name:T?"slide":"slideFade",className:"nfts-container"},ge.createElement(aS,{key:i||"all",isActive:e}));default:return}}return ge.createElement("div",{className:j},M&&ge.createElement("div",{className:"LsCBKsIM"},ge.createElement(vN,{isActive:!0,isSeparatePanel:!0,onStakedTokenClick:l,onTokenClick:q})),ge.createElement("div",{className:kr(T?"i_rtpHaE":"UzEmZry2")},ge.createElement(ge.Fragment,null,ge.createElement("div",{ref:I,className:"qxl4O9Cg"},ge.createElement(of,{name:"slideFade",className:"VjN3P9Zv",activeKey:B||!T&&g?2:i?1:0,slideClassName:"ES31v1R7",shouldCleanup:!0,cleanupExceptionKey:0},B?ge.createElement(oS,null):!T&&g?ge.createElement(db,{id:g}):i?ge.createElement(TN,{key:"collection"}):ge.createElement(CE,{tabs:R,activeTab:U,onSwitchTab:H,onActiveTabClick:$,className:kr("q8lTUtx5","content-tabslist"),overlayClassName:"razu85QH"}))),ge.createElement(of,{ref:O,name:T?"slide":"slideFade",activeKey:W,renderCount:F+((null==w?void 0:w.length)??0),className:kr("vxe8iSc4","content-transition"),slideClassName:kr("MU2eE1B1","custom-scroll")},Y))),ge.createElement(zC,{isOpen:Boolean(null==m?void 0:m.addresses.length),selectedNftsToHide:m}))}))),lS=fe((function(e){let{isOpen:t,name:n,currentAccountId:a,onClose:o}=e;const{renameAccount:r}=Ke(),i=Er(),s=me(),[c,l]=ie(n);ce((()=>{t&&l(n)}),[t,n]),ip(s,!t);const d=Po((()=>{r({accountId:a,title:c.trim()}),o()}));return ge.createElement(Ys,{isCompact:!0,isOpen:t,title:i("Rename Wallet"),onClose:o},ge.createElement("p",null,i("You can rename this wallet for easier identification.")),ge.createElement(Pp,{ref:s,placeholder:i("Name"),onInput:l,value:c,maxLength:255}),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:o,className:Ws.button},i("Cancel")),ge.createElement(Rs,{onClick:d,isPrimary:!0,isDisabled:0===c.trim().length,className:Ws.button},i("Save"))))})),dS={root:"a3WLGvJB",slide:"HwTx4nDa",accountTitle:"MoMRv8lX",withBalance:"VUELTqry",accountTitleInteractive:"KaXidGii",accountTitleInner:"CsZvEIzk",arrowIcon:"fwj1nsFY",balance:"ReXRdYnq",balanceFractionPart:"rMdzMb2a",balanceCurrency:"LJreYpVF",balanceCurrencyPrefix:"iYR_GSsp",container:"yg1dh4un",dialog:"_GKFEXQQ",backdrop:"Yb4jStqu",dialog_compact:"VQfOatN5",dialogCompact:"VQfOatN5",createAccountButton:"_cBvU9yb",createAccountIcon:"wWwtr3AE"},uS=fe(je((e=>{const{walletVersions:t,settings:{byAccountId:n,baseCurrency:a,isSensitiveDataHidden:o}}=e,r=at(e),i=e.currentAccountId,s=null==r?void 0:r[i],c=ga(e,i);return{currentAccountId:i,currentAccount:s,accounts:r,currentWalletVersion:null==t?void 0:t.currentVersion,settingsByAccountId:n,tokens:Ft(e),baseCurrency:a,stakingStates:c,isSensitiveDataHidden:o}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{currentAccountId:n,currentAccount:a,forceClose:o,accountClassName:r,accountSelectorClassName:i,withAccountSelector:s,withBalance:c,tokens:l,baseCurrency:d,stakingStates:u,isSensitiveDataHidden:m,accounts:p,currentWalletVersion:f,settingsByAccountId:h}=t;const{switchAccount:g,openAddAccountModal:v,openSettingsWithState:w}=Ke(),y=Er(),[b,E,k]=Ru(!1),[C,N,S]=Ru(!1),{shouldRender:A,ref:T}=Ls({isOpen:b,className:"slow",withShouldRender:!0}),I="mnemonic"===(null==a?void 0:a.type)&&Boolean(null==a?void 0:a.addressByChain.tron),B=Boolean(null==a?void 0:a.addressByChain.ton),_="W5"!==f&&"hardware"!==(null==a?void 0:a.type)&&B&&!I,x=de((()=>Object.keys(p||{}).length),[p]),D=de((()=>l?wC(l,u):void 0),[l,u]),L=ir(d),{primaryWholePart:O,primaryFractionPart:P}=D||{};ce((()=>{b&&o&&k()}),[o,b]),ce((()=>A?wh(k):void 0),[k,b,A]),ce((()=>A&&T.current?Hr(T.current):void 0),[T,A]);const M=Po((e=>{Zc(),k(),g({accountId:e})})),F=Po((()=>{Zc(),k(),v()})),R=Po((()=>{Zc(),k(),w({state:Fn.WalletVersion})})),U=kr(dS.container,i),W=kr(dS.accountTitle,s&&!c&&dS.accountTitleInteractive,c&&dS.withBalance,r);return ge.createElement(ge.Fragment,null,ge.createElement(of,{name:"slideVerticalFade",activeKey:c?1:0,className:dS.root,slideClassName:dS.slide},c&&ge.createElement("div",{className:kr(dS.balance,"rounded-font")},ge.createElement(Aw,{isActive:m,shouldHoldSize:!0,align:"center",cols:10,rows:2,cellSize:8.5},ge.createElement("span",{className:dS.currencySwitcher},1===L.length&&ge.createElement("span",{className:kr(dS.balanceCurrency,dS.balanceCurrencyPrefix)},L),O,P&&ge.createElement("span",{className:dS.balanceFractionPart},".",P),L.length>1&&ge.createElement("span",{className:dS.balanceCurrency}," ",L)))),ge.createElement("div",{className:W,onClick:s?()=>{E()}:void 0},ge.createElement("span",{className:dS.accountTitleInner},(a&&(0,Ye.S)(a))??""),s&&!c&&ge.createElement("i",{className:kr("icon icon-caret-down",dS.arrowIcon),"aria-hidden":!0}))),A&&function(){const t=kr(dS.dialog,x<=2&&dS.dialog_compact);return ge.createElement("div",{ref:T,className:U,tabIndex:-1,role:"dialog"},ge.createElement("div",{className:dS.backdrop,onClick:()=>k()}),ge.createElement("div",{className:t},p&&Object.entries(p).map((t=>{let[a,{title:o,addressByChain:r,type:i}]=t;return function(t,a,o,r){const{cardBackgroundNft:i}=(null==h?void 0:h[t])||{};return ge.createElement(Yg,{key:t,accountId:t,addressByChain:a,accountType:o,isActive:t===n,title:r,cardBackgroundNft:i,canEditAccount:!e.TI6,onClick:M,onEdit:N})}(a,r,i,o)})),_&&ge.createElement(Rs,{className:dS.createAccountButton,onClick:R},y("Switch to W5"),ge.createElement("i",{className:kr(dS.createAccountIcon,"icon-versions"),"aria-hidden":!0})),ge.createElement(Rs,{className:dS.createAccountButton,onClick:F},y("Add Wallet"),ge.createElement("i",{className:kr(dS.createAccountIcon,"icon-plus"),"aria-hidden":!0}))))}(),ge.createElement(lS,{isOpen:C,currentAccountId:n,name:(null==a?void 0:a.title)??"",onClose:S}))}))),mS="heOBVClj",pS=fe((function(){const{setIsManualLockActive:e}=Ke(),t=Er(),n=Po((()=>{e({isActive:!0,shouldHideBiometrics:!0}),Zc()}));return ge.createElement(Rs,{className:mS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:t("App Lock"),onClick:n},ge.createElement("i",{className:"icon-manual-lock","aria-hidden":!0}))})),fS=fe((function(e){let{isViewMode:t}=e;const{requestOpenQrScanner:a}=Ke(),o=Er(),r=Nb()&&!t,i=Po((()=>{n.pz&&(0,n.v3)()?alert("Scanning is temporarily not available"):a()}));if(r)return ge.createElement(Rs,{className:kr(mS,"qduFjDA3"),isText:!0,isSimple:!0,kind:"transparent",ariaLabel:o("Scan QR Code"),onClick:i},ge.createElement("i",{className:"icon-qr-scanner","aria-hidden":!0}))})),hS=fe((function(){const{openSettings:e}=Ke(),t=Er();return ge.createElement(Rs,{className:mS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:t("Main menu"),onClick:e},ge.createElement("i",{className:"icon-cog","aria-hidden":!0}))})),gS=fe((function(e){let{isFullscreen:t}=e;const n=Er(),a=Po((()=>{var e,n;t?null===(e=Xa())||void 0===e||e.exitFullscreen():null===(n=Xa())||void 0===n||n.requestFullscreen()}));return ge.createElement(Rs,{className:mS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:n("Toggle fullscreen"),onClick:a},ge.createElement("i",{className:t?"icon-fullscreen-exit":"icon-fullscreen","aria-hidden":!0}))})),vS=fe((function(){const{setAppLayout:e}=Ke(),t=Er(),{isPortrait:n}=ii(),a=Po((()=>{e({layout:n?"landscape":"portrait"})}));return ge.createElement(Rs,{className:mS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:t(n?"Toggle to landscape layout":"Toggle to portrait layout"),onClick:a},ge.createElement("i",{className:n?"icon-view-landscape":"icon-view-portrait","aria-hidden":!0}))})),wS=fe((function(e){let{isSensitiveDataHidden:t}=e;const{setIsSensitiveDataHidden:n}=Ke(),a=Er(),o=Po((()=>{n({isHidden:!t})}));return ge.createElement(Rs,{className:mS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:a(t?"Show Sensitive Data":"Hide Sensitive Data"),onClick:o},ge.createElement("i",{className:t?"icon-eye":"icon-eye-closed","aria-hidden":!0}))})),yS="gwvxwQs9",bS="EX9t6A36",ES="mKaPMjmN",kS=fe(je((e=>{const{isFullscreen:t,settings:{isAppLockEnabled:n,isSensitiveDataHidden:a}}=e,o=yt(e);return{isViewMode:St(e),isAppLockEnabled:n&&o,isFullscreen:Boolean(t),isSensitiveDataHidden:Boolean(a)}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isViewMode:a,withBalance:o,isScrolled:r,isAppLockEnabled:i,isSensitiveDataHidden:s,isFullscreen:c}=t;const{isPortrait:l}=ii(),d=e.hL1||n.cp;if(l){const t=kr(yS,o&&"YLxLG2q6",r&&"_sQ5O2j4"),n=1+(i?1:0)+(e.tKX?1:0)+(d?1:0);return ge.createElement("div",{className:t},ge.createElement("div",{className:bS,style:`--icons-amount: ${n}`},ge.createElement(fS,{isViewMode:a}),ge.createElement(uS,{withBalance:o,withAccountSelector:!e.TI6}),ge.createElement("div",{className:"oLoKLzOb"},i&&ge.createElement(pS,null),ge.createElement(wS,{isSensitiveDataHidden:s}),e.tKX&&ge.createElement(gS,{isFullscreen:c}),d&&ge.createElement(vS,null))))}return ge.createElement("div",{className:yS},ge.createElement("div",{className:bS},ge.createElement("div",{className:ES},ge.createElement(wS,{isSensitiveDataHidden:s}),ge.createElement(fS,{isViewMode:a}),i&&ge.createElement(pS,null)),ge.createElement(uS,{withBalance:o,withAccountSelector:!e.TI6}),ge.createElement("div",{className:ES},e.tKX&&ge.createElement(gS,{isFullscreen:c}),d&&ge.createElement(vS,null),ge.createElement(hS,null))))})));function CS(e){let t=document.querySelector(`meta[name="theme-color"][media="(prefers-color-scheme: ${e?"light":"dark"})"]`);return t||(t=document.createElement("meta"),t.setAttribute("name","theme-color"),t.setAttribute("media",`(prefers-color-scheme: ${e?"light":"dark"})`),document.getElementsByTagName("head")[0].appendChild(t)),t}const NS={portraitContainer:"nDlx2B3w",container:"H35Oa6Xc",testnetWarning:"FeOh0iRA",wrapper:"PUMHiqAW",wrapper_landscape:"j9PIExiC",wrapperLandscape:"j9PIExiC",wrapperFlex:"WUreitT1",icon:"l3sBnS54",text:"WFekTm0y",light:"TR3h5nXi",closeButton:"tQS1IhkF",domainPreviewWrapper:"qB47T3_D",domainPreview:"VOiW6ZiQ",domainPreview_1:"qdZywUBz",domainPreview1:"qdZywUBz",domainPreview_2:"z795yKpX",domainPreview2:"z795yKpX",domainPreview_3:"QhDZUBwR",domainPreview3:"QhDZUBwR"},SS=fe(je((e=>({theme:e.settings.theme})),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isRequired:t,theme:n,onOpenBackupWallet:a}=e;const{shouldRender:o,ref:r}=Ls({isOpen:t,noMountTransition:!0,withShouldRender:!0}),{isLandscape:i}=ii(),s=Er();if(function(e){let{isActive:t,currentTheme:n,lightColor:a,darkColor:o}=e;ce((()=>{const e=CS(!0),r=CS(),i="dark"===n?o:a,s="light"===n?a:o;return t&&(e.setAttribute("content",i),r.setAttribute("content",s)),()=>{e.remove(),r.remove()}}),[a,t,o,n])}({isActive:t,currentTheme:n,lightColor:"#F36A6B",darkColor:"#C44646"}),o)return ge.createElement("div",{ref:r,className:kr(NS.wrapper,i&&NS.wrapper_landscape),onClick:()=>{a()}},s("Wallet is not backed up"),ge.createElement("i",{className:kr(NS.icon,"icon-chevron-right"),"aria-hidden":!0}),ge.createElement("p",{className:NS.text},s("Back up wallet to have full access to it")))}))),AS="open",TS=fe((function(e){let{children:t,isShown:n}=e;const a=me(),o=me(n),[r,i]=ie(n),s=be(n),c=me();function l(){a.current&&(a.current.classList.toggle(AS),o.current=!o.current)}void 0!==s&&s!==n&&(n&&!o.current?(i(!0),c.current&&window.clearTimeout(c.current),setTimeout((()=>(0,k.RK)(l)),200)):((0,k.RK)(l),c.current=window.setTimeout((()=>{i(!1)}),200)));const d=ge.createElement("div",{className:"content"},t);return ge.createElement("div",{ref:a,className:kr("collapsible",n&&"shown",o.current&&AS)},r?d:void 0)}));let IS=[];const BS=fe(je((e=>{const{nfts:t}=st(e)||{};return{orderedAddresses:null==t?void 0:t.orderedAddresses,byAddress:null==t?void 0:t.byAddress,dnsExpiration:null==t?void 0:t.dnsExpiration}}))((function(e){let{orderedAddresses:t,byAddress:n,dnsExpiration:a}=e;const{openDomainRenewalModal:o}=Ke(),r=Er(),{isLandscape:i}=ii(),s=ve(),c=de((()=>(0,ua.s$)(t??[],n,a).filter((e=>{let{address:t}=e;return!IS.includes(t)}))),[n,IS,t]),l=c.length>0,d=hh(l?c:void 0,!0),u=de((()=>{const e=(0,ua.ZC)(d??[],void 0,a);return e?(0,Ba.GS)(e):void 0}),[d,a]),m=de((()=>{if(!u||u>=0||!d)return[];const e=Date.now();return d.filter((t=>{const n=(0,ua.Cz)(t,a);return n&&n<e}))}),[a,u,d]);return ge.createElement(TS,{isShown:l},ge.createElement("div",{className:kr(NS.wrapper,NS.wrapperFlex,i&&NS.wrapper_landscape),onClick:function(){const e=(d??[]).map((e=>{let{address:t}=e;return t}));o({addresses:e})}},function(){const e=(d??[]).slice(0,3);return ge.createElement("div",{className:NS.domainPreviewWrapper},e.map(((t,n)=>ge.createElement("img",{key:t.address,src:t.thumbnail,alt:t.name,style:`--index: ${n}`,className:kr(NS.domainPreview,NS[`domainPreview_${e.length}`])}))))}(),ge.createElement("div",null,1===(d??[]).length?r("Renew Domain"):r("Renew Domains"),ge.createElement("i",{className:kr(NS.icon,"icon-chevron-right"),"aria-hidden":!0}),ge.createElement("p",{className:kr(NS.text,NS.light)},function(){if(void 0!==u)return 1===c.length?u<0?r("$domain_was_expired",{domain:c[0].name}):r("$domain_expire",{domain:c[0].name,days:r("$in_days",u,"i")}):u<0?r("$domains_was_expired",{domain:m.length},void 0,m.length):r("$domains_expire",{domain:c.length,days:r("$in_days",u,"i")},void 0,c.length)}())),ge.createElement("button",{type:"button",className:NS.closeButton,"aria-label":r("Close"),onClick:function(e){Co(e),IS=[...IS,...c.map((e=>{let{address:t}=e;return t}))],s()}},ge.createElement("i",{className:"icon-close","aria-hidden":!0}))))}))),_S=fe(je((e=>({isSecurityWarningHidden:e.settings.isSecurityWarningHidden})))((function(t){let{isSecurityWarningHidden:n}=t;const{closeSecurityWarning:a}=Ke(),{shouldRender:o,ref:r}=Ls({isOpen:!n,noMountTransition:!0,withShouldRender:!0}),{isLandscape:i}=ii(),s=Er(),c=Po((e=>{e.stopPropagation(),a()}));if(o)return ge.createElement("div",{ref:r,className:kr(NS.wrapper,i&&NS.wrapper_landscape),onClick:function(){ec(e.tpB)}},s("Consider More Secure Version"),ge.createElement("i",{className:kr(NS.icon,"icon-chevron-right"),"aria-hidden":!0}),ge.createElement("p",{className:NS.text},s("Install our native app or browser extension.")),ge.createElement("button",{type:"button",className:NS.closeButton,"aria-label":s("Close"),onClick:c},ge.createElement("i",{className:"icon-close","aria-hidden":!0})))}))),xS=!(e.TI6||n.cp||e.hL1||n.pz||n.Ni||e.tKX),DS=fe(je((e=>{var t;return{isBackupRequired:Boolean(null===(t=st(e))||void 0===t?void 0:t.isBackupRequired),isTestnet:e.settings.isTestnet,isViewMode:St(e)}}),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isBackupRequired:t,isTestnet:n,isViewMode:a,onOpenBackupWallet:o}=e;const{isPortrait:r}=ii(),i=Er();return ge.createElement(ge.Fragment,null,n&&ge.createElement("div",{className:r?NS.portraitContainer:NS.container},ge.createElement("div",{className:NS.testnetWarning},i("Testnet Version"))),!a&&ge.createElement(ge.Fragment,null,ge.createElement(SS,{isRequired:t,onOpenBackupWallet:o}),ge.createElement(BS,null)),xS&&ge.createElement(_S,null))}))),LS=fe(je((e=>{var t,n;const{ledger:a}=rt(e)||{},o=st(e),{currentTokenSlug:r}=o??{},{isOnRampDisabled:i}=e.restrictions;return{stakingState:e.currentAccountId?ya(e,e.currentAccountId):void 0,currentTokenSlug:r,isTestnet:e.settings.isTestnet,isLedger:Boolean(a),isViewMode:St(e),isStakingInfoModalOpen:e.isStakingInfoModalOpen,isMediaViewerOpen:Boolean(null===(t=e.mediaViewer)||void 0===t?void 0:t.mediaId),isSwapDisabled:ia(e),isStakingDisabled:Ea(e),isOnRampDisabled:i,theme:e.settings.theme,accentColorIndex:null===(n=dt(e))||void 0===n?void 0:n.accentColorIndex}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isActive:a,currentTokenSlug:o,stakingState:r,isTestnet:i,isViewMode:s,isLedger:c,isStakingInfoModalOpen:l,isSwapDisabled:d,isStakingDisabled:u,isOnRampDisabled:m,isMediaViewerOpen:p,theme:f,accentColorIndex:h}=t;const{selectToken:g,openBackupWalletModal:v,setActiveContentTab:w,closeStakingInfo:y,openStakingInfoOrStart:b,changeCurrentStaking:E,setLandscapeActionsActiveTabIndex:k,loadExploreSites:C,openReceiveModal:N,updatePendingSwaps:S}=Ke(),A=me(),T=me(),I=me(),B=e.UMQ?zc():Ra().safeAreaTop,[_,x,D]=Ru(!wl()),L=r?zd(r):"inactive";vl(D,x),hi("receive",N),function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ce((()=>{if(n.TF){if(!e)return null==wb||wb.setAttribute("content",yb),n.pz&&!n._7&&document.addEventListener("gesturestart",Co),()=>{null==wb||wb.setAttribute("content",bb),n.pz&&!n._7&&document.removeEventListener("gesturestart",Co)};null==wb||wb.setAttribute("content",bb)}}),[e])}(p);const{isPortrait:O,isLandscape:P}=ii();ye((()=>{e.TI6||C({isLandscape:P})})),Oh(S,_?3e3:15e3);const{isVisible:M}=vb({isDisabled:!O||!a,targetRef:A,rootMargin:`-${3*n.$+B}px 0px 0px 0px`,threshold:[1]}),{isVisible:F}=vb({isDisabled:!O||!a,targetRef:A,rootMargin:`-${3*n.$}px 0px 0px 0px`}),R=Po((()=>{g({slug:void 0}),w({tab:Wn.Assets})}));ce((()=>{if(n.TF&&O&&T.current&&o)return Dr(T.current,{excludedClosestSelector:".token-card",onSwipe:(e,t)=>t===Tr.Right&&(R(),!0)})}),[o,R,O]);const U=gf(f);Hf(O?T:I,U,h);const W=Po((e=>{e&&E({stakingId:e}),O||s?b():k({index:Un.Stake})}));return ge.createElement(ge.Fragment,null,!n.bA&&(O?ge.createElement("div",{ref:T,className:"c4YKj_bz"},ge.createElement("div",{className:"rfAUzAO1"},ge.createElement(DS,{onOpenBackupWallet:v}),ge.createElement(kS,{withBalance:!F,isScrolled:!M}),ge.createElement(HC,{ref:A,onTokenCardClose:R,onYieldClick:W}),!s&&ge.createElement(gC,{containerRef:T,isTestnet:i,stakingStatus:L,isStakingDisabled:u,isSwapDisabled:d,isOnRampDisabled:m,onEarnClick:W})),ge.createElement(cS,{onStakedTokenClick:W})):ge.createElement("div",{ref:I,className:"nZyFvDbE"},ge.createElement("div",{className:kr("mpB6taR7","custom-scroll")},ge.createElement(DS,{onOpenBackupWallet:v}),ge.createElement(kS,null),ge.createElement(HC,{onTokenCardClose:R,onYieldClick:W}),!s&&ge.createElement(mC,{containerRef:I,stakingStatus:L,isLedger:c,theme:f})),ge.createElement("div",{className:"Sr6Y7sw5"},ge.createElement(cS,{onStakedTokenClick:W})))),ge.createElement(sk,null),ge.createElement(mk,{isOpen:l,onClose:y}),ge.createElement(FE,null),ge.createElement(wE,null),ge.createElement(gk,null),ge.createElement(lk,null),ge.createElement(Ek,null),ge.createElement(kk,null),ge.createElement(Qb,null),ge.createElement(jb,null),!n.cp&&!n.bA&&ge.createElement(vk,null))}))),OS=fe((function(t){let{isActive:n,isLoading:a,error:o,onClearError:r,onSubmit:i,onBack:s,onClose:c}=t;const l=Er();return Ui({isActive:n,onBack:s}),ge.createElement(ge.Fragment,null,!Yc()&&ge.createElement(Th,{title:l("Enter Password"),onClose:c}),ge.createElement(ff,{isActive:n,isLoading:a,error:o,operationType:"passcode",withCloseButton:e.UMQ,submitLabel:l("Send"),cancelLabel:l("Back"),onSubmit:i,onCancel:s,onUpdate:r}))})),PS="cOGOPS4Q";var MS=function(e){return e[e.Initial=0]="Initial",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.SelectAccountsHardware=3]="SelectAccountsHardware",e[e.ViewMode=4]="ViewMode",e}(MS||{});const FS=fe(je((e=>{var t,n;const a=at(e),o=yt(e),{byId:r}=e.walletVersions??{},i=null==r?void 0:r[e.currentAccountId],s=!(null==i||!i.length),{auth:{forceAddingTonOnlyAccount:c},hardware:{hardwareWallets:l}}=e;return{isOpen:e.isAddAccountModalOpen,isLoading:null===(t=e.accounts)||void 0===t?void 0:t.isLoading,error:null===(n=e.accounts)||void 0===n?void 0:n.error,accounts:a,isPasswordPresent:o,hardwareWallets:l,withOtherWalletVersions:s,forceAddingTonOnlyAccount:c}}))((function(t){let{isOpen:a,isLoading:o,error:r,hardwareWallets:i,isPasswordPresent:s,accounts:c,withOtherWalletVersions:l,forceAddingTonOnlyAccount:d}=t;const{addAccount:u,clearAccountError:m,closeAddAccountModal:p,afterSelectHardwareWallets:f,openSettingsWithState:h,resetHardwareWalletConnect:g,clearAccountLoading:v}=Ke(),w=Er(),[y,b]=ie(MS.Initial),[E,k]=ie(!1),C=Po((()=>{b(MS.Initial),m()})),N=Po((()=>{b(MS.Initial),k(!1),v()})),S=Po((()=>{s?Xu()?Ju().then((e=>u({method:"createAccount",password:e}))):(b(MS.Password),k(!1)):u({method:"createAccount",password:""})}));ce((()=>{d&&S()}),[d]);const A=Po((()=>{s?(k(!0),Xu()?Ju().then((e=>u({method:"importMnemonic",password:e}))):b(MS.Password)):u({method:"importMnemonic",password:""})})),T=Po((()=>{b(MS.ViewMode)})),I=Po((()=>{g(),b(MS.ConnectHardware)})),B=Po((()=>{f({hardwareSelectedIndices:[i[0].index]}),p()})),_=Po((e=>{e?B():b(MS.SelectAccountsHardware)})),x=Po((e=>{u({method:E?"importMnemonic":"createAccount",password:e})})),D=Po((()=>{p(),h({state:Fn.WalletVersion})}));function L(t,a,s){switch(s){case MS.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:w("Add Wallet"),onClose:p}),ge.createElement("div",{className:kr(PS,"t8FNRQDi")},ge.createElement($g,{icon:"wallet-add",label:w("Create New Wallet"),onClick:S,isLoading:!E&&o})),ge.createElement("span",{className:"nnhxqZYR"},w("or import from")),ge.createElement("div",{className:PS},ge.createElement($g,{icon:"key",label:w(e.TI6?"24 Secret Words":"12/24 Secret Words"),onClick:A,isLoading:E&&o}),n.sC&&ge.createElement($g,{icon:"ledger-alt",label:w("Ledger"),onClick:I})),!e.TI6&&ge.createElement("div",{className:PS},ge.createElement($g,{icon:"wallet-view",label:w("View Any Address"),onClick:T})),l&&ge.createElement("div",{className:"Ai_X8CqD"},ge.createElement("span",null,w("$wallet_switch_version_1",{action:ge.createElement("div",{role:"button",tabIndex:0,onClick:D,className:"d8gw7TAv"},w("$wallet_switch_version_2"))}))));case MS.Password:return ge.createElement(OS,{isActive:t,isLoading:o,error:r,onClearError:m,onSubmit:x,onBack:C,onClose:p});case MS.ConnectHardware:return ge.createElement(pv,{isActive:t,onConnected:_,onCancel:C,onClose:p});case MS.SelectAccountsHardware:return ge.createElement(fb,{accounts:c,hardwareWallets:i,onCancel:C,onClose:p});case MS.ViewMode:return ge.createElement(_g,{isActive:t,isLoading:o,onCancel:C,onClose:p})}}return ge.createElement(Ys,{hasCloseButton:!0,isOpen:a,noBackdropClose:!0,dialogClassName:"ZNc8nV1w",contentClassName:"BGrP96yj",nativeBottomSheetKey:"add-account",forceFullNative:y===MS.Password,onCloseAnimationEnd:N,onClose:p},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:y,nextKey:y!==MS.Initial||Xu()?void 0:MS.Password},L))}))),RS=fe((function(e){let{isActive:t,isInModal:n,mnemonic:a,checkIndexes:o,buttonLabel:r,onCancel:i,onSubmit:s,onClose:c}=e;const l=Er();return Ui({isActive:t,onBack:i}),ge.createElement("div",{className:Ws.transitionContentWrapper},ge.createElement(Th,{title:l("Let's Check!"),onClose:c}),ge.createElement("div",{className:kr(Ws.transitionContent,"custom-scroll")},ge.createElement("p",{className:kr(jh.info,jh.small)},l("Let’s make sure your secrets words are recorded correctly.")),ge.createElement(rg,{descriptionClassName:kr(jh.info,jh.small),isActive:t,mnemonic:a,checkIndexes:o,isInModal:n,errorClassName:kr(jh.error,jh.small),onSubmit:s}),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:i,className:Ws.button},l("Back")),ge.createElement(Rs,{isPrimary:!0,forFormId:"check_mnemonic_form",className:Ws.button},r))))})),US=fe((function(e){let{isActive:t,mnemonic:n,onNext:a,onClose:o}=e;const r=Er(),i=(null==n?void 0:n.length)||0;return Ui({isActive:t,onBack:o}),ge.createElement("div",{className:Ws.transitionContentWrapper},ge.createElement(Th,{title:r("%1$d Secret Words",i),onClose:o}),ge.createElement("div",{className:kr(jh.mnemonicContainer,Ws.transitionContent,"custom-scroll")},ge.createElement(Lg,{mnemonic:n}),a&&ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{isPrimary:!0,onClick:a},r("Let's Check")))))})),WS=fe((function(e){let{isActive:t,privateKeyHex:n,onClose:a}=e;const o=Er();return Ui({isActive:t,onBack:a}),ge.createElement("div",{className:Ws.transitionContentWrapper},ge.createElement(Th,{title:o("Private Key"),onClose:a}),ge.createElement("div",{className:kr(jh.mnemonicContainer,Ws.transitionContent,"custom-scroll")},ge.createElement("p",{className:kr(jh.info,jh.small)},ge.createElement(zh,{from:"⚠️"})," ",Qo(o("$mnemonic_warning"))),ge.createElement("p",{className:jh.privateKey},n)))})),HS=fe((function(e){let{isActive:t,onSubmit:n,onClose:a}=e;const o=Er(),[r,i]=ie(!1),[s,c]=ie(!1),[l,d]=ie(!1),u=r&&s&&l,m=Po((()=>{u&&n()}));return ge.createElement("div",{className:Ws.transitionContentWrapper},ge.createElement(Th,{title:o("Safety Rules"),onClose:a}),ge.createElement("div",{className:kr(Ws.transitionContent,"custom-scroll")},ge.createElement(xg,{customStickerClassName:jh.modalSticker,customButtonWrapperClassName:Ws.buttons,isFullSizeButton:!1,isActive:t,isFirstCheckboxSelected:r,isSecondCheckboxSelected:s,isThirdCheckboxSelected:l,textFirst:o("$safety_rules_one"),textSecond:o("$safety_rules_two"),textThird:o("$safety_rules_three"),onFirstCheckboxClick:i,onSecondCheckboxClick:c,onThirdCheckboxClick:d,onSubmit:m})))}));var $S=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.mnemonic=2]="mnemonic",e[e.check=3]="check",e}($S||{});const VS=fe(je((e=>{const{isBackupRequired:t}=st(e)||{};return{currentAccountId:e.currentAccountId,isBackupRequired:t}}))((function(t){let{isOpen:n,currentAccountId:o,onClose:r,isBackupRequired:i}=t;const{setIsBackupRequired:s,setIsPinAccepted:c,clearIsPinAccepted:l}=Ke(),d=Er(),[u,m]=ie($S.confirm),[p,f]=ie($S.password),[h,g]=ie([]),[v,w]=ie(!1),[y,b]=ie(),E=me(void 0),k=u===$S.confirm||u===$S.password;ce((()=>{E.current=void 0}),[n]);const C=Po((()=>{m($S.password),f($S.mnemonic)})),N=Po((async e=>{if(w(!0),E.current=await(0,a.p)("fetchMnemonic",o,e),!E.current)return b("Wrong password, please try again."),w(!1),void el();Yc()&&(c(),await tl(!0),l()),w(!1),f($S.check),m($S.mnemonic)})),S=Po((()=>{b(void 0)})),A=Po((()=>{var t;g(Dd((null===(t=E.current)||void 0===t?void 0:t.length)||e.xA_)),m($S.check),f(void 0)})),T=Po((()=>{m($S.mnemonic),f($S.check)})),I=Po((()=>{w(!1),b(void 0),m($S.confirm),f($S.password)})),B=Po((()=>{s({isMnemonicChecked:!0}),r()}));function _(t,n,a){const o=E.current;switch(a){case $S.confirm:return ge.createElement(HS,{isActive:t,onSubmit:C,onClose:r});case $S.password:return ge.createElement(ge.Fragment,null,!Yc()&&ge.createElement(Th,{title:d("Enter Password"),onClose:r}),ge.createElement(ff,{isActive:t,isLoading:v,error:y,withCloseButton:e.UMQ,submitLabel:d("$back_up_auth"),cancelLabel:d("Cancel"),onSubmit:N,onCancel:r,onUpdate:S}));case $S.mnemonic:return o&&rl(o)?ge.createElement(WS,{privateKeyHex:o[0],onClose:r}):ge.createElement(US,{isActive:t,mnemonic:o,onNext:i?A:void 0,onClose:r});case $S.check:return ge.createElement(RS,{isActive:t,isInModal:!0,mnemonic:E.current,checkIndexes:h,buttonLabel:d("Done"),onSubmit:B,onCancel:T,onClose:r})}}return ge.createElement(Ys,{isOpen:n,hasCloseButton:!0,dialogClassName:"S7OzI0EB",nativeBottomSheetKey:"backup",forceFullNative:u===$S.password,noResetFullNativeOnBlur:k,onClose:r,onCloseAnimationEnd:I},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:u,nextKey:p},_))}))),zS={modal:"gDlNRq3N",dialog:"meAvQTC9",container:"EWcWOV6u",menuButton:"hLEOc4Ou",closeButton:"mlPdYaCz",icon:"xQLJ1EYA",nftInfo:"VUUxnoTG",thumbnail:"_LL4RfB7",info:"j87GjThh",nftName:"O9BeJGjg",collectionName:"EHtLitju",content:"uo4QatBc",noData:"Tg1GGhMT",label:"SiE9CJ9J",description:"NsrMt36R",attributesList:"bDlzAhU_",attributeName:"Q59iVuTN",attributeValue:"d7Ra9vbr",first:"o8kAOnv4",last:"gw8tS0Ge",expandButton:"Wgu0lfq9",collectionNameIcon:"BjwLITqA",expandButtonIcon:"PcBlbvHP"},KS=fe(je((e=>{const{currentNftForAttributes:t,nfts:n}=st(e)||{},{dnsExpiration:a}=n||{};return{nft:t,dnsExpiration:a}}))((function(e){let{nft:t,dnsExpiration:a}=e;const{closeNftAttributesModal:o,openMediaViewer:r,openNftCollection:i}=Ke(),s=Er(),c=me(),[l,d]=ie(),{isPortrait:u}=ii(),m=!!t,p=hh(t,!0),{metadata:{lottie:f,attributes:h}}=p||{metadata:{}},g=(null==h?void 0:h.length)||0,[v,w]=ie(g>5),y=(0,ua.Cz)(p,a),b=y?(0,Ba.GS)(y):void 0,E=(null==h?void 0:h.slice(0,v?5:void 0))||[],k=!(null!=p&&p.description)&&0===E.length;Ee((()=>{w(g>6)}),[g,t]),ce((()=>{if(m)return Ur(),Wr}),[m]);const C=Po((()=>{const{right:e,y:t}=c.current.getBoundingClientRect();d({x:e,y:t})})),N=Po((()=>{d(void 0)})),S=Po((e=>{Co(e),w(!1)})),A=Po((()=>{r({mediaId:p.address,mediaType:Hn.Nft})})),T=Po((e=>{Co(e),o(void 0,{forceOnHeavyAnimation:!0}),i({address:p.collectionAddress},{forceOnHeavyAnimation:!0})}));if(p)return ge.createElement(Ys,{isOpen:m,className:zS.modal,dialogClassName:zS.dialog,contentClassName:zS.container,onClose:o},ge.createElement("button",{type:"button","aria-label":s("Close"),className:zS.closeButton,onClick:()=>o()},ge.createElement("i",{className:kr(zS.icon,zS.actionIcon,!u||n.cp&&n.MP?"icon-close":"icon-chevron-left"),"aria-hidden":!0})),ge.createElement(QN,{nft:p,ref:c,dnsExpireInDays:b,menuAnchor:l,className:zS.menuButton,onOpen:C,onClose:N}),ge.createElement("div",{className:kr(zS.nftInfo,"nft-container"),"data-nft-address":p.address},f?ge.createElement(Lp,{size:250,shouldStretch:!0,play:m,noLoop:!1,tgsUrl:f,previewUrl:p.thumbnail,className:zS.thumbnail,noPreviewTransition:!0,onClick:A}):ge.createElement("img",{src:p.image||p.thumbnail,alt:p.name,role:"button",tabIndex:0,className:zS.thumbnail,onClick:A}),ge.createElement("div",{className:zS.info},ge.createElement("div",{className:zS.nftName},p.name),p.collectionName&&ge.createElement("div",{className:zS.collectionName,onClick:T,tabIndex:0,role:"button"},p.collectionName,ge.createElement("i",{className:kr(zS.collectionNameIcon,"icon-chevron-right"),"aria-hidden":!0})))),ge.createElement("div",{className:kr(zS.content,k&&zS.noData)},k&&s("No additional data."),p.description&&ge.createElement(ge.Fragment,null,ge.createElement("h3",{className:zS.label},s("Description")),ge.createElement("div",{className:zS.description},p.description)),E.length>0&&ge.createElement(ge.Fragment,null,ge.createElement("h3",{className:zS.label},s("Attributes")),ge.createElement("table",{className:zS.attributesList},ge.createElement("tbody",null,E.map(((e,t)=>{const n=0===t,a=t===E.length-1;return ge.createElement("tr",{key:t},ge.createElement("th",{className:kr(zS.attributeName,n&&zS.first,a&&zS.last)},e.trait_type),ge.createElement("td",{className:kr(zS.attributeValue,n&&zS.first,a&&zS.last)},e.value))})))),v&&ge.createElement("a",{href:"#",className:zS.expandButton,onClick:S},s("Show All"),ge.createElement("i",{className:kr(zS.expandButtonIcon,"icon-chevron-down"),"aria-hidden":!0})))))}))),qS=fe(je((e=>{const{addressByChain:t}=it(e,e.currentAccountId)||{},{countryCode:n}=e.restrictions,{chainForOnRampWidgetModal:a}=e;return{chain:a,address:a&&(null==t?void 0:t[a]),countryCode:n,theme:e.settings.theme}}))((function(e){let{chain:t,address:n,countryCode:o,theme:r}=e;const{closeOnRampWidgetModal:i,showError:s}=Ke(),c=Boolean(t)&&Boolean(n),l=Er(),d=me(),[u,m]=ie(!0),[p,f]=ie(!0),[h,g]=ie(""),v=gf(r);ce((()=>(c||(m(!0),f(!0),g("")),()=>window.clearTimeout(d.current))),[c]),ce((()=>{c&&("RU"!==o?(async()=>{const e=await(0,a.p)("getMoonpayOnrampUrl",t,n,v);e&&"error"in e?s({error:e.error}):g((null==e?void 0:e.url)||"")})():g(`https://dreamwalkers.io/ru/mytonwallet/?wallet=${n}&give=CARDRUB&take=TON&type=buy`))}),[n,v,t,o,c]);const w=()=>{f(!1),d.current=window.setTimeout((()=>{m(!1)}),200)};return ge.createElement(Ys,{hasCloseButton:!0,isOpen:c,title:l("Buy with Card"),dialogClassName:"LcOFGyVq",forceFullNative:!0,nativeBottomSheetKey:"onramp-widget",onClose:i},ge.createElement("div",{className:"ccR1JZvK"},ge.createElement("div",{className:kr("RfEkSEyB",!p&&"X5xveqOQ",!u&&"m3F53tk6")},ge.createElement(Wg,null)),function(){if(h)return ge.createElement("iframe",{title:"On Ramp Widget",onLoad:w,className:kr("l_Jb77z9",!p&&"ZRxV9CWH"),width:"100%",height:"100%",frameBorder:"none",allow:"autoplay; camera; microphone; payment",src:h},l("Cannot load widget"))}()))}))),jS="Fq9FxTrz",YS=n.pz?160:360,GS=n.pz?650:500,QS=n.pz?250:500,XS=fe((function(e){let{isOpen:t,onClose:a}=e;const{handleQrCode:o}=Ke(),[r,i]=ie(!1),[s,c]=ie(!1),[d,u]=ie(!1),{ref:m,shouldRender:p}=Ls({isOpen:r,withShouldRender:!0}),f=Er(),h=me(),g=Po((async()=>{ks(document.documentElement,jS),await Mu.stopScan()})),v=Po((()=>{u(!1),c(!1),a()})),w=Po((async()=>{const e={formats:[Pu.Gi.QrCode]},t=function(e){if(!e)return;const t=e.getBoundingClientRect(),a={left:t.left*n.Lv,right:t.right*n.Lv,top:t.top*n.Lv,bottom:t.bottom*n.Lv,width:t.width*n.Lv,height:t.height*n.Lv};return[[a.left,a.top],[a.left+a.width,a.top],[a.left+a.width,a.top+a.height],[a.left,a.top+a.height]]}(h.current);await Mu.removeAllListeners();const a=await Mu.addListener("barcodesScanned",(async e=>{let{barcodes:[r]}=e,i=r.cornerPoints;i=i?function(e){e.sort(((e,t)=>e[1]-t[1]));const t=e.slice(0,2),n=e.slice(2);return t.sort(((e,t)=>t[0]-e[0])),n.sort(((e,t)=>e[0]-t[0])),[...t,...n]}(i):void 0,t&&i&&!function(e,t){return e[0][0]>t[0][0]||e[0][1]>t[0][1]||e[1][0]<t[1][0]||e[1][1]>t[1][1]||e[2][0]<t[2][0]||e[2][1]<t[2][1]||e[3][0]>t[3][0]||e[3][1]<t[3][1]}(t,i)&&(await a.remove(),await tl(),o({data:r.rawValue}),v(),await(0,l.v7)(QS),n.pz&&ks(document.documentElement,jS))}));u(!0),await Mu.startScan(e),r||Mu.isTorchAvailable().then((e=>{i(e.available)})),Mu.isTorchEnabled().then((e=>{c(e.enabled)}))}));ci((e=>{let a,o,[r]=e;if(!n.KI)return t?(a=window.setTimeout(w,YS),o=window.setTimeout((()=>{Es(document.documentElement,jS)}),GS)):r&&v(),()=>{a&&window.clearTimeout(a),o&&window.clearTimeout(o)}}),[t,v,w]);const y=Po((async()=>{s?await Mu.disableTorch():await Mu.enableTorch(),c(!s)})),b=kr("GRYD1l1J",s&&"om10jZuu");return ge.createElement(Ys,{isOpen:t,onClose:v,nativeBottomSheetKey:"qr-scanner",forceFullNative:!0,onCloseAnimationEnd:g},ge.createElement("div",{className:kr("D8GViz8d",d&&"MmIKemUX")},ge.createElement("div",{className:"CxvvAWsI","aria-label":f("Close"),role:"button",tabIndex:0,onClick:v},ge.createElement("i",{className:kr(Ws.closeIcon,"icon-close"),"aria-hidden":!0})),p&&ge.createElement("div",{ref:m,className:b,onClick:y,"aria-label":f("Toggle Flashlight"),role:"button",tabIndex:0},ge.createElement("i",{className:"icon-flashlight","aria-hidden":!0})),ge.createElement("div",{className:"D1xdmb1p"},f("Scan QR Code")),ge.createElement("div",{className:"cQ9fX2T7",ref:h},ge.createElement("div",{className:"Y5_NorwC"}))))}));var JS=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.complete=2]="complete",e}(JS||{});const ZS=fe(je((e=>{const{dataHex:t,error:n,isSigned:a}=e.currentSignature||{};return{dataHex:t,error:n,isSigned:a}}))((function(e){let{dataHex:t,error:n,isSigned:a}=e;const{submitSignature:o,clearSignatureError:r,cancelSignature:i}=Ke(),s=Er(),[c,l,d]=Ru(!1),[u,m]=ie(JS.confirm),[p,f]=ie(JS.password);le((()=>{t&&(m(JS.confirm),f(JS.password),l())}),[t,l]),le((()=>{a&&(m(JS.complete),f(void 0))}),[a]),ce((()=>u===JS.complete?Pr({onEnter:d}):void 0),[d,u]);const h=Po((()=>{m(JS.password),f(JS.complete)})),g=Po((e=>{o({password:e})}));function v(e,a,o){switch(o){case JS.confirm:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:s("Confirmation"),onClose:d}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement("div",{className:Sb},s("Signing Data")),ge.createElement("div",{className:Ib},t),ge.createElement("div",{className:"IHEwWBxd"},Qo(s("$signature_warning"))),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{className:Ws.button,onClick:d},s("Cancel")),ge.createElement(Rs,{isPrimary:!0,className:Ws.button,onClick:h},s("Sign")))));case JS.password:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:s("Enter Password"),onClose:d}),ge.createElement(ff,{isActive:e,error:n,submitLabel:s("Sign"),cancelLabel:s("Cancel"),onSubmit:g,onCancel:d,onUpdate:r}))}(e);case JS.complete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:s("Done!"),onClose:d}),ge.createElement("div",{className:kr(Ws.transitionContent,Ws.transitionContent_simple)},ge.createElement(Lp,{play:e,noLoop:!1,nonInteractive:!0,className:"wlPR2AOa",tgsUrl:rp.thumbUp,previewUrl:rp.thumbUpPreview}),ge.createElement("div",{className:"bgrj6VK3"},s("Signing was confirmed!")),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{isPrimary:!0,onClick:d},s("Close")))))}(e)}}return ge.createElement(Ys,{hasCloseButton:!0,isOpen:c,dialogClassName:"nrINNy28",onClose:d,onCloseAnimationEnd:i},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:u,nextKey:p},v))})));function eA(e,t){const n=be(e,!0),a=me(),o=ve(),r=null!=e,i=null!=n;return r&&a.current&&(clearTimeout(a.current),a.current=void 0),Ee((()=>{t&&!r&&i&&!a.current&&(a.current=window.setTimeout((()=>{a.current=void 0,o()}),t))}),[t,o,r,i]),a.current&&t&&!r?n:e}const tA=fe((function(e){let{timestamp:t,deadline:n,onCompleted:a}=e;Er();const o=Math.floor((t+n-Date.now())/Ba.Z2),[r,i]=ie(Math.max(o,0)),s=r<=300;return ce((()=>{const e=(0,l.Gf)(Ba.Z2,(()=>{r<=0||i(Math.floor((t+n-Date.now())/Ba.Z2))}));return r<=0&&(null==a||a()),e}),[r,a,t,n]),ge.createElement("span",{className:kr("AsvSkk14",s&&"CZBR69BT")},function(e,t){const n=e=>e.toString().padStart(2,"0"),a=Math.floor(t/3600),o=Math.floor(t%3600/60),r=t%60;let i=a>0?`${a}:`:"";return i+=`${a>0?n(o):o}:`,i+=n(r),i}(0,r))})),nA={infoBlock:"DqUj918m",infoRow:"suN_Ci9f",noIcon:"SUjgosvS",noCurrency:"RjCLBwiu",infoRowIcon:"kaMx21E_",infoRowToken:"iNWWwjqK",label:"uLUQH_M3",infoRowChain:"NcAsWeQk",infoRowAmount:"TzvDf_Jl",infoRowAmountGreen:"I6xrY9jc",infoRowAmountError:"iiFYcyID",infoRowCurrency:"zab5hSsH",infoRowCurrencyValue:"Q3pxLMbG",infoSeparator:"ZO00ZPul",infoSeparatorIcon:"fPy_1zLl",infoSeparatorIconError:"GP0AJq0W"},aA=fe((function(t){let{isSensitiveDataHidden:n,tokenIn:a,amountIn:o,tokenOut:r,amountOut:i,isError:s=!1}=t;const c=de((()=>aw(5,13,o??"")),[o]),l=de((()=>aw(5,13,i??"")),[i]);function d(t,c){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const u=d?l:`-${l}`,m=Boolean(c&&e.OZB[c.slug]);return ge.createElement("div",{className:kr(nA.infoRow,!c&&nA.noIcon,d&&nA.noCurrency)},Boolean(c)&&ge.createElement(yw,{token:c,withChainIcon:!0,className:nA.infoRowIcon}),ge.createElement("span",{className:nA.infoRowToken},null==c?void 0:c.name,m&&ge.createElement("span",{className:kr(nA.label,nA.chainLabel)},e.OZB[c.slug])),ge.createElement(Aw,{isActive:n,cols:t,rows:2,cellSize:8,align:"right",className:kr(nA.infoRowAmount,d&&nA.infoRowAmountGreen,s&&nA.infoRowAmountError)},ar(u,(null==c?void 0:c.symbol)??"")),ge.createElement("span",{className:nA.infoRowChain},nE(null==c?void 0:c.chain)),!d&&function(e,t,n,a){const o=cw(e,t,n,a);return o?ge.createElement("span",{className:nA.infoRowCurrency},o.firstCurrencySymbol," ≈",ge.createElement("span",{className:nA.infoRowCurrencyValue},o.price," ",o.secondCurrencySymbol)):void 0}(o,i,a,r))}return ge.createElement("div",{className:nA.infoBlock},d(c,a,o),ge.createElement("div",{className:nA.infoSeparator},ge.createElement("i",{className:kr(nA.infoSeparatorIcon,s&&nA.infoSeparatorIconError,s?"icon-close":"icon-arrow-down"),"aria-hidden":!0})),d(l,r,i,!0))}));function oA(e){let{terms:t,token:n,precision:a,isLoading:o,className:r}=e;const i=Er();return ge.createElement("div",{className:r},ge.createElement("div",{className:"FHA1HU_P"},i("Fee")),ge.createElement("div",{className:"OgExpTBf"},ge.createElement(of,{activeKey:o?1:0,name:"fade",className:"JaS_WGfX"},o?ge.createElement(Ms,{isActive:!0,className:"SFz4gihZ"}):ge.createElement(Ty,{terms:t,token:n,precision:a}))))}const rA={modalDialog:"E6N6MD3z",unstakeModal:"gnNvHGfL",passwordFormContent:"KL1uqo4o",passwordFormContentInModal:"CZ9Kse33",sticker:"AeVBXxbG",footer:"rQ0tvCAk",copyButtonWrapper:"VtMfi0Xs",feeField:"fSQYvfg1",comment:"jxc6euua",button:"eww3tEAs",buttonWide:"ND5LbWGY",unstakeTime:"hDTeTwua",unstakeTimeIcon:"tZ2WbGH0",scamImage:"BASL0DzO",scamAddress:"km7wfY2m",modalTitle:"yadTct7r",transactionHeader:"uAQ2u0Hd",headerTitle:"J16GqrT7",headerDate:"fiJguUso",infoBlock:"NGumnj62",textFieldWrapper:"UGOei_Ih",swapSupportBlock:"mVgCbbey",textFieldLabel:"lXDi3LO1",advancedTooltip:"hr8oR5Ry",advancedTooltipContainer:"t6X1h79H",errorCexBlock:"Qr0LqmBg",errorCexMessage:"uSKXuCCa",errorCexEmail:"cQ1RlviM",changellyInfoBlock:"IZsujzDG",changellyDescription:"IgVxAVQB",changellyDescriptionBold:"EOk33hg6",qrCode:"DfLLakci",qrCodeHidden:"L9e2rlZo",scamWarning:"OAz9rga6"},iA=new Set(["new","waiting"]),sA=new Set(["new","waiting","confirming","exchanging","sending"]),cA=new Set(["failed","expired","refunded","overdue"]),lA=new Set(["failed","expired"]),dA=fe(je((e=>{var t,n;const a=st(e),o=rt(e),{isSwapDisabled:r}=e.restrictions,{theme:i,isSensitiveDataHidden:s}=e.settings,c=null==a?void 0:a.currentActivityId,l=c?null==a||null===(t=a.activities)||void 0===t?void 0:t.byId[c]:void 0;return{activity:"swap"===(null==l?void 0:l.kind)?l:void 0,tokensBySlug:null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug,theme:i,addressByChain:null==o?void 0:o.addressByChain,isSwapDisabled:r||e.settings.isTestnet||St(e),isSensitiveDataHidden:s}}))((function(t){let{activity:n,tokensBySlug:a,theme:o,addressByChain:r,isSwapDisabled:i,isSensitiveDataHidden:s}=t;const{fetchActivityDetails:c,startSwap:l,closeActivityInfo:d}=Ke(),u=Er(),{isPortrait:m}=ii(),p=Boolean(n),f=Ve().settings.animationLevel===e.dnp?0:(m?$s:Hs)+e.xB5,h=eA(n,f),g=gf(o),{id:v,hashes:w,timestamp:y,networkFee:b="0",ourFee:E="0",shouldLoadDetails:k}=h??{},{payinAddress:C,payoutAddress:N,payinExtraId:S}=(null==h?void 0:h.cex)||{};let A="0",T="0",I=!0,B=!1,_=!1,x=!1,D=!1,L=!1,O=!1,P=!1,M=!1,F="",R="",U="",W=!0,H=!1;const $=de((()=>{if(null!=h&&h.from&&a)return Md(a,h.from)}),[null==h?void 0:h.from,a]),V=de((()=>{if(null!=h&&h.to&&a)return Md(a,h.to)}),[null==h?void 0:h.to,a]),z=Rd({from:$,to:V,toAddress:N,addressByChain:r});if(h){const{status:t,from:n,cex:a}=h;if(A=h.fromAmount,T=h.toAmount,W=n===e.Tu9.slug,x=Boolean(a),a?(H=!!y&&y+e.JWy-Date.now()<0,M=iA.has(a.status)&&H,_="finished"!==a.status,I=!M&&sA.has(a.status),P=I,D=M||cA.has(a.status),L="hold"===a.status,O="waiting"===a.status&&!M&&!z&&!W,F=a.transactionId):(I="pending"===t,B=lA.has(t)),I)R=u("Swapping");else if(L)R=u("Swap On Hold");else if(D){const{status:e}=h.cex??{};"expired"===e||"overdue"===e?(R=u("Swap Expired"),U=u("You have not sent the coins to the specified address.")):"refunded"===e?(R=u("Swap Refunded"),U=u("Exchange failed and coins were refunded to your wallet.")):R=u("Swap Failed")}else R=u(B?"Swap Failed":"Swapped")}const K=v?x?null==w?void 0:w[0]:nn(v).hash:void 0,q=zo("ton",K),j=!S&&"ton"===(null==V?void 0:V.chain)&&!z,{qrCodeRef:Y,isInitialized:G}=DE({address:C,isActive:Boolean(C),hiddenClassName:rA.qrCodeHidden,hideLogo:!0}),Q=Po((()=>{d({id:v})})),X=Po((()=>{d({id:v}),l({tokenInSlug:$.slug,tokenOutSlug:V.slug,amountIn:A})}));function J(){if(S)return ge.createElement("div",{className:rA.textFieldWrapper},ge.createElement("span",{className:rA.textFieldLabel},u("Memo")),ge.createElement(wy,{address:S,copyNotification:u("Memo was copied!"),noSavedAddress:!0,noExplorer:!0}))}function Z(){if(!Number(b)&&!k||!$)return;const e=W?{native:(0,Ot.z)(b).add(E).toString()}:{native:b,token:E};return ge.createElement(oA,{terms:e,token:$,precision:"pending"===(null==n?void 0:n.status)?"approximate":"exact",isLoading:k,className:rA.feeField})}return ce((()=>{v&&k&&c({id:v})}),[v,k]),ge.createElement(Ys,{hasCloseButton:!0,title:ge.createElement("div",{className:rA.transactionHeader},ge.createElement("div",{className:rA.headerTitle},R,I&&ge.createElement(Lp,{play:p,size:e.wg4,nonInteractive:!0,noLoop:!1,tgsUrl:rp[g].iconClock,previewUrl:rp[g].preview.iconClock})),!!y&&ge.createElement("div",{className:rA.headerDate},(0,Ba.TK)(u.code,y),", ",(0,Ba.fU)(y))),titleClassName:rA.modalTitle,isOpen:p,nativeBottomSheetKey:"swap-activity",onClose:Q},ge.createElement("div",{className:Ws.transitionContent},ge.createElement(aA,{isSensitiveDataHidden:s,tokenIn:$,amountIn:A,tokenOut:V,amountOut:T,isError:B||D}),ge.createElement("div",{className:rA.infoBlock},function(){if(O){if(z)return;const t=Fd(null==$?void 0:$.chain)?$.chain:void 0;return ge.createElement("div",{className:rA.changellyInfoBlock},Z(),ge.createElement("span",{className:rA.changellyDescription},u("$swap_changelly_to_ton_description1",{value:ge.createElement("span",{className:rA.changellyDescriptionBold},ar(Number(A),(null==$?void 0:$.symbol)??"",!0)),blockchain:ge.createElement("span",{className:rA.changellyDescriptionBold},nE(null==$?void 0:$.chain)),time:ge.createElement(tA,{timestamp:y??0,deadline:e.JWy})})),ge.createElement(wy,{chain:t,address:C,copyNotification:u("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0}),J(),j&&ge.createElement("div",{className:kr(rA.qrCode,!G&&rA.qrCodeHidden),ref:Y}))}return ge.createElement(ge.Fragment,null,Z(),!z&&function(){if(!C)return;const e=W?V:$,t=Fd(null==e?void 0:e.chain)?e.chain:void 0;return ge.createElement("div",{className:rA.textFieldWrapper},ge.createElement("span",{className:rA.textFieldLabel},W?u("Your %blockchain% Address",{blockchain:null==V?void 0:V.name}):u("Address for %blockchain% transfer",{blockchain:null==$?void 0:$.name})),ge.createElement(wy,{chain:t,address:W?N:C,copyNotification:u("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0}))}(),!z&&J())}(),_&&(L?ge.createElement("div",{className:rA.textFieldWrapper},ge.createElement("span",{className:rA.changellyDescription},u("$swap_changelly_kyc_security",{email:ge.createElement("span",{className:rA.changellyDescriptionBold},e.gpw)})),F&&ge.createElement(wy,{text:F,copyNotification:u("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0})):ge.createElement("div",{className:kr(rA.textFieldWrapper,rA.swapSupportBlock)},U&&ge.createElement("span",{className:rA.errorCexMessage},U),P&&ge.createElement("span",{className:kr(rA.changellyDescription)},u("Please note that it may take up to a few hours for tokens to appear in your wallet.")),H&&ge.createElement(ge.Fragment,null,ge.createElement("span",{className:rA.changellyDescription},u("$swap_changelly_support",{livechat:ge.createElement("a",{href:e.o$d,target:"_blank",rel:"noreferrer",className:rA.changellyDescriptionBold},u("Changelly Live Chat")),email:ge.createElement("span",{className:rA.changellyDescriptionBold},e.HWN)})),F&&ge.createElement(wy,{text:F,copyNotification:u("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0})))),q&&ge.createElement("div",{className:rA.textFieldWrapper},ge.createElement("span",{className:rA.textFieldLabel},u("Transaction ID")),ge.createElement(wy,{noSavedAddress:!0,chain:"ton",address:K,addressUrl:q,isTransaction:!0,copyNotification:u("Transaction ID was copied!")}))),!i&&ge.createElement("div",{className:rA.footer},function(){let e=!0,t="Swap Again";if(O)return ge.createElement(Rs,{onClick:Q,className:rA.button},u("Close"));if(L)e=!1;else if(D){const{status:e}=(null==h?void 0:h.cex)??{};"expired"!==e&&"refunded"!==e&&"overdue"!==e||(t="Try Again")}return e?ge.createElement(Rs,{onClick:X,className:rA.button},u(t)):void 0}())))}))),uA="MeZ5UFq3",mA=fe((function(e){let{isIncoming:t,isScam:n,amount:a,token:o,status:r,noSign:i=!1,isSensitiveDataHidden:s,baseCurrency:c}=e;const l=n?"zrLwT6fF":t?"cuIyqZ4t":void 0;return ge.createElement(ge.Fragment,null,function(){const{decimals:e,symbol:n}=o??{},c=(0,Lt.nI)(i?(0,sa.wg)(a):a,e),[d,u]=ar(c,"",i,e,!t).split("."),m=Boolean(r);return ge.createElement(Aw,{isActive:s,cols:12,rows:m?7:4,align:"center",cellSize:m?17:18,className:kr("__I8XE5D",r&&uA)},ge.createElement("div",{className:kr("Qy2zkhK5",r&&uA,l,"rounded-font")},d.trim().replace(" ",""),u&&ge.createElement("span",{className:"F1teTrIV"},".",u.trim()),ge.createElement("span",{className:"AgH98knQ"},n)),m&&ge.createElement("div",{className:kr("COF5DpZg",l)},r))}(),function(){if(o)return ge.createElement(Aw,{isActive:s,cols:10,rows:3,align:"center",cellSize:12,className:"tPLUuFQO",contentClassName:kr("BUzkYW_L","rounded-font",l)},sr(a,c,o))}())}));var pA=function(e){return e[e.initial=0]="initial",e[e.password=1]="password",e}(pA||{});const fA=fe(je((e=>{var t,n;const a=e.currentAccountId,o=st(e),r=null==o?void 0:o.currentActivityId,i=r?null==o||null===(t=o.activities)||void 0===t?void 0:t.byId[r]:void 0,s=null==o?void 0:o.savedAddresses,{byAddress:c}=(null==o?void 0:o.nfts)||{},l=ga(e,a),{isTestnet:d,theme:u,isSensitiveDataHidden:m}=e.settings,p=tt(e),f=mt(e);return{transaction:"transaction"===(null==i?void 0:i.kind)?i:void 0,tokensBySlug:null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug,savedAddresses:s,isHardwareAccount:f,isTestnet:d,isViewMode:St(e),isLongUnstakeRequested:null==o?void 0:o.isLongUnstakeRequested,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),theme:u,stakingStates:l,isSensitiveDataHidden:m,nftsByAddress:c,accounts:p,currentAccountId:a,baseCurrency:e.settings.baseCurrency}}))((function(t){var n;let{transaction:o,tokensBySlug:r,savedAddresses:i,isTestnet:s,isHardwareAccount:c,isViewMode:l,stakingStates:d,isLongUnstakeRequested:u,isMediaViewerOpen:m,theme:p,isSensitiveDataHidden:f,nftsByAddress:h,accounts:g,currentAccountId:v,baseCurrency:w}=t;const{fetchActivityDetails:y,startTransfer:b,startStaking:E,startUnstaking:k,closeActivityInfo:C,setIsPinAccepted:N,clearIsPinAccepted:S,setLandscapeActionsActiveTabIndex:A}=Ke(),T=Er(),{isPortrait:I}=ii(),[B,_]=ie(pA.initial),[x,D]=ie(pA.password),L=Ve().settings.animationLevel===e.dnp?0:(I?$s:Hs)+e.xB5,O=eA(o,L),[P,M]=ie(Date.now()+e.NFS),F=gf(p),{fromAddress:R,toAddress:U,amount:W,comment:H,encryptedComment:$,fee:V,id:z,isIncoming:K,slug:q,timestamp:j,nft:Y,shouldLoadDetails:G,isPending:Q}=O||{},X=Boolean(O&&(!an((J=O).id)||!(null!==(Z=J.extra)&&void 0!==Z&&Z.withW5Gasless)));var J,Z;const ee=O&&mn(O),te=ee&&"unstake"===(null==O?void 0:O.type),ne=Boolean(null==O?void 0:O.nft),ae=q?null==r?void 0:r[q]:void 0,oe=null==ae?void 0:ae.chain,re=ae?Yn(ae.chain):void 0,se=K?R:U,le=de((()=>{if(oe)return Yw({address:se,chain:oe,currentAccountId:v,accounts:g,savedAddresses:i})}),[g,se,oe,v,i])||(null==o||null===(n=o.metadata)||void 0===n?void 0:n.name),ue=K&&Xt(O),me=Boolean(o)&&cn(o),pe=Boolean(o)&&!m,fe=oe&&z?nn(z).hash:void 0,he=Boolean(Y&&(null==h?void 0:h[Y.address])),ve=!l&&!c,[we,ye]=ie(),[be,ke]=ie(),Ce=oe?zo(oe,fe,s):void 0,{shouldRender:Ne,ref:Se}=Ls({isOpen:Boolean(X&&Ce),withShouldRender:!0}),Ae=de((()=>null==d?void 0:d.find((t=>t.tokenSlug===e.Tu9.slug&&t.balance>0n))),[d]),Te=Ae&&zd(Ae),Ie=null==Ae?void 0:Ae.start,Be=null==Ae?void 0:Ae.end,{shouldRender:_e,ref:xe}=Ls({isOpen:"unstakeRequest"===(null==o?void 0:o.type)&&void 0!==Ie&&("unstakeRequested"===Te||u)&&o.timestamp>=Ie,withShouldRender:!0});Ee((()=>{O&&ye(void 0)}),[O]),Ee((()=>{Be&&M(Be)}),[Be]),ce((()=>{z&&G&&y({id:z})}),[z,G]);const De=Po((()=>{ke(void 0)})),Le=Po((()=>{_(pA.password),D(void 0)})),Oe=Po((()=>{_(pA.initial),D(pA.password),De()})),Pe=Po((()=>{C({id:z}),b({isPortrait:I,tokenSlug:q||e.Tu9.slug,toAddress:se,amount:(0,sa.wg)(W),comment:K?void 0:H})})),Me=Po((()=>{C({id:z}),I?E():A({index:Un.Stake})})),Fe=Po((()=>{C({id:z}),I||A({index:Un.Stake}),k()})),Re=Po((async e=>{const t=await(0,a.p)("decryptComment",Ve().currentAccountId,$,R,e);t?(Yc()&&(N(),await tl(!0)),Oe(),ye(t)):ke("Wrong password, please try again.")})),Ue=Po((async()=>{if($){if(Xu()){const e=await Ju();if(e)return void Re(e)}Le()}})),We=Po((()=>{C({id:z}),Yc()&&S()}));function He(t,n,a){switch(a){case pA.initial:return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:kr(Ws.header,Ws.header_wideContent)},ge.createElement("div",{className:kr(Ws.title,rA.modalTitle)},ge.createElement("div",{className:rA.headerTitle},o&&sn(o,Q?"present":"past",T),Q&&ge.createElement(Lp,{play:pe,size:e.wg4,nonInteractive:!0,noLoop:!1,tgsUrl:rp[F].iconClock,previewUrl:rp[F].preview.iconClock}),me&&K&&ge.createElement("img",{src:Gw,alt:T("Scam"),className:rA.scamImage})),!!j&&ge.createElement("div",{className:rA.headerDate},(0,Ba.TK)(T.code,j),", ",(0,Ba.fU)(j))),ge.createElement(Rs,{isRound:!0,className:Ws.closeButton,ariaLabel:T("Close"),onClick:We},ge.createElement("i",{className:kr(Ws.closeIcon,"icon-close"),"aria-hidden":!0}))),function(){const t=o&&dn(o);return ge.createElement("div",{className:Ws.transitionContent},"hide"!==t&&ge.createElement(mA,{isSensitiveDataHidden:f,isIncoming:K,isScam:me,amount:W??0n,token:ae,status:te&&!_e?T("Successfully"):void 0,noSign:"noSign"===t,baseCurrency:w}),Y&&ge.createElement(ly,{nft:Y,withMediaViewer:he,withTonExplorer:!0}),ue&&ge.createElement("div",{className:rA.scamWarning},T("This address mimics another address that you previously interacted with.")),o&&un(o).includes("modal")&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Sb},T(K?"Sender":"Recipient")),ge.createElement(wy,{chain:oe,addressName:le,address:se,isScam:me&&!K,copyNotification:T("Address was copied!"),className:rA.copyButtonWrapper,textClassName:me&&K?rA.scamAddress:void 0})),function(){if((V||G)&&re)return ge.createElement(oA,{terms:{native:V},token:re,precision:Q?"approximate":"exact",isLoading:G,className:rA.feeField})}(),function(){if(!H&&!$)return;const e=$?T("Message is encrypted."):me?T("Scam comment is hidden."):void 0;return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Sb},T("Comment")),ge.createElement(wy,{text:$?we:H,spoiler:e,spoilerRevealText:$?ve?T("Decrypt"):void 0:T("Display"),spoilerCallback:ve?Ue:void 0,copyNotification:T("Comment was copied!"),className:rA.copyButtonWrapper,textClassName:rA.comment}))}(),Ne&&ge.createElement("div",{ref:Se,className:rA.textFieldWrapper},ge.createElement("span",{className:rA.textFieldLabel},T("Transaction ID")),ge.createElement(wy,{noSavedAddress:!0,chain:oe,address:fe,addressUrl:Ce,isTransaction:!0,copyNotification:T("Transaction ID was copied!"),className:rA.changellyTextField})),_e&&ge.createElement("div",{ref:xe,className:rA.unstakeTime},ge.createElement(Lp,{play:pe,size:e.wg4,className:rA.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:rp[F].iconClockGray,previewUrl:rp[F].preview.iconClockGray}),ge.createElement("div",null,T("$unstaking_when_receive",{time:ge.createElement("strong",null,(0,Ba.YG)(T.code,P))}))),!l&&function(){const t=ee&&(te||"unstakeRequest"===(null==o?void 0:o.type))&&"active"===Te,n=[];return ee||K||ne||n.push(ge.createElement(Rs,{onClick:Pe,className:rA.button},T("Repeat"))),!e.TI6&&ee&&n.push(ge.createElement(Rs,{onClick:Me,className:kr(rA.button,t&&rA.buttonWide)},T("Stake Again"))),t&&n.push(ge.createElement(Rs,{onClick:Fe,className:kr(rA.button,rA.buttonWide)},T("Unstake More"))),n.length?ge.createElement("div",{className:rA.footer},n):void 0}())}());case pA.password:if(!$)return;return ge.createElement(ge.Fragment,null,!Yc()&&ge.createElement(Th,{title:T("Enter Password"),onClose:We}),ge.createElement(ff,{isActive:t,error:be,withCloseButton:e.UMQ,containerClassName:e.UMQ?rA.passwordFormContent:rA.passwordFormContentInModal,submitLabel:T("Send"),onSubmit:Re,onCancel:Oe,onUpdate:De}))}}return ge.createElement(Ys,{isOpen:pe,hasCloseButton:!0,nativeBottomSheetKey:"transaction-info",forceFullNative:B===pA.password,dialogClassName:kr(rA.modalDialog,te&&rA.unstakeModal),onClose:We,onCloseAnimationEnd:Oe},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:B,nextKey:x},He))}))),hA=fe(je((e=>{const{isUnhideNftModalOpen:t,selectedNftToUnhide:n}=st(e)??{};return{isOpen:t,nftAddress:null==n?void 0:n.address,nftName:null==n?void 0:n.name}}))((function(e){let{isOpen:t,nftAddress:n,nftName:a}=e;const{addNftsToWhitelist:o,closeUnhideNftModal:r}=Ke(),i=Er(),s=Po((()=>{o({addresses:[n]}),r()}));return ge.createElement(Ys,{isOpen:t,isCompact:!0,onClose:r,title:i("Unhide NFT")},ge.createElement("p",{className:Ws.text},i("$unhide_nft_warning",{name:ge.createElement("b",null,a)})),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:r,className:Ws.button},i("Cancel")),ge.createElement(Rs,{isDestructive:!0,onClick:s,className:Ws.button},i("Unhide"))))}))),gA=e=>{let{icon:t,message:a,containerId:o,onDismiss:r}=e;const[i,s]=ie(!0),c=me(),{ref:l}=Ls({isOpen:i}),d=Po((()=>{s(!1),setTimeout(r,250)}));ce((()=>i?wh(d):void 0),[i,d]),ce((()=>(c.current=window.setTimeout(d,5e3),()=>{c.current&&(clearTimeout(c.current),c.current=void 0)})),[d]);const u=Po((()=>{c.current&&(clearTimeout(c.current),c.current=void 0)})),m=Po((()=>{c.current=window.setTimeout(d,5e3)}));return ge.createElement(Us,{className:kr("h7PLFJQu",n.cp&&"I0vM5N9Z"),containerId:o},ge.createElement("div",{ref:l,className:"cBuXIi04",onClick:d,onMouseEnter:u,onMouseLeave:m},ge.createElement("div",{className:"FOpmIM3s"},t&&ge.createElement("i",{className:kr("yRP0zVnL",t),"aria-hidden":!0}),a)))},vA=fe(je((e=>(0,c.Up)(e,["notifications"])))((function(e){let{notifications:t}=e;const{dismissNotification:n}=Ke();if(t.length)return ge.createElement("div",{id:"Notifications"},t.map((e=>{let{message:t,icon:a}=e;return ge.createElement(gA,{key:t,icon:a,message:t,onDismiss:n})})))})));let wA=0;const yA=v();function bA(){return wA>0}function EA(){yA.runCallbacks()}function kA(){const e=bA();wA=Math.max(0,wA-1),e&&!bA()&&EA()}const CA="A4iuMrwm",NA="lTI19L4Y",SA="Q6nK70OA",AA="Hzc2OPCD",TA=fe(je((e=>{const{areSettingsOpen:t,isExploreOpen:n}=e,{activeContentTab:a}=st(e)??{};return{areSettingsOpen:t,areAssetsActive:a===Wn.Assets,isExploreOpen:n}}))((function(t){let{areSettingsOpen:n,areAssetsActive:a,isExploreOpen:o}=t;const{switchToWallet:r,switchToExplore:i,switchToSettings:s}=Ke(),c=Er(),[l,d]=ie(bA()),u=!o&&!n;return ye((()=>yA.addCallback((()=>{d(bA())})))),Ui({isActive:o,onBack:r}),ge.createElement("div",{className:kr("QlVPgZym",l&&"YMl6tuqD")},ge.createElement(Rs,{isSimple:!0,className:kr(CA,u&&NA),onClick:r},ge.createElement("i",{className:kr(SA,"icon-wallet")}),ge.createElement("span",{className:AA},c("Wallet"))),!e.TI6&&ge.createElement(Rs,{isSimple:!0,className:kr(CA,o&&NA),onClick:i},ge.createElement("i",{className:kr(SA,"icon-explore")}),ge.createElement("span",{className:AA},c("Explore"))),ge.createElement(Rs,{isSimple:!0,className:kr(CA,n&&NA),onClick:s},ge.createElement("i",{className:kr(SA,"icon-settings")}),ge.createElement("span",{className:AA},c("Settings"))))}))),IA="Gbi50r5P",BA="iX71Jk4y",_A="piyY_yBE",xA="sCCso48U",DA="BA7uSk12",LA="XeanWEkZ",OA="mO73YmbZ",PA="FjT6eSrl",MA="GUrvismB",FA="oGeErVyy",RA=200,UA=14*n.$;function WA(e,t,n,a){let o,r;var i;return e===Hn.Nft&&(r=document.querySelector(n?`.transaction-nft[data-tx-id="${n}"][data-nft-address="${t}"]`:a?`.hidden-nfts-${a} [data-nft-address="${t}"]`:`.nft-container[data-nft-address="${t}"]`),o=null===(i=r)||void 0===i?void 0:i.querySelector("img, canvas")),{container:r,image:o}}function HA(e){var t;const n=document.createElement("div");n.classList.add(PA);const a=new Image;return a.classList.add("oaQkWH7i"),a.draggable=!1,a.oncontextmenu=Co,a.src=e instanceof HTMLImageElement?e.src:(null===(t=e.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.dataset.previewUrl)||"",n.appendChild(a),n}function $A(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t===Hn.Nft&&e.classList.add(n?MA:FA)}const VA=e=>{let{isOpen:t,isHidden:n,isCustom:a,id:o,className:r,onClick:i,children:s,noCloseTransition:c,shouldAnimateFirstRender:l,style:d,ref:u}=e;const m=be(t),p=be(s),f=me(),h=void 0===m,{ref:g,shouldRender:v}=Ls({isOpen:t&&!n,ref:u,noMountTransition:h&&!l,className:!a&&void 0,noCloseTransition:c,withShouldRender:!0});return m&&!t&&(f.current=p),(v||n)&&ge.createElement("div",{id:o,ref:g,className:r,onClick:i,style:d},t?s:f.current)},zA=["send","renew","burn","collection","select","linkDomain"],KA=fe(je(((e,t)=>{var n;let{mediaId:a}=t;const{mediaType:o=Hn.Nft}=e.mediaViewer||{},r=St(e);if(!a||o!==Hn.Nft)return{isViewMode:r};const{byAddress:i,dnsExpiration:s}=(null===(n=st(e))||void 0===n?void 0:n.nfts)||{},c=null==i?void 0:i[a];if(!c)return{isViewMode:r};const{blacklistedNftAddresses:l,whitelistedNftAddresses:d}=st(e)||{},{cardBackgroundNft:u,accentColorNft:m}=dt(e)||{};return{nft:c,tonDnsExpiration:(0,ua.Cz)(c,s),blacklistedNftAddresses:l,whitelistedNftAddresses:d,cardBackgroundNft:u,accentColorNft:m,isViewMode:r,linkedAddress:ka(e,c)}}))((function(e){let{nft:t,tonDnsExpiration:n,linkedAddress:a,blacklistedNftAddresses:o,whitelistedNftAddresses:r,cardBackgroundNft:i,accentColorNft:s,isViewMode:c,onClose:l}=e;const d=Er(),[u,m,p]=Ru(),f=n?(0,Ba.GS)(n):void 0,h=de((()=>null==o?void 0:o.includes(t.address)),[t,o]),g=de((()=>null==r?void 0:r.includes(t.address)),[t,r]),v=BN(t&&t.address===(null==i?void 0:i.address),Ch),w=BN(t&&t.address===(null==s?void 0:s.address),Ch),{menuItems:y,handleMenuItemSelect:b}=GN({nft:t,isViewMode:c,dnsExpireInDays:f,linkedAddress:a,isNftBlacklisted:h,isNftWhitelisted:g,isNftInstalled:v,isNftAccentColorInstalled:w}),E=Po((e=>{zA.includes(e)&&l(),b(e)}));return ge.createElement("div",{className:"U5k3MGwt"},ge.createElement("button",{type:"button","aria-label":d("More actions"),className:kr(BA,"g5Mpmfqz",u&&"Jb3ZSQ8D"),onClick:m},ge.createElement("i",{className:"icon icon-more","aria-hidden":!0})),ge.createElement(Ah,{isOpen:u,items:y,menuPositionY:"top",menuPositionX:"right",shouldTranslateOptions:!0,onClose:p,className:"component-theme-dark",buttonClassName:"nZ_OU1oY",onSelect:E}),ge.createElement("button",{type:"button","aria-label":d("Close"),className:BA,onClick:l},ge.createElement("i",{className:kr("icon-windows-close","TYO_mnqL"),"aria-hidden":!0})))}))),qA=fe(je(((t,n)=>{var a;let{mediaId:o}=n;const{mediaType:r=Hn.Nft}=t.mediaViewer||{};if(!o||r!==Hn.Nft)return{};const i=t.settings.isTestnet?e.PKm:e.wln,{byAddress:s}=(null===(a=st(t))||void 0===a?void 0:a.nfts)||{},c=null==s?void 0:s[o];return c?{title:c.name||(0,qt.W)(c.address,4),description:c.collectionName,descriptionUrl:`${i}collection/${c.collectionAddress}`}:{}}))((function(e){let{title:t,description:n,descriptionUrl:a}=e;const o=Er();return ge.createElement("div",{className:"lzTnItyh"},ge.createElement("span",{className:"Iork7lBy"},t),ge.createElement("a",{href:a,target:"_blank","aria-label":o("Open NFT Collection"),className:"gVhA_SZL",rel:"noreferrer",onClick:nc},ge.createElement("span",{className:"VjBacQN8"},n),ge.createElement("i",{className:kr("icon-tooltip","j_sdE8In"),"aria-hidden":!0})))})));function jA(e){const t=me(e());return ye((()=>e.subscribe((()=>{t.current=e()})))),t}const[YA,GA]=E(1);function QA(){return ce((()=>()=>{GA(1)}),[]),[YA,GA]}const XA=fe(je(((e,t)=>{var n,a;let{mediaId:o}=t;const{mediaType:r=Hn.Nft}=e.mediaViewer||{};if(r!==Hn.Nft)return{};const{byAddress:i}=(null===(n=st(e))||void 0===n?void 0:n.nfts)||{},s=null==i?void 0:i[o];if(!s)return{};const{whitelistedNftAddresses:c}=st(e)||{};return{alt:s.name,thumbnail:s.thumbnail,image:s.image,lottie:null===(a=s.metadata)||void 0===a?void 0:a.lottie,description:s.description,isScam:s.isScam,whitelistedMediaIds:c}}))((function(e){let{mediaId:t,alt:n,thumbnail:a,image:o,lottie:r,description:i,isScam:s,whitelistedMediaIds:c}=e;const l=Er(),d=o||a,u=me(),{isPortrait:m}=ii();ce((()=>{const e=u.current,{height:t}=e.getBoundingClientRect();(0,k.RK)((()=>{e.style.setProperty("--max-height",`${t}px`)}))}),[m]);const p=de((()=>null==c?void 0:c.includes(t)),[t,c]);return ge.createElement("div",{className:"BjD2X1I7"},r?ge.createElement(Lp,{size:250,shouldStretch:!0,play:!0,noLoop:!1,tgsUrl:r,previewUrl:d,className:DA,noPreviewTransition:!0}):ge.createElement("img",{src:d,alt:n,className:DA}),ge.createElement("div",{className:kr(LA,"custom-scroll"),ref:u},i&&ge.createElement("div",{className:"fJxRvPrW"},ge.createElement("div",{className:kr("gAnXMdfd","custom-scroll"),dir:"auto"},s&&!p&&ge.createElement("img",{src:Gw,alt:l("Scam"),className:"HAC1deVa"}),i))))})));var JA=function(e){return e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e}(JA||{});const ZA=n.TF?40:0,eT=350,{easeOutCubic:tT,easeOutQuart:nT}=d.qM;let aT,oT;const rT=fe((function(e){let{isOpen:t,mediaId:a,selectMedia:o,getMediaId:r,withAnimation:i,onClose:s}=e;const c=Er(),u=me(),m=me(),p=me(),f=me(),h=me({x:0,y:0,scale:1}),g=me(void 0),v=me(void 0),w=me(!1),[y]=QA(),b=me(y()),[E,k]=ie(!1),[C,N]=Ts({x:0,y:0,scale:1}),S=jA(C),[A,T]=Ts(a),I=jA(A),B=_s((()=>1!==C().scale),[C]),_=_s(A),{height:x,width:D,isResizing:L}=zu();Ui({isActive:t,onBack:s,shouldBeReplaced:!0});const O=Vu(o,[o],350,!0),P=Vu((()=>{g.current=void 0}),[],500,!0),M=n.TF?40:D/10;ce((()=>{const{scale:e,x:t,y:n}=S.current;0===t&&0===n&&1===e&&T(a)}),[a,T,S]),le((()=>{const{x:e,y:t,scale:n}=C();p.current&&(p.current.style.transform=iT(-D+e-ZA)),m.current&&(m.current.style.transform=iT(e,t,n)),f.current&&(f.current.style.transform=iT(D+e+ZA))}),[C,D]);const F=Po((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=h.current;const a=r(I.current,e);if(t)return void 0!==a;if(void 0===a)return!1;const o=(D+ZA)*e,s=S.current.x+o;return T(a),O(a),n={x:0,y:0,scale:1},i?(aT=(0,d.Hd)({from:s,to:0,duration:eT,timing:tT,onUpdate:e=>N({y:0,x:e,scale:1})}),!0):(N(n),!0)})),R=Po((()=>F(1))),U=Po((()=>F(-1)));if(ce((()=>{if(!u.current||void 0===I.current)return;let e=h.current;const t={x:0,y:0},a={x:0,y:0},o={x:0,y:0};let i,c=Date.now();const p=(0,l.sg)((()=>{c=Date.now()}),500,!1,!0),f=e=>{const{scale:t}=S.current;if(1!==t)return[!1,!1];let a=0;return x-e.pageY<80?[!1,!1]:(e.pageX<M?a=-1:e.pageX>D-M&&(a=1),[0!==a,F(a,!n.TF)])},y=e=>{const{scale:t}=S.current;if(1===t)switch(e.key){case"Left":case"ArrowLeft":F(-1);break;case"Right":case"ArrowRight":F(1)}},b=function(e){let{x:t,y:n,scale:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=v.current;if(!r)return[{x:t,y:n,scale:a},!0,!0];let i=!0,s=!0;const c=(D-D*a)/2,l=(x-x*a)/2,d=Math.max(-r.left*a,c),u=D-r.right*a;i=Sr(t,u,d),t=Nr(t,u,d);const m=Math.max(-r.top*a+o,l),p=x-r.bottom*a;return s=Sr(n,p,m),n=Nr(n,p,m),[{x:t,y:n,scale:a},i,s]},E=n=>{if(w.current)return void(w.current=!1);"mouseup"===n.type&&k(!1);const i=S.current,{y:l,scale:u}=i;let m=i.x;const p=Math.abs(m),f=Math.abs(l);if(P(),u<1)return e={x:0,y:0,scale:1},void(aT=(0,d.Hd)({from:[m,l,u],to:[0,0,1],duration:eT,timing:tT,onUpdate:e=>N({x:e[0],y:e[1],scale:e[2]})}));if(u>1){const r=Math.min(u,4),i=r/u;let s=m*i+(a.x-i*a.x),p=l*i+(a.y-i*a.y);const f=.15;if("wheel"!==n.type&&e.scale===u){const e=Math.abs(t.x)/(Date.now()-c),n=Math.abs(t.y)/(Date.now()-c);s-=Math.abs(t.x)*e*f*o.x,p-=Math.abs(t.y)*n*f*o.y}return[e]=b({x:s,y:p,scale:r}),void(aT=(0,d.Hd)({from:[m,l,u],to:[e.x,e.y,e.scale],duration:eT,timing:tT,onUpdate:e=>N({x:e[0],y:e[1],scale:e[2]})}))}if(e={x:m,y:l,scale:u},f>=50)return void s();if(f>0)return void(aT=(0,d.Hd)({from:l,to:0,duration:eT,timing:tT,onUpdate:e=>N({x:0,y:e,scale:u})}));const h=m<0?1:-1,g=r(I.current,m<0?1:-1),v=o.x<0?-1:1;void 0!==g&&p>=50&&h===v&&(m+=(D+ZA)*h,T(g),O(g)),aT=(0,d.Hd)({from:m,to:0,duration:eT,timing:tT,onUpdate:e=>N({y:0,x:e,scale:u??1})})},C=Dr(u.current,{isNotPassive:!0,withNativeDrag:!0,excludedClosestSelector:`${IA}, .${LA}`,minZoom:1,maxZoom:4,doubleTapZoom:3,withWheelDrag:!0,onCapture:e=>{const{x:t,y:n,scale:a}=S.current;if("mousedown"!==e.type||(k(!0),1===a)){if(c=Date.now(),0===t&&0===n&&1===a){if(!m.current)return;if(i=m.current.querySelector("img, video"),!i)return;v.current=i.getBoundingClientRect()}}else e.preventDefault()},onDrag:(a,r,i,s)=>{let{dragOffsetX:c,dragOffsetY:l}=i;if(w.current)return;if(n.pz&&"touchstart"===r.type){const{pageX:e}=r.touches[0];if(e<=20||e>=D-20)return}aT&&(aT(),aT=void 0),o.x=t.x-c,o.y=t.y-l,t.x=c,t.y=l;const d=Math.abs(c),u=Math.abs(l),{x:m,y:f,scale:h}=S.current;if(p(),1===h){if("mousemove"!==a.type){if(g.current!==JA.Vertical&&(g.current===JA.Horizontal||Math.abs(m)>10||d/u>1.5)){g.current=JA.Horizontal;const e=D+ZA,t=Nr(c,-e,e);return N({x:t,y:0,scale:h}),void("wheel"===a.type&&Math.abs(t)>100&&(E(a),w.current=!0))}if(g.current===JA.Vertical||Math.abs(f)>10||u/d>1.5){g.current=JA.Vertical;const e=Nr(l,-x,x);N({x:0,y:e,scale:h}),"wheel"===a.type&&Math.abs(e)>100&&(E(a),w.current=!0)}}}else{const t=e.x+c,n=e.y+l;if(["wheel","mousemove"].includes(a.type)){const[e,a,o]=b({x:t,y:n,scale:h});return s&&s(!a,!o),void N(e)}"touches"in a&&1===a.touches.length&&N({x:t,y:n,scale:h})}},onZoom:(t,n)=>{let{zoom:o,zoomFactor:r,initialCenterX:i,initialCenterY:s,dragOffsetX:c,dragOffsetY:l,currentCenterX:d,currentCenterY:u}=n;aT&&aT(),i=i||D/2,s=s||x/2,d=d||D/2,u=u||x/2;const m=o??Nr(e.scale*r,.5,12),p=m/e.scale,f=Math.abs(Math.min(e.x,0)),h=Math.abs(Math.min(e.y,0));a.x=d,a.y=u;const g=f+i,v=h+s,w=g-p*g,y=v-p*v,[E]=b({x:e.x+w+c,y:e.y+y+l,scale:m});N(E)},onClick(t){k(!1);const[a,o]=f(t);if(a){if(t.preventDefault(),t.stopPropagation(),n.TF)return;o||s()}else 1!==e.scale||n.TF||s()},onDoubleClick(t,a){let{centerX:o,centerY:r}=a;const[i]=f(t);if(i)return t.preventDefault(),void t.stopPropagation();if(!n.TF&&"wheel"!==t.type)return;const{x:s,y:c,scale:l}=S.current;if(1===l){if(0!==s||0!==c)return;e=b({x:o-3*o,y:r-3*r,scale:3})[0]}else e={x:0,y:0,scale:1};aT=(0,d.Hd)({from:[s,c,l],to:[e.x,e.y,e.scale],duration:eT,timing:tT,onUpdate:e=>{const t={x:e[0],y:e[1],scale:e[2]};N(t)}})},onRelease:E});return document.addEventListener("keydown",y,!1),()=>{C(),document.removeEventListener("keydown",y,!1)}}),[s,N,r,D,x,M,O,P,i,k,S,T,I,F]),ce((()=>{const e=y(),t=void 0!==b.current&&b.current!==e;if(!u.current||!t)return;b.current=e;const{scale:n}=S.current,a=e>0?-1:1;let o=100,r=0;n<=.6&&a>0||n>=12&&a<0||(1===n&&a>0&&(o=20),oT&&oT(),oT=(0,d.Hd)({from:a,to:a*o,duration:eT,timing:nT,onUpdate:e=>{if(!u.current)return;const t=Ar(e-r,2);r=e;const n=new WheelEvent("wheel",{deltaY:t,ctrlKey:!0});u.current.dispatchEvent(n)}}))}),[y,S]),void 0===_)return null;const W=r(_,1),H=r(_,-1),$=void 0!==H,V=void 0!==W,z=E&&B;return ge.createElement("div",{className:"X2XelzZ1",ref:u},ge.createElement("div",{className:_A,ref:p},$&&!B&&!L&&ge.createElement(XA,{mediaId:H})),ge.createElement("div",{className:kr(_A,xA,z&&"NMBicc6s"),ref:m},ge.createElement(XA,{mediaId:_})),ge.createElement("div",{className:_A,ref:f},V&&!B&&!L&&ge.createElement(XA,{mediaId:W})),$&&!B&&!n.TF&&ge.createElement("button",{type:"button",onClick:U,className:kr(OA,"Mx1XT28C"),"aria-label":c("Previous"),dir:c.isRtl?"rtl":void 0}),V&&!B&&!n.TF&&ge.createElement("button",{type:"button",onClick:R,className:kr(OA,"FmNwnO3_"),"aria-label":c("Next"),dir:c.isRtl?"rtl":void 0}))}));function iT(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return`translate3d(${(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(3)}px, ${e.toFixed(3)}px, 0px) scale(${t.toFixed(3)})`}const sT=fe(je((e=>{var t;const{mediaId:n,mediaType:a=Hn.Nft,txId:o,hiddenNfts:r,noGhostAnimation:i}=e.mediaViewer||{},s=null===(t=e.settings)||void 0===t?void 0:t.animationLevel,c=st(e);let l,d,u=Xy,m=Xy;if(a===Hn.Nft){var p;const{orderedAddresses:e,byAddress:t}=(null==c?void 0:c.nfts)||{},{blacklistedNftAddresses:a}=c||{},o=null==t?void 0:t[n];l=!(null!=o&&null!==(p=o.metadata)&&void 0!==p&&p.lottie)&&(null==o?void 0:o.image)||(null==o?void 0:o.thumbnail),u=e||Xy,d=t,null!=a&&a.length&&(m=a)}return{mediaId:n,txId:o,hiddenNfts:r,noGhostAnimation:i,mediaIds:u,mediaType:a,mediaUrl:l,mediaByIds:d,blacklistedIds:m,withAnimation:s>0}}))((function(t){let{mediaId:a,mediaIds:o,mediaType:r,mediaUrl:i,withAnimation:s,mediaByIds:c,blacklistedIds:l,txId:u,hiddenNfts:m,noGhostAnimation:p}=t;const{closeMediaViewer:f,openMediaViewer:h}=Ke(),g=Boolean(a),v=Er(),w=be(a),y=be(u),b=be(m),E=be(p),C=s?"slideFade":"none",N=s&&g&&!w&&!p,S=s&&!g&&!!w&&!E,A=Po((()=>f())),T=de((()=>o.filter((e=>{const t=null==c?void 0:c[e];return t&&!t.isHidden&&!l.includes(e)}))),[l,c,o]),I=T.indexOf(a),B=Po(((e,t)=>{if(void 0===e)return;const n=T.indexOf(e);return-1===t&&n>0||1===t&&n<T.length-1?T[n+t]:void 0})),x=Po((e=>{h({mediaType:r,mediaId:e})}));return Os({className:"is-media-viewer-open",isActive:g,element:document.body}),ce((()=>g?wh(A):void 0),[A,g]),ce((()=>{N&&(_(RA+e.xB5),function(t,a,o,r,i){const{image:s}=WA(t,a,r,i);s&&o&&(0,k.RK)((async()=>{document.body.classList.add("ghost-animating");const{width:a,height:r}=Ra(),{width:i,height:c}=await async function(e){const t=new Image;return t.src=e,await new Promise((e=>{t.onload=e})),{width:t.width,height:t.height}}(o),l=r-UA,u=(a<=e.c2m?8:7)*n.$,{width:m,height:p}=function(e,t,n,a){const o=a/n,r=Math.min(n,e);return Math.round(r*o)>t?{width:Math.round(t/o),height:t}:{width:r,height:Math.round(r*o)}}(a,l,i,c),f=(a-m)/2,h=u+(l-p)/2,{top:g,left:v,width:w,height:y}=s.getBoundingClientRect(),b=v+w/2-(f+m/2),E=g+y/2-(h+p/2),C=w/m,N=y/p;(0,k.RK)((()=>{const n=HA(s);$A(n,t,!0),(0,d.ZM)(n,{top:`${h}px`,left:`${f}px`,width:`${m}px`,height:`${p}px`,transform:`translate3d(${b}px, ${E}px, 0) scale(${C}, ${N})`}),document.body.appendChild(n),(0,k.RK)((()=>{n.style.transform="",function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t===Hn.Nft&&e.classList.remove(n?MA:FA)}(n,t,!0),setTimeout((()=>{(0,k.RK)((()=>{document.body.contains(n)&&document.body.removeChild(n),document.body.classList.remove("ghost-animating")}))}),RA+e.xB5)}))}))}))}(r,a,i,u,m)),S&&(_(RA+e.xB5),function(t,n,a,o){const{container:r,image:i}=WA(t,n,a,o),s=document.querySelector(`.${xA} img, .${xA} canvas`);if(!s||!i)return;const{top:c,left:l,width:u,height:m}=s.getBoundingClientRect(),{top:p,left:f,width:h,height:g}=i.getBoundingClientRect();let v=p;if(!function(e){if("none"===e.style.display)return!1;const t=e.getBoundingClientRect(),{height:n}=Ra();return t.top<=n&&t.top+t.height>=0}(i)){const{height:e}=Ra();v=p<c?-g:e}const w=l+u/2-(f+h/2),y=c+m/2-(v+g/2),b=u/h,E=m/g,C=document.querySelector(`.${PA}`),N=C||HA(s);let S;if(C){const{top:e,left:t,width:n,height:a}=C.getBoundingClientRect();S={transition:"none",top:`${v}px`,left:`${f}px`,transformOrigin:"top left",transform:`translate3d(${t-f}px, ${e-v}px, 0) scale(${n/h}, ${a/g})`,width:`${h}px`,height:`${g}px`}}else S={top:`${v}px`,left:`${f}px`,width:`${h}px`,height:`${g}px`,transform:`translate3d(${w}px, ${y}px, 0) scale(${b}, ${E})`};(0,k.RK)((()=>{$A(N,t),(0,d.ZM)(N,S),C||document.body.appendChild(N),document.body.classList.add("ghost-animating"),r&&r.classList.add("ghost-target"),(0,k.RK)((()=>{C&&(C.style.transition=""),N.style.transform="",setTimeout((()=>{(0,k.RK)((()=>{document.body.contains(N)&&document.body.removeChild(N),document.body.classList.remove("ghost-animating"),r&&r.classList.remove("ghost-target")}))}),RA+e.xB5)}))}))}(r,w,y,b))}),[N,S,a,r,i,w,u,y,m,b]),ge.createElement(VA,{className:kr("A0PipQQQ","opacity-transition","slow"),isOpen:g,shouldAnimateFirstRender:!0,isCustom:!0},ge.createElement("div",{className:IA,dir:v.isRtl?"rtl":void 0},ge.createElement(of,{activeKey:I,name:C,className:"lDJDJyJx"},ge.createElement(qA,{mediaId:a})),ge.createElement(KA,{mediaId:a,onClose:A})),ge.createElement(rT,{isOpen:g,mediaId:a,getMediaId:B,selectMedia:x,withAnimation:s,onClose:A}))}))),cT={root:"TyYDeoPI",standard:"ZzhmGZX8",silver:"VOCPN2H2",gold:"eIy_VriQ",platinum:"ThB2aK4u",black:"pSEqHC9v",list:"VuKYnODy",term:"De4BJ4HR",icon:"WsbPBan7",data:"SmGuh0xn",button:"hn6cNzho",currencyIcon:"uJl349yd"},lT=fe((function(t){let{type:n,price:a,balance:o,isAvailable:r}=t;const{startCardMinting:i,showDialog:s}=Ke(),c=Er(),l=!(!a||!o)&&(0,Lt.UH)(a,e.Tu9.decimals)+e.dqR<o,d=Po((()=>{l?i({type:n}):s({title:c("Insufficient Balance"),message:c("Please top up your TON balance.")})}));return ge.createElement("div",{className:kr(cT.root,cT[n])},ge.createElement("dl",{className:cT.list},ge.createElement("dt",{className:cT.term},c("Unique"),ge.createElement("i",{className:kr(cT.icon,"icon-diamond"),"aria-hidden":!0})),ge.createElement("dd",{className:cT.data},c("Get a card with unique background and personalized palette for wallet interface.")),ge.createElement("dt",{className:cT.term},c("Transferable"),ge.createElement("i",{className:kr(cT.icon,"icon-swap"),"aria-hidden":!0})),ge.createElement("dd",{className:cT.data},c("Easily send your upgraded card to any of your friends.")),ge.createElement("dt",{className:cT.term},c("Tradable"),ge.createElement("i",{className:kr(cT.icon,"icon-auction"),"aria-hidden":!0})),ge.createElement("dd",{className:cT.data},c("Sell or auction your card on third-party NFT marketplaces."))),!!a&&ge.createElement(Rs,{isPrimary:!0,isDisabled:!r,className:cT.button,onClick:d},c("Upgrade for %currency% %amount%",{amount:a,currency:ge.createElement("i",{className:kr(cT.currencyIcon,"icon-ton"),"aria-label":"TON"})})))})),dT={dialog:"CjwvIYmY",transition:"Tv22S5Gs",transitionSlide:"zUSYH0x7",content:"LpuTVkiG",slide:"ZfVQ8KGW",standard:"k0gL3sAb",black:"MUamKAQw",slideInner:"k2_YXVBE",video:"wpccVVfq",cardType:"CzdRPvVS",close:"IBwesrC_",navigation:"cIoUkENQ",navigationLeft:"GF_wLd9i",navigationRight:"y5oAUrMg",navigationIcon:"aSeq5lrl",avaliability:"OGLS5EQO",progress:"Q3dzQZod",soldOut:"VyfNbKU1",amount:"wozoyd4S",amountInner:"ZgsWpsHL",amountLeft:"XMt08mOm",amountSold:"F8mchLc4",dots:"HY5hRBmJ",dot:"tOktKTIK",dotActive:"ZMU4FK04",sticker:"eto_LEBm",resultWithTime:"hlrWLhQ2",resultTimeIcon:"W1LXu50q",mintCardBanner:"ccNpjwpK"},uT={standard:"Standard Card",silver:"Silver Card",gold:"Gold Card",platinum:"Platinum Card",black:"Black Card"};var mT=function(e){return e[e.Standard=0]="Standard",e[e.Silver=1]="Silver",e[e.Gold=2]="Gold",e[e.Platinum=3]="Platinum",e[e.Black=4]="Black",e}(mT||{});const pT=Object.values(mT).length/2,fT=fe(je((e=>({tonBalance:Ut(e)})))((function(e){let{cardsInfo:t,tonBalance:a}=e;const{closeMintCardModal:o}=Ke(),r=Er(),i=me(),[s,c]=ie(mT.Standard),[l,d]=ie(mT.Silver),u=Po((()=>{c((e=>e===mT.Black?mT.Standard:e+1)),d((e=>e===mT.Black?mT.Standard:e+1))})),m=Po((()=>{c((e=>e===mT.Standard?mT.Black:e-1)),d((e=>e===mT.Standard?mT.Black:e-1))}));function p(e,n,o){const i={lang:r,tonBalance:a,currentKey:o};switch(o){case mT.Standard:return hT({...i,title:uT.standard,type:"standard",cardInfo:null==t?void 0:t.standard});case mT.Silver:return hT({...i,title:uT.silver,type:"silver",cardInfo:null==t?void 0:t.silver});case mT.Gold:return hT({...i,title:uT.gold,type:"gold",cardInfo:null==t?void 0:t.gold});case mT.Platinum:return hT({...i,title:uT.platinum,type:"platinum",cardInfo:null==t?void 0:t.platinum});case mT.Black:return hT({...i,title:uT.black,type:"black",cardInfo:null==t?void 0:t.black})}}return ce((()=>{if(n.TF)return Dr(i.current,{onSwipe:(e,t)=>t===Tr.Left?(u(),!0):t===Tr.Right&&(m(),!0),selectorToPreventScroll:".custom-scroll"})}),[]),ge.createElement(ge.Fragment,null,ge.createElement(ge.Fragment,null,ge.createElement(Rs,{isRound:!0,className:kr(dT.close,Ws.closeButton),ariaLabel:r("Close"),onClick:o},ge.createElement("i",{className:kr(Ws.closeIcon,"icon-close"),"aria-hidden":!0})),ge.createElement("button",{className:kr(dT.navigation,dT.navigationLeft),type:"button","aria-label":r("Prev"),onClick:()=>m()},ge.createElement("i",{className:kr(dT.navigationIcon,"icon-chevron-left"),"aria-hidden":!0})),ge.createElement("button",{className:kr(dT.navigation,dT.navigationRight),type:"button",onClick:()=>u(),"aria-label":r("Next")},ge.createElement("i",{className:kr(dT.navigationIcon,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement(of,{ref:i,name:"semiFade",className:kr(dT.transition,"custom-scroll"),activeKey:s,nextKey:l},p))})));function hT(t){let{lang:n,title:a,type:o,cardInfo:r,tonBalance:i,currentKey:s}=t;return ge.createElement("div",{className:dT.content},ge.createElement("div",{className:kr(dT.slide,dT[o])},ge.createElement("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,poster:`${e.eec}mtw_card_${o}.avif`,className:dT.video},ge.createElement("source",{src:`${e.eec}mtw_card_${o}.h264.mp4`,type:"video/mp4; codecs=avc1.4D401E,mp4a.40.2"})),ge.createElement("div",{className:dT.slideInner},function(e){return ge.createElement("div",{className:dT.dots},Array.from({length:pT}).map(((t,n)=>ge.createElement("div",{key:n,className:kr(dT.dot,n===e&&dT.dotActive)}))))}(s),ge.createElement("div",{className:dT.cardType},a),function(e,t){const{all:n,notMinted:a}=t||{};if(!n||!a)return ge.createElement("div",{className:dT.avaliability},ge.createElement("div",{className:dT.soldOut},e("This card has been sold out")));const o=n-a,r=e("%amount% left",{amount:tr(a)}),i=e("%amount% sold",{amount:tr(o)});return ge.createElement("div",{className:dT.avaliability},ge.createElement("div",{className:dT.progress,style:`--progress: ${Pt(a/n,2)};}`},ge.createElement("div",{className:kr(dT.amount,dT.amountInner,dT.amountLeft)},r),ge.createElement("div",{className:kr(dT.amount,dT.amountInner,dT.amountSold)},i)),ge.createElement("div",{className:kr(dT.amount,dT.amountLeft)},r),ge.createElement("div",{className:kr(dT.amount,dT.amountSold)},i))}(n,r))),ge.createElement(lT,{type:o,price:null==r?void 0:r.price,balance:i,isAvailable:Boolean(null==r?void 0:r.notMinted)}))}const gT=fe(je((e=>{const{currentMintCard:t}=e,{config:n}=st(e)||{},{cardsInfo:a}=n||{};return{isOpen:void 0!==(null==t?void 0:t.state),cardsInfo:a,isLoading:null==t?void 0:t.isLoading,state:null==t?void 0:t.state,error:null==t?void 0:t.error,theme:e.settings.theme,selectedCardType:null==t?void 0:t.type}}))((function(t){let{isOpen:n,cardsInfo:a,isLoading:o,state:r,error:i,theme:s,selectedCardType:c}=t;const{closeMintCardModal:l,clearMintCardError:d,submitMintCard:u,submitMintCardHardware:m}=Ke(),p=Er(),f=gf(s),{renderingKey:h,nextKey:g}=Kg(r??0,n),v=c?uT[c]:"",w=Po((e=>{u({password:e})})),y=Po((()=>{m()}));function b(t,n,r){switch(r){case Rn.Initial:return ge.createElement(fT,{cardsInfo:a});case Rn.Password:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:Yc()?void 0:p("Confirm Upgrading"),onClose:Yc()?l:void 0,onBackButtonClick:Yc()?void 0:l}),ge.createElement(ff,{isActive:e,error:i,isLoading:o,submitLabel:p("Confirm"),cancelLabel:p("Cancel"),onSubmit:w,onCancel:l,onUpdate:d,operationType:"mintCard",skipAuthScreen:!0},ge.createElement(kb,{className:dT.mintCardBanner,secondText:v})))}(t);case Rn.ConnectHardware:return ge.createElement(pv,{isActive:t,onConnected:y,onClose:l});case Rn.ConfirmHardware:return ge.createElement(ev,{text:p("Please confirm transaction on your Ledger"),error:i,onClose:l,onTryAgain:y});case Rn.Done:return function(t){return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:p("Card has been upgraded!"),onClose:l}),ge.createElement("div",{className:kr(Ws.transitionContent,Ws.transitionContent_simple)},ge.createElement(Lp,{play:t,noLoop:!1,nonInteractive:!0,className:dT.sticker,tgsUrl:rp.thumbUp,previewUrl:rp.thumbUpPreview}),ge.createElement("div",{className:kr(dT.resultWithTime)},ge.createElement(Lp,{play:t,size:e.wg4,className:dT.resultTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:rp[f].iconClockGray,previewUrl:rp[f].preview.iconClockGray}),ge.createElement("div",null,Qo(p("$mint_card_result")))),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{isPrimary:!0,className:Ws.buttonFullWidth,onClick:l},p("Done")))))}(t)}}return ge.createElement(Ys,{isOpen:n,forceFullNative:!0,nativeBottomSheetKey:"mint-card",dialogClassName:dT.dialog,onClose:l},ge.createElement(of,{activeKey:h,nextKey:g,name:zg(),className:kr(dT.transition,"custom-scroll"),slideClassName:dT.transitionSlide},b))}))),vT=fe((function(e){let{id:t,name:n,value:a,label:o,checked:r=!1,className:i,onChange:s,onCheck:c,shouldStopPropagation:l}=e;return ge.createElement("label",{className:kr("pDx55knh",i),title:o,"aria-label":o,onClick:l?e=>e.stopPropagation():void 0,tabIndex:0,role:"button"},ge.createElement("input",{type:"checkbox",id:t,name:n,value:a,checked:r,className:"cLbaNjJ_",onChange:function(e){null==s||s(e),null==c||c(e.currentTarget.checked)}}),ge.createElement("span",{className:"tiLjiStY"}))})),wT="v8rRtn7B",yT="CC8Q5sJb",bT="bQ7CA6_X",ET="TI5caump",kT=fe((function(t){let{isOpen:n,isLoading:a,isInsideModal:o,state:r,error:i,onClose:s}=t;const{disableBiometrics:c}=Ke(),l=Er(),{renderingKey:d,nextKey:u,updateNextKey:m}=Kg(r,n),p=Po(((e,t)=>{c({password:e,isPasswordNumeric:t})}));function f(t,n,o){switch(o){case Nn.TurnOffBiometricConfirmation:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:l("Biometric Confirmation"),onClose:s}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement(Lp,{tgsUrl:rp.holdTon,previewUrl:rp.holdTonPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:yT}),i?ge.createElement("div",{className:"iEiAdwiC"},l(i)):ge.createElement("div",{className:ET},l("Please verify the operation.")),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:s,className:Ws.customSubmitButton},l("Cancel")))));case Nn.TurnOffCreatePassword:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:l("Create Password"),onClose:s}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement(Lp,{tgsUrl:rp.guard,previewUrl:rp.guardPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:yT}),ge.createElement(vg,{isActive:t,isLoading:a,formId:"biometrics-create-password",onSubmit:p,onCancel:s})));case Nn.TurnOffComplete:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:l("Biometrics Disabled"),onClose:s}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement(Lp,{tgsUrl:rp.yeee,previewUrl:rp.yeeePreview,play:t,size:e.reE,nonInteractive:!0,noLoop:!1,className:kr(yT,bT)}),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{isPrimary:!0,onClick:s,className:Ws.customSubmitButton},l("Done")))))}}return ge.createElement(Ys,{hasCloseButton:!0,isOpen:n,dialogClassName:wT,onClose:s},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:kr(o&&Ws.transitionSlide),activeKey:d,nextKey:u,onStop:m},f))})),CT=fe((function(e){let{isOpen:t,onClose:n}=e;const{openBiometricsTurnOff:a}=Ke(),o=Er();return ge.createElement(Ys,{isOpen:t,isCompact:!0,title:o("Turn Off Biometrics"),onClose:n},ge.createElement("p",{className:Ws.text},o("If you turn off biometric protection, you will need to create a password.")),ge.createElement("div",{className:kr(Ws.buttons,Ws.buttonsNoExtraSpace)},ge.createElement(Rs,{className:Ws.button,onClick:n},o("Cancel")),ge.createElement(Rs,{isPrimary:!0,className:Ws.button,onClick:a},o("Continue"))))})),NT=fe((function(t){let{isOpen:a,isLoading:o,isInsideModal:r,state:i,error:s,onClose:c}=t;const{enableBiometrics:l}=Ke(),d=Er(),[u,m]=ie(),{renderingKey:p,nextKey:f,updateNextKey:h}=Kg(i,a),g=Boolean(i!==Nn.TurnOnPasswordConfirmation);ce((()=>{a&&m("")}),[a]);const v=Po((()=>{m(void 0)})),w=Po((e=>{if(!g)try{l({password:e})}catch(e){m(e.message||"Unknown error.")}}));function y(t,a,r){switch(r){case Nn.TurnOnPasswordConfirmation:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:d("Turn On Biometrics"),onClose:c}),ge.createElement(ff,{isActive:t,isLoading:o,error:s||u,operationType:"turnOnBiometrics",help:d("Enabling biometric confirmation will reset the password."),submitLabel:d("Continue"),onSubmit:w,onCancel:c,onUpdate:v}));case Nn.TurnOnRegistration:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:d("Biometric Registration"),onClose:c}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement(Lp,{tgsUrl:rp.holdTon,previewUrl:rp.holdTonPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:yT}),ge.createElement("div",{className:ET},d("Step 1 of 2. Registration")),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:c,className:Ws.customCancelButton},d("Cancel")))));case Nn.TurnOnVerification:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:d("Biometric Registration"),onClose:c}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement(Lp,{tgsUrl:rp.holdTon,previewUrl:rp.holdTonPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:yT}),ge.createElement("div",{className:ET},d(n.cp?"Verification":"Step 2 of 2. Verification")),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:c,className:Ws.customCancelButton},d("Cancel")))));case Nn.TurnOnComplete:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:d("Biometrics Enabled"),onClose:c}),ge.createElement("div",{className:Ws.transitionContent},ge.createElement(Lp,{tgsUrl:rp.yeee,previewUrl:rp.yeeePreview,play:t,size:e.reE,nonInteractive:!0,noLoop:!1,className:kr(yT,bT)}),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{isPrimary:!0,onClick:c,className:Ws.customSubmitButton},d("Done")))))}}return ge.createElement(Ys,{hasCloseButton:!0,isOpen:a,dialogClassName:wT,onClose:c},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:kr(r&&Ws.transitionSlide),activeKey:p,nextKey:f,onStop:h},y))})),ST=fe(je((e=>{const{biometrics:{state:t,error:n}}=e;return{state:t,error:n,isLoading:e.auth.isLoading}}))((function(e){let{state:t,error:n,isLoading:a,isInsideModal:o}=e;const{closeBiometricSettings:r}=Ke(),i=t===Nn.TurnOnPasswordConfirmation||t===Nn.TurnOnRegistration||t===Nn.TurnOnVerification||t===Nn.TurnOnComplete,s=t===Nn.TurnOffBiometricConfirmation||t===Nn.TurnOffCreatePassword||t===Nn.TurnOffComplete,c=t===Nn.TurnOffWarning;return ge.createElement(ge.Fragment,null,ge.createElement(NT,{isOpen:i,isLoading:a,isInsideModal:o,state:t,error:n,onClose:r}),ge.createElement(kT,{isOpen:s,isLoading:a,isInsideModal:o,state:t,error:n,onClose:r}),ge.createElement(CT,{isOpen:c,onClose:r}))}))),AT=fe(je((e=>{const{nativeBiometricsError:t,isPinAccepted:n}=e;return{isPinAccepted:n,error:t,isNativeBiometricsEnabled:Nt(e)}}))((function(t){let{isActive:n,isInsideModal:a,isPinAccepted:o,error:r,isNativeBiometricsEnabled:i,handleBackClick:s}=t;const{enableNativeBiometrics:c,clearNativeBiometricsError:l}=Ke(),d=Er(),{isSmallHeight:u}=ii(),[m,p]=ie(""),f=m.length!==e.NEx?void 0:o?"success":r?"error":void 0,h=o?"Correct":r&&m.length===e.NEx?r:"Enter your code";Ui({isActive:n,onBack:s}),ce((()=>{n&&p("")}),[n]),ci((e=>{let[t]=e;i&&!t&&s()}),[i,s]);const g=Po((e=>{c({password:e})}));return ge.createElement("div",{className:Kh.slide},ge.createElement("div",{className:kr(Kh.content,Kh.contentFullSize)},ge.createElement("div",{className:Kh.header},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:s,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,d("Back")))),ge.createElement("div",{className:Kh.pinPadHeader},!a&&ge.createElement(Lp,{play:n,tgsUrl:rp.guard,previewUrl:rp.guardPreview,noLoop:!1,nonInteractive:!0,className:Kh.stickerNativeBiometric}),!u&&ge.createElement("div",{className:Kh.pinPadTitle},d("Confirm Passcode"))),ge.createElement(cf,{isActive:n,onClearError:l,title:d(h),type:f,length:e.NEx,value:m,onChange:p,onSubmit:g})))}))),TT=i.p+"theme_dark.5de5fe78d9ef16d3bb16.png",IT=[{value:"light",name:"Light",icon:i.p+"theme_light.cf5d5bfba2109dad7231.png"},{value:"system",name:"System",icon:i.p+"theme_system.374b66ee35055adafec5.png"},{value:"dark",name:"Dark",icon:TT}],BT=fe(je((e=>{var t,n;const{orderedAddresses:a,byAddress:o}=(null===(t=st(e))||void 0===t?void 0:t.nfts)||{},{config:{cardsInfo:r}={}}=st(e)||{};return{isViewMode:St(e),accentColorIndex:null===(n=dt(e))||void 0===n?void 0:n.accentColorIndex,nftAddresses:a,nftsByAddress:o,isMintingCardsAvailable:Boolean(r),isNftBuyingDisabled:e.restrictions.isNftBuyingDisabled}}))((function(a){let{isActive:o,theme:r,animationLevel:i,accentColorIndex:s,nftAddresses:l,nftsByAddress:d,isInsideModal:u,isViewMode:m,isTrayIconEnabled:p,isMintingCardsAvailable:f,isNftBuyingDisabled:h,onTrayIconEnabledToggle:g,handleBackClick:v}=a;const{setTheme:w,setAnimationLevel:y,openMintCardModal:b,installAccentColorFromNft:E,clearAccentColorFromNft:k,showNotification:C}=Ke(),N=Er(),[S,A]=ie(!1),[T,I]=ie(Xy),[B,_]=ie({});Ui({isActive:o,onBack:v});const{handleScroll:x,isScrolled:D}=Wh(),L=gf(r);ce((()=>{e.TI6||(async()=>{A(!0);const n=await async function(n,a){try{const t=(n||[]).reduce(((t,n)=>{const o=null==a?void 0:a[n];return(null==o?void 0:o.collectionAddress)===e.qL&&t.push(o),t}),[]);if(!t.length)return;const o=await Promise.all(t.map((e=>$f(e)))),r=o.reduce(((e,n,a)=>(void 0!==n&&(e[n]=t[a]),e)),{});return{availableAccentColorIds:(0,c.Am)((0,c.oE)(o)),nftsByColorIndex:r}}catch(e){return void(0,t.SJ)("[getAccentColorsFromNfts]: Error fetching accent colors",e)}}(l,d);n?(I(n.availableAccentColorIds),_(n.nftsByColorIndex)):(I(Xy),_({})),A(!1)})()}),[d,l]);const O=de((()=>Wf[L].map(((e,t)=>({color:e,index:t}))).sort(((e,t)=>Number(!T.includes(e.index))-Number(!T.includes(t.index))))),[L,T]),P=Po((e=>{document.documentElement.classList.add("no-transitions"),w({theme:e}),Xr(e,u),setTimeout((()=>{document.documentElement.classList.remove("no-transitions")}),300)})),M=Po((()=>{const t=i===e.dnp?e.zP3:e.dnp;y({level:t}),Ou(t)})),F=Po((()=>{!m&&f?b():ec(e.b2d)}));function R(e,t){const n=s===t,a=void 0!==t&&!T.includes(t);return ge.createElement("button",{key:e||"default",type:"button",disabled:n,style:e?`--current-accent-color: ${e}`:void 0,className:kr(Kh.colorButton,n&&Kh.colorButtonCurrent),"aria-label":N("Change Palette"),onClick:()=>{var e;void 0===(e=t)||T.includes(e)?void 0===e?k():E({nft:B[e]}):C({message:N("Get a unique MyTonWallet Card to unlock new palettes.")})}},S&&a&&ge.createElement(Wg,{color:"white"}),!S&&a&&ge.createElement("i",{className:kr(Kh.iconLock,"icon-lock","#FFFFFF"===e&&Kh.iconLockInverted),"aria-hidden":!0}))}return ge.createElement("div",{className:Kh.slide},u?ge.createElement(Th,{title:N("Appearance"),withNotch:D,onBackButtonClick:v,className:Kh.modalHeader}):ge.createElement("div",{className:kr(Kh.header,"with-notch-on-scroll",D&&"is-scrolled")},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:v,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,N("Back"))),ge.createElement("span",{className:Kh.headerTitle},N("Appearance"))),ge.createElement("div",{className:kr(Kh.content,"custom-scroll"),onScroll:x},ge.createElement("p",{className:Kh.blockTitle},N("Theme")),ge.createElement("div",{className:Kh.settingsBlock},ge.createElement("div",{className:Kh.themeWrapper},IT.map((e=>{let{name:t,value:n,icon:a}=e;return ge.createElement("div",{key:n,className:kr(Kh.theme,n===r&&Kh.theme_active),onClick:()=>P(n)},ge.createElement("div",{className:kr(Kh.themeIcon,n===r&&Kh.themeIcon_active)},ge.createElement("img",{src:a,alt:"",className:Kh.themeImg,"aria-hidden":!0})),ge.createElement("span",null,N(t)))})))),!e.TI6&&!h&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Kh.blockTitle},N("Palette")),ge.createElement("div",{className:kr(Kh.block,Kh.settingsBlockWithDescription)},ge.createElement("div",{className:Kh.colorList},R(),O.map((e=>{let{color:t,index:n}=e;return R(t,n)}))),ge.createElement("div",{className:Kh.subBlockAsButton,role:"button",tabIndex:0,onClick:()=>F()},N("Unlock New Palettes"))),ge.createElement("p",{className:Kh.blockDescription},N("Get a unique MyTonWallet Card to unlock new palettes."))),ge.createElement("p",{className:Kh.blockTitle},N("Other")),ge.createElement("div",{className:Kh.settingsBlock},ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:M},N("Enable Animations"),ge.createElement(vT,{className:Kh.menuSwitcher,label:N("Enable Animations"),checked:i!==e.dnp})),n.cp&&n.H8&&ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:g},N("Display Tray Icon"),ge.createElement(vT,{className:Kh.menuSwitcher,label:N("Display Tray Icon"),checked:p})))))}))),_T=fe((function(e){let{token:t}=e;const{deleteToken:n}=Ke(),[a,o]=ie(!1),r=Er();Ee((()=>{t&&o(!0)}),[t]);const i=Po((()=>{o(!1)})),s=Po((()=>{i(),n({slug:t.slug})}));return ge.createElement(Ys,{isOpen:a,isCompact:!0,onClose:i,title:r("Delete Token"),contentClassName:"yflPd0zm"},ge.createElement("p",{className:"KH236kiH"},r("Are you sure you want to delete?",{token:ge.createElement("strong",null,null==t?void 0:t.name)})),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:i,className:Ws.button},r("Cancel")),ge.createElement(Rs,{isDestructive:!0,onClick:s,className:Ws.button},r("Delete"))))})),xT={x:0,y:0},DT={top:0,bottom:0,left:0,right:0},LT=150,OT=fe((function(e){let{children:t,id:a,onDrag:o,onDragEnd:r,style:i,knobStyle:s,isDisabled:c,offset:l=DT,parentRef:d,scrollRef:u,className:m,onClick:p}=e;const f=Er(),h=me(),g=me(),v=me(),[w,y]=ie({isDragging:!1,scrollTop:0,origin:xT,translation:xT}),b=me({x:0,y:0}),E=()=>{void 0!==v.current&&(cancelAnimationFrame(v.current),v.current=void 0)},k=(e,t)=>{const n=()=>{e.scrollBy(0,t),(()=>{if(!(w.isDragging&&h.current&&null!=d&&d.current&&null!=u&&u.current))return;const e=FT(w,b.current,u.current.scrollTop,h.current,d.current,l);y((t=>({...t,translation:e}))),o(e,a)})(),v.current=requestAnimationFrame(n)};E(),n()},C=e=>{var t,n,a;const o=PT(e),r=(null==u||null===(t=u.current)||void 0===t?void 0:t.scrollTop)??0;y({...w,isDragging:!0,origin:o,scrollTop:r,width:null===(n=h.current)||void 0===n?void 0:n.offsetWidth,height:null===(a=h.current)||void 0===a?void 0:a.offsetHeight})},N=Po((e=>{e.stopPropagation(),e.preventDefault(),C(e),n.bA&&ko.clearScrollPatch()})),S=Po((e=>{if(!h.current||null==d||!d.current||null==u||!u.current)return;const{x:t,y:n}=PT(e);b.current={x:t,y:n};const r=FT(w,b.current,u.current.scrollTop,h.current,d.current,l),i=u.current.getBoundingClientRect(),s=n-i.top,c=i.bottom-n;s<LT?k(u.current,-MT((LT-s)/LT)):c<LT?k(u.current,MT((LT-c)/LT)):E(),y((e=>({...e,translation:r}))),o(r,a)})),A=Po((()=>{y((e=>({...e,isDragging:!1,width:void 0,height:void 0}))),n.bA&&ko.applyScrollPatch(),r()})),T=Po((e=>{w.isDragging||p(e)}));ce((()=>{const e=g.current;return e&&e.addEventListener("touchstart",N,{passive:!1}),w.isDragging?(window.addEventListener("touchmove",S),window.addEventListener("mousemove",S),window.addEventListener("touchend",A),window.addEventListener("touchcancel",A),window.addEventListener("mouseup",A)):(E(),window.removeEventListener("touchmove",S),window.removeEventListener("mousemove",S),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A),window.removeEventListener("mouseup",A),y((e=>({...e,translation:xT})))),()=>{w.isDragging&&(E(),window.removeEventListener("touchmove",S),window.removeEventListener("mousemove",S),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A),window.removeEventListener("mouseup",A),e&&e.removeEventListener("touchstart",N))}}),[S,A,N,w.isDragging,g,c]);const I=kr("kWQHzIMD",m,w.isDragging&&"k0c5WDAy"),B=de((()=>up(w.isDragging&&`transform: translate(${w.translation.x}px, ${w.translation.y}px)`,w.width?`width: ${w.width}px`:void 0,w.height?`height: ${w.height}px`:void 0,i)),[i,w.height,w.isDragging,w.translation.x,w.translation.y,w.width]);return ge.createElement("div",{style:B,className:I,ref:h,onClick:T},!c&&ge.createElement("div",{ref:g,"aria-label":f("i18n_dragToSort"),tabIndex:0,role:"button",className:kr("UpzQzcvs","div-button","draggable-knob"),onMouseDown:e=>{C(e)},style:s},ge.createElement("i",{className:"icon icon-sort","aria-hidden":!0})),t)}));function PT(e){let t,n;return"touches"in e?(t=e.touches[0].clientX,n=e.touches[0].clientY):(t=e.clientX,n=e.clientY),{x:t,y:n}}function MT(e){return 5*e**3+1}function FT(e,t,n,a,o,r){const i={x:t.x-e.origin.x,y:t.y-e.origin.y+n-e.scrollTop},{top:s=0,right:c=0,bottom:l=0,left:d=0}=r,u=o.getBoundingClientRect(),m=a.getBoundingClientRect(),p=-a.offsetLeft+d,f=u.width-m.width-a.offsetLeft+c,h=-a.offsetTop+s,g=u.height-m.height-a.offsetTop+l;return{x:Nr(i.x,p,f),y:Nr(i.y,h,g)}}function RT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=t.indexOf(e);return UT(-1===n?t.length:n)}function UT(e){return 64*e+48}const WT=fe((function(t){let{parentContainer:n,tokens:a,orderedSlugs:o,isSortByValueEnabled:r,baseCurrency:i,withChainIcon:s,isSensitiveDataHidden:c}=t;const{openSettingsWithState:l,updateOrderedSlugs:d,rebuildOrderedSlugs:u,toggleTokenVisibility:m}=Ke(),p=Er(),f=ir(i),h=me(),g=me(),[v,w]=ie(),[y,b]=ie({orderedTokenSlugs:o,dragOrderTokenSlugs:o,draggedIndex:void 0});ye((()=>{u()})),ce((()=>{(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length===t.length&&e.every(((e,n)=>e===t[n]))})(o,y.orderedTokenSlugs)||b({orderedTokenSlugs:o,dragOrderTokenSlugs:o,draggedIndex:void 0})}),[o,y.orderedTokenSlugs]);const E=Po((()=>{l({state:Fn.SelectTokenList})})),k=Po(((e,t)=>{var n,a;const r=Math.round(e.y/64),i=(null===(n=y.orderedTokenSlugs)||void 0===n?void 0:n.indexOf(t))??0,s=null===(a=y.orderedTokenSlugs)||void 0===a?void 0:a.filter((e=>e!==t));s&&Sr(i+r,0,(null==o?void 0:o.length)??0)&&(s.splice(i+r,0,t),b((e=>({...e,draggedIndex:i,dragOrderTokenSlugs:s}))))})),C=Po((()=>{b((e=>(d({orderedSlugs:e.dragOrderTokenSlugs}),{...e,orderedTokenSlugs:e.dragOrderTokenSlugs,draggedIndex:void 0})))})),N=Po(((e,t)=>{t.preventDefault(),t.stopPropagation(),m({slug:e.slug,shouldShow:Boolean(e.isDisabled)})})),S=Po(((e,t)=>{t.stopPropagation(),w(e)}));return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Kh.blockTitle},p("My Tokens")),ge.createElement("div",{className:Kh.contentRelative,ref:g},ge.createElement("div",{className:kr(Kh.settingsBlock,Kh.sortableContainer),style:`height: ${64*((null==a?void 0:a.length)??0)+48}px`,ref:h},ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:E},p("Add Token"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),null==a?void 0:a.map((function(t,o){const{symbol:i,name:l,amount:d,price:u,slug:m,isDisabled:g}=t,v=(0,sa.m1)(d,u),w=y.draggedIndex===o,b=r?UT(o):RT(m,y.orderedTokenSlugs),E=r?UT(o):RT(m,y.dragOrderTokenSlugs),A=`top: ${w?b:E}px;`,T=0n===d&&!e.Fgn.includes(m),I=r||a.length<=1;return ge.createElement(OT,{key:m,id:m,onDrag:k,onDragEnd:C,style:A,knobStyle:"left: 1rem;",isDisabled:I,className:kr(Kh.item,Kh.item_token,!r&&Kh.draggable),offset:{top:48},parentRef:h,scrollRef:n,onClick:e=>N(t,e)},ge.createElement(yw,{token:t,withChainIcon:s}),ge.createElement("div",{className:Kh.tokenInfo},ge.createElement("div",{className:Kh.tokenTitle},l),ge.createElement("div",{className:Kh.tokenDescription},ge.createElement(Aw,{isActive:c,cols:4+E%6,rows:2,cellSize:8,contentClassName:Kh.tokenAmount},ge.createElement(NC,{text:nr((0,Lt.nI)(v,t.decimals,!0),f)}),ge.createElement("i",{className:Kh.dot,"aria-hidden":!0}),ge.createElement(NC,{text:nr((0,Lt.nI)(d,t.decimals),i)})),T&&ge.createElement(ge.Fragment,null,ge.createElement("i",{className:Kh.dot,"aria-hidden":!0}),ge.createElement("span",{className:Kh.deleteText,onClick:e=>S(t,e)},p("Delete"))))),ge.createElement(vT,{className:Kh.menuSwitcher,checked:!g}))})))),ge.createElement(_T,{token:v}))})),HT=fe(je((e=>{const{isInvestorViewEnabled:t,isSortByValueEnabled:n,areTinyTransfersHidden:a,areTokensWithNoCostHidden:o,baseCurrency:r,isSensitiveDataHidden:i}=e.settings,{orderedSlugs:s}=dt(e)??{},{blacklistedNftAddresses:c=Xy,whitelistedNftAddresses:l=Xy,nfts:{byAddress:d}={}}=st(e)||{};return{isInvestorViewEnabled:t,isSortByValueEnabled:n,areTinyTransfersHidden:a,areTokensWithNoCostHidden:o,baseCurrency:r,isMultichainAccount:kt(e,e.currentAccountId),tokens:Ft(e),orderedSlugs:s,nftsByAddress:d,blacklistedNftAddresses:c,whitelistedNftAddresses:l,isSensitiveDataHidden:i}}))((function(t){let{isActive:n,isInsideModal:a,isInvestorViewEnabled:o,isSortByValueEnabled:r,isSensitiveDataHidden:i,areTinyTransfersHidden:s,areTokensWithNoCostHidden:c,baseCurrency:l,isMultichainAccount:d,tokens:u,orderedSlugs:m,nftsByAddress:p,blacklistedNftAddresses:f,whitelistedNftAddresses:h,onBack:g}=t;const{toggleTinyTransfersHidden:v,toggleInvestorView:w,toggleTokensWithNoCost:y,toggleSortByValue:b,changeBaseCurrency:E,setSettingsState:k}=Ke(),C=Er(),N=me();Ui({isActive:n,onBack:g});const{handleScroll:S,isScrolled:A}=Wh(),T=de((()=>Object.entries(e.yR2).map((e=>{let[t,{name:n}]=e;return{value:t,name:n}}))),[]),I=Po((()=>{v({isEnabled:!s})})),B=Po((()=>{w({isEnabled:!o})})),_=Po((()=>{k({state:Fn.HiddenNfts})})),x=Po((()=>{y({isEnabled:!c})})),D=Po((()=>{b({isEnabled:!r})})),[L,O]=ie(l),P=Po((e=>{O(e),E({currency:e})})),{shouldRenderHiddenNftsSection:M,hiddenNftsCount:F}=de((()=>{const e=Object.values(p||{}),t=new Set(f),n=new Set(h);return{shouldRenderHiddenNftsSection:e.some((e=>t.has(e.address)||e.isHidden)),hiddenNftsCount:e.filter((e=>!n.has(e.address)&&(t.has(e.address)||e.isHidden))).length}}),[p,f,h]);return ge.createElement("div",{className:Kh.slide},a?ge.createElement(Th,{title:C("Assets & Activity"),withNotch:A,onBackButtonClick:g,className:Kh.modalHeader}):ge.createElement("div",{className:kr(Kh.header,"with-notch-on-scroll",A&&"is-scrolled")},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:g,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,C("Back"))),ge.createElement("span",{className:Kh.headerTitle},C("Assets & Activity"))),ge.createElement("div",{className:kr(Kh.content,"custom-scroll"),onScroll:S,ref:N},ge.createElement("div",{className:Kh.settingsBlock},ge.createElement(av,{label:C("Base Currency"),items:T,selectedValue:l??e.wOb,theme:"light",shouldTranslateOptions:!0,className:kr(Kh.item,Kh.item_small),onChange:P,isLoading:L!==l}),ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:B},ge.createElement("div",null,C("Investor View")," ",ge.createElement(wv,{message:C("Focus on asset value rather than current balance"),iconClassName:Kh.iconQuestion})),ge.createElement(vT,{className:Kh.menuSwitcher,label:C("Investor View"),checked:o})),ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:I},ge.createElement("div",null,C("Hide Tiny Transfers")," ",ge.createElement(wv,{message:C("$tiny_transfers_help",{value:e.Wvq}),tooltipClassName:kr(Kh.wideTooltip),iconClassName:Kh.iconQuestion})),ge.createElement(vT,{className:Kh.menuSwitcher,label:C("Hide Tiny Transfers"),checked:s}))),M&&ge.createElement("div",{className:Kh.settingsBlock},ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:_},C("Hidden NFTs"),ge.createElement("div",{className:Kh.itemInfo},F,ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})))),ge.createElement("p",{className:Kh.blockTitle},C("Token Settings")),ge.createElement("div",{className:Kh.settingsBlock},ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:D},C("Sort By Cost"),ge.createElement(vT,{className:Kh.menuSwitcher,label:C("Sort By Cost"),checked:r})),ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:x},ge.createElement("div",null,C("Hide Tokens With No Cost")," ",ge.createElement(wv,{message:C("$hide_tokens_no_cost_help",{value:e.Wvq}),tooltipClassName:kr(Kh.wideTooltip),iconClassName:Kh.iconQuestion})),ge.createElement(vT,{className:Kh.menuSwitcher,label:C("Hide Tokens With No Cost"),checked:c}))),ge.createElement(WT,{isSensitiveDataHidden:i,parentContainer:N,tokens:u,orderedSlugs:m,isSortByValueEnabled:r,baseCurrency:l,withChainIcon:d})))}))),$T="Uez1mztb",VT=fe((function(e){let{isOpen:t,dapp:n,onClose:a}=e;const{deleteAllDapps:o,deleteDapp:r}=Ke(),i=Er(),s=Po((()=>{o(),a()})),c=Po((()=>{r({url:n.url,uniqueId:Gd(n)}),a()})),l=i(n?"Disconnect Dapp":"Disconnect Dapps"),d=n?i("Are you sure you want to disconnect?",{dappname:ge.createElement("strong",null,n.name)}):i("Are you sure you want to disconnect all websites?"),u=n?c:s;return ge.createElement(Ys,{isOpen:t,isCompact:!0,onClose:a,title:l,contentClassName:"ofWxr4DU"},ge.createElement("p",{className:"XlFYElV7"},d),ge.createElement("div",{className:"gixyiSx7"},ge.createElement(Rs,{onClick:a,className:$T},i("Cancel")),ge.createElement(Rs,{isDestructive:!0,onClick:u,className:$T},i("Disconnect"))))})),zT=fe((function(t){let{isActive:n,dapps:a,handleBackClick:o,isInsideModal:r}=t;const i=Er(),[s,c,l]=Ru(),[d,u]=ie();Ui({isActive:n,onBack:o});const{handleScroll:m,isScrolled:p}=Wh(),f=Po((e=>{const t=a.find((t=>t.url===e));u(t),c()})),h=Po((()=>{u(void 0),c()})),g=0===a.length?ge.createElement("div",{className:Kh.emptyList},ge.createElement(Lp,{play:n,tgsUrl:rp.noData,previewUrl:rp.noDataPreview,size:e.igk,noLoop:!1,nonInteractive:!0}),ge.createElement("p",{className:Kh.emptyListTitle},i("No active connections"))):ge.createElement("div",{className:Kh.dapps},ge.createElement("div",{className:Kh.disconnectAllBlock},ge.createElement(Rs,{className:Kh.disconnectButton,isSimple:!0,onClick:h},i("Disconnect All Dapps")),ge.createElement("p",{className:Kh.blockDescription},i("$dapps-description",{app_name:e.C39}))),ge.createElement("p",{className:Kh.blockTitle},i("Logged in with %app_name%",{app_name:e.C39})),ge.createElement("div",{className:Kh.block},a.map((e=>ge.createElement(qv,{key:`dapp-${e.url}-${Gd(e)}`,dapp:e,className:Kh.dapp,onDisconnect:f})))));return ge.createElement("div",{className:Kh.slide},r?ge.createElement(Th,{title:i("Dapps"),withNotch:p,onBackButtonClick:o,className:Kh.modalHeader}):ge.createElement("div",{className:kr(Kh.header,"with-notch-on-scroll",p&&"is-scrolled")},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:o,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("span",{className:Kh.headerTitle},i("Dapps"))),ge.createElement("div",{className:kr(Kh.content,"custom-scroll"),onScroll:m},ge.createElement(of,{activeKey:0===a.length?0:1,name:"fade"},g)),ge.createElement(VT,{isOpen:s,onClose:l,dapp:d}))}));function KT(){if(e.v5B)return"firefox-extension";if(e.RTV)return"opera-extension";if(e.hL1)return"extension";if(e.UMQ){if(e.gmk){if(n.pz)return"ios-air";if(e.VL7)return"android-air-direct";if(n.Ni)return"android-air"}if(e.VL7)return"android-direct";if(n.Ni)return"android";if(n.pz)return"ios"}var t;return e.tKX?(null===(t=Xa())||void 0===t?void 0:t.platform)||"telegram-unknown":n.cp?"electron":"web"}var qT=i(36791);const jT=[{value:"mainnet",name:"Mainnet"},{value:"testnet",name:"Testnet"}],YT=n.pz||!(e.hL1||e.tKX),GT=fe(je((e=>{var t;const n=e.currentAccountId;return{currentAccountId:n,accountsById:null===(t=e.accounts)||void 0===t?void 0:t.byId,canViewAllWalletVersions:!kt(e,n)}}))((function(o){let{isOpen:r,isTestnet:i,isCopyStorageEnabled:s,onShowAllWalletVersions:c,onClose:l,currentAccountId:d,accountsById:u,canViewAllWalletVersions:m}=o;const{startChangingNetwork:p,closeSettings:f,openAddAccountModal:h,copyStorageData:g,showNotification:v}=Ke(),w=Er(),y=jT[i?1:0].value,b=Po((e=>{p({network:e}),l()})),E=Po((()=>{l(),f(),h({forceAddingTonOnlyAccount:!0})})),k=Po((async()=>{const o=await async function(o){let{currentAccountId:r,accountsById:i}=o;const s=i&&Object.keys(i).reduce(((e,t)=>{const{addressByChain:n,type:a}=i[t];return e[t]={type:a,addressByChain:n},e}),{}),[c,l,d=[]]=await Promise.all([(0,t.ao)(),n.KI?new Promise((e=>{const t=n=>{let{data:a}=n;"logsFromNative"===a.type&&(yl.removeEventListener("message",t),e(a.logs))};yl.addEventListener("message",t),yl.postMessage({type:"getLogsFromNative"})})):Promise.resolve([]),(0,a.p)("getLogs")]),u=new Date,m=-u.getTimezoneOffset();return JSON.stringify({time:u,timezone:`UTC${m<0?"-":"+"}${Math.abs(m)/60}`,environment:e.Guj,version:e.hl5,commit:e.rFA,platform:(0,qT.u)(),navigatorPlatform:navigator.platform,userAgent:navigator.userAgent,build:KT(),flags:{IS_ANDROID_DIRECT:e.VL7,IS_CAPACITOR:e.UMQ,IS_TELEGRAM_APP:e.tKX,IS_EXTENSION:e.hL1,IS_FIREFOX_EXTENSION:e.v5B,IS_PACKAGED_ELECTRON:e.jht,IS_AIR_APP:e.gmk,IS_ELECTRON:n.cp,IS_OPERA_EXTENSION:e.RTV},currentAccountId:r,accountsInfo:s,logs:[...c.map((e=>({...e,context:"main"}))),...l.map((e=>({...e,context:"bottomSheet"}))),...d.map((e=>({...e,context:"api"})))].sort(((e,t)=>e.time-t.time)).map((e=>({...e,time:new Date(e.time).toISOString()})))},void 0,2)}({currentAccountId:d,accountsById:u});if(YT){const t=`${e.TI6?"tonwallet":"mytonwallet"}_logs_${(new Date).toISOString()}.json`;await async function(t,a){if(e.UMQ){const e={path:t,directory:lh.__.Cache},n=await dh.writeFile({...e,data:a,encoding:lh.Wi.UTF8});try{if(await ph({url:n.uri}))return}finally{dh.deleteFile(e)}}const o=new File([a],t,{type:"application/json"});if(await fh({files:[o]}))return;const r=URL.createObjectURL(o);try{if(n.pz)window.open(r,"_blank","noreferrer");else{const e=document.createElement("a");e.href=r,e.download=t,e.click()}}finally{URL.revokeObjectURL(r)}}(t,o)}else await al(o),v({message:w("Logs were copied!"),icon:"icon-copy"}),l()}));return ge.createElement(Ys,{isOpen:r,onClose:l,noBackdropClose:!0,isCompact:!0,title:w("Developer Options")},ge.createElement("div",{className:Kh.settingsBlock},ge.createElement(av,{label:w("Network"),items:jT,selectedValue:y,theme:"light",arrow:"chevron",className:kr(Kh.item,Kh.item_small),onChange:b}),ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:E},w("Create TON-Only Wallet"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-plus"),"aria-hidden":!0})),ge.createElement("div",{className:kr(Kh.item,Kh.item_small,!m&&Kh.item_disabled),onClick:c},w("All Wallet Versions"),ge.createElement("div",{className:Kh.itemInfo},m?ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}):ge.createElement(ge.Fragment,null,ge.createElement("span",{className:Kh.small},w("Multichain")),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-lock"),"aria-hidden":!0}))))),s&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Kh.blockTitle},w("Dangerous")),ge.createElement("div",{className:Kh.settingsBlock},ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:()=>g()},w("Copy Storage Data"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-copy"),"aria-hidden":!0})))),ge.createElement("div",{className:kr(Kh.settingsBlock)},ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:k},YT?w("Download Logs"):ge.createElement(ge.Fragment,null,w("Copy Logs"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-copy"),"aria-hidden":!0})))),ge.createElement(Rs,{className:Kh.developerCloseButton,onClick:l},w("Close")))}))),QT=fe((function(t){let{isActive:n,handleBackClick:a,isInsideModal:o}=t;const r=Er();Ui({isActive:n,onBack:a});const{handleScroll:i,isScrolled:s}=Wh();return ge.createElement("div",{className:Kh.slide},o?ge.createElement(Th,{title:"",withNotch:s,onBackButtonClick:a}):ge.createElement("div",{className:kr(Kh.header,"with-notch-on-scroll",s&&"is-scrolled")},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:a,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back")))),ge.createElement("div",{className:kr(Kh.content,o&&"custom-scroll",!o&&Kh.content_noScroll),onScroll:o?i:void 0},ge.createElement("div",{className:Kh.stickerAndTitle},ge.createElement(Lp,{play:n,tgsUrl:rp.snitch,previewUrl:rp.snitchPreview,noLoop:!1,nonInteractive:!0,size:e.lWW}),ge.createElement("div",{className:Kh.sideTitle},r("Use Responsibly"))),ge.createElement("div",{className:kr(Kh.blockAbout,!o&&"custom-scroll")},ge.createElement("p",{className:Kh.text},Qo(r("$auth_responsibly_description1",{app_name:e.C39}))),ge.createElement("p",{className:Kh.text},Qo(r("$auth_responsibly_description2"))),ge.createElement("p",{className:Kh.text},Qo(r("$auth_responsibly_description3",{app_name:e.C39}))),ge.createElement("p",{className:Kh.text},Qo(r("$auth_responsibly_description4"))))))})),XT=fe((function(e){let{nft:t}=e;const{openMediaViewer:a,removeNftSpecialStatus:o}=Ke(),r=Er(),[i,,s]=Ru(!0),c=Po((()=>{o({address:t.address})})),{ref:l}=Ls({isOpen:i,onCloseAnimationEnd:c}),{isPortrait:d}=ii(),u=!d||n.cp||n.KI||n.bA;return Ne.createElement("div",{ref:l,className:Kh.item,onClick:function(){a({mediaId:t.address,mediaType:Hn.Nft,noGhostAnimation:u,hiddenNfts:"user"})},key:t.address,role:"button",tabIndex:0,"data-nft-address":!u&&t.address},Ne.createElement("img",{className:Kh.nftImage,src:t.image,alt:t.name}),Ne.createElement("div",{className:Kh.nftPrimaryCell},Ne.createElement("span",{className:Kh.nftName},t.name||r("Untitled")),t.collectionName&&Ne.createElement("span",{className:Kh.nftCollection},t.collectionName)),Ne.createElement(Rs,{isSmall:!0,isPrimary:!0,isText:!0,className:Kh.nftButtonUnhide,onClick:s,shouldStopPropagation:!0},r("Unhide")))})),JT=fe((function(e){let{nft:t,isWhitelisted:a}=e;const{openMediaViewer:o,removeNftSpecialStatus:r,openUnhideNftModal:i}=Ke(),s=Er(),{isPortrait:c}=ii(),l=!c||n.cp||n.KI||n.bA,d=Po((()=>{o({mediaId:t.address,mediaType:Hn.Nft,noGhostAnimation:l,hiddenNfts:"scam"})})),u=Po((e=>{e.stopPropagation(),a?r({address:t.address}):i({address:t.address,name:t.name})}));return Ne.createElement("div",{className:Kh.item,onClick:d,key:t.address,role:"button",tabIndex:0,"data-nft-address":!l&&t.address},Ne.createElement("img",{className:Kh.nftImage,src:t.image,alt:t.name}),Ne.createElement("div",{className:Kh.nftPrimaryCell},Ne.createElement("span",{className:Kh.nftName},t.name),t.collectionName&&Ne.createElement("span",{className:Kh.nftCollection},t.collectionName)),Ne.createElement(vT,{className:Kh.menuSwitcher,label:s("Show"),checked:a,onChange:u,shouldStopPropagation:!0}))})),ZT=fe(je((e=>{var t;const{blacklistedNftAddresses:n,whitelistedNftAddresses:a}=st(e)??{},{orderedAddresses:o,byAddress:r}=(null===(t=st(e))||void 0===t?void 0:t.nfts)??{};return{blacklistedNftAddresses:n,whitelistedNftAddresses:a,orderedAddresses:o,byAddress:r}}))((function(e){let{isActive:t,handleBackClick:a,isInsideModal:o,blacklistedNftAddresses:r,whitelistedNftAddresses:i,orderedAddresses:s,byAddress:c}=e;const l=Er();Ui({isActive:t,onBack:a});const{isScrolled:d,handleScroll:u}=Wh(),m=de((()=>{if(s&&c)return s.map((e=>c[e])).filter(Boolean)}),[c,s]),p=de((()=>{const e=new Set(r);return null==m?void 0:m.filter((t=>e.has(t.address)))}),[m,r]),f=de((()=>null==m?void 0:m.filter((e=>e.isHidden))),[m]),h=de((()=>new Set(i)),[i]),{isPortrait:g}=ii(),v=!g||n.cp||n.KI||n.bA;return ge.createElement("div",{className:Kh.slide},o?ge.createElement(Th,{title:l("Hidden NFTs"),withNotch:d,onBackButtonClick:a,className:Kh.modalHeader}):ge.createElement("div",{className:kr(Kh.header,"with-notch-on-scroll",d&&"is-scrolled")},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:a,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),ge.createElement("span",{className:Kh.headerTitle},l("Hidden NFTs"))),ge.createElement("div",{className:kr(Kh.content,"custom-scroll"),onScroll:u},Boolean(null==p?void 0:p.length)&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Kh.blockTitle},l("Hidden By Me")),ge.createElement("div",{className:kr(Kh.block,!v&&"hidden-nfts-user")},p.map((e=>ge.createElement(XT,{key:e.address,nft:e}))))),Boolean(null==f?void 0:f.length)&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Kh.blockTitle},l("Probably Scam")),ge.createElement("div",{className:kr(Kh.block,Kh.settingsBlockWithDescription,!v&&"hidden-nfts-scam")},f.map((e=>ge.createElement(JT,{key:e.address,nft:e,isWhitelisted:h.has(e.address)})))),ge.createElement("p",{className:Kh.blockDescription},l("$settings_nft_probably_scam_description")))))}))),eI=i.p+"settings_checkmark.4c62604cbc9fd263c110.svg",tI=fe((function(t){let{isActive:n,langCode:a,handleBackClick:o,isInsideModal:r}=t;const{changeLanguage:i}=Ke(),s=Er();Ui({isActive:n,onBack:o});const c=Po((e=>{br(e,(()=>{i({langCode:e})}))}));return ge.createElement("div",{className:Kh.slide},r?ge.createElement(Th,{title:s("Language"),onBackButtonClick:o,className:kr(Kh.modalHeader,Kh.languageHeader)}):ge.createElement("div",{className:Kh.header},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:o,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,s("Back"))),ge.createElement("span",{className:Kh.headerTitle},s("Language"))),ge.createElement("div",{className:kr(Kh.content,"custom-scroll")},ge.createElement("div",{className:Kh.block},e.gSB.map((e=>{let{name:t,nativeName:n,langCode:o}=e;return ge.createElement("div",{key:o,className:kr(Kh.item,Kh.item_lang),onClick:()=>c(o)},ge.createElement("div",{className:Kh.languageInfo},ge.createElement("span",{className:Kh.languageMain},t),ge.createElement("span",{className:Kh.languageNative},n)),a===o&&ge.createElement("img",{src:eI,alt:t}))})))))})),nI=fe(je((e=>({accounts:at(e),canPlaySounds:e.settings.canPlaySounds,pushNotifications:e.pushNotifications,settingsByAccountId:e.settings.byAccountId})))((function(t){let{isActive:n,handleBackClick:a,accounts:o,canPlaySounds:r,pushNotifications:{enabledAccounts:i,isAvailable:s},isInsideModal:c,settingsByAccountId:l}=t;const d=Er(),{toggleNotifications:u,toggleNotificationAccount:m,toggleCanPlaySounds:p}=Ke(),f=de((()=>Object.entries(o||{})),[o]),h=Boolean(Object.keys(i).length),g=d(s?"Notifications & Sounds":"Sounds"),v=Po((()=>{u({isEnabled:!h})})),w=Po((()=>{p({isEnabled:!r})}));Ui({isActive:n,onBack:a});const{handleScroll:y,isScrolled:b}=Wh();return ge.createElement("div",{className:Kh.slide},c?ge.createElement(Th,{title:g,withNotch:b,onBackButtonClick:a,className:Kh.modalHeader}):ge.createElement("div",{className:kr(Kh.header,"with-notch-on-scroll",b&&"is-scrolled")},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:a,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,d("Back"))),ge.createElement("span",{className:Kh.headerTitle},g)),ge.createElement("div",{className:kr(Kh.content,"custom-scroll"),onScroll:y},s&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Kh.settingsBlock},ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:v},d("Push Notifications"),ge.createElement(vT,{className:Kh.menuSwitcher,label:d("Push Notifications"),checked:h}))),ge.createElement("p",{className:Kh.blockTitle},d("Select up to %count% wallets for notifications",{count:e.vdF})),ge.createElement(Xg,{accountLength:f.length,className:Kh.settingsBlock},f.map((t=>{let[n,{title:a,addressByChain:o,type:r}]=t;return function(t,n,a,o){const r=n.ton?()=>{m({accountId:t})}:void 0,{cardBackgroundNft:s}=(null==l?void 0:l[t])||{},c=(0,Ye.LG)(n)??"",u=i&&!i[t]&&Qe(i,e.vdF-1);return ge.createElement(Qg,{className:kr(Kh.account,u?Kh.accountDisabled:void 0),key:t,accountId:t,address:c,title:o,ariaLabel:d("Switch Account"),accountType:a,withCheckbox:!0,isLoading:u,isActive:Boolean(i&&i[t]),onClick:r,cardBackgroundNft:s})}(n,o,r,a)})))),ge.createElement("div",{className:Kh.settingsBlock},ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:w},d("Play Sounds"),ge.createElement(vT,{className:Kh.menuSwitcher,label:d("Play Sounds"),checked:r})))))})));var aI,oI;!function(e){e.Accessibility="accessibility",e.Account="account",e.AirplaneMode="airplane_mode",e.Apn="apn",e.ApplicationDetails="application_details",e.ApplicationDevelopment="application_development",e.Application="application",e.AppNotification="app_notification",e.BatteryOptimization="battery_optimization",e.Bluetooth="bluetooth",e.Captioning="captioning",e.Cast="cast",e.DataRoaming="data_roaming",e.Date="date",e.Display="display",e.Dream="dream",e.Home="home",e.Keyboard="keyboard",e.KeyboardSubType="keyboard_subtype",e.Locale="locale",e.Location="location",e.ManageApplications="manage_applications",e.ManageAllApplications="manage_all_applications",e.MemoryCard="memory_card",e.Network="network",e.NfcSharing="nfcsharing",e.NfcPayment="nfc_payment",e.NfcSettings="nfc_settings",e.Print="print",e.Privacy="privacy",e.QuickLaunch="quick_launch",e.Search="search",e.Security="security",e.Settings="settings",e.ShowRegulatoryInfo="show_regulatory_info",e.Sound="sound",e.Storage="storage",e.Sync="sync",e.Usage="usage",e.UserDictionary="user_dictionary",e.VoiceInput="voice_input",e.Wifi="wifi",e.WifiIp="wifi_ip",e.Wireless="wireless",e.ZenMode="zen_mode",e.ZenModePriority="zen_mode_priority",e.ZenModeBlockedEffects="zen_mode_blocked_effects"}(aI||(aI={})),function(e){e.About="about",e.App="app",e.AppNotification="appNotification",e.AutoLock="autoLock",e.Bluetooth="bluetooth",e.DateTime="dateTime",e.FaceTime="facetime",e.General="general",e.Keyboard="keyboard",e.ICloud="iCloud",e.ICloudStorageBackup="iCloudStorageBackup",e.International="international",e.LocationServices="locationServices",e.Music="music",e.Notes="notes",e.Notifications="notifications",e.Phone="phone",e.Photos="photos",e.ManagedConfigurationList="managedConfigurationList",e.Reset="reset",e.Ringtone="ringtone",e.Sounds="sounds",e.SoftwareUpdate="softwareUpdate",e.Store="store",e.Tracking="tracking",e.Wallpaper="wallpaper",e.WiFi="wifi",e.Tethering="tethering",e.DoNotDisturb="doNotDisturb",e.TouchIdPasscode="touchIdPasscode",e.ScreenTime="screenTime",e.Accessibility="accessibility"}(oI||(oI={}));const rI=(0,Sa.F3)("NativeSettings",{web:()=>i.e(988).then(i.bind(i,91988)).then((e=>new e.NativeSettingsWeb))}),iI=i.p+"settings_private-key.5db3564e144d742b44ca.svg",sI=i.p+"settings_secret-words.594687182868e734ac8f.svg",cI=fe((function(e){let{isActive:t,isInsideModal:n,isMultichainAccount:a,hasMnemonicWallet:o,onBackClick:r,onOpenSecretWordsSafetyRules:i,onOpenPrivateKeySafetyRules:s,openSettingsSlide:c}=e;const l=Er();Ui({isActive:t,onBack:r});const{handleScroll:d,isScrolled:u}=Wh();return ge.createElement("div",{className:Kh.slide},n?ge.createElement(Th,{onBackButtonClick:c,className:Kh.modalHeader,withNotch:u,title:l("$back_up_security")}):ge.createElement("div",{className:Kh.header},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:c,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),ge.createElement("span",{className:Kh.headerTitle},l("$back_up_security"))),ge.createElement("div",{className:kr(Kh.content,"custom-scroll"),onScroll:d},o&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:kr(Kh.block,Kh.settingsBlockWithDescription)},ge.createElement("div",{className:kr(Kh.item),onClick:i},ge.createElement("img",{className:Kh.menuIcon,src:sI,alt:l("View Secret Words")}),l("View Secret Words"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),a&&ge.createElement("p",{className:Kh.blockDescription},l("Can be imported to any multichain wallet supporting TON."))),(a||!o)&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:kr(Kh.block,Kh.settingsBlockWithDescription)},ge.createElement("div",{className:kr(Kh.item),onClick:s},ge.createElement("img",{className:Kh.menuIcon,src:iI,alt:l("View TON Private Key")}),l("View TON Private Key"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement("p",{className:Kh.blockDescription},l("Can be imported to non-multichain wallets for TON.")))))})),lI=fe((function(t){let{isActive:n,privateKey:a,onSubmit:o,buttonText:r}=t;const i=Er();return ge.createElement(ge.Fragment,null,ge.createElement(Lp,{tgsUrl:rp.bill,previewUrl:rp.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:Zh}),ge.createElement("p",{className:kr(ng,og)},Qo(i("$private_key_description"))),ge.createElement("p",{className:ag},Qo(i("$mnemonic_warning"))),ge.createElement(wy,{noExplorer:!0,text:a,copyNotification:i("Your private key was copied!")}),ge.createElement("div",{className:eg},ge.createElement(Rs,{isPrimary:!0,className:tg,onClick:o},r)))})),dI="gDO3tqgH",uI=fe((function(e){let{isActive:t,currentAccountId:n,enteredPassword:o,isBackupSlideActive:r,isInsideModal:i,onBackClick:s,onSubmit:c}=e;const l=Er(),[d,u]=ie(void 0);ce((()=>{!async function(){if(r&&o){const e=await(0,a.p)("fetchPrivateKey",n,o);u(e)}else u(void 0)}()}),[n,o,r]),Ui({isActive:t,onBack:s});const{handleScroll:m,isScrolled:p}=Wh();return ge.createElement("div",{className:Kh.slide},i?ge.createElement(Th,{title:l("Private Key"),withNotch:p,onBackButtonClick:s,className:Kh.modalHeader}):ge.createElement("div",{className:kr(Kh.header,"with-notch-on-scroll",p&&"is-scrolled")},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:s,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),ge.createElement("span",{className:Kh.headerTitle},l("Private Key"))),ge.createElement("div",{className:kr(Kh.content,dI),onScroll:m},ge.createElement(lI,{isActive:t,privateKey:d,buttonText:l("Close"),onSubmit:c})))})),mI=fe((function(e){let{isActive:t,onBackClick:n,isInsideModal:a,onSubmit:o,backupType:r}=e;const i=Er(),[s,c]=ie(!1),[l,d]=ie(!1),[u,m]=ie(!1),p=Po((()=>{c(!1),d(!1),m(!1),n()}));Ui({isActive:t,onBack:n});const{handleScroll:f,isScrolled:h}=Wh();return ge.createElement("div",{className:Kh.slide},a?ge.createElement(Th,{title:i("Safety Rules"),withNotch:h,onBackButtonClick:p,className:Kh.modalHeader}):ge.createElement("div",{className:kr(Kh.header,"with-notch-on-scroll",h&&"is-scrolled")},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:p,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("span",{className:Kh.headerTitle},i("Safety Rules"))),ge.createElement("div",{className:kr(Kh.content,dI),onScroll:f},ge.createElement(xg,{isActive:t,isFullSizeButton:!0,textFirst:i("key"===r?"$safety_rules_private_key_one":"$safety_rules_one"),textSecond:i("key"===r?"$safety_rules_private_key_two":"$safety_rules_two"),textThird:i("key"===r?"$safety_rules_private_key_three":"$safety_rules_three"),isFirstCheckboxSelected:s,onFirstCheckboxClick:c,isSecondCheckboxSelected:l,onSecondCheckboxClick:d,isThirdCheckboxSelected:u,onThirdCheckboxClick:m,onSubmit:o})))})),pI=fe((function(e){let{isActive:t,currentAccountId:n,enteredPassword:o,isBackupSlideActive:r,isInsideModal:i,onBackClick:s,onSubmit:c}=e;const l=Er(),[d,u]=ie(void 0),m=(null==d?void 0:d.length)||0;ce((()=>{!async function(){if(r&&o){const e=await(0,a.p)("fetchMnemonic",n,o);u(e)}else u(void 0)}()}),[n,o,r]),Ui({isActive:t,onBack:s});const{handleScroll:p,isScrolled:f}=Wh();return ge.createElement("div",{className:Kh.slide},i?ge.createElement(Th,{title:l("%1$d Secret Words",m),withNotch:f,className:Kh.modalHeader,onBackButtonClick:s}):ge.createElement("div",{className:kr(Kh.header,"with-notch-on-scroll",f&&"is-scrolled")},ge.createElement(Rs,{isSimple:!0,isText:!0,className:Kh.headerBack,onClick:s},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),ge.createElement("span",{className:Kh.headerTitle},l("%1$d Secret Words",m))),ge.createElement("div",{className:kr(Kh.content,dI),onScroll:p},ge.createElement(Og,{isActive:t,mnemonic:d,onSubmit:c,buttonText:l("Close")})))})),fI=fe(je((e=>({isBiometricAuthEnabled:Nt(e)})))((function(e){let{isBiometricAuthEnabled:t,onEnable:a}=e;const{disableNativeBiometrics:o}=Ke(),r=qc()||!Kc()&&n.pz,i=jc(),s=Er(),[c,l,d]=Ru(),u=r?"Face ID":i?"Touch ID":s("Biometric Authentication"),m=r?"Turn Off Face ID":i?"Turn Off Touch ID":"Turn Off Biometrics",p=r?"Are you sure you want to disable Face ID?":i?"Are you sure you want to disable Touch ID?":"Are you sure you want to disable biometrics?",f=r?fg:pg,h=Po((()=>{d(),o()}));Ee((()=>{n.bA&&c&&Oy.confirm({title:s(m),message:s(p),okButtonTitle:s("Yes"),cancelButtonTitle:s("Cancel")}).then((e=>{let{value:t}=e;t&&h()})).finally(d)}),[h,c,s,p,m]);const g=Po((()=>{var e;Qa()?null===(e=Xa())||void 0===e||e.BiometricManager.openSettings():t?l():a()}));return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:kr(Kh.block,Kh.settingsBlockWithDescription)},ge.createElement("div",{className:Kh.item,onClick:g},ge.createElement("img",{className:Kh.menuIcon,src:f,alt:""}),u,ge.createElement(vT,{className:Kh.menuSwitcher,label:u,checked:t})),function(){if(!n.bA)return ge.createElement(Ys,{isCompact:!0,isOpen:c,title:s(m),onClose:d,dialogClassName:Kh.stakingSafeDialog},ge.createElement("p",{className:Ws.text},Qo(s(p))),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:d},s("Cancel")),ge.createElement(Rs,{onClick:h},s("Yes"))))}()),ge.createElement("p",{className:Kh.blockDescription},s("To avoid entering the passcode every time, you can use biometrics.")))}))),hI=i.p+"settings_install-app.4e741ffc81f5e067f545.svg";let gI=function(e){return e[e.password=0]="password",e[e.settings=1]="settings",e[e.newPassword=2]="newPassword",e[e.createNewPin=3]="createNewPin",e[e.confirmNewPin=4]="confirmNewPin",e[e.passwordChanged=5]="passwordChanged",e[e.backup=6]="backup",e[e.safetyRules=7]="safetyRules",e[e.privateKey=8]="privateKey",e[e.secretWords=9]="secretWords",e}({});const vI=Yc()?gI.createNewPin:gI.newPassword,wI=fe(je((e=>{const{isPasswordNumeric:t,autolockValue:n,isAppLockEnabled:a,isAutoConfirmEnabled:o}=e.settings,r=Ct(e),i=Nt(e),s=yt(e);return{isBiometricAuthEnabled:r,isNativeBiometricAuthEnabled:i,isMultichainAccount:kt(e,e.currentAccountId),isPasswordNumeric:t,isPasswordPresent:s,isAppLockEnabled:a,autolockValue:n,isAutoConfirmEnabled:o,shouldShowBackup:vt(e),isLoading:e.auth.isLoading,currentAccountId:e.currentAccountId}}))((function(t){let{isActive:o,handleBackClick:r,isInsideModal:i,isBiometricAuthEnabled:s,isNativeBiometricAuthEnabled:c,isPasswordNumeric:d,isPasswordPresent:u,isMultichainAccount:m,isAppLockEnabled:p,autolockValue:f=e.fPM,isAutoConfirmEnabled:h,isAutoUpdateEnabled:g,currentAccountId:v,onSettingsClose:w,onAutoUpdateEnabledToggle:y,isLoading:b,shouldShowBackup:E}=t;const{setIsPinAccepted:k,clearIsPinAccepted:C,disableNativeBiometrics:N,enableNativeBiometrics:S,openBiometricsTurnOffWarning:A,openBiometricsTurnOn:T,setSettingsState:I,setAppLockValue:B,setIsAutoConfirmEnabled:_,setIsAuthLoading:x,setInMemoryPassword:D}=Ke(),L=Er(),{isScrolled:O,handleScroll:P}=Wh(),[M,F]=ie(gI.password),R=be(M),[U,W]=ie(gI.settings),[H,$]=ie(),[V,z]=ie(),[K,q]=ie(void 0),[j,Y]=ie(!1),[G,Q]=ie(""),[X,J]=ie(""),Z=Po((()=>{$(void 0)})),ee=Po((e=>{e||z(void 0),Q(""),J(""),Z(),C()})),te=Po((()=>{r(),ee()})),ne=Po((()=>{F(gI.confirmNewPin),W(gI.settings)})),ae=Po((()=>{F(gI.settings),W(void 0),ee(!0)})),oe=Po((()=>{m?(F(gI.backup),W(gI.safetyRules)):ae()})),re=Po((()=>{F(vI),W(gI.settings)})),se=Po((()=>{F(gI.passwordChanged),W(gI.settings)}));le((()=>{void 0===V&&o?F(gI.password):o||ee()}),[V,o]),Ui({isActive:o,onBack:te});const de=Po((async e=>{await(0,a.p)("verifyPassword",e)?(Yc()&&(k(),await tl(!0)),ae(),z(e)):$("Wrong password, please try again.")})),ue=Po((async e=>{await(0,a.p)("changePassword",V,e),x({isLoading:!0}),z(e),D({password:e}),c&&(N(),S({password:e})),Yc()?ae():se(),x({isLoading:void 0})})),me=Po((async e=>{Q(e),await tl(!0),await(0,l.v7)(500),ne()})),pe=Po((async e=>{e===G?($(L("New code set successfully")),await(0,l.v7)(1500),await ue(e)):($(L("Codes don’t match")),await(0,l.v7)(1500),ee(!0),F(gI.createNewPin))})),fe=Po((()=>{W(vI),re()})),he=Po((()=>{q("key"),F(gI.safetyRules),W(gI.privateKey)})),ve=Po((()=>{q("words"),F(gI.safetyRules),W(gI.secretWords)})),we=Po((()=>{m?(F(gI.backup),W(void 0)):j?ve():he()})),ye=Po((()=>{F(gI.privateKey),W(gI.backup)})),Ee=Po((()=>{F(gI.secretWords),W(gI.backup)})),ke=Po((()=>{B({value:f,isEnabled:!p})})),Ce=Po((e=>{B({value:e,isEnabled:!0})})),Ne=Po((()=>{_({isEnabled:!h})})),Se=Po((()=>{s?A():T()})),Ae=Po((async()=>{if(Kc())return void I({state:Fn.NativeBiometricsTurnOn});const e=n.pz?"To use this feature, first enable Face ID in your phone settings.":"To use this feature, first enable biometrics in your phone settings.",{value:t}=await Oy.confirm({title:L("Warning!"),message:L(e),okButtonTitle:L("Open Settings"),cancelButtonTitle:L("Cancel")});t&&await rI.open({optionAndroid:aI.ApplicationDetails,optionIOS:oI.App})}));ce((()=>{V&&(0,a.p)("fetchMnemonic",v,V).then((e=>{Y(Boolean(e&&!rl(e)))}))}),[j,v,V]);const Te=u&&(Kc()||n.ZH||Qa()),Ie=i&&Yc(),Be=!s;function _e(t,a,r){switch(r){case gI.settings:return ge.createElement("div",{className:Kh.slide},i?ge.createElement(Th,{title:L("Security"),withNotch:O,onBackButtonClick:te,className:Kh.modalHeader}):ge.createElement("div",{className:kr(Kh.header,"with-notch-on-scroll",O&&"is-scrolled")},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:te,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,L("Back"))),ge.createElement("span",{className:Kh.headerTitle},L("Security"))),ge.createElement("div",{className:kr(Kh.content,"custom-scroll"),onScroll:P},E&&ge.createElement("div",{className:Kh.settingsBlock},ge.createElement("div",{className:kr(Kh.item),onClick:we},ge.createElement("img",{className:Kh.menuIcon,src:hI,alt:L("$back_up_security")}),L("$back_up_security"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),Te&&ge.createElement(fI,{onEnable:Ae}),u&&n.uh&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:kr(Kh.block,Kh.settingsBlockWithDescription)},ge.createElement("div",{className:Kh.item,onClick:Se},ge.createElement("img",{className:Kh.menuIcon,src:pg,alt:L("Biometric Authentication")}),L("Biometric Authentication"),ge.createElement(vT,{className:Kh.menuSwitcher,label:L("Biometric Authentication"),checked:s}))),ge.createElement("p",{className:Kh.blockDescription},L("To avoid entering the passcode every time, you can use biometrics."))),!(s&&!c)&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:kr(Kh.block,Kh.settingsBlockWithDescription)},ge.createElement(Rs,{className:Kh.changePasswordButton,isSimple:!0,onClick:fe},L(d?"Change Passcode":"Change Password"))),ge.createElement("p",{className:Kh.blockDescription},L("The passcode will be changed for all your wallets."))),u&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:kr(Kh.block,Kh.settingsBlockWithDescription)},ge.createElement("div",{className:kr(Kh.item,Kh.itemSmall),onClick:ke},L("App Lock"),ge.createElement(vT,{className:Kh.menuSwitcher,label:L("Allow App Lock"),checked:p})),ge.createElement(TS,{isShown:!!p},ge.createElement(av,{label:L("Auto-Lock"),items:e.zTb,selectedValue:f,theme:"light",shouldTranslateOptions:!0,className:kr(Kh.item,Kh.item_small,Kh.itemAutoLock),onChange:Ce}))),ge.createElement("p",{className:Kh.blockDescription},L("$app_lock_description",{app_name:e.C39}))),u&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:kr(Kh.block,Kh.settingsBlockWithDescription)},ge.createElement("div",{className:kr(Kh.item,Kh.itemSmall,!Be&&Kh.itemDisabled),onClick:Be?Ne:void 0},L(d?"Remember Passcode":"Remember Password"),ge.createElement(vT,{className:Kh.menuSwitcher,label:L(d?"Remember Passcode":"Remember Password"),checked:Be&&h}))),ge.createElement("p",{className:Kh.blockDescription},L("App will not ask for signature for %1$d minutes after last entry.",e.gbw),!Be&&` ${L("Not available with biometrics.")}`)),n.cp&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:kr(Kh.block,Kh.settingsBlockWithDescription)},ge.createElement("div",{className:kr(Kh.item,Kh.item_small),onClick:y},L("Auto-Updates"),ge.createElement(vT,{className:Kh.menuSwitcher,label:L("Auto-Updates"),checked:g}))),ge.createElement("p",{className:Kh.blockDescription},L("Turn this off so you can manually download updates and verify signatures.")))));case gI.password:return Xu()?(F(gI.settings),void Ju().then((e=>z(e)))):ge.createElement(ge.Fragment,null,i?ge.createElement(Th,{title:L(d?"Confirm Passcode":"Confirm Password"),onBackButtonClick:te,className:Kh.modalHeader}):ge.createElement("div",{className:Kh.header},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:te,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,L("Back"))),ge.createElement("span",{className:Kh.headerTitle},L("Enter Password"))),ge.createElement(ff,{isActive:t&&o,error:H,containerClassName:e.UMQ?Kh.passwordFormContent:Kh.passwordFormContentInModal,forceBiometricsInMain:!i,placeholder:L("Enter your current password"),submitLabel:L("Continue"),onCancel:te,onSubmit:de,onUpdate:Z}));case gI.newPassword:return ge.createElement(ge.Fragment,null,i?ge.createElement(Th,{title:L("Change Password"),onBackButtonClick:ae,className:Kh.modalHeader}):ge.createElement("div",{className:Kh.header},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:ae,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,L("Back"))),ge.createElement("span",{className:Kh.headerTitle},L("Change Password"))),ge.createElement("div",{className:kr(Ws.transitionContent,Kh.content,i&&Kh.contentInModal)},ge.createElement(Lp,{tgsUrl:rp.guard,previewUrl:rp.guardPreview,play:t,size:e.igk,nonInteractive:!0,noLoop:!1,className:Kh.sticker}),ge.createElement(vg,{isActive:t,isLoading:b,onSubmit:ue,onCancel:ae,formId:"auth-create-password"})));case gI.createNewPin:return ge.createElement(ge.Fragment,null,i?ge.createElement(Th,{onBackButtonClick:ae,className:Kh.modalHeader,title:Ie&&L("Change Passcode")}):ge.createElement("div",{className:Kh.header},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:ae,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,L("Back")))),ge.createElement("div",{className:kr(Kh.pinPadHeader,Ie&&Kh.pinPadHeaderMinified)},ge.createElement(Lp,{play:o,tgsUrl:rp.guard,previewUrl:rp.guardPreview,noLoop:!1,size:Ie?e.jzp:e.reE,nonInteractive:!0}),!Ie&&ge.createElement("div",{className:Kh.pinPadTitle},L("Change Passcode"))),ge.createElement(cf,{isActive:o,title:L("Enter your new code"),length:e.NEx,value:G,onChange:Q,onSubmit:me,isMinified:Ie}));case gI.confirmNewPin:return ge.createElement(ge.Fragment,null,i?ge.createElement(Th,{onBackButtonClick:ae,className:Kh.modalHeader,title:Ie&&L(H&&G===X?"Passcode Changed!":"Change Passcode")}):ge.createElement("div",{className:Kh.header},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:ae,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,L("Back")))),ge.createElement("div",{className:kr(Kh.pinPadHeader,Ie&&Kh.pinPadHeaderMinified)},ge.createElement(Lp,{play:o,tgsUrl:rp.guard,previewUrl:rp.guardPreview,noLoop:!1,size:Ie?e.jzp:e.reE,nonInteractive:!0}),!Ie&&ge.createElement("div",{className:Kh.pinPadTitle},L(H&&G===X?"Passcode Changed!":"Change Passcode"))),ge.createElement(cf,{isActive:o,title:H||L("Re-enter your new code"),type:H?G===X?"success":"error":void 0,length:e.NEx,value:X,onChange:J,onSubmit:pe,isMinified:Ie}));case gI.passwordChanged:return ge.createElement(ge.Fragment,null,i?ge.createElement(Th,{title:L("Password Changed!"),className:Kh.modalHeader}):ge.createElement("div",{className:kr(Kh.header,Kh.onlyTextHeader)},ge.createElement("span",{className:Kh.headerTitle},L("Password Changed!"))),ge.createElement("div",{className:Kh.content},ge.createElement(Lp,{tgsUrl:rp.yeee,previewUrl:rp.yeeePreview,play:o,size:e.reE,nonInteractive:!0,noLoop:!1,className:kr(Kh.sticker,Kh.stickerHuge)}),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{isPrimary:!0,onClick:ae,className:Ws.customSubmitButton},L("Done")))));case gI.backup:return ge.createElement(cI,{isActive:o&&t,isMultichainAccount:m,openSettingsSlide:ae,isInsideModal:i,onOpenPrivateKeySafetyRules:he,onOpenSecretWordsSafetyRules:ve,onBackClick:te,hasMnemonicWallet:j});case gI.safetyRules:return ge.createElement(mI,{isActive:o&&t,isInsideModal:i,backupType:K,onBackClick:oe,onSubmit:"key"===K?ye:Ee});case gI.secretWords:return ge.createElement(pI,{isActive:o&&t,isBackupSlideActive:r===gI.secretWords||r===gI.safetyRules,isInsideModal:i,enteredPassword:V,currentAccountId:v,onBackClick:oe,onSubmit:w});case gI.privateKey:return ge.createElement(uI,{isActive:o&&t,isBackupSlideActive:r===gI.privateKey||r===gI.safetyRules,isInsideModal:i,enteredPassword:V,currentAccountId:v,onBackClick:oe,onSubmit:w})}}return ge.createElement(of,{direction:R===gI.password&&M===gI.settings?1:"auto",name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:kr(Kh.slide,i&&Ws.transitionSlide),activeKey:M,nextKey:U,shouldCleanup:!0},_e)}))),yI=fe((function(e){let{isActive:t,isInsideModal:n,handleBackClick:a}=e;const{addToken:o}=Ke(),r=Er(),i=Po((e=>{o({token:e})}));return Ui({isActive:t,onBack:a}),ge.createElement("div",{className:kr(Kh.slide,Kh.withTopSpace)},ge.createElement(sE,{isActive:t,shouldHideMyTokens:!0,shouldHideNotSupportedTokens:!0,header:ge.createElement("div",{className:kr(Kh.header,n&&Kh.headerInsideModal)},ge.createElement(Rs,{isSimple:!0,isText:!0,className:kr(Kh.headerBack,n&&Kh.isInsideModal),onClick:a},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back"))),ge.createElement("span",{className:Kh.headerTitle},r("Select Token"))),onTokenSelect:i,onBack:a,onClose:a}))})),bI=fe((function(e){let{isActive:t,handleBackClick:n,isInsideModal:a,currentVersion:o,wallets:r}=e;const{closeSettings:i,importAccountByVersion:s}=Ke(),c=Er();Ui({isActive:t,onBack:n});const{handleScroll:l,isScrolled:d}=Wh(),u=Po((e=>{i(),s({version:e})}));return ge.createElement("div",{className:Kh.slide},a?ge.createElement(Th,{title:c("Wallet Versions"),withNotch:d,onBackButtonClick:n,className:Kh.modalHeader}):ge.createElement("div",{className:kr(Kh.header,"with-notch-on-scroll",d&&"is-scrolled")},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:n,className:Kh.headerBack},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,c("Back"))),ge.createElement("span",{className:Kh.headerTitle},c("Wallet Versions"))),ge.createElement("div",{className:kr(Kh.content,"custom-scroll"),onScroll:l},ge.createElement("div",{className:Kh.blockWalletVersionText},ge.createElement("span",null,c("$current_wallet_version",{version:ge.createElement("strong",null,o)})),ge.createElement("span",null,c("You have tokens on other versions of your wallet. You can import them from here."))),ge.createElement("div",{className:Kh.block},null==r?void 0:r.map((e=>ge.createElement("div",{key:e.address,className:kr(Kh.item,Kh.item_wallet_version),onClick:()=>u(e.version)},ge.createElement("div",{className:Kh.walletVersionInfo},ge.createElement("span",{className:Kh.walletVersionTitle},e.version),ge.createElement("span",{className:Kh.walletVersionAddress},(0,qt.W)(e.address))),ge.createElement("div",{className:Kh.walletVersionInfoRight},ge.createElement("span",{className:Kh.walletVersionTokens},e.tokens.join(", ")),ge.createElement("span",{className:Kh.walletVersionAmount},"≈ ",e.totalBalance)),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))))),ge.createElement("div",{className:Kh.blockWalletVersionReadMore},c("$read_more_about_wallet_version",{ton_link:ge.createElement("a",{href:"https://docs.ton.org/participate/wallets/contracts",target:"_blank",rel:"noreferrer"},"ton.org")}))))})),EI=i.p+"settings_about.595108a2131c96b2a073.svg",kI=i.p+"settings_appearance.2b14c893329172079cde.svg",CI=i.p+"settings_assets-activity.1ad5da85234bf09fece1.svg",NI=i.p+"settings_connected-dapps.2040e629b6b7c8322782.svg",SI=i.p+"settings_disclaimer.253b4de147ec357601d1.svg",AI=i.p+"settings_exit.32a8c2a0aa15b32cbe18.svg",TI=i.p+"settings_helpcenter.c1b63b9a0edfbe3ca57a.svg",II=i.p+"settings_install-desktop.f9ff2be3a8a645314652.svg",BI=i.p+"settings_install-mobile.9a3f10a7012a857e2ba2.svg",_I=i.p+"settings_language.5082638742f18ab7aea8.svg",xI=i.p+"settings_ledger.d4d0de11ad8edd55b0ca.svg",DI=i.p+"settings_mtw-cards.aa09d8a35d4b36e090c8.svg",LI=i.p+"settings_mytonwallet.0bfa3bfd3fb936194997.svg",OI=i.p+"settings_notifications.20cf46edde7f154d46e3.svg",PI=i.p+"settings_security.4e873ae439b7ec0b15a9.svg",MI=i.p+"settings_support.de2a6e66d58407937014.svg",FI=i.p+"settings_telegram-menu.48b7177fffab504e301c.svg",RI=i.p+"settings_tips.4f95b86d29d530790adb.svg",UI=i.p+"settings_ton-links.d9f0da8222e4a54c9332.svg",WI=i.p+"settings_ton-magic.bc2fb1d30938a1154b6c.svg",HI=i.p+"settings_ton-proxy.21c95b346710c5a73217.svg",$I=i.p+"settings_wallet-version.651cf56eff6ca7827bf6.svg",VI=1,zI=fe(je((e=>{const t=yt(e),n=at(e),{isCopyStorageEnabled:a,supportAccountsCount:o=1,isNftBuyingDisabled:r}=e.restrictions,{currentVersion:i,byId:s}=e.walletVersions??{},c=null==s?void 0:s[e.currentAccountId],{dapps:l=Xy}=st(e)||{},{hardwareWallets:d}=e.hardware;return{settings:e.settings,dapps:l,isOpen:e.areSettingsOpen,tokens:Ft(e),isPasswordPresent:t,currentVersion:i,versions:c,isCopyStorageEnabled:a,supportAccountsCount:o,hardwareWallets:d,accounts:n,isNftBuyingDisabled:r,arePushNotificationsAvailable:e.pushNotifications.isAvailable,isViewMode:St(e)}}))((function(t){let{settings:{state:a,theme:o,animationLevel:r,isTestnet:i,langCode:s,isTonProxyEnabled:c,isTonMagicEnabled:l,isDeeplinkHookEnabled:d,baseCurrency:u},dapps:m,isActive:p,isOpen:f=!1,tokens:h,isInsideModal:g,isPasswordPresent:v,currentVersion:w,versions:y,isCopyStorageEnabled:b,supportAccountsCount:E=VI,accounts:k,hardwareWallets:C,arePushNotificationsAvailable:N,isNftBuyingDisabled:S,isViewMode:A}=t;const{setSettingsState:T,openSettingsHardwareWallet:I,closeSettings:B,toggleDeeplinkHook:_,toggleTonProxy:x,toggleTonMagic:D,getDapps:L,clearIsPinAccepted:O,afterSelectHardwareWallets:P}=Ke(),M=Er(),{isPortrait:F}=ii(),R=me(),{renderingKey:U}=Kg(a,f),{disableSwipeToClose:W,enableSwipeToClose:H}=Vy(f),[$,V]=ie(i?5:0),z=Oo(qy(U)),[K,q,j]=Ru(),[Y,G]=Ru(),[Q,X,J]=Ru(),Z=U===Fn.Initial,ee=de((()=>e.gSB.find((e=>e.langCode===s))),[s]),te=ir(u),ne=de((()=>null==h?void 0:h.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[h]),ae=de((()=>{var e;return(null==y||null===(e=y.filter((e=>e.lastTxId||"W5"===e.version||Y)))||void 0===e?void 0:e.map((e=>{const t=nr((0,Lt.nI)(e.balance),(null==ne?void 0:ne.symbol)??""),n=nr((0,Lt.CF)(e.balance).mul((null==ne?void 0:ne.price)??0).round(null==ne?void 0:ne.decimals),te),a=[t];return{address:e.address,version:e.version,totalBalance:n,tokens:a}})))??[]}),[te,ne,y,Y]),{shouldRender:oe,ref:re}=Ls({isOpen:l,withShouldRender:!0}),{handleScroll:se,isScrolled:le}=Wh(),ue=Po((()=>{z.current===Fn.NativeBiometricsTurnOn&&O()})),pe=Po((()=>{B(void 0,{forceOnHeavyAnimation:!0}),T({state:Fn.Initial})}));var fe;Ui({isActive:p&&Z,onBack:pe,shouldIgnoreForTelegram:g}),ce((()=>{if(fe)return function(){const e=bA();wA+=1,!e&&bA()&&EA()}(),kA}),[fe=f&&!Z]);const he=Po((()=>{j(),e.TI6&&pe()})),ve=Po((()=>{L(),T({state:Fn.Dapps})}));function we(){T({state:Fn.Appearance})}function ye(){T({state:Fn.PushNotifications})}function be(){T({state:Fn.Security})}function Ee(){T({state:Fn.Assets})}function ke(){T({state:Fn.Language})}function Ce(){T({state:Fn.About})}function Ne(){T({state:Fn.Disclaimer})}const Se=Po((()=>{switch(U){case Fn.HiddenNfts:case Fn.SelectTokenList:T({state:Fn.Assets});break;default:T({state:Fn.Initial})}})),Ae=Po((()=>{T({state:Fn.Assets})})),Te=Po((()=>{T({state:Fn.WalletVersion})})),Ie=Po((()=>{_({isEnabled:!d})})),Be=Po((()=>{x({isEnabled:!c})})),_e=Po((()=>{D({isEnabled:!l})}));function xe(){ec("https://mytonwallet.io/get",{isExternal:!0})}function De(){ec("https://mytonwallet.io/get/desktop",{isExternal:!0})}function Le(){ec("https://mytonwallet.io/get/mobile",{isExternal:!0})}const Oe=Po((()=>{P({hardwareSelectedIndices:[C[0].index]}),pe()})),Pe=Po((e=>{e?Oe():T({state:Fn.LedgerSelectWallets})})),[Me,Fe]=ie(!1);ce((()=>{var e;null===(e=window.electron)||void 0===e||e.getIsTrayIconEnabled().then(Fe)}),[]);const Re=Po((()=>{var e;Fe(!Me),null===(e=window.electron)||void 0===e||e.setIsTrayIconEnabled(!Me)})),[Ue,We]=ie(!1);ce((()=>{var e;null===(e=window.electron)||void 0===e||e.getIsAutoUpdateEnabled().then(We)}),[]);const He=Po((()=>{var e;We(!Ue),null===(e=window.electron)||void 0===e||e.setIsAutoUpdateEnabled(!Ue)})),$e=Po((()=>{Z?g&&pe():Se()})),Ve=Po((e=>{J(),e&&pe()}));function ze(){I()}const qe=()=>{$+1>=5?q():V($+1)},je=Po((()=>{G(),he(),Te()}));function Ye(){return ge.createElement("div",{className:Kh.item,onClick:Ie},ge.createElement("img",{className:Kh.menuIcon,src:UI,alt:M("Handle ton:// links")}),M("Handle ton:// links"),ge.createElement(vT,{className:Kh.menuSwitcher,label:M("Handle ton:// links"),checked:d}))}function Ge(t,a,i){switch(i){case Fn.Initial:return ge.createElement("div",{className:Kh.slide},g?ge.createElement(Th,{title:M("Settings"),withNotch:le,onClose:F?void 0:pe,className:Kh.modalHeader}):ge.createElement("div",{className:kr(Kh.header,"with-notch-on-scroll",le&&"is-scrolled")},ge.createElement(Rs,{isSimple:!0,isText:!0,onClick:pe,className:kr(Kh.headerBack,F&&Kh.hidden)},ge.createElement("i",{className:kr(Kh.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,M("Back"))),ge.createElement("span",{className:Kh.headerTitle},M("Settings"))),ge.createElement("div",{className:kr(Kh.content,"custom-scroll",Kh.withBottomSpace),onScroll:se},e.TI6&&ge.createElement("div",{className:Kh.block},ge.createElement("div",{className:Kh.item,onClick:xe},ge.createElement("img",{className:Kh.menuIcon,src:LI,alt:M("Upgrade to MyTonWallet")}),M("Upgrade to MyTonWallet"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&n.u2&&ge.createElement("div",{className:Kh.block},ge.createElement("div",{className:Kh.item,onClick:xe},ge.createElement("img",{className:Kh.menuIcon,src:hI,alt:M("Install App")}),M("Install App"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),e.hL1&&ge.createElement("div",{className:Kh.block},e.hnd&&ge.createElement("div",{className:Kh.item,onClick:Be},ge.createElement("img",{className:Kh.menuIcon,src:HI,alt:M("TON Proxy")}),M("TON Proxy"),ge.createElement(vT,{className:Kh.menuSwitcher,label:M("Toggle TON Proxy"),checked:c})),ge.createElement("div",{className:Kh.item,onClick:_e},ge.createElement("img",{className:Kh.menuIcon,src:WI,alt:M("TON Magic")}),M("TON Magic"),ge.createElement(vT,{className:Kh.menuSwitcher,label:M("Toggle TON Magic"),checked:l})),oe&&ge.createElement("div",{ref:re,className:Kh.item,onClick:KI},ge.createElement("img",{className:Kh.menuIcon,src:FI,alt:M("Open Telegram Web")}),M("Open Telegram Web"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),Ye()),n.cp&&ge.createElement("div",{className:Kh.block},Ye()),ge.createElement("div",{className:Kh.block},ge.createElement("div",{className:Kh.item,onClick:ye},ge.createElement("img",{className:Kh.menuIcon,src:OI,alt:M(N?"Notifications & Sounds":"Sounds")}),M(N?"Notifications & Sounds":"Sounds"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),ge.createElement("div",{className:Kh.item,onClick:we},ge.createElement("img",{className:Kh.menuIcon,src:kI,alt:M("Appearance")}),M("Appearance"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),!e.K_I&&ge.createElement("div",{className:Kh.item,onClick:Ee},ge.createElement("img",{className:Kh.menuIcon,src:CI,alt:M("Assets & Activity")}),M("Assets & Activity"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),v&&ge.createElement("div",{className:Kh.item,onClick:be},ge.createElement("img",{className:Kh.menuIcon,src:PI,alt:M("Security")}),M("Security"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),n.ED&&!A&&ge.createElement("div",{className:Kh.item,onClick:ve},ge.createElement("img",{className:Kh.menuIcon,src:NI,alt:M("Connected Dapps")}),M("Connected Dapps"),ge.createElement("div",{className:Kh.itemInfo},m.length?m.length:"",ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&ge.createElement("div",{className:Kh.item,onClick:ke},ge.createElement("img",{className:Kh.menuIcon,src:_I,alt:M("Language")}),M("Language"),ge.createElement("div",{className:Kh.itemInfo},null==ee?void 0:ee.name,ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})))),(!(null==y||!y.length)||n.sC)&&ge.createElement("div",{className:Kh.block},!(null==y||!y.length)&&ge.createElement("div",{className:Kh.item,onClick:Te},ge.createElement("img",{className:Kh.menuIcon,src:$I,alt:M("Wallet Versions")}),M("Wallet Versions"),ge.createElement("div",{className:Kh.itemInfo},w,ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),n.sC&&ge.createElement("div",{className:Kh.item,onClick:ze},ge.createElement("img",{className:Kh.menuIcon,src:xI,alt:M("Connect Ledger")}),M("Connect Ledger"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&ge.createElement(ge.Fragment,null,!S&&ge.createElement("div",{className:Kh.block},ge.createElement("a",{href:e.b2d,target:"_blank",rel:"noopener noreferrer",className:Kh.item},ge.createElement("img",{className:Kh.menuIcon,src:DI,alt:M("MyTonWallet Cards NFT")}),M("MyTonWallet Cards NFT"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement("div",{className:Kh.block},ge.createElement("a",{href:`https://t.me/${e.AIK[s]??e.AIK.en}`,target:"_blank",rel:"noopener noreferrer",className:Kh.item},ge.createElement("img",{className:Kh.menuIcon,src:RI,alt:M("MyTonWallet Tips")}),M("MyTonWallet Tips"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),ge.createElement("a",{href:e.nrE[s]??e.nrE.en,target:"_blank",rel:"noopener noreferrer",className:Kh.item},ge.createElement("img",{className:Kh.menuIcon,src:TI,alt:M("Help Center")}),M("Help Center"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),E>0&&ge.createElement("a",{href:`https://t.me/${e.Fkn}`,target:"_blank",rel:"noopener noreferrer",className:Kh.item},ge.createElement("img",{className:Kh.menuIcon,src:MI,alt:M("Get Support")}),M("Get Support"),ge.createElement("div",{className:Kh.itemInfo},ge.createElement("span",{className:Kh.small},"@",e.Fkn),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))))),ge.createElement("div",{className:Kh.block},ge.createElement("div",{className:Kh.item,onClick:Ne},ge.createElement("img",{className:Kh.menuIcon,src:SI,alt:M("Use Responsibly")}),M("Use Responsibly"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&e.UMQ&&ge.createElement("div",{className:Kh.block},ge.createElement("div",{className:Kh.item,onClick:De},ge.createElement("img",{className:Kh.menuIcon,src:II,alt:M("Install on Desktop")}),M("Install on Desktop"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&n.cp&&ge.createElement("div",{className:Kh.block},ge.createElement("div",{className:Kh.item,onClick:Le},ge.createElement("img",{className:Kh.menuIcon,src:BI,alt:M("Install on Mobile")}),M("Install on Mobile"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&ge.createElement("div",{className:Kh.block},!e.TI6&&e.hL1&&ge.createElement("div",{className:Kh.item,onClick:xe},ge.createElement("img",{className:Kh.menuIcon,src:hI,alt:M("Install App")}),M("Install App"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),!e.TI6&&ge.createElement("div",{className:Kh.item,onClick:Ce},ge.createElement("img",{className:Kh.menuIcon,src:EI,alt:""}),M("About %app_name%",{app_name:e.C39}),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement("div",{className:Kh.block},ge.createElement("div",{className:kr(Kh.item,Kh.item_red),onClick:X},ge.createElement("img",{className:Kh.menuIcon,src:AI,alt:M("Exit")}),M("Exit"),ge.createElement("i",{className:kr(Kh.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement("div",{className:Kh.version,onClick:qe},e.C39," ",e.hl5," ",e.vOV)));case Fn.PushNotifications:return ge.createElement(nI,{isActive:p&&t,handleBackClick:Se,isInsideModal:g});case Fn.Appearance:return ge.createElement(BT,{isActive:p&&t,theme:o,animationLevel:r,handleBackClick:Se,isInsideModal:g,isTrayIconEnabled:Me,onTrayIconEnabledToggle:Re});case Fn.Assets:return ge.createElement(HT,{isActive:p&&t,isInsideModal:g,onBack:Se});case Fn.Security:return ge.createElement(wI,{isActive:p&&t,handleBackClick:Se,isInsideModal:g,isAutoUpdateEnabled:Ue,onAutoUpdateEnabledToggle:He,onSettingsClose:pe});case Fn.Dapps:return ge.createElement(zT,{isActive:p&&t,dapps:m,handleBackClick:Se,isInsideModal:g});case Fn.Language:return ge.createElement(tI,{isActive:p&&t,langCode:s,handleBackClick:Se,isInsideModal:g});case Fn.About:return ge.createElement(qh,{isActive:p&&t,handleBackClick:Se,isInsideModal:g,theme:o});case Fn.Disclaimer:return ge.createElement(QT,{isActive:p&&t,handleBackClick:Se,isInsideModal:g});case Fn.NativeBiometricsTurnOn:return ge.createElement(AT,{isActive:p&&t,isInsideModal:g,handleBackClick:Se});case Fn.SelectTokenList:return ge.createElement(yI,{isActive:p&&t,isInsideModal:g,handleBackClick:Ae});case Fn.WalletVersion:return ge.createElement(bI,{isActive:p&&t,currentVersion:w,handleBackClick:Se,isInsideModal:g,wallets:ae});case Fn.LedgerConnectHardware:return ge.createElement("div",{className:Kh.slide},ge.createElement(pv,{isActive:p&&t,isStatic:!g,className:Kh.nestedTransition,onBackButtonClick:Se,onConnected:Pe,onClose:$e}));case Fn.LedgerSelectWallets:return ge.createElement("div",{className:Kh.slide},ge.createElement(fb,{isActive:p&&t,isStatic:!g,accounts:k,hardwareWallets:C,onBackButtonClick:Se,onClose:$e}));case Fn.HiddenNfts:return ge.createElement(ZT,{isActive:p&&t,handleBackClick:Ae,isInsideModal:g})}}return ce((()=>wh(g?$e:Se)),[g]),ce((()=>{if(n.TF)return Kp(R.current,{onSwipeRightStart:()=>{n.bA?Se():$e(),W()},onCancel:()=>{T({state:z.current}),H()}})}),[W,H,z]),ge.createElement("div",{className:Kh.wrapper},ge.createElement(of,{ref:R,name:zg(),className:kr(g?Ws.transition:Kh.transitionContainer,"custom-scroll"),activeKey:U,slideClassName:kr(g&&Ws.transitionSlide),withSwipeControl:!0,onStop:Yc()?ue:void 0},Ge),ge.createElement(GT,{isOpen:K,isTestnet:i,isCopyStorageEnabled:b,onShowAllWalletVersions:je,onClose:he}),ge.createElement(dp,{isOpen:Q,onClose:Ve}),n.uh&&ge.createElement(ST,{isInsideModal:g}))})));function KI(){window.open(e.h4K,"_blank","noopener")}const qI=fe(je((e=>({isMediaViewerOpen:Boolean(e.mediaViewer.mediaId)})))((function(t){let{children:a,isOpen:o,onClose:r,isMediaViewerOpen:i}=t;const s=kr(Kh.modalDialog,!(n.cp||e.hL1)&&Kh.modalDialogWeb);return ge.createElement(Ys,{hasCloseButton:!0,isOpen:o&&!i,dialogClassName:s,contentClassName:Kh.modalContent,nativeBottomSheetKey:"settings",forceFullNative:!0,onClose:r},a)}))),jI=fe((function(t){let{isActive:o,swapType:r,toAddress:i="",tokenIn:s,tokenOut:c}=t;const{cancelSwap:l,setSwapCexAddress:d,showNotification:u,setSwapScreen:m,requestOpenQrScanner:p}=Ke(),f=Er(),{isPortrait:h}=ii(),g=me(),[v,w]=ie(n.Et),[y,b,E]=Ru(),[k,C]=ie(!1),[N,S]=ie(r!==Dn.CrosschainFromWallet),A=Nb(),T=v&&""===i,I=i.length>28?(0,qt.W)(i,14)||"":i,B=Po((()=>{C(!1),S(!1),m({state:h?Bn.Initial:Bn.None})}));Ui({isActive:o,onBack:B});const _=Po((()=>{const e=g.current;requestAnimationFrame((()=>{const t=e.selectionStart;b(),requestAnimationFrame((()=>{const n=t<=17?t:Math.max(0,e.value.length-(I.length-t));e.setSelectionRange(n,n),n>28&&(e.scrollLeft=e.scrollWidth-e.clientWidth)}))}))})),x=Po((async e=>{if(!e.length)return C(!1),void S(!1);const t=await(0,a.p)("swapCexValidateAddress",{slug:c.slug,address:e});if(!t)return C(!1),void S(!1);C(!t.result),S(t.result)})),D=Po((()=>{E()})),L=Po((e=>{d({toAddress:e.trim()})})),O=Po((async()=>{try{const{type:e,text:t}=await ol();"text/plain"===e&&(d({toAddress:t.trim()}),await x(t.trim()))}catch(e){u({message:f("Error reading clipboard")}),w(!1)}}));ce((()=>{x(i)}),[i,x]);const P=Po((()=>{Zc(),m({state:Bn.Password})})),M=Po((()=>{n.pz&&(0,n.v3)()?alert("Scanning is temporarily not available"):(p(),l())})),F=f("$swap_from_to",{from:null==s?void 0:s.symbol,icon:ge.createElement("i",{className:kr("icon-chevron-right",Dk.swapArrowIcon),"aria-hidden":!0}),to:null==c?void 0:c.symbol});return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:F,onClose:l}),ge.createElement("div",{className:kr(Dk.scrollContent,Dk.selectBlockchainBlock,"custom-scroll")},ge.createElement(Lp,{play:o,noLoop:!1,nonInteractive:!0,tgsUrl:rp.bill,previewUrl:rp.billPreview,size:e.igk}),function(){if(r===Dn.CrosschainFromWallet)return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Dk.inputAddress},ge.createElement(Pp,{ref:g,isRequired:!0,placeholder:f("Your address on another blockchain"),value:y?i:I,onInput:L,onFocus:_,onBlur:D,wrapperClassName:Dk.inputAddressWrapper},A&&ge.createElement(Rs,{isSimple:!0,className:kr(Dk.inputButton,T&&Dk.inputButtonShifted),onClick:M,ariaLabel:f("Scan QR Code")},ge.createElement("i",{className:"icon-qr-scanner-alt","aria-hidden":!0})),T&&ge.createElement(Rs,{isSimple:!0,className:Dk.inputButton,onClick:O,ariaLabel:f("Paste")},ge.createElement("i",{className:"icon-paste","aria-hidden":!0})))),function(){const e=k?f("Incorrect address."):f("Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.",{blockchain:nE(null==c?void 0:c.chain)});return ge.createElement(of,{name:"fade",activeKey:k?0:1,slideClassName:Dk.blockchainHintWrapper},ge.createElement("span",{className:kr(Dk.blockchainHintText,k&&Dk.blockchainHintTextError)},e))}())}(),ge.createElement("div",{className:kr(Dk.blockchainButtons,Ws.footerButtons)},ge.createElement(Rs,{onClick:B,className:Ws.buttonHalfWidth},f("Close")),ge.createElement(Rs,{isPrimary:!0,isDisabled:!N,className:Ws.buttonHalfWidth,onClick:P},f("Continue")))))})),YI="e8xjMuq6",GI="n91WXWIY",QI="nOPyXt4f",XI=fe(je((e=>{var t;return{addressByChain:null===(t=rt(e))||void 0===t?void 0:t.addressByChain,isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}))((function(e){let{tokenIn:t,tokenOut:n,amountIn:a,amountOut:o,playAnimation:r,firstButtonText:i,secondButtonText:s,swapType:c,toAddress:l="",addressByChain:d,isSensitiveDataHidden:u,onFirstButtonClick:m,onSecondButtonClick:p,isFirstButtonDisabled:f}=e;const h=Er(),g=Rd({from:t,to:n,toAddress:l,addressByChain:d}),v=de((()=>Boolean(l&&Object.values(d??{}).some((e=>e===l)))),[d,l]);return ge.createElement(ge.Fragment,null,function(){if(c!==Dn.CrosschainFromWallet||g)return ge.createElement(Lp,{play:r,noLoop:!1,nonInteractive:!0,className:"TY_nyPoa",tgsUrl:rp.thumbUp,previewUrl:rp.thumbUpPreview})}(),ge.createElement(aA,{isSensitiveDataHidden:u,tokenIn:t,amountIn:a,tokenOut:n,amountOut:o}),c!==Dn.OnChain&&ge.createElement("div",{className:GI},ge.createElement("span",{className:QI},h("Please note that it may take up to a few hours for tokens to appear in your wallet."))),function(){if(c!==Dn.CrosschainFromWallet||v)return;const e=Fd(null==n?void 0:n.chain)?n.chain:void 0;return ge.createElement("div",{className:GI},ge.createElement("span",{className:QI},h("$swap_changelly_from_ton_description",{blockchain:ge.createElement("span",{className:"bTumpDcM"},nE(null==n?void 0:n.chain))})),ge.createElement(wy,{chain:e,address:l,copyNotification:h("Address was copied!"),noSavedAddress:!0,noExplorer:!0,className:"qcMvwyr2"}))}(),function(){if(i||s)return ge.createElement("div",{className:"JuY14PzG"},i&&ge.createElement(Rs,{className:YI,onClick:m,isDisabled:f},i),s&&ge.createElement(Rs,{className:YI,onClick:p},s))}())}))),JI=fe((function(e){let{isActive:t,tokenIn:n,tokenOut:a,amountIn:o,amountOut:r,swapType:i,toAddress:s,onInfoClick:c,onStartSwap:l,onClose:d,isDetailsDisabled:u}=e;const m=Er();return Ui({isActive:t,onBack:d}),ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:m("Swap Placed"),onClose:d}),ge.createElement("div",{className:kr(Dk.scrollContent,"custom-scroll")},ge.createElement(XI,{tokenIn:n,amountIn:o,tokenOut:a,amountOut:r,swapType:i,toAddress:s,playAnimation:t,firstButtonText:m("Details"),secondButtonText:m("Repeat"),onFirstButtonClick:c,onSecondButtonClick:l,isFirstButtonDisabled:u}),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:d,isPrimary:!0},m("Close")))))})),ZI=fe((function(t){let{isActive:n,isLoading:a,error:o,children:r,onSubmit:i,onBack:s}=t;const{cancelSwap:c,clearSwapError:l}=Ke(),d=Er();return Ui({isActive:n,onBack:s}),ge.createElement(ge.Fragment,null,!Yc()&&ge.createElement(Th,{title:d("Confirm Swap"),onClose:c}),ge.createElement(ff,{isActive:n,isLoading:a,withCloseButton:e.UMQ,error:o,operationType:"swap",submitLabel:d("Send"),cancelLabel:d("Back"),onSubmit:i,onCancel:s,onUpdate:l,skipAuthScreen:!0},r))})),eB=fe((function(t){let{isActive:n,tokenIn:a,tokenOut:o,amountIn:r,amountOut:i,payinAddress:s,payoutAddress:c,payinExtraId:l,activity:d,addressByChain:u,onClose:m}=t;const p=Er(),[f,h]=ie(!1),g=de((()=>Date.now()),[]),{qrCodeRef:v,isInitialized:w}=DE({address:s,isActive:n,hiddenClassName:Dk.qrCodeHidden,hideLogo:!0}),y=!l,b=Rd({from:a,to:o,toAddress:c,addressByChain:u});Ui({isActive:n,onBack:m});const E=Po((()=>{h(!0)}));return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:p(f?"Swap Expired":b?"Swapping":"Waiting for Payment"),onClose:m}),ge.createElement("div",{className:kr(Dk.scrollContent,Dk.selectBlockchainBlock,"custom-scroll")},ge.createElement(aA,{tokenIn:a,amountIn:r,tokenOut:o,amountOut:i}),ge.createElement(of,{name:"fade",activeKey:f?1:0},function(){if(f){var t;const n=d&&"cex"in d?null===(t=d.cex)||void 0===t?void 0:t.transactionId:void 0;return ge.createElement("div",{className:Dk.changellyInfoBlock},ge.createElement("span",{className:Dk.changellyImportantRed},p("The time for sending coins is over.")),ge.createElement("span",{className:Dk.changellyDescription},p("$swap_changelly_support",{livechat:ge.createElement("a",{href:e.o$d,target:"_blank",rel:"noreferrer",className:Dk.changellyDescriptionBold},p("Changelly Live Chat")),email:ge.createElement("span",{className:Dk.changellyDescriptionBold},e.HWN)})),n&&ge.createElement(wy,{text:n,copyNotification:p("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0,className:Dk.changellyTextField}))}if(b)return ge.createElement("div",{className:Dk.changellyInfoBlock},ge.createElement("span",{className:Dk.changellyDescription},p("Please note that it may take up to a few hours for tokens to appear in your wallet.")));const n=Fd(null==a?void 0:a.chain)?a.chain:void 0;return ge.createElement("div",{className:Dk.changellyInfoBlock},ge.createElement("span",{className:Dk.changellyDescription},p("$swap_changelly_to_ton_description1",{value:ge.createElement("span",{className:Dk.changellyDescriptionBold},ar(Number(r),(null==a?void 0:a.symbol)??"",!0)),blockchain:ge.createElement("span",{className:Dk.changellyDescriptionBold},nE(null==a?void 0:a.chain)),time:ge.createElement(tA,{timestamp:g,deadline:e.JWy,onCompleted:E})})),ge.createElement(wy,{chain:n,address:s,copyNotification:p("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0,className:Dk.changellyTextField}),function(){if(l)return ge.createElement("div",{className:Dk.textFieldWrapperFullWidth},ge.createElement("span",{className:Dk.textFieldLabel},p("Memo")),ge.createElement(wy,{chain:"ton",address:l,copyNotification:p("Memo was copied!"),noSavedAddress:!0,noExplorer:!0,className:Dk.changellyTextField}))}(),y&&ge.createElement("div",{className:kr(Dk.qrCode,!w&&Dk.qrCodeHidden),ref:v}),ge.createElement("span",{className:Dk.changellyDescription},p("Please note that it may take up to a few hours for tokens to appear in your wallet.")))}()),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{isPrimary:!0,onClick:m},p("Close")))))})),tB=[Bn.Password,Bn.SelectTokenFrom,Bn.SelectTokenTo],nB=fe(je((e=>{var t;const n=st(e),a=rt(e),o=null==n||null===(t=n.activities)||void 0===t?void 0:t.byId;return{currentSwap:e.currentSwap,swapType:ra(e),swapTokens:na(e),activityById:o,addressByChain:null==a?void 0:a.addressByChain}}))((function(e){let{currentSwap:{state:t,tokenInSlug:n,tokenOutSlug:a,amountIn:o="0",amountOut:r="0",isLoading:i,error:s,activityId:c,toAddress:l,payinAddress:d,payoutAddress:u,payinExtraId:m,shouldResetOnClose:p},swapType:f,swapTokens:h,activityById:g,addressByChain:v}=e;const{startSwap:w,cancelSwap:y,setSwapScreen:b,submitSwap:E,showActivityInfo:k,submitSwapCex:C,addSwapToken:N,setSwapTokenIn:S,setSwapTokenOut:A}=Ke(),T=Er(),{isPortrait:I}=ii(),B=t!==Bn.None,{renderingKey:_,nextKey:x,updateNextKey:D}=Kg(t,B),L=de((()=>null==h?void 0:h.find((e=>e.slug===n))),[n,h]),O=de((()=>null==h?void 0:h.find((e=>e.slug===a))),[h,a]),[P,M]=ie(f),[F,R]=ie(o),[U,W]=ie(r),[H,$]=ie(L),[V,z]=ie(O),[K,q]=ie();ce((()=>{if(!B||!c||null==g||!g[c])return void q(void 0);const e=g[c];if(q(e),"swap"===e.kind&&f===Dn.CrosschainToWallet){var t;const n=null===(t=e.cex)||void 0===t?void 0:t.status;"exchanging"!==n&&"confirming"!==n||b({state:Bn.Complete})}}),[g,c,B,f]);const j=Po((e=>{R(o),W(r),$(L),z(O),M(f),f!==Dn.OnChain?C({password:e}):E({password:e})})),Y=Po((()=>{t!==Bn.Password?(t!==Bn.SelectTokenTo&&t!==Bn.SelectTokenFrom||b({state:I?Bn.Initial:Bn.None}),t===Bn.Blockchain&&b({state:I?Bn.Initial:Bn.None})):f===Dn.CrosschainFromWallet?b({state:Bn.Blockchain}):b({state:I?Bn.Initial:Bn.None})})),G=Po((()=>{c&&(y({shouldReset:!0}),k({id:c}))})),Q=Po((()=>{y({shouldReset:I||p}),D()})),X=Po((()=>{y({shouldReset:!0})})),J=Po((e=>{N({token:e}),(_===Bn.SelectTokenTo?A:S)({tokenSlug:e.slug})})),Z=Po((()=>{w({amountIn:F,tokenInSlug:null==H?void 0:H.slug,tokenOutSlug:null==V?void 0:V.slug})}));function ee(e,t,n){switch(n){case Bn.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:T("$swap_action"),onClose:y}),ge.createElement(Qk,{isActive:e}));case Bn.Blockchain:return ge.createElement(jI,{isActive:e,toAddress:l,tokenIn:L,tokenOut:O,swapType:f});case Bn.WaitTokens:return ge.createElement(eB,{isActive:e,tokenIn:H,tokenOut:V,amountIn:F,amountOut:U,payinAddress:d,payoutAddress:u,payinExtraId:m,addressByChain:v,activity:K,onClose:X});case Bn.Password:return ge.createElement(ZI,{isActive:e,isLoading:i,error:s,onSubmit:j,onBack:Y},function(){if(L&&O&&o&&r)return ge.createElement(kb,{tokenIn:L,withChainIcon:!0,tokenOut:O,text:ar(o,L.symbol??"",!0),secondText:ar(r,O.symbol??"",!0),className:Yc()?void 0:Dk.transactionBanner})}());case Bn.Complete:return ge.createElement(JI,{isActive:e,tokenIn:H,tokenOut:V,amountIn:F,amountOut:U,swapType:P,toAddress:l,onClose:X,onInfoClick:G,onStartSwap:Z,isDetailsDisabled:!c});case Bn.SelectTokenFrom:case Bn.SelectTokenTo:return ge.createElement(sE,{isActive:e,shouldUseSwapTokens:!0,shouldFilter:n===Bn.SelectTokenTo,onTokenSelect:J,onBack:Y,onClose:X})}}const te=tB.includes(_)||_===Bn.Complete&&P!==Dn.OnChain;return ge.createElement(Ys,{isOpen:B,onClose:y,noBackdropClose:!0,dialogClassName:Dk.modalDialog,nativeBottomSheetKey:"swap",forceFullNative:te,hasCloseButton:!0,onCloseAnimationEnd:Q},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:_,nextKey:x,onStop:D},ee))}))),aB=fe((function(e){let{isActive:t,amount:n,symbol:a,txId:o,tokenSlug:r,toAddress:i,comment:s,decimals:c,nfts:l,onInfoClick:d,onClose:u}=e;const{startTransfer:m}=Ke(),p=Er(),{isPortrait:f}=ii(),h=Boolean(null==l?void 0:l.length);Ui({isActive:t,onBack:u}),ce((()=>t?Pr({onEnter:u}):void 0),[t,u]);const g=Po((()=>{m({isPortrait:f,tokenSlug:r,toAddress:i,amount:n,comment:s})}));return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:p(h?"NFT has been sent!":"Coins have been sent!"),onClose:u}),ge.createElement("div",{className:Ws.transitionContent},h?ge.createElement(ge.Fragment,null,ge.createElement(Lp,{play:t,noLoop:!1,nonInteractive:!0,className:ew.sticker,tgsUrl:rp.thumbUp,previewUrl:rp.thumbUpPreview}),1===l.length?ge.createElement(ly,{nft:l[0]}):ge.createElement(Yb,{nfts:l}),Boolean(o)&&ge.createElement("div",{className:kr(ew.buttons,ew.buttonsAfterNft)},ge.createElement(Rs,{className:ew.button,onClick:d},p("Details")))):ge.createElement(RE,{playAnimation:t,amount:n?-n:void 0,tokenSymbol:a,firstButtonText:o?p("Details"):void 0,secondButtonText:p("Repeat"),onFirstButtonClick:d,onSecondButtonClick:g,decimals:c}),ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:u,isPrimary:!0},p("Close")))))})),oB=fe((function(e){let{amount:t,label:n,currency:a="",symbol:o,fractionDigits:r,feeText:i,className:s,labelClassName:c}=e;const l=Er();return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:kr("vEby849g",c)},n),ge.createElement("div",{className:kr("ghrNkOZk",s)},ar(t,a,!0,r),o&&ge.createElement("span",{className:"LPchTYAT"},o),Boolean(i)&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:"XPUDvAqg"},l("Fee")),ge.createElement("span",{className:"SkacqSTU"},i))))})),rB=fe(je((e=>({currentAccountId:e.currentAccountId,currentTransfer:e.currentTransfer,accounts:at(e)})))((function(t){let{currentTransfer:{tokenSlug:n,amount:a,toAddress:o,resolvedAddress:r,fee:i,realFee:s,comment:c,shouldEncrypt:l,promiseId:d,isLoading:u,toAddressName:m,isToNewAddress:p,isScam:f,binPayload:h,nfts:g,isGaslessWithStars:v,diesel:w,stateInit:y},token:b,currentAccountId:E,accounts:k,isActive:C,savedAddresses:N,onBack:S,onClose:A}=t;const{submitTransferConfirm:T}=Ke(),I=Er(),B=Boolean(null==g?void 0:g.length);B&&(n=e.Tu9.slug);const _=Gn(n),x=de((()=>Yw({address:o,chain:_,currentAccountId:E,accounts:k,savedAddresses:N})),[k,_,E,N,o])||m,D=r===e.pV9,L=r===e.WVU[0],O=ca({fee:i,realFee:s,diesel:w,tokenSlug:n});Ui({isActive:C,onBack:S});const P=Po((()=>{Zc(),T()})),M=null!=g&&g.length?Math.ceil(g.length/e.gR8)*e.WHY/60:void 0,F=I(D||L?"Burn NFT":v?"Pay fee with %stars_symbol%":"Confirm",v?{stars_symbol:e.xFF}:void 0);return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:I("Is it all ok?"),onClose:A}),ge.createElement("div",{className:Ws.transitionContent},B?1===g.length?ge.createElement(ly,{nft:g[0],withMediaViewer:!0}):ge.createElement(Yb,{nfts:g}):ge.createElement(Lp,{size:e.jzp,play:C,noLoop:!1,nonInteractive:!0,className:kr("ZDG5rllO","ol7Kgi48"),tgsUrl:rp.bill,previewUrl:rp.billPreview}),ge.createElement("div",{className:Sb},I("Receiving Address")," ",p&&ge.createElement(wv,{emoji:"⚠️",size:"small",message:I("This address is new and never received transfers before."),tooltipClassName:"lcmy9IMt"})),ge.createElement(wy,{chain:_,address:r,addressName:x,isScam:f,copyNotification:I("Address was copied!"),className:Tb}),function(){if(!O.realFee||!b)return;const e=ge.createElement(Ty,{terms:O.realFee.terms,precision:O.realFee.precision,token:b,symbolClassName:"aNzt5kkC"});return B?ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Sb},I("Fee")),ge.createElement("div",{className:Ib},e)):ge.createElement(oB,{label:I("Amount"),amount:(0,Lt.nI)(a??0n,null==b?void 0:b.decimals),symbol:(null==b?void 0:b.symbol)??"",feeText:e,fractionDigits:null==b?void 0:b.decimals})}(),h||y?ge.createElement(ge.Fragment,null,h&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Sb},I("Signing Data")),ge.createElement(wy,{text:h,copyNotification:I("Data was copied!"),className:Tb})),y&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Sb},I("Contract Initialization Data")),ge.createElement(wy,{text:y,copyNotification:I("Data was copied!"),className:Tb})),ge.createElement("div",{className:xb},Qo(I("$signature_warning")))):c?ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Sb},I(l?"Encrypted Message":"Comment or Memo")),ge.createElement("div",{className:kr(Ib,"NH87E1kW",Bb)},c)):void 0,g&&(D||L&&(null==g?void 0:g.length)>1)&&ge.createElement("div",{className:"CWZdgy5e"},1===(null==g?void 0:g.length)?Qo(I("Are you sure you want to burn this NFT? It will be lost forever.")):[Qo(I("$multi_burn_nft_warning",{amount:g.length}))," ",Qo(I("$multi_send_nft_warning",{duration:M}))]),ge.createElement("div",{className:kr(Ws.buttons,Ws.buttonsInsideContentWithScroll)},ge.createElement(Rs,{className:Ws.button,onClick:d?A:S},I(d?"Cancel":"Edit")),ge.createElement(Rs,{isPrimary:!0,isLoading:u,isDestructive:D||f,className:Ws.button,onClick:P},F))))}))),iB=fe((function(t){let{nfts:n,sentNftsCount:a=0,toAddress:o,onClose:r}=t;const i=Er(),s=a<n.length,c=o===e.pV9,l=o===e.WVU[0],d=s?i((c||l?"Burning":"Sending")+": %n% of %m% NFTs...",{n:a,m:n.length}):i("Sent"),u=Math.ceil(n.length/e.gR8)*e.WHY/60;return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:d}),ge.createElement("div",{className:Ws.transitionContent},s&&ge.createElement(ge.Fragment,null,ge.createElement(Wg,{className:"gigiDFmZ"}),ge.createElement("div",{className:"vKJsXVsk"},i("$multi_send_nft_warning",{duration:u}))),1===n.length?ge.createElement(ly,{nft:n[0]}):ge.createElement(Yb,{nfts:n}),!s&&ge.createElement("div",{className:Ws.buttons},ge.createElement(Rs,{onClick:r,isPrimary:!0},i("Close")))))})),sB=fe((function(t){let{isActive:n,isLoading:a,isBurning:o,error:r,children:i,onSubmit:s,onCancel:c,isGaslessWithStars:l}=t;const{cancelTransfer:d,clearTransferError:u}=Ke(),m=Er();Ui({isActive:n,onBack:c});const p=o?"Confirm Burning":"Confirm Sending",f=l?m("Pay fee with %stars_symbol%",{stars_symbol:e.xFF}):m("Send");return ge.createElement(ge.Fragment,null,!Yc()&&ge.createElement(Th,{title:m(p),onClose:d}),ge.createElement(ff,{isActive:n,isLoading:a,withCloseButton:Boolean(i),operationType:"transfer",error:r,submitLabel:f,cancelLabel:m("Back"),onSubmit:s,onCancel:c,onUpdate:u},i))})),cB=fe(je((e=>{const t=st(e);return{currentTransfer:e.currentTransfer,tokens:Ft(e),savedAddresses:null==t?void 0:t.savedAddresses,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),isMultichainAccount:kt(e,e.currentAccountId)}}))((function(t){let{currentTransfer:{state:n,amount:a,toAddress:o,comment:r,error:i,isLoading:s,txId:c,tokenSlug:l,nfts:d,sentNftsCount:u,diesel:m},tokens:p,savedAddresses:f,isMediaViewerOpen:h,isMultichainAccount:g}=t;const{submitTransferConfirm:v,submitTransferPassword:w,submitTransferHardware:y,setTransferScreen:b,cancelTransfer:E,showActivityInfo:k}=Ke(),C=Er(),{isPortrait:N}=ii(),S=n!==Sn.None,{screenHeight:A}=zu(),T=de((()=>null==p?void 0:p.find((e=>e.slug===l))),[l,p]),I=null==T?void 0:T.decimals,B=be(a,!0),_=(null==T?void 0:T.symbol)||"",x=Boolean(null==d?void 0:d.length),D=o===e.pV9,{renderingKey:L,nextKey:O,updateNextKey:P}=Kg(n,S);ce((()=>n===Sn.Confirm?Pr({onEnter:()=>v()}):void 0),[n,v]);const M=Po((e=>{w({password:e})})),F=Po((()=>{n===Sn.Confirm&&b({state:Sn.Initial}),n===Sn.Password&&b({state:Sn.Confirm})})),R=Po((()=>{E({shouldReset:!0}),k({id:c})})),U=Po((()=>{E({shouldReset:N}),P()})),W=Po((()=>{E({shouldReset:!0})})),H=Po((()=>{y()}));function $(t,n,p){var h,v;switch(p){case Sn.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(Th,{title:C(x?"Send NFT":"Send"),onClose:W}),ge.createElement(rC,null));case Sn.Confirm:return ge.createElement(rB,{isActive:t,token:T,savedAddresses:f,onBack:N?F:U,onClose:W});case Sn.Password:return ge.createElement(sB,{isActive:t,isLoading:s,isBurning:D,error:i,onSubmit:M,onCancel:W,isGaslessWithStars:"stars-fee"===(null==m?void 0:m.status)},ge.createElement(kb,{tokenIn:T,imageUrl:null==d||null===(h=d[0])||void 0===h?void 0:h.thumbnail,withChainIcon:g,text:x?d.length>1?C("%amount% NFTs",{amount:d.length}):(null===(v=d[0])||void 0===v?void 0:v.name)||"NFT":nr((0,Lt.nI)(a,I),_),className:Yc()?void 0:"Pxmu6Hot",secondText:(0,qt.W)(o)}));case Sn.ConnectHardware:return ge.createElement(pv,{isActive:t,onConnected:H,onClose:W});case Sn.ConfirmHardware:return ge.createElement(ev,{text:C("Please confirm transaction on your Ledger"),error:i,onClose:W,onTryAgain:y});case Sn.Complete:return((null==d?void 0:d.length)||0)<=e.gR8?ge.createElement(aB,{isActive:t,nfts:d,amount:B,symbol:_,txId:c,tokenSlug:l,toAddress:o,comment:r,onInfoClick:R,onClose:W,decimals:I}):ge.createElement(iB,{nfts:d,sentNftsCount:u,toAddress:o,onClose:W})}}return ge.createElement(Ys,{isOpen:S&&!h,noBackdropClose:!0,dialogClassName:"NvbEOoOC",nativeBottomSheetKey:"transfer",forceFullNative:A<=762||L===Sn.Password,onClose:W,onCloseAnimationEnd:U},ge.createElement(of,{name:zg(),className:kr(Ws.transition,"custom-scroll"),slideClassName:Ws.transitionSlide,activeKey:L,nextKey:O,onStop:P},$))}))),lB=["#E8BC2C","#D0049E","#02CBFE","#5723FD","#FE8C27","#6CB859"],dB=fe(je((e=>({lastRequestedAt:e.confettiRequestedAt})))((function(e){let{lastRequestedAt:t}=e;const n=me(),a=me([]),o=me(!1),r=zu(),i=ve(),{isPortrait:s}=ii(),c=s?50:100,l=Po(((e,t)=>{!function(e,t,n,a){for(let o=0;o<a;o++){const a=o%2,r={x:t*(a?-.1:1.1),y:.75*n},i=Math.random()*t*1.5,s={x:a?i:-1*i,y:-n/2-Math.random()*n},c=lB[Math.floor(Math.random()*lB.length)],l=10;e.current.push({pos:r,size:l,color:c,velocity:s,flicker:l,flickerFrequency:.2*Math.random(),rotation:0,lastDrawnAt:Date.now(),frameCount:0})}}(a,e,t,c)})),d=Po((()=>{if(!n.current||!o.current)return;const e=n.current,t=e.getContext("2d");if(!t)return;const{width:r,height:i}=e;t.clearRect(0,0,r,i);const s=new Set([]);a.current.forEach(((e,n)=>{const{pos:o,velocity:r,size:c,color:l,flicker:d,flickerFrequency:u,rotation:m,lastDrawnAt:p,frameCount:f}=e,h=(Date.now()-p)/1e3,g={x:o.x+r.x*h,y:o.y+r.y*h},v={x:.98*r.x,y:r.y+=1e3*h},w=c*Math.abs(Math.sin(f*u)),y=5*f*u*(Math.PI/180),b=f+1,E=Date.now();g.y>i+e.size?s.add(e):(a.current[n]={...e,pos:g,velocity:v,flicker:w,rotation:y,lastDrawnAt:E,frameCount:b},t.fillStyle=l,t.beginPath(),t.ellipse(o.x,o.y,c,d,m,0,2*Math.PI),t.fill())})),a.current=a.current.filter((e=>!s.has(e))),a.current.length?(0,k.YS)(d):o.current=!1}));if(Ee((e=>{let n,[a]=e;return t&&a!==t&&(l(r.width,r.height),n=window.setTimeout(i,1e4),o.current||(o.current=!0,(0,k.YS)(d))),()=>{window.clearTimeout(n)}}),[t,i,d]),t&&!(Date.now()-t>1e4))return ge.createElement("div",{id:"Confetti",className:"NEu40vNs"},ge.createElement("canvas",{ref:n,width:r.width,height:r.height}))}))),uB=fe(je((e=>{var t;const n=void 0!==(null===(t=e.dappConnectRequest)||void 0===t?void 0:t.state)||e.currentDappTransfer.state!==Sn.None;return{isOpen:e.isLoadingOverlayOpen&&!n}}))((function(e){let{isOpen:t}=e;const{closeLoadingOverlay:n}=Ke(),{shouldRender:a,ref:o}=Ls({isOpen:t,withShouldRender:!0});if(a)return ge.createElement(Us,null,ge.createElement("div",{ref:o,className:"JqqCZr7K",onClick:()=>n()},ge.createElement(Wg,{color:"white"})))}))),mB="xYgMXl3B",pB=new Set([kn.Main,kn.Settings,kn.Explore]),fB=n.cp&&!n.ig||e.VL7?5*Ba.pY:void 0;let hB=0;const gB=Object.keys(kn).length/2,vB=fe(je((e=>{var t;return{appState:e.appState,accountId:e.currentAccountId,isBackupWalletModalOpen:e.isBackupWalletModalOpen,isHardwareModalOpen:e.isHardwareModalOpen,isExploreOpen:e.isExploreOpen,areSettingsOpen:e.areSettingsOpen,isQrScannerOpen:e.isQrScannerOpen,isFullscreen:Boolean(e.isFullscreen),theme:e.settings.theme,accentColorIndex:null===(t=dt(e))||void 0===t?void 0:t.accentColorIndex}}))((function(t){let{appState:o,accountId:r,isBackupWalletModalOpen:i,isHardwareModalOpen:s,isQrScannerOpen:c,isExploreOpen:l,isFullscreen:d,areSettingsOpen:u,theme:m,accentColorIndex:p}=t;const{closeBackupWalletModal:f,closeHardwareWalletModal:h,closeSettings:g,cancelCaching:v,closeQrScanner:w,checkAppVersion:y}=Ke(),{isPortrait:b}=ii(),E=!b,[k,C]=Ru(!1),[N,S]=Ru(),A=k?kn.Inactive:u&&!E?kn.Settings:l&&b?kn.Explore:o,T=b&&pB.has(A),I=T?"semiFade":b?n.Ni?"slideFadeAndroid":n.pz?"slideLayers":"slideFade":"semiFade";function B(e,t,n){switch(n){case kn.Auth:return ge.createElement(Rg,null);case kn.Main:{const t=kr(mB,"BY5oYr5T","custom-scroll","app-slide-content");return ge.createElement(of,{name:"semiFade",activeKey:hB,shouldCleanup:!0,nextKey:A===kn.Auth&&N?hB+1:void 0,slideClassName:t},ge.createElement(LS,{key:hB,isActive:e}))}case kn.Explore:return ge.createElement(pb,{isActive:e});case kn.Settings:return ge.createElement(zI,{isActive:e});case kn.Ledger:return ge.createElement(gb,{isOpen:!0,noBackdropClose:!0,onClose:Pf.ks});case kn.Inactive:return ge.createElement(Uh,null)}}return Ph(S,A!==kn.Auth||N?void 0:1200),Oh(y,e.TI6?void 0:fB),ce((()=>{document.documentElement.classList.toggle("with-bottombar",T)}),[T]),ce((()=>{Ma(),sh=()=>{document.title=`${e.C39} ${e.LaL}`,C(),g(),v()}}),[C]),vl((()=>{(0,a.p)("setIsAppFocused",!1)}),(()=>{(0,a.p)("setIsAppFocused",!0)}),n.Fe),le((()=>{document.documentElement.classList.add("is-rendered"),ac()}),[]),le((()=>{document.documentElement.classList.toggle("is-fullscreen",d),requestAnimationFrame(Ma)}),[d]),Ee((()=>{r&&(hB+=1)}),[r]),Hf("body",gf(m),p),function(){const{observe:e}=xh({throttleMs:350});Lh=e}(),ge.createElement(ge.Fragment,null,n.cp&&!n.ig&&ge.createElement($y,{withTitle:!0}),ge.createElement(of,{name:I,activeKey:A,renderCount:gB,shouldCleanup:!T,className:"XDsN0suQ",slideClassName:kr(mB,T&&"cumlVCAy","custom-scroll")},B),E&&ge.createElement(qI,{isOpen:u,onClose:g},ge.createElement(zI,{isActive:!!u,isInsideModal:!0})),ge.createElement(Lf,null),ge.createElement(sT,null),!k&&ge.createElement(ge.Fragment,null,ge.createElement(Vg,null),ge.createElement(gb,{isOpen:s,onClose:h}),ge.createElement(VS,{isOpen:i,onClose:f}),ge.createElement(cB,null),!e.TI6&&ge.createElement(ge.Fragment,null,ge.createElement(nB,null),ge.createElement(gT,null)),ge.createElement(ZS,null),ge.createElement(fA,null),ge.createElement(dA,null),ge.createElement(Yv,null),ge.createElement(nw,null),ge.createElement(Ly,null),ge.createElement(FS,null),ge.createElement(qS,null),ge.createElement(hA,null),ge.createElement(KS,null),e.UMQ&&ge.createElement(XS,{isOpen:c,onClose:w}),!n.bA&&ge.createElement(ge.Fragment,null,ge.createElement(vA,null),ge.createElement(Py,null),ge.createElement(dB,null),e.UMQ?ge.createElement(Qs,null):ge.createElement(_h,null),ge.createElement(uB,null))),T&&ge.createElement(TA,null))})));var wB,yB,bB;e.Oig&&console.log(">>> INIT"),e.rkj&&(0,Cr.Z3)(),e.UMQ&&async function(){var e;e=Sa.Ii.getPlatform(),Dc=e,bo.getStatusBarHeight().then((e=>{let{statusBarHeight:t}=e;Hc=t,document.documentElement.style.setProperty("--status-bar-height",`${t}px`)})),bo.getSafeAreaInsets().then((e=>{let{insets:{bottom:t}}=e;document.documentElement.style.setProperty("--safe-area-bottom",`${t}px`)})),n.bA?yo.hide({fadeOutDuration:0}):("ios"===Lc()&&setTimeout((()=>{yo.hide({fadeOutDuration:600})}),500),wo.addListener("appUrlOpen",(e=>{Date.now()-$c>500?hc(e.url):(0,t.MD)("[CAPACITOR] appUrlOpen event ignored",e)})),wo.addListener("backButton",(e=>{let{canGoBack:t}=e;t?window.history.back():wo.exitApp()})),Vc(await bo.getSafeAreaInsets()),await bo.addListener("safeAreaChanged",(e=>{Vc(e)})))}(),n.cp&&(null===(wB=window.electron)||void 0===wB||wB.on(nh.DEEPLINK,(e=>{let{url:t}=e;hc(t)}))),e.tKX&&(za=null===(yB=window.Telegram)||void 0===yB?void 0:yB.WebApp,za?(ao(),za.lockOrientation(),za.SecondaryButton.setParams({position:"bottom"}),za.BackButton.hide(),za.SettingsButton.hide(),za.expand(),(0,n.v3)()&&(za.onEvent("safeAreaChanged",Za),za.onEvent("contentSafeAreaChanged",Za)),za.onEvent("viewportChanged",(function(e){let{isStateStable:t}=e;t&&Ma()})),Za(),function(){var e;const t=null===(e=za)||void 0===e?void 0:e.BiometricManager;t&&!Ka&&(Ka=!0,t.init((()=>{const{isBiometricAvailable:e,biometricType:n,isAccessGranted:a,isAccessRequested:o}=t;qa=e&&(a||!o),"ios"===za.platform&&(ja="face"===n,Ya="finger"===n)})))}(),za.ready()):(0,t.SJ)("[telegram] Can't initialize Telegram Mini-App")),n.KI?El({noPubGlobal:!0}):n.bA&&El(),e.UMQ?(bB=()=>{ah.install(),oh()},Oa.push(bB),i.e(408).then(i.bind(i,408)).then((e=>{let{Keyboard:t}=e;t.addListener("keyboardWillHide",ah.uninstall)}))):(n.pz||n.Ni)&&window.visualViewport&&function(){const{visualViewport:t}=window;let a=t.height;function o(){const e=t.height,n=document.activeElement;e<a&&n&&function(e){const t=e.tagName.toLowerCase();return"input"===t||"textarea"===t||"select"===t||e.hasAttribute("contenteditable")}(n)?(ah.install(),oh()):e>a&&ah.uninstall(),a=e}t.addEventListener("resize",n.pz&&e.tKX?function(){(0,k.RK)((()=>{(0,k.YS)(o)}))}:o)}(),(async a=>{n.ZH&&await async function(){await Bc.init();const t=Boolean(window.localStorage.getItem(e.pge)),n=Boolean(await Bc.capacitorStorageGetItem("accounts"));t&&!n&&window.localStorage.clear(),!t&&n&&await Bc.capacitorStorageClear()}(),await(null===(a=window.electron)||void 0===a?void 0:a.restoreStorage()),Ke().init(),n.Fe?(0,t.MD)("API was not initialized because it was connected from a detached tab"):Ke().initApi(),e.UMQ&&await async function(){var e;const t=null===(e=await wo.getLaunchUrl())||void 0===e?void 0:e.url;t&&hc(t),$c=Date.now()}(),e.Oig&&console.log(">>> START INITIAL RENDER"),(0,k.RK)((()=>{As(ge.createElement(vB,null),document.getElementById("root")),function(){const e=document.createElement("div");e.textContent="₽",e.classList.add("visually-hidden"),document.body.appendChild(e),(0,k.RK)((()=>{document.body.removeChild(e)}))}(),function(){if(!n.pz)return;let e,t=Date.now();function a(){e||eh||(e=window.setInterval(th,5e3))}window.addEventListener("focus",(()=>{const e=Date.now();e-t<100||(t=e,a(),th())})),window.addEventListener("blur",(()=>{clearInterval(e),e=void 0})),document.hasFocus()&&(a(),th())}()})),e.Oig&&console.log(">>> FINISH INITIAL RENDER"),document.addEventListener("dblclick",(()=>{console.warn("GLOBAL STATE",Ve())})),window.top===window&&(0,t.ef)()})()})()})();
//# sourceMappingURL=main.e1a5c6320c5f38cb7344.js.map